function GA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F0={exports:{}},Ed={},U0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),KA=Symbol.for("react.portal"),QA=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),XA=Symbol.for("react.profiler"),JA=Symbol.for("react.provider"),ZA=Symbol.for("react.context"),eN=Symbol.for("react.forward_ref"),tN=Symbol.for("react.suspense"),nN=Symbol.for("react.memo"),rN=Symbol.for("react.lazy"),Hv=Symbol.iterator;function sN(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var B0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,$0={};function Mo(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||B0}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W0(){}W0.prototype=Mo.prototype;function Nm(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||B0}var Rm=Nm.prototype=new W0;Rm.constructor=Nm;z0(Rm,Mo.prototype);Rm.isPureReactComponent=!0;var qv=Array.isArray,H0=Object.prototype.hasOwnProperty,km={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function G0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)H0.call(e,r)&&!q0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:jl,type:t,key:i,ref:o,props:s,_owner:km.current}}function iN(t,e){return{$$typeof:jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===jl}function oN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gv=/\/+/g;function Fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oN(""+t.key):e.toString(36)}function Wc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jl:case KA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fh(o,0):r,qv(s)?(n="",t!=null&&(n=t.replace(Gv,"$&/")+"/"),Wc(s,e,n,"",function(d){return d})):s!=null&&(Pm(s)&&(s=iN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fh(i,a);o+=Wc(i,e,n,l,s)}else if(l=sN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fh(i,a++),o+=Wc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dc(t,e,n){if(t==null)return t;var r=[],s=0;return Wc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Hc={transition:null},lN={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:km};function K0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Mo;le.Fragment=QA;le.Profiler=XA;le.PureComponent=Nm;le.StrictMode=YA;le.Suspense=tN;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lN;le.act=K0;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H0.call(e,l)&&!q0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:jl,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:ZA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JA,_context:t},t.Consumer=t};le.createElement=G0;le.createFactory=function(t){var e=G0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:eN,render:t}};le.isValidElement=Pm;le.lazy=function(t){return{$$typeof:rN,_payload:{_status:-1,_result:t},_init:aN}};le.memo=function(t,e){return{$$typeof:nN,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Hc.transition;Hc.transition={};try{t()}finally{Hc.transition=e}};le.unstable_act=K0;le.useCallback=function(t,e){return Mt.current.useCallback(t,e)};le.useContext=function(t){return Mt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Mt.current.useEffect(t,e)};le.useId=function(){return Mt.current.useId()};le.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Mt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};le.useRef=function(t){return Mt.current.useRef(t)};le.useState=function(t){return Mt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Mt.current.useTransition()};le.version="18.3.1";U0.exports=le;var y=U0.exports;const qr=V0(y),bd=GA({__proto__:null,default:qr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN=y,uN=Symbol.for("react.element"),dN=Symbol.for("react.fragment"),hN=Object.prototype.hasOwnProperty,fN=cN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pN={key:!0,ref:!0,__self:!0,__source:!0};function Q0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hN.call(e,r)&&!pN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uN,type:t,key:i,ref:o,props:s,_owner:fN.current}}Ed.Fragment=dN;Ed.jsx=Q0;Ed.jsxs=Q0;F0.exports=Ed;var u=F0.exports,Y0={exports:{}},cn={},X0={exports:{}},J0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var K=V.length;V.push($);e:for(;0<K;){var ie=K-1>>>1,_e=V[ie];if(0<s(_e,$))V[ie]=$,V[K]=_e,K=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],K=V.pop();if(K!==$){V[0]=K;e:for(var ie=0,_e=V.length,Yt=_e>>>1;ie<Yt;){var Ue=2*(ie+1)-1,Ft=V[Ue],et=Ue+1,X=V[et];if(0>s(Ft,K))et<_e&&0>s(X,Ft)?(V[ie]=X,V[et]=K,ie=et):(V[ie]=Ft,V[Ue]=K,ie=Ue);else if(et<_e&&0>s(X,K))V[ie]=X,V[et]=K,ie=et;else break e}}return $}function s(V,$){var K=V.sortIndex-$.sortIndex;return K!==0?K:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,v=!1,I=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=V)r(d),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(d)}}function N(V){if(_=!1,T(V),!I)if(n(l)!==null)I=!0,Q(O);else{var $=n(d);$!==null&&se(N,$.startTime-V)}}function O(V,$){I=!1,_&&(_=!1,x(E),E=-1),v=!0;var K=m;try{for(T($),f=n(l);f!==null&&(!(f.expirationTime>$)||V&&!j());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,m=f.priorityLevel;var _e=ie(f.expirationTime<=$);$=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),T($)}else r(l);f=n(l)}if(f!==null)var Yt=!0;else{var Ue=n(d);Ue!==null&&se(N,Ue.startTime-$),Yt=!1}return Yt}finally{f=null,m=K,v=!1}}var D=!1,b=null,E=-1,C=5,R=-1;function j(){return!(t.unstable_now()-R<C)}function P(){if(b!==null){var V=t.unstable_now();R=V;var $=!0;try{$=b(!0,V)}finally{$?k():(D=!1,b=null)}}else D=!1}var k;if(typeof w=="function")k=function(){w(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=P,k=function(){te.postMessage(null)}}else k=function(){S(P,0)};function Q(V){b=V,D||(D=!0,k())}function se(V,$){E=S(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,Q(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var K=m;m=$;try{return V()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=m;m=V;try{return $()}finally{m=K}},t.unstable_scheduleCallback=function(V,$,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,V){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,V={id:h++,callback:$,priorityLevel:V,startTime:K,expirationTime:_e,sortIndex:-1},K>ie?(V.sortIndex=K,e(d,V),n(l)===null&&V===n(d)&&(_?(x(E),E=-1):_=!0,se(N,K-ie))):(V.sortIndex=_e,e(l,V),I||v||(I=!0,Q(O))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var $=m;return function(){var K=m;m=$;try{return V.apply(this,arguments)}finally{m=K}}}})(J0);X0.exports=J0;var mN=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN=y,ln=mN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z0=new Set,tl={};function Ni(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(tl[t]=e,t=0;t<e.length;t++)Z0.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=Object.prototype.hasOwnProperty,yN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kv={},Qv={};function vN(t){return Kf.call(Qv,t)?!0:Kf.call(Kv,t)?!1:yN.test(t)?Qv[t]=!0:(Kv[t]=!0,!1)}function wN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _N(t,e,n,r){if(e===null||typeof e>"u"||wN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jm,Dm);mt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jm,Dm);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jm,Dm);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_N(e,n,s,r)&&(n=null),r||s===null?vN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=gN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),eE=Symbol.for("react.provider"),tE=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),nE=Symbol.for("react.offscreen"),Yv=Symbol.iterator;function ya(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Uh;function Aa(t){if(Uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uh=e&&e[1]||""}return`
`+Uh+t}var Bh=!1;function zh(t,e){if(!t||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Aa(t):""}function xN(t){switch(t.tag){case 5:return Aa(t.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return t=zh(t.type,!1),t;case 11:return t=zh(t.type.render,!1),t;case 1:return t=zh(t.type,!0),t;default:return""}}function Jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gi:return"Fragment";case qi:return"Portal";case Qf:return"Profiler";case Lm:return"StrictMode";case Yf:return"Suspense";case Xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tE:return(t.displayName||"Context")+".Consumer";case eE:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Jf(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Jf(t(e))}catch{}}return null}function EN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(e);case 8:return e===Lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bN(t){var e=rE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fc(t){t._valueTracker||(t._valueTracker=bN(t))}function sE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iE(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function ep(t,e){iE(t,e);var n=xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&tp(t,e.type,xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tp(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xs(n)}}function oE(t,e){var n=xs(e.value),r=xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,lE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TN=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(t){TN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fa[e]=Fa[t]})});function cE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fa.hasOwnProperty(t)&&Fa[t]?(""+e).trim():e+"px"}function uE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var SN=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(t,e){if(e){if(SN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ap=null,io=null,oo=null;function tw(t){if(t=Ll(t)){if(typeof ap!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ad(e),ap(t.stateNode,t.type,e))}}function dE(t){io?oo?oo.push(t):oo=[t]:io=t}function hE(){if(io){var t=io,e=oo;if(oo=io=null,tw(t),e)for(t=0;t<e.length;t++)tw(e[t])}}function fE(t,e){return t(e)}function pE(){}var $h=!1;function mE(t,e,n){if($h)return t(e,n);$h=!0;try{return fE(t,e,n)}finally{$h=!1,(io!==null||oo!==null)&&(pE(),hE())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ad(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var lp=!1;if(Er)try{var va={};Object.defineProperty(va,"passive",{get:function(){lp=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{lp=!1}function IN(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Ua=!1,wu=null,_u=!1,cp=null,CN={onError:function(t){Ua=!0,wu=t}};function AN(t,e,n,r,s,i,o,a,l){Ua=!1,wu=null,IN.apply(CN,arguments)}function NN(t,e,n,r,s,i,o,a,l){if(AN.apply(this,arguments),Ua){if(Ua){var d=wu;Ua=!1,wu=null}else throw Error(B(198));_u||(_u=!0,cp=d)}}function Ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nw(t){if(Ri(t)!==t)throw Error(B(188))}function RN(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nw(s),t;if(i===r)return nw(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function yE(t){return t=RN(t),t!==null?vE(t):null}function vE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vE(t);if(e!==null)return e;t=t.sibling}return null}var wE=ln.unstable_scheduleCallback,rw=ln.unstable_cancelCallback,kN=ln.unstable_shouldYield,PN=ln.unstable_requestPaint,$e=ln.unstable_now,jN=ln.unstable_getCurrentPriorityLevel,Um=ln.unstable_ImmediatePriority,_E=ln.unstable_UserBlockingPriority,xu=ln.unstable_NormalPriority,DN=ln.unstable_LowPriority,xE=ln.unstable_IdlePriority,Td=null,Qn=null;function ON(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Td,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:VN,LN=Math.log,MN=Math.LN2;function VN(t){return t>>>=0,t===0?32:31-(LN(t)/MN|0)|0}var mc=64,gc=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ra(a):(i&=o,i!==0&&(r=Ra(i)))}else o=n&~s,o!==0?r=Ra(o):i!==0&&(r=Ra(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),s=1<<n,r|=t[n],e&=~s;return r}function FN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=FN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function up(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EE(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function BN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function bE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TE,zm,SE,IE,CE,dp=!1,yc=[],ls=null,cs=null,us=null,sl=new Map,il=new Map,Yr=[],zN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sw(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function wa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ll(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $N(t,e,n,r,s){switch(e){case"focusin":return ls=wa(ls,t,e,n,r,s),!0;case"dragenter":return cs=wa(cs,t,e,n,r,s),!0;case"mouseover":return us=wa(us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return sl.set(i,wa(sl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,il.set(i,wa(il.get(i)||null,t,e,n,r,s)),!0}return!1}function AE(t){var e=si(t.target);if(e!==null){var n=Ri(e);if(n!==null){if(e=n.tag,e===13){if(e=gE(n),e!==null){t.blockedOn=e,CE(t.priority,function(){SE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);op=r,n.target.dispatchEvent(r),op=null}else return e=Ll(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function iw(t,e,n){qc(t)&&n.delete(e)}function WN(){dp=!1,ls!==null&&qc(ls)&&(ls=null),cs!==null&&qc(cs)&&(cs=null),us!==null&&qc(us)&&(us=null),sl.forEach(iw),il.forEach(iw)}function _a(t,e){t.blockedOn===e&&(t.blockedOn=null,dp||(dp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,WN)))}function ol(t){function e(s){return _a(s,t)}if(0<yc.length){_a(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&_a(ls,t),cs!==null&&_a(cs,t),us!==null&&_a(us,t),sl.forEach(e),il.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)AE(n),n.blockedOn===null&&Yr.shift()}var ao=jr.ReactCurrentBatchConfig,bu=!0;function HN(t,e,n,r){var s=ve,i=ao.transition;ao.transition=null;try{ve=1,$m(t,e,n,r)}finally{ve=s,ao.transition=i}}function qN(t,e,n,r){var s=ve,i=ao.transition;ao.transition=null;try{ve=4,$m(t,e,n,r)}finally{ve=s,ao.transition=i}}function $m(t,e,n,r){if(bu){var s=hp(t,e,n,r);if(s===null)ef(t,e,r,Tu,n),sw(t,r);else if($N(s,t,e,n,r))r.stopPropagation();else if(sw(t,r),e&4&&-1<zN.indexOf(t)){for(;s!==null;){var i=Ll(s);if(i!==null&&TE(i),i=hp(t,e,n,r),i===null&&ef(t,e,r,Tu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ef(t,e,r,null,n)}}var Tu=null;function hp(t,e,n,r){if(Tu=null,t=Fm(r),t=si(t),t!==null)if(e=Ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function NE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jN()){case Um:return 1;case _E:return 4;case xu:case DN:return 16;case xE:return 536870912;default:return 16}default:return 16}}var ss=null,Wm=null,Gc=null;function RE(){if(Gc)return Gc;var t,e=Wm,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gc=s.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function ow(){return!1}function un(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vc:ow,this.isPropagationStopped=ow,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=un(Vo),Ol=De({},Vo,{view:0,detail:0}),GN=un(Ol),Hh,qh,xa,Sd=De({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Hh=t.screenX-xa.screenX,qh=t.screenY-xa.screenY):qh=Hh=0,xa=t),Hh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),aw=un(Sd),KN=De({},Sd,{dataTransfer:0}),QN=un(KN),YN=De({},Ol,{relatedTarget:0}),Gh=un(YN),XN=De({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),JN=un(XN),ZN=De({},Vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eR=un(ZN),tR=De({},Vo,{data:0}),lw=un(tR),nR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sR[t])?!!e[t]:!1}function qm(){return iR}var oR=De({},Ol,{key:function(t){if(t.key){var e=nR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aR=un(oR),lR=De({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=un(lR),cR=De({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),uR=un(cR),dR=De({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=un(dR),fR=De({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pR=un(fR),mR=[9,13,27,32],Gm=Er&&"CompositionEvent"in window,Ba=null;Er&&"documentMode"in document&&(Ba=document.documentMode);var gR=Er&&"TextEvent"in window&&!Ba,kE=Er&&(!Gm||Ba&&8<Ba&&11>=Ba),uw=" ",dw=!1;function PE(t,e){switch(t){case"keyup":return mR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function yR(t,e){switch(t){case"compositionend":return jE(e);case"keypress":return e.which!==32?null:(dw=!0,uw);case"textInput":return t=e.data,t===uw&&dw?null:t;default:return null}}function vR(t,e){if(Ki)return t==="compositionend"||!Gm&&PE(t,e)?(t=RE(),Gc=Wm=ss=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kE&&e.locale!=="ko"?null:e.data;default:return null}}var wR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wR[t.type]:e==="textarea"}function DE(t,e,n,r){dE(r),e=Su(e,"onChange"),0<e.length&&(n=new Hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var za=null,al=null;function _R(t){HE(t,0)}function Id(t){var e=Xi(t);if(sE(e))return t}function xR(t,e){if(t==="change")return e}var OE=!1;if(Er){var Kh;if(Er){var Qh="oninput"in document;if(!Qh){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),Qh=typeof fw.oninput=="function"}Kh=Qh}else Kh=!1;OE=Kh&&(!document.documentMode||9<document.documentMode)}function pw(){za&&(za.detachEvent("onpropertychange",LE),al=za=null)}function LE(t){if(t.propertyName==="value"&&Id(al)){var e=[];DE(e,al,t,Fm(t)),mE(_R,e)}}function ER(t,e,n){t==="focusin"?(pw(),za=e,al=n,za.attachEvent("onpropertychange",LE)):t==="focusout"&&pw()}function bR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(al)}function TR(t,e){if(t==="click")return Id(e)}function SR(t,e){if(t==="input"||t==="change")return Id(e)}function IR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:IR;function ll(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kf.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gw(t,e){var n=mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mw(n)}}function ME(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ME(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VE(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CR(t){var e=VE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ME(n.ownerDocument.documentElement,n)){if(r!==null&&Km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gw(n,i);var o=gw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AR=Er&&"documentMode"in document&&11>=document.documentMode,Qi=null,fp=null,$a=null,pp=!1;function yw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pp||Qi==null||Qi!==vu(r)||(r=Qi,"selectionStart"in r&&Km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&ll($a,r)||($a=r,r=Su(fp,"onSelect"),0<r.length&&(e=new Hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qi)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yi={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Yh={},FE={};Er&&(FE=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Cd(t){if(Yh[t])return Yh[t];if(!Yi[t])return t;var e=Yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FE)return Yh[t]=e[n];return t}var UE=Cd("animationend"),BE=Cd("animationiteration"),zE=Cd("animationstart"),$E=Cd("transitionend"),WE=new Map,vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){WE.set(t,e),Ni(e,[t])}for(var Xh=0;Xh<vw.length;Xh++){var Jh=vw[Xh],NR=Jh.toLowerCase(),RR=Jh[0].toUpperCase()+Jh.slice(1);Ds(NR,"on"+RR)}Ds(UE,"onAnimationEnd");Ds(BE,"onAnimationIteration");Ds(zE,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds($E,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NN(r,e,void 0,t),t.currentTarget=null}function HE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ww(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ww(s,a,d),i=l}}}if(_u)throw t=cp,_u=!1,cp=null,t}function Ce(t,e){var n=e[wp];n===void 0&&(n=e[wp]=new Set);var r=t+"__bubble";n.has(r)||(qE(e,t,2,!1),n.add(r))}function Zh(t,e,n){var r=0;e&&(r|=4),qE(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[_c]){t[_c]=!0,Z0.forEach(function(n){n!=="selectionchange"&&(kR.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,Zh("selectionchange",!1,e))}}function qE(t,e,n,r){switch(NE(e)){case 1:var s=HN;break;case 4:s=qN;break;default:s=$m}n=s.bind(null,e,n,t),s=void 0,!lp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ef(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mE(function(){var d=i,h=Fm(n),f=[];e:{var m=WE.get(t);if(m!==void 0){var v=Hm,I=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":v=aR;break;case"focusin":I="focus",v=Gh;break;case"focusout":I="blur",v=Gh;break;case"beforeblur":case"afterblur":v=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=QN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=uR;break;case UE:case BE:case zE:v=JN;break;case $E:v=hR;break;case"scroll":v=GN;break;case"wheel":v=pR;break;case"copy":case"cut":case"paste":v=eR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=cw}var _=(e&4)!==0,S=!_&&t==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var w=d,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=rl(w,x),N!=null&&_.push(ul(w,N,T)))),S)break;w=w.return}0<_.length&&(m=new v(m,I,null,n,h),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==op&&(I=n.relatedTarget||n.fromElement)&&(si(I)||I[br]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=d,I=I?si(I):null,I!==null&&(S=Ri(I),I!==S||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=d),v!==I)){if(_=aw,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=cw,N="onPointerLeave",x="onPointerEnter",w="pointer"),S=v==null?m:Xi(v),T=I==null?m:Xi(I),m=new _(N,w+"leave",v,n,h),m.target=S,m.relatedTarget=T,N=null,si(h)===d&&(_=new _(x,w+"enter",I,n,h),_.target=T,_.relatedTarget=S,N=_),S=N,v&&I)t:{for(_=v,x=I,w=0,T=_;T;T=Vi(T))w++;for(T=0,N=x;N;N=Vi(N))T++;for(;0<w-T;)_=Vi(_),w--;for(;0<T-w;)x=Vi(x),T--;for(;w--;){if(_===x||x!==null&&_===x.alternate)break t;_=Vi(_),x=Vi(x)}_=null}else _=null;v!==null&&_w(f,m,v,_,!1),I!==null&&S!==null&&_w(f,S,I,_,!0)}}e:{if(m=d?Xi(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var O=xR;else if(hw(m))if(OE)O=SR;else{O=bR;var D=ER}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=TR);if(O&&(O=O(t,d))){DE(f,O,n,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&tp(m,"number",m.value)}switch(D=d?Xi(d):window,t){case"focusin":(hw(D)||D.contentEditable==="true")&&(Qi=D,fp=d,$a=null);break;case"focusout":$a=fp=Qi=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,yw(f,n,h);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":yw(f,n,h)}var b;if(Gm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ki?PE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(kE&&n.locale!=="ko"&&(Ki||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ki&&(b=RE()):(ss=h,Wm="value"in ss?ss.value:ss.textContent,Ki=!0)),D=Su(d,E),0<D.length&&(E=new lw(E,t,null,n,h),f.push({event:E,listeners:D}),b?E.data=b:(b=jE(n),b!==null&&(E.data=b)))),(b=gR?yR(t,n):vR(t,n))&&(d=Su(d,"onBeforeInput"),0<d.length&&(h=new lw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}HE(f,e)})}function ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Su(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rl(t,n),i!=null&&r.unshift(ul(t,i,s)),i=rl(t,e),i!=null&&r.push(ul(t,i,s))),t=t.return}return r}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _w(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=rl(n,i),l!=null&&o.unshift(ul(n,l,a))):s||(l=rl(n,i),l!=null&&o.push(ul(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function xw(t){return(typeof t=="string"?t:""+t).replace(PR,`
`).replace(jR,"")}function xc(t,e,n){if(e=xw(e),xw(t)!==e&&n)throw Error(B(425))}function Iu(){}var mp=null,gp=null;function yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,DR=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(t){return Ew.resolve(null).then(t).catch(LR)}:vp;function LR(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ol(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Fo,dl="__reactProps$"+Fo,br="__reactContainer$"+Fo,wp="__reactEvents$"+Fo,MR="__reactListeners$"+Fo,VR="__reactHandles$"+Fo;function si(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bw(t);t!==null;){if(n=t[Wn])return n;t=bw(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[Wn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ad(t){return t[dl]||null}var _p=[],Ji=-1;function Os(t){return{current:t}}function Re(t){0>Ji||(t.current=_p[Ji],_p[Ji]=null,Ji--)}function be(t,e){Ji++,_p[Ji]=t.current,t.current=e}var Es={},Ct=Os(Es),qt=Os(!1),pi=Es;function xo(t,e){var n=t.type.contextTypes;if(!n)return Es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Cu(){Re(qt),Re(Ct)}function Tw(t,e,n){if(Ct.current!==Es)throw Error(B(168));be(Ct,e),be(qt,n)}function GE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,EN(t)||"Unknown",s));return De({},n,r)}function Au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Es,pi=Ct.current,be(Ct,t),be(qt,qt.current),!0}function Sw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=GE(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,Re(qt),Re(Ct),be(Ct,t)):Re(qt),be(qt,n)}var pr=null,Nd=!1,nf=!1;function KE(t){pr===null?pr=[t]:pr.push(t)}function FR(t){Nd=!0,KE(t)}function Ls(){if(!nf&&pr!==null){nf=!0;var t=0,e=ve;try{var n=pr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,Nd=!1}catch(s){throw pr!==null&&(pr=pr.slice(t+1)),wE(Um,Ls),s}finally{ve=e,nf=!1}}return null}var Zi=[],eo=0,Nu=null,Ru=0,hn=[],fn=0,mi=null,gr=1,yr="";function ei(t,e){Zi[eo++]=Ru,Zi[eo++]=Nu,Nu=t,Ru=e}function QE(t,e,n){hn[fn++]=gr,hn[fn++]=yr,hn[fn++]=mi,mi=t;var r=gr;t=yr;var s=32-Rn(r)-1;r&=~(1<<s),n+=1;var i=32-Rn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gr=1<<32-Rn(e)+s|n<<s|r,yr=i+t}else gr=1<<i|n<<s|r,yr=t}function Qm(t){t.return!==null&&(ei(t,1),QE(t,1,0))}function Ym(t){for(;t===Nu;)Nu=Zi[--eo],Zi[eo]=null,Ru=Zi[--eo],Zi[eo]=null;for(;t===mi;)mi=hn[--fn],hn[fn]=null,yr=hn[--fn],hn[fn]=null,gr=hn[--fn],hn[fn]=null}var sn=null,tn=null,ke=!1,An=null;function YE(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,tn=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,tn=null,!0):!1;default:return!1}}function xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ep(t){if(ke){var e=tn;if(e){var n=e;if(!Iw(t,e)){if(xp(t))throw Error(B(418));e=ds(n.nextSibling);var r=sn;e&&Iw(t,e)?YE(r,n):(t.flags=t.flags&-4097|2,ke=!1,sn=t)}}else{if(xp(t))throw Error(B(418));t.flags=t.flags&-4097|2,ke=!1,sn=t}}}function Cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Ec(t){if(t!==sn)return!1;if(!ke)return Cw(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yp(t.type,t.memoizedProps)),e&&(e=tn)){if(xp(t))throw XE(),Error(B(418));for(;e;)YE(t,e),e=ds(e.nextSibling)}if(Cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=sn?ds(t.stateNode.nextSibling):null;return!0}function XE(){for(var t=tn;t;)t=ds(t.nextSibling)}function Eo(){tn=sn=null,ke=!1}function Xm(t){An===null?An=[t]:An.push(t)}var UR=jr.ReactCurrentBatchConfig;function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function bc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Aw(t){var e=t._init;return e(t._payload)}function JE(t){function e(x,w){if(t){var T=x.deletions;T===null?(x.deletions=[w],x.flags|=16):T.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=ms(x,w),x.index=0,x.sibling=null,x}function i(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags|=2,w):T):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,T,N){return w===null||w.tag!==6?(w=uf(T,x.mode,N),w.return=x,w):(w=s(w,T),w.return=x,w)}function l(x,w,T,N){var O=T.type;return O===Gi?h(x,w,T.props.children,N,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Kr&&Aw(O)===w.type)?(N=s(w,T.props),N.ref=Ea(x,w,T),N.return=x,N):(N=tu(T.type,T.key,T.props,null,x.mode,N),N.ref=Ea(x,w,T),N.return=x,N)}function d(x,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=df(T,x.mode,N),w.return=x,w):(w=s(w,T.children||[]),w.return=x,w)}function h(x,w,T,N,O){return w===null||w.tag!==7?(w=di(T,x.mode,N,O),w.return=x,w):(w=s(w,T),w.return=x,w)}function f(x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uf(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hc:return T=tu(w.type,w.key,w.props,null,x.mode,T),T.ref=Ea(x,null,w),T.return=x,T;case qi:return w=df(w,x.mode,T),w.return=x,w;case Kr:var N=w._init;return f(x,N(w._payload),T)}if(Na(w)||ya(w))return w=di(w,x.mode,T,null),w.return=x,w;bc(x,w)}return null}function m(x,w,T,N){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hc:return T.key===O?l(x,w,T,N):null;case qi:return T.key===O?d(x,w,T,N):null;case Kr:return O=T._init,m(x,w,O(T._payload),N)}if(Na(T)||ya(T))return O!==null?null:h(x,w,T,N,null);bc(x,T)}return null}function v(x,w,T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(w,x,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hc:return x=x.get(N.key===null?T:N.key)||null,l(w,x,N,O);case qi:return x=x.get(N.key===null?T:N.key)||null,d(w,x,N,O);case Kr:var D=N._init;return v(x,w,T,D(N._payload),O)}if(Na(N)||ya(N))return x=x.get(T)||null,h(w,x,N,O,null);bc(w,N)}return null}function I(x,w,T,N){for(var O=null,D=null,b=w,E=w=0,C=null;b!==null&&E<T.length;E++){b.index>E?(C=b,b=null):C=b.sibling;var R=m(x,b,T[E],N);if(R===null){b===null&&(b=C);break}t&&b&&R.alternate===null&&e(x,b),w=i(R,w,E),D===null?O=R:D.sibling=R,D=R,b=C}if(E===T.length)return n(x,b),ke&&ei(x,E),O;if(b===null){for(;E<T.length;E++)b=f(x,T[E],N),b!==null&&(w=i(b,w,E),D===null?O=b:D.sibling=b,D=b);return ke&&ei(x,E),O}for(b=r(x,b);E<T.length;E++)C=v(b,x,E,T[E],N),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?E:C.key),w=i(C,w,E),D===null?O=C:D.sibling=C,D=C);return t&&b.forEach(function(j){return e(x,j)}),ke&&ei(x,E),O}function _(x,w,T,N){var O=ya(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var D=O=null,b=w,E=w=0,C=null,R=T.next();b!==null&&!R.done;E++,R=T.next()){b.index>E?(C=b,b=null):C=b.sibling;var j=m(x,b,R.value,N);if(j===null){b===null&&(b=C);break}t&&b&&j.alternate===null&&e(x,b),w=i(j,w,E),D===null?O=j:D.sibling=j,D=j,b=C}if(R.done)return n(x,b),ke&&ei(x,E),O;if(b===null){for(;!R.done;E++,R=T.next())R=f(x,R.value,N),R!==null&&(w=i(R,w,E),D===null?O=R:D.sibling=R,D=R);return ke&&ei(x,E),O}for(b=r(x,b);!R.done;E++,R=T.next())R=v(b,x,E,R.value,N),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?E:R.key),w=i(R,w,E),D===null?O=R:D.sibling=R,D=R);return t&&b.forEach(function(P){return e(x,P)}),ke&&ei(x,E),O}function S(x,w,T,N){if(typeof T=="object"&&T!==null&&T.type===Gi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case hc:e:{for(var O=T.key,D=w;D!==null;){if(D.key===O){if(O=T.type,O===Gi){if(D.tag===7){n(x,D.sibling),w=s(D,T.props.children),w.return=x,x=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Kr&&Aw(O)===D.type){n(x,D.sibling),w=s(D,T.props),w.ref=Ea(x,D,T),w.return=x,x=w;break e}n(x,D);break}else e(x,D);D=D.sibling}T.type===Gi?(w=di(T.props.children,x.mode,N,T.key),w.return=x,x=w):(N=tu(T.type,T.key,T.props,null,x.mode,N),N.ref=Ea(x,w,T),N.return=x,x=N)}return o(x);case qi:e:{for(D=T.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=s(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=df(T,x.mode,N),w.return=x,x=w}return o(x);case Kr:return D=T._init,S(x,w,D(T._payload),N)}if(Na(T))return I(x,w,T,N);if(ya(T))return _(x,w,T,N);bc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,T),w.return=x,x=w):(n(x,w),w=uf(T,x.mode,N),w.return=x,x=w),o(x)):n(x,w)}return S}var bo=JE(!0),ZE=JE(!1),ku=Os(null),Pu=null,to=null,Jm=null;function Zm(){Jm=to=Pu=null}function eg(t){var e=ku.current;Re(ku),t._currentValue=e}function bp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Pu=t,Jm=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Jm!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Pu===null)throw Error(B(308));to=t,Pu.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var ii=null;function tg(t){ii===null?ii=[t]:ii.push(t)}function e1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qr=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tr(t,n)}return s=r.interleaved,s===null?(e.next=e,tg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function Nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ju(t,e,n,r){var s=t.updateQueue;Qr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,_=a;switch(m=e,v=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){f=I.call(v,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=_.payload,m=typeof I=="function"?I.call(v,f,m):I,m==null)break e;f=De({},f,m);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,l=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=f}}function Rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ml={},Yn=Os(Ml),hl=Os(Ml),fl=Os(Ml);function oi(t){if(t===Ml)throw Error(B(174));return t}function rg(t,e){switch(be(fl,e),be(hl,t),be(Yn,Ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rp(e,t)}Re(Yn),be(Yn,e)}function To(){Re(Yn),Re(hl),Re(fl)}function n1(t){oi(fl.current);var e=oi(Yn.current),n=rp(e,t.type);e!==n&&(be(hl,t),be(Yn,n))}function sg(t){hl.current===t&&(Re(Yn),Re(hl))}var Pe=Os(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function ig(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var Yc=jr.ReactCurrentDispatcher,sf=jr.ReactCurrentBatchConfig,gi=0,je=null,rt=null,lt=null,Ou=!1,Wa=!1,pl=0,BR=0;function wt(){throw Error(B(321))}function og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function ag(t,e,n,r,s,i){if(gi=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?HR:qR,t=n(r,s),Wa){i=0;do{if(Wa=!1,pl=0,25<=i)throw Error(B(301));i+=1,lt=rt=null,e.updateQueue=null,Yc.current=GR,t=n(r,s)}while(Wa)}if(Yc.current=Lu,e=rt!==null&&rt.next!==null,gi=0,lt=rt=je=null,Ou=!1,e)throw Error(B(300));return t}function lg(){var t=pl!==0;return pl=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=t:lt=lt.next=t,lt}function vn(){if(rt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=lt===null?je.memoizedState:lt.next;if(e!==null)lt=e,rt=t;else{if(t===null)throw Error(B(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?je.memoizedState=lt=t:lt=lt.next=t}return lt}function ml(t,e){return typeof e=="function"?e(t):e}function of(t){var e=vn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((gi&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,je.lanes|=h,yi|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,yi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(t){var e=vn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function r1(){}function s1(t,e){var n=je,r=vn(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,cg(a1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,gl(9,o1.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(B(349));gi&30||i1(n,e,s)}return s}function i1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o1(t,e,n,r){e.value=n,e.getSnapshot=r,l1(e)&&c1(t)}function a1(t,e,n){return n(function(){l1(e)&&c1(t)})}function l1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function c1(t){var e=Tr(t,1);e!==null&&kn(e,t,1,-1)}function kw(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=WR.bind(null,je,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u1(){return vn().memoizedState}function Xc(t,e,n,r){var s=Bn();je.flags|=t,s.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var s=vn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&og(r,o.deps)){s.memoizedState=gl(e,n,i,r);return}}je.flags|=t,s.memoizedState=gl(1|e,n,i,r)}function Pw(t,e){return Xc(8390656,8,t,e)}function cg(t,e){return Rd(2048,8,t,e)}function d1(t,e){return Rd(4,2,t,e)}function h1(t,e){return Rd(4,4,t,e)}function f1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p1(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,f1.bind(null,e,t),n)}function ug(){}function m1(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g1(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y1(t,e,n){return gi&21?(jn(n,e)||(n=EE(),je.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function zR(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=sf.transition;sf.transition={};try{t(!1),e()}finally{ve=n,sf.transition=r}}function v1(){return vn().memoizedState}function $R(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w1(t))_1(e,n);else if(n=e1(t,e,n,r),n!==null){var s=jt();kn(n,t,r,s),x1(n,e,r)}}function WR(t,e,n){var r=ps(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(t))_1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(s.next=s,tg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=e1(t,e,s,r),n!==null&&(s=jt(),kn(n,t,r,s),x1(n,e,r))}}function w1(t){var e=t.alternate;return t===je||e!==null&&e===je}function _1(t,e){Wa=Ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var Lu={readContext:yn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},HR={readContext:yn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Pw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,f1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$R.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:kw,useDebugValue:ug,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=kw(!1),e=t[0];return t=zR.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=Bn();if(ke){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ct===null)throw Error(B(349));gi&30||i1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pw(a1.bind(null,r,i,t),[t]),r.flags|=2048,gl(9,o1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Bn(),e=ct.identifierPrefix;if(ke){var n=yr,r=gr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qR={readContext:yn,useCallback:m1,useContext:yn,useEffect:cg,useImperativeHandle:p1,useInsertionEffect:d1,useLayoutEffect:h1,useMemo:g1,useReducer:of,useRef:u1,useState:function(){return of(ml)},useDebugValue:ug,useDeferredValue:function(t){var e=vn();return y1(e,rt.memoizedState,t)},useTransition:function(){var t=of(ml)[0],e=vn().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:s1,useId:v1,unstable_isNewReconciler:!1},GR={readContext:yn,useCallback:m1,useContext:yn,useEffect:cg,useImperativeHandle:p1,useInsertionEffect:d1,useLayoutEffect:h1,useMemo:g1,useReducer:af,useRef:u1,useState:function(){return af(ml)},useDebugValue:ug,useDeferredValue:function(t){var e=vn();return rt===null?e.memoizedState=t:y1(e,rt.memoizedState,t)},useTransition:function(){var t=af(ml)[0],e=vn().memoizedState;return[t,e]},useMutableSource:r1,useSyncExternalStore:s1,useId:v1,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),s=ps(t),i=_r(r,s);i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(kn(e,t,s,r),Qc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),s=ps(t),i=_r(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(kn(e,t,s,r),Qc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=ps(t),s=_r(n,r);s.tag=2,e!=null&&(s.callback=e),e=hs(t,s,r),e!==null&&(kn(e,t,r,n),Qc(e,t,r))}};function jw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(s,i):!0}function E1(t,e,n){var r=!1,s=Es,i=e.contextType;return typeof i=="object"&&i!==null?i=yn(i):(s=Gt(e)?pi:Ct.current,r=e.contextTypes,i=(r=r!=null)?xo(t,s):Es),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Dw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function Sp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ng(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yn(i):(i=Gt(e)?pi:Ct.current,s.context=xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kd.enqueueReplaceState(s,s.state,null),ju(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=xN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KR=typeof WeakMap=="function"?WeakMap:Map;function b1(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vu||(Vu=!0,Lp=r),Ip(t,e)},n}function T1(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ip(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ow(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lk.bind(null,t,e,n),e.then(t,t))}function Lw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,hs(n,e,1))),n.lanes|=1),t)}var QR=jr.ReactCurrentOwner,Ht=!1;function Pt(t,e,n,r){e.child=t===null?ZE(e,null,n,r):bo(e,t.child,n,r)}function Vw(t,e,n,r,s){n=n.render;var i=e.ref;return lo(e,s),r=ag(t,e,n,r,i,s),n=lg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sr(t,e,s)):(ke&&n&&Qm(e),e.flags|=1,Pt(t,e,r,s),e.child)}function Fw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,S1(t,e,i,r,s)):(t=tu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return Sr(t,e,s)}return e.flags|=1,t=ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function S1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ll(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Sr(t,e,s)}return Cp(t,e,n,r,s)}function I1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ro,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(ro,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(ro,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(ro,Zt),Zt|=r;return Pt(t,e,s,n),e.child}function C1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cp(t,e,n,r,s){var i=Gt(n)?pi:Ct.current;return i=xo(e,i),lo(e,s),n=ag(t,e,n,r,i,s),r=lg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sr(t,e,s)):(ke&&r&&Qm(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Uw(t,e,n,r,s){if(Gt(n)){var i=!0;Au(e)}else i=!1;if(lo(e,s),e.stateNode===null)Jc(t,e),E1(e,n,r),Sp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=yn(d):(d=Gt(n)?pi:Ct.current,d=xo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&Dw(e,o,r,d),Qr=!1;var m=e.memoizedState;o.state=m,ju(e,r,o,s),l=e.memoizedState,a!==r||m!==l||qt.current||Qr?(typeof h=="function"&&(Tp(e,n,h,r),l=e.memoizedState),(a=Qr||jw(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t1(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Tn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Gt(n)?pi:Ct.current,l=xo(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Dw(e,o,r,l),Qr=!1,m=e.memoizedState,o.state=m,ju(e,r,o,s);var I=e.memoizedState;a!==f||m!==I||qt.current||Qr?(typeof v=="function"&&(Tp(e,n,v,r),I=e.memoizedState),(d=Qr||jw(e,n,d,r,m,I,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ap(t,e,n,r,i,s)}function Ap(t,e,n,r,s,i){C1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Sw(e,n,!1),Sr(t,e,i);r=e.stateNode,QR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,i),e.child=bo(e,null,a,i)):Pt(t,e,a,i),e.memoizedState=r.state,s&&Sw(e,n,!0),e.child}function A1(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),rg(t,e.containerInfo)}function Bw(t,e,n,r,s){return Eo(),Xm(s),e.flags|=256,Pt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function N1(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(Pe,s&1),t===null)return Ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dd(o,r,0,null),t=di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rp(n),e.memoizedState=Np,t):dg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return YR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ms(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ms(a,i):(i=di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return i=t.child,t=i.sibling,r=ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dg(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,n,r){return r!==null&&Xm(r),bo(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lf(Error(B(422))),Tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dd({mode:"visible",children:r.children},s,0,null),i=di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Np,i);if(!(e.mode&1))return Tc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=lf(i,r,void 0),Tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tr(t,s),kn(r,t,s,-1))}return yg(),r=lf(Error(B(421))),Tc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ck.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tn=ds(s.nextSibling),sn=e,ke=!0,An=null,t!==null&&(hn[fn++]=gr,hn[fn++]=yr,hn[fn++]=mi,gr=t.id,yr=t.overflow,mi=e),e=dg(e,r.children),e.flags|=4096,e)}function zw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bp(t.return,e,n)}function cf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function R1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zw(t,n,e);else if(t.tag===19)zw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Du(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cf(e,!0,n,null,i);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XR(t,e,n){switch(e.tag){case 3:A1(e),Eo();break;case 5:n1(e);break;case 1:Gt(e.type)&&Au(e);break;case 4:rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(ku,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?N1(t,e,n):(be(Pe,Pe.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);be(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return R1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,I1(t,e,n)}return Sr(t,e,n)}var k1,kp,P1,j1;k1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};P1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oi(Yn.current);var i=null;switch(n){case"input":s=Zf(t,s),r=Zf(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=np(t,s),r=np(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Iu)}sp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(tl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(tl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};j1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ba(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JR(t,e,n){var r=e.pendingProps;switch(Ym(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Gt(e.type)&&Cu(),_t(e),null;case 3:return r=e.stateNode,To(),Re(qt),Re(Ct),ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Fp(An),An=null))),kp(t,e),_t(e),null;case 5:sg(e);var s=oi(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)P1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=oi(Yn.current),Ec(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wn]=e,r[dl]=i,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<ka.length;s++)Ce(ka[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Xv(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":Zv(r,i),Ce("invalid",r)}sp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),s=["children",""+a]):tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":fc(r),Jv(r,i,!0);break;case"textarea":fc(r),ew(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Iu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[dl]=r,k1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ip(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),s=r;break;case"iframe":case"object":case"embed":Ce("load",t),s=r;break;case"video":case"audio":for(s=0;s<ka.length;s++)Ce(ka[s],t);s=r;break;case"source":Ce("error",t),s=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=r;break;case"details":Ce("toggle",t),s=r;break;case"input":Xv(t,r),s=Zf(t,r),Ce("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":Zv(t,r),s=np(t,r),Ce("invalid",t);break;default:s=r}sp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nl(t,l):typeof l=="number"&&nl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ce("scroll",t):l!=null&&Om(t,i,l,o))}switch(n){case"input":fc(t),Jv(t,r,!1);break;case"textarea":fc(t),ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?so(t,!!r.multiple,i,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)j1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=oi(fl.current),oi(Yn.current),Ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(i=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return _t(e),null;case 13:if(Re(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&tn!==null&&e.mode&1&&!(e.flags&128))XE(),Eo(),e.flags|=98560,i=!1;else if(i=Ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Wn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else An!==null&&(Fp(An),An=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?st===0&&(st=3):yg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return To(),kp(t,e),t===null&&cl(e.stateNode.containerInfo),_t(e),null;case 10:return eg(e.type._context),_t(e),null;case 17:return Gt(e.type)&&Cu(),_t(e),null;case 19:if(Re(Pe),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ba(i,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Du(t),o!==null){for(e.flags|=128,ba(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&$e()>Io&&(e.flags|=128,r=!0,ba(i,!1),e.lanes=4194304)}else{if(!r)if(t=Du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return _t(e),null}else 2*$e()-i.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$e(),e.sibling=null,n=Pe.current,be(Pe,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ZR(t,e){switch(Ym(e),e.tag){case 1:return Gt(e.type)&&Cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Re(qt),Re(Ct),ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sg(e),null;case 13:if(Re(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Pe),null;case 4:return To(),null;case 10:return eg(e.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var Sc=!1,St=!1,ek=typeof WeakSet=="function"?WeakSet:Set,G=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Pp(t,e,n){try{n()}catch(r){Me(t,e,r)}}var $w=!1;function tk(t,e){if(mp=bu,t=VE(),Km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gp={focusedElem:t,selectionRange:n},bu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var _=I.memoizedProps,S=I.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:Tn(e.type,_),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Me(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return I=$w,$w=!1,I}function Ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pp(e,n,i)}s=s.next}while(s!==r)}}function Pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D1(t){var e=t.alternate;e!==null&&(t.alternate=null,D1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[dl],delete e[wp],delete e[MR],delete e[VR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O1(t){return t.tag===5||t.tag===3||t.tag===4}function Ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Iu));else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var dt=null,Sn=!1;function zr(t,e,n){for(n=n.child;n!==null;)L1(t,e,n),n=n.sibling}function L1(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 5:St||no(n,e);case 6:var r=dt,s=Sn;dt=null,zr(t,e,n),dt=r,Sn=s,dt!==null&&(Sn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Sn?(t=dt,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),ol(t)):tf(dt,n.stateNode));break;case 4:r=dt,s=Sn,dt=n.stateNode.containerInfo,Sn=!0,zr(t,e,n),dt=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pp(n,e,o),s=s.next}while(s!==r)}zr(t,e,n);break;case 1:if(!St&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,zr(t,e,n),St=r):zr(t,e,n);break;default:zr(t,e,n)}}function Hw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ek),e.forEach(function(r){var s=uk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Sn=!1;break e;case 3:dt=a.stateNode.containerInfo,Sn=!0;break e;case 4:dt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(dt===null)throw Error(B(160));L1(i,o,s),dt=null,Sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Me(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M1(e,t),e=e.sibling}function M1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Un(t),r&4){try{Ha(3,t,t.return),Pd(3,t)}catch(_){Me(t,t.return,_)}try{Ha(5,t,t.return)}catch(_){Me(t,t.return,_)}}break;case 1:En(e,t),Un(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(En(e,t),Un(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var s=t.stateNode;try{nl(s,"")}catch(_){Me(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iE(s,i),ip(a,o);var d=ip(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?uE(s,f):h==="dangerouslySetInnerHTML"?lE(s,f):h==="children"?nl(s,f):Om(s,h,f,d)}switch(a){case"input":ep(s,i);break;case"textarea":oE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?so(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?so(s,!!i.multiple,i.defaultValue,!0):so(s,!!i.multiple,i.multiple?[]:"",!1))}s[dl]=i}catch(_){Me(t,t.return,_)}}break;case 6:if(En(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Me(t,t.return,_)}}break;case 3:if(En(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(_){Me(t,t.return,_)}break;case 4:En(e,t),Un(t);break;case 13:En(e,t),Un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pg=$e())),r&4&&Hw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(d=St)||h,En(e,t),St=d):En(e,t),Un(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(f=G=h;G!==null;){switch(m=G,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ha(4,m,m.return);break;case 1:no(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(_){Me(r,n,_)}}break;case 5:no(m,m.return);break;case 22:if(m.memoizedState!==null){Gw(f);continue}}v!==null?(v.return=m,G=v):Gw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cE("display",o))}catch(_){Me(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){Me(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Un(t),r&4&&Hw(t);break;case 21:break;default:En(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nl(s,""),r.flags&=-33);var i=Ww(t);Op(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ww(t);Dp(t,a,o);break;default:throw Error(B(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nk(t,e,n){G=t,V1(t)}function V1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||St;a=Sc;var d=St;if(Sc=o,(St=l)&&!d)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?Kw(s):l!==null?(l.return=o,G=l):Kw(s);for(;i!==null;)G=i,V1(i),i=i.sibling;G=s,Sc=a,St=d}qw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):qw(t)}}function qw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ol(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}St||e.flags&512&&jp(e)}catch(m){Me(e,e.return,m)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Gw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Kw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pd(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{jp(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{jp(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var rk=Math.ceil,Mu=jr.ReactCurrentDispatcher,hg=jr.ReactCurrentOwner,gn=jr.ReactCurrentBatchConfig,fe=0,ct=null,Ye=null,pt=0,Zt=0,ro=Os(0),st=0,yl=null,yi=0,jd=0,fg=0,qa=null,Bt=null,pg=0,Io=1/0,fr=null,Vu=!1,Lp=null,fs=null,Ic=!1,is=null,Fu=0,Ga=0,Mp=null,Zc=-1,eu=0;function jt(){return fe&6?$e():Zc!==-1?Zc:Zc=$e()}function ps(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:UR.transition!==null?(eu===0&&(eu=EE()),eu):(t=ve,t!==0||(t=window.event,t=t===void 0?16:NE(t.type)),t):1}function kn(t,e,n,r){if(50<Ga)throw Ga=0,Mp=null,Error(B(185));Dl(t,n,r),(!(fe&2)||t!==ct)&&(t===ct&&(!(fe&2)&&(jd|=n),st===4&&Xr(t,pt)),Kt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Io=$e()+500,Nd&&Ls()))}function Kt(t,e){var n=t.callbackNode;UN(t,e);var r=Eu(t,t===ct?pt:0);if(r===0)n!==null&&rw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rw(n),e===1)t.tag===0?FR(Qw.bind(null,t)):KE(Qw.bind(null,t)),OR(function(){!(fe&6)&&Ls()}),n=null;else{switch(bE(r)){case 1:n=Um;break;case 4:n=_E;break;case 16:n=xu;break;case 536870912:n=xE;break;default:n=xu}n=q1(n,F1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F1(t,e){if(Zc=-1,eu=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Eu(t,t===ct?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uu(t,r);else{e=r;var s=fe;fe|=2;var i=B1();(ct!==t||pt!==e)&&(fr=null,Io=$e()+500,ui(t,e));do try{ok();break}catch(a){U1(t,a)}while(!0);Zm(),Mu.current=i,fe=s,Ye!==null?e=0:(ct=null,pt=0,e=st)}if(e!==0){if(e===2&&(s=up(t),s!==0&&(r=s,e=Vp(t,s))),e===1)throw n=yl,ui(t,0),Xr(t,r),Kt(t,$e()),n;if(e===6)Xr(t,r);else{if(s=t.current.alternate,!(r&30)&&!sk(s)&&(e=Uu(t,r),e===2&&(i=up(t),i!==0&&(r=i,e=Vp(t,i))),e===1))throw n=yl,ui(t,0),Xr(t,r),Kt(t,$e()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ti(t,Bt,fr);break;case 3:if(Xr(t,r),(r&130023424)===r&&(e=pg+500-$e(),10<e)){if(Eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vp(ti.bind(null,t,Bt,fr),e);break}ti(t,Bt,fr);break;case 4:if(Xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rk(r/1960))-r,10<r){t.timeoutHandle=vp(ti.bind(null,t,Bt,fr),r);break}ti(t,Bt,fr);break;case 5:ti(t,Bt,fr);break;default:throw Error(B(329))}}}return Kt(t,$e()),t.callbackNode===n?F1.bind(null,t):null}function Vp(t,e){var n=qa;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=Uu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Fp(e)),t}function Fp(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~fg,e&=~jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Qw(t){if(fe&6)throw Error(B(327));co();var e=Eu(t,0);if(!(e&1))return Kt(t,$e()),null;var n=Uu(t,e);if(t.tag!==0&&n===2){var r=up(t);r!==0&&(e=r,n=Vp(t,r))}if(n===1)throw n=yl,ui(t,0),Xr(t,e),Kt(t,$e()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Bt,fr),Kt(t,$e()),null}function mg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Io=$e()+500,Nd&&Ls())}}function vi(t){is!==null&&is.tag===0&&!(fe&6)&&co();var e=fe;fe|=1;var n=gn.transition,r=ve;try{if(gn.transition=null,ve=1,t)return t()}finally{ve=r,gn.transition=n,fe=e,!(fe&6)&&Ls()}}function gg(){Zt=ro.current,Re(ro)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cu();break;case 3:To(),Re(qt),Re(Ct),ig();break;case 5:sg(r);break;case 4:To();break;case 13:Re(Pe);break;case 19:Re(Pe);break;case 10:eg(r.type._context);break;case 22:case 23:gg()}n=n.return}if(ct=t,Ye=t=ms(t.current,null),pt=Zt=e,st=0,yl=null,fg=jd=yi=0,Bt=qa=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ii=null}return t}function U1(t,e){do{var n=Ye;try{if(Zm(),Yc.current=Lu,Ou){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ou=!1}if(gi=0,lt=rt=je=null,Wa=!1,pl=0,hg.current=null,n===null||n.return===null){st=1,yl=e,Ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Lw(o);if(v!==null){v.flags&=-257,Mw(v,o,a,i,e),v.mode&1&&Ow(i,d,e),e=v,l=d;var I=e.updateQueue;if(I===null){var _=new Set;_.add(l),e.updateQueue=_}else I.add(l);break e}else{if(!(e&1)){Ow(i,d,e),yg();break e}l=Error(B(426))}}else if(ke&&a.mode&1){var S=Lw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Mw(S,o,a,i,e),Xm(So(l,a));break e}}i=l=So(l,a),st!==4&&(st=2),qa===null?qa=[i]:qa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=b1(i,l,e);Nw(i,x);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(fs===null||!fs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=T1(i,a,e);Nw(i,N);break e}}i=i.return}while(i!==null)}$1(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function B1(){var t=Mu.current;return Mu.current=Lu,t===null?Lu:t}function yg(){(st===0||st===3||st===2)&&(st=4),ct===null||!(yi&268435455)&&!(jd&268435455)||Xr(ct,pt)}function Uu(t,e){var n=fe;fe|=2;var r=B1();(ct!==t||pt!==e)&&(fr=null,ui(t,e));do try{ik();break}catch(s){U1(t,s)}while(!0);if(Zm(),fe=n,Mu.current=r,Ye!==null)throw Error(B(261));return ct=null,pt=0,st}function ik(){for(;Ye!==null;)z1(Ye)}function ok(){for(;Ye!==null&&!kN();)z1(Ye)}function z1(t){var e=H1(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?$1(t):Ye=e,hg.current=null}function $1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ye=null;return}}else if(n=JR(n,e,Zt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);st===0&&(st=5)}function ti(t,e,n){var r=ve,s=gn.transition;try{gn.transition=null,ve=1,ak(t,e,n,r)}finally{gn.transition=s,ve=r}return null}function ak(t,e,n,r){do co();while(is!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(BN(t,i),t===ct&&(Ye=ct=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,q1(xu,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=ve;ve=1;var a=fe;fe|=4,hg.current=null,tk(t,n),M1(n,t),CR(gp),bu=!!mp,gp=mp=null,t.current=n,nk(n),PN(),fe=a,ve=o,gn.transition=i}else t.current=n;if(Ic&&(Ic=!1,is=t,Fu=s),i=t.pendingLanes,i===0&&(fs=null),ON(n.stateNode),Kt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vu)throw Vu=!1,t=Lp,Lp=null,t;return Fu&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===Mp?Ga++:(Ga=0,Mp=t):Ga=0,Ls(),null}function co(){if(is!==null){var t=bE(Fu),e=gn.transition,n=ve;try{if(gn.transition=null,ve=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Fu=0,fe&6)throw Error(B(331));var s=fe;for(fe|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(G=d;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:Ha(8,h,i)}var f=h.child;if(f!==null)f.return=h,G=f;else for(;G!==null;){h=G;var m=h.sibling,v=h.return;if(D1(h),h===d){G=null;break}if(m!==null){m.return=v,G=m;break}G=v}}}var I=i.alternate;if(I!==null){var _=I.child;if(_!==null){I.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ha(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,G=x;break e}G=i.return}}var w=t.current;for(G=w;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pd(9,a)}}catch(O){Me(a,a.return,O)}if(a===o){G=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,G=N;break e}G=a.return}}if(fe=s,Ls(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Td,t)}catch{}r=!0}return r}finally{ve=n,gn.transition=e}}return!1}function Yw(t,e,n){e=So(n,e),e=b1(t,e,1),t=hs(t,e,1),e=jt(),t!==null&&(Dl(t,1,e),Kt(t,e))}function Me(t,e,n){if(t.tag===3)Yw(t,t,n);else for(;e!==null;){if(e.tag===3){Yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=So(n,t),t=T1(e,t,1),e=hs(e,t,1),t=jt(),e!==null&&(Dl(e,1,t),Kt(e,t));break}}e=e.return}}function lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(pt&n)===n&&(st===4||st===3&&(pt&130023424)===pt&&500>$e()-pg?ui(t,0):fg|=n),Kt(t,e)}function W1(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=jt();t=Tr(t,e),t!==null&&(Dl(t,e,n),Kt(t,n))}function ck(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W1(t,n)}function uk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),W1(t,n)}var H1;H1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,XR(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,ke&&e.flags&1048576&&QE(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var s=xo(e,Ct.current);lo(e,n),s=ag(null,e,r,t,s,n);var i=lg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,Au(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ng(e),s.updater=kd,e.stateNode=s,s._reactInternals=e,Sp(e,r,t,n),e=Ap(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&Qm(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hk(r),t=Tn(r,t),s){case 0:e=Cp(null,e,r,t,n);break e;case 1:e=Uw(null,e,r,t,n);break e;case 11:e=Vw(null,e,r,t,n);break e;case 14:e=Fw(null,e,r,Tn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Cp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Uw(t,e,r,s,n);case 3:e:{if(A1(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,t1(t,e),ju(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=So(Error(B(423)),e),e=Bw(t,e,r,n,s);break e}else if(r!==s){s=So(Error(B(424)),e),e=Bw(t,e,r,n,s);break e}else for(tn=ds(e.stateNode.containerInfo.firstChild),sn=e,ke=!0,An=null,n=ZE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===s){e=Sr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return n1(e),t===null&&Ep(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yp(r,s)?o=null:i!==null&&yp(r,i)&&(e.flags|=32),C1(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Ep(e),null;case 13:return N1(t,e,n);case 4:return rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Vw(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,be(ku,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!qt.current){e=Sr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_r(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lo(e,n),s=yn(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=Tn(r,e.pendingProps),s=Tn(r.type,s),Fw(t,e,r,s,n);case 15:return S1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Jc(t,e),e.tag=1,Gt(r)?(t=!0,Au(e)):t=!1,lo(e,n),E1(e,r,s),Sp(e,r,s,n),Ap(null,e,r,!0,t,n);case 19:return R1(t,e,n);case 22:return I1(t,e,n)}throw Error(B(156,e.tag))};function q1(t,e){return wE(t,e)}function dk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new dk(t,e,n,r)}function vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hk(t){if(typeof t=="function")return vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===Vm)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gi:return di(n.children,s,i,e);case Lm:o=8,s|=8;break;case Qf:return t=mn(12,n,e,s|2),t.elementType=Qf,t.lanes=i,t;case Yf:return t=mn(13,n,e,s),t.elementType=Yf,t.lanes=i,t;case Xf:return t=mn(19,n,e,s),t.elementType=Xf,t.lanes=i,t;case nE:return Dd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eE:o=10;break e;case tE:o=9;break e;case Mm:o=11;break e;case Vm:o=14;break e;case Kr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function di(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Dd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=nE,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wg(t,e,n,r,s,i,o,a,l){return t=new fk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(i),t}function pk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G1(t){if(!t)return Es;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Gt(n))return GE(t,n,e)}return e}function K1(t,e,n,r,s,i,o,a,l){return t=wg(n,r,!0,t,s,i,o,a,l),t.context=G1(null),n=t.current,r=jt(),s=ps(n),i=_r(r,s),i.callback=e??null,hs(n,i,s),t.current.lanes=s,Dl(t,s,r),Kt(t,r),t}function Od(t,e,n,r){var s=e.current,i=jt(),o=ps(s);return n=G1(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hs(s,e,o),t!==null&&(kn(t,s,o,i),Qc(t,s,o)),o}function Bu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _g(t,e){Xw(t,e),(t=t.alternate)&&Xw(t,e)}function mk(){return null}var Q1=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Ld.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Od(t,e,null,null)};Ld.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Od(null,t,null,null)}),e[br]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=IE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&AE(t)}};function Eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function gk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Bu(o);i.call(d)}}var o=K1(e,r,t,0,null,!1,!1,"",Jw);return t._reactRootContainer=o,t[br]=o.current,cl(t.nodeType===8?t.parentNode:t),vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Bu(l);a.call(d)}}var l=wg(t,0,!1,null,null,!1,!1,"",Jw);return t._reactRootContainer=l,t[br]=l.current,cl(t.nodeType===8?t.parentNode:t),vi(function(){Od(e,l,n,r)}),l}function Vd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Bu(o);a.call(l)}}Od(e,o,t,s)}else o=gk(n,e,t,s,r);return Bu(o)}TE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(Bm(e,n|1),Kt(e,$e()),!(fe&6)&&(Io=$e()+500,Ls()))}break;case 13:vi(function(){var r=Tr(t,1);if(r!==null){var s=jt();kn(r,t,1,s)}}),_g(t,1)}};zm=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=jt();kn(e,t,134217728,n)}_g(t,134217728)}};SE=function(t){if(t.tag===13){var e=ps(t),n=Tr(t,e);if(n!==null){var r=jt();kn(n,t,e,r)}_g(t,e)}};IE=function(){return ve};CE=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};ap=function(t,e,n){switch(e){case"input":if(ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ad(r);if(!s)throw Error(B(90));sE(r),ep(r,s)}}}break;case"textarea":oE(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};fE=mg;pE=vi;var yk={usingClientEntryPoint:!1,Events:[Ll,Xi,Ad,dE,hE,mg]},Ta={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vk={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Td=Cc.inject(vk),Qn=Cc}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(e))throw Error(B(200));return pk(t,e,null,n)};cn.createRoot=function(t,e){if(!Eg(t))throw Error(B(299));var n=!1,r="",s=Q1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wg(t,1,!1,null,null,n,!1,r,s),t[br]=e.current,cl(t.nodeType===8?t.parentNode:t),new xg(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=yE(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return vi(t)};cn.hydrate=function(t,e,n){if(!Md(e))throw Error(B(200));return Vd(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Eg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Q1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K1(e,null,t,1,n??null,s,!1,i,o),t[br]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ld(e)};cn.render=function(t,e,n){if(!Md(e))throw Error(B(200));return Vd(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Md(t))throw Error(B(40));return t._reactRootContainer?(vi(function(){Vd(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};cn.unstable_batchedUpdates=mg;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Md(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Vd(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function Y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y1)}catch(t){console.error(t)}}Y1(),Y0.exports=cn;var Uo=Y0.exports;const wk=V0(Uo);var X1,Zw=Uo;X1=Zw.createRoot,Zw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const e_="popstate";function _k(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Up("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zu(s)}return Ek(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xk(){return Math.random().toString(36).substr(2,8)}function t_(t,e){return{usr:t.state,key:t.key,idx:e}}function Up(t,e,n,r){return n===void 0&&(n=null),vl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:n,key:e&&e.key||r||xk()})}function zu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ek(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=os.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(vl({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=os.Pop;let S=h(),x=S==null?null:S-d;d=S,l&&l({action:a,location:_.location,delta:x})}function m(S,x){a=os.Push;let w=Up(_.location,S,x);d=h()+1;let T=t_(w,d),N=_.createHref(w);try{o.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&l&&l({action:a,location:_.location,delta:1})}function v(S,x){a=os.Replace;let w=Up(_.location,S,x);d=h();let T=t_(w,d),N=_.createHref(w);o.replaceState(T,"",N),i&&l&&l({action:a,location:_.location,delta:0})}function I(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof S=="string"?S:zu(S);return w=w.replace(/ $/,"%20"),He(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let _={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(e_,f),l=S,()=>{s.removeEventListener(e_,f),l=null}},createHref(S){return e(s,S)},createURL:I,encodeLocation(S){let x=I(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(S){return o.go(S)}};return _}var n_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n_||(n_={}));function bk(t,e,n){return n===void 0&&(n="/"),Tk(t,e,n)}function Tk(t,e,n,r){let s=typeof e=="string"?Bo(e):e,i=Tg(s.pathname||"/",n);if(i==null)return null;let o=J1(t);Sk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=Mk(i);a=Dk(o[l],d)}return a}function J1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=gs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),J1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Pk(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Z1(i.path))s(i,o,l)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Z1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Sk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ik=/^:[\w-]+$/,Ck=3,Ak=2,Nk=1,Rk=10,kk=-2,r_=t=>t==="*";function Pk(t,e){let n=t.split("/"),r=n.length;return n.some(r_)&&(r+=kk),e&&(r+=Ak),n.filter(s=>!r_(s)).reduce((s,i)=>s+(Ik.test(i)?Ck:i===""?Nk:Rk),r)}function jk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Dk(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Ok({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:gs([i,f.pathname]),pathnameBase:zk(gs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=gs([i,f.pathnameBase]))}return o}function Ok(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Lk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const I=a[f];return v&&!I?d[m]=void 0:d[m]=(I||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Lk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Mk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fk=t=>Vk.test(t);function Uk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bo(t):t,i;if(n)if(Fk(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),bg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=s_(n.substring(1),"/"):i=s_(n,e)}else i=e;return{pathname:i,search:$k(r),hash:Wk(s)}}function s_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sg(t,e){let n=Bk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ig(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bo(t):(s=vl({},t),He(!s.pathname||!s.pathname.includes("?"),hf("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),hf("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),hf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=Uk(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),zk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$k=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eb=["post","put","patch","delete"];new Set(eb);const qk=["get",...eb];new Set(qk);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}const Cg=y.createContext(null),Gk=y.createContext(null),Ms=y.createContext(null),Fd=y.createContext(null),Vs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),tb=y.createContext(null);function Kk(t,e){let{relative:n}=e===void 0?{}:e;zo()||He(!1);let{basename:r,navigator:s}=y.useContext(Ms),{hash:i,pathname:o,search:a}=rb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function zo(){return y.useContext(Fd)!=null}function $o(){return zo()||He(!1),y.useContext(Fd).location}function nb(t){y.useContext(Ms).static||y.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=y.useContext(Vs);return t?aP():Qk()}function Qk(){zo()||He(!1);let t=y.useContext(Cg),{basename:e,future:n,navigator:r}=y.useContext(Ms),{matches:s}=y.useContext(Vs),{pathname:i}=$o(),o=JSON.stringify(Sg(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return nb(()=>{a.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Ig(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function rb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ms),{matches:s}=y.useContext(Vs),{pathname:i}=$o(),o=JSON.stringify(Sg(s,r.v7_relativeSplatPath));return y.useMemo(()=>Ig(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Yk(t,e){return Xk(t,e)}function Xk(t,e,n,r){zo()||He(!1);let{navigator:s}=y.useContext(Ms),{matches:i}=y.useContext(Vs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=$o(),h;if(e){var f;let S=typeof e=="string"?Bo(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||He(!1),h=S}else h=d;let m=h.pathname||"/",v=m;if(l!=="/"){let S=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let I=bk(t,{pathname:v}),_=nP(I&&I.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:gs([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:gs([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&_?y.createElement(Fd.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:os.Pop}},_):_}function Jk(){let t=oP(),e=Hk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const Zk=y.createElement(Jk,null);class eP extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Vs.Provider,{value:this.props.routeContext},y.createElement(tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tP(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Cg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Vs.Provider,{value:e},r)}function nP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||He(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:v}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||I){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let v,I=!1,_=null,S=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||Zk,l&&(d<0&&m===0?(lP("route-fallback"),I=!0,S=null):d===m&&(I=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),w=()=>{let T;return v?T=_:I?T=S:f.route.Component?T=y.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,y.createElement(tP,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(eP,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var sb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sb||{}),ib=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ib||{});function rP(t){let e=y.useContext(Cg);return e||He(!1),e}function sP(t){let e=y.useContext(Gk);return e||He(!1),e}function iP(t){let e=y.useContext(Vs);return e||He(!1),e}function ob(t){let e=iP(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function oP(){var t;let e=y.useContext(tb),n=sP(),r=ob();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aP(){let{router:t}=rP(sb.UseNavigateStable),e=ob(ib.UseNavigateStable),n=y.useRef(!1);return nb(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wl({fromRouteId:e},i)))},[t,e])}const i_={};function lP(t,e,n){i_[t]||(i_[t]=!0)}function cP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uP(t){let{to:e,replace:n,state:r,relative:s}=t;zo()||He(!1);let{future:i,static:o}=y.useContext(Ms),{matches:a}=y.useContext(Vs),{pathname:l}=$o(),d=Dr(),h=Ig(e,Sg(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function dn(t){He(!1)}function dP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=os.Pop,navigator:i,static:o=!1,future:a}=t;zo()&&He(!1);let l=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:l,navigator:i,static:o,future:wl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Bo(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:I="default"}=r,_=y.useMemo(()=>{let S=Tg(h,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:v,key:I},navigationType:s}},[l,h,f,m,v,I,s]);return _==null?null:y.createElement(Ms.Provider,{value:d},y.createElement(Fd.Provider,{children:n,value:_}))}function hP(t){let{children:e,location:n}=t;return Yk(Bp(e),n)}new Promise(()=>{});function Bp(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Bp(r.props.children,i));return}r.type!==dn&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function fP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function pP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mP(t,e){return t.button===0&&(!e||e==="_self")&&!pP(t)}const gP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yP="6";try{window.__reactRouterVersion=yP}catch{}const vP="startTransition",o_=bd[vP];function wP(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=_k({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(f=>{d&&o_?o_(()=>l(f)):l(f)},[l,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>cP(r),[r]),y.createElement(dP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,m=fP(e,gP),{basename:v}=y.useContext(Ms),I,_=!1;if(typeof d=="string"&&xP.test(d)&&(I=d,_P))try{let T=new URL(window.location.href),N=d.startsWith("//")?new URL(T.protocol+d):new URL(d),O=Tg(N.pathname,v);N.origin===T.origin&&O!=null?d=O+N.search+N.hash:_=!0}catch{}let S=Kk(d,{relative:s}),x=EP(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||x(T)}return y.createElement("a",zp({},m,{href:I||S,onClick:_||i?r:w,ref:n,target:l}))});var a_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(a_||(a_={}));var l_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(l_||(l_={}));function EP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Dr(),d=$o(),h=rb(t,{relative:o});return y.useCallback(f=>{if(mP(f,n)){f.preventDefault();let m=r!==void 0?r:zu(d)===zu(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}const bP=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,v=d&63;l||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ab(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new SP;const m=i<<2|a>>4;if(r.push(m),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const I=d<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IP=function(t){const e=ab(t);return lb.encodeByteArray(e,!0)},$u=function(t){return IP(t).replace(/\./g,"")},cb=function(t){try{return lb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=()=>CP().__FIREBASE_DEFAULTS__,NP=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cb(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return bP()||AP()||NP()||RP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ub=t=>{var e,n;return(n=(e=Ud())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},db=t=>{const e=ub(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hb=()=>{var t;return(t=Ud())==null?void 0:t.config},fb=t=>{var e;return(e=Ud())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ag(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$u(JSON.stringify(n)),$u(JSON.stringify(o)),""].join(".")}const Ka={};function PP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function jP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u_=!1;function Ng(t,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Ka[t]===e||Ka[t]||u_)return;Ka[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=PP().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{u_=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=jP(r),v=n("text"),I=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),h(S,_);const N=d();l(w,x),T.append(w,I,S,N),document.body.appendChild(T)}i?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function OP(){var e;const t=(e=Ud())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VP(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FP(){return!OP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function yb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function UP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="FirebaseError";class xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BP,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xn(s,a,r)}}function zP(t,e){return t.replace($P,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $P=/\{\$([^}]+)}/g;function WP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(d_(i)&&d_(o)){if(!bs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HP(t,e){const n=new qP(t,e);return n.subscribe.bind(n)}class qP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ff),s.error===void 0&&(s.error=ff),s.complete===void 0&&(s.complete=ff);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e3,QP=2,YP=4*60*60*1e3,XP=.5;function h_(t,e=KP,n=QP){const r=e*Math.pow(n,t),s=Math.round(XP*r*(Math.random()-.5)*2);return Math.min(YP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t){return t&&t._delegate?t._delegate:t}class wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZP(t){return t===ni?void 0:t}function e2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const n2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},r2=ce.INFO,s2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},i2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=s2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bd{constructor(e){this.name=e,this._logLevel=r2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const o2=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function a2(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vb=new WeakMap,$p=new WeakMap,wb=new WeakMap,pf=new WeakMap,Rg=new WeakMap;function c2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ys(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vb.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function u2(t){if($p.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d2(t){Wp=t(Wp)}function h2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return wb.set(r,e.sort?e.sort():[e]),ys(r)}:l2().includes(t)?function(...e){return t.apply(mf(this),e),ys(vb.get(this))}:function(...e){return ys(t.apply(mf(this),e))}}function f2(t){return typeof t=="function"?h2(t):(t instanceof IDBTransaction&&u2(t),o2(t,a2())?new Proxy(t,Wp):t)}function ys(t){if(t instanceof IDBRequest)return c2(t);if(pf.has(t))return pf.get(t);const e=f2(t);return e!==t&&(pf.set(t,e),Rg.set(e,t)),e}const mf=t=>Rg.get(t);function _b(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ys(o.result),l.oldVersion,l.newVersion,ys(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const p2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],gf=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=m2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||p2.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return gf.set(e,i),i}d2(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function y2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",g_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Bd("@firebase/app"),v2="@firebase/app-compat",w2="@firebase/analytics-compat",_2="@firebase/analytics",x2="@firebase/app-check-compat",E2="@firebase/app-check",b2="@firebase/auth",T2="@firebase/auth-compat",S2="@firebase/database",I2="@firebase/data-connect",C2="@firebase/database-compat",A2="@firebase/functions",N2="@firebase/functions-compat",R2="@firebase/installations",k2="@firebase/installations-compat",P2="@firebase/messaging",j2="@firebase/messaging-compat",D2="@firebase/performance",O2="@firebase/performance-compat",L2="@firebase/remote-config",M2="@firebase/remote-config-compat",V2="@firebase/storage",F2="@firebase/storage-compat",U2="@firebase/firestore",B2="@firebase/ai",z2="@firebase/firestore-compat",$2="firebase",W2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",H2={[Hp]:"fire-core",[v2]:"fire-core-compat",[_2]:"fire-analytics",[w2]:"fire-analytics-compat",[E2]:"fire-app-check",[x2]:"fire-app-check-compat",[b2]:"fire-auth",[T2]:"fire-auth-compat",[S2]:"fire-rtdb",[I2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[A2]:"fire-fn",[N2]:"fire-fn-compat",[R2]:"fire-iid",[k2]:"fire-iid-compat",[P2]:"fire-fcm",[j2]:"fire-fcm-compat",[D2]:"fire-perf",[O2]:"fire-perf-compat",[L2]:"fire-rc",[M2]:"fire-rc-compat",[V2]:"fire-gcs",[F2]:"fire-gcs-compat",[U2]:"fire-fst",[z2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,q2=new Map,Gp=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(Gp.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(const n of Wu.values())y_(n,t);for(const n of q2.values())y_(n,t);return!0}function Us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new ki("app","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=W2;function xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw vs.create("bad-app-name",{appName:String(s)});if(n||(n=hb()),!n)throw vs.create("no-options");const i=Wu.get(s);if(i){if(bs(n,i.options)&&bs(r,i.config))return i;throw vs.create("duplicate-app",{appName:s})}const o=new t2(s);for(const l of Gp.values())o.addComponent(l);const a=new K2(n,r,o);return Wu.set(s,a),a}function zd(t=qp){const e=Wu.get(t);if(!e&&t===qp&&hb())return xb();if(!e)throw vs.create("no-app",{appName:t});return e}function Qt(t,e,n){let r=H2[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(o.join(" "));return}Dn(new wn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebase-heartbeat-database",Y2=1,_l="firebase-heartbeat-store";let yf=null;function Eb(){return yf||(yf=_b(Q2,Y2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),yf}async function X2(t){try{const n=(await Eb()).transaction(_l),r=await n.objectStore(_l).get(bb(t));return await n.done,r}catch(e){if(e instanceof xn)Ir.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function v_(t,e){try{const r=(await Eb()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,bb(t)),await r.done}catch(n){if(n instanceof xn)Ir.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function bb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1024,Z2=30;class ej{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=w_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Z2){const o=rj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:r,unsentEntries:s}=tj(this._heartbeatsCache.heartbeats),i=$u(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ir.warn(n),""}}}function w_(){return new Date().toISOString().substring(0,10)}function tj(t,e=J2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),__(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),__(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function __(t){return $u(JSON.stringify({version:2,heartbeats:t})).length}function rj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){Dn(new wn("platform-logger",e=>new g2(e),"PRIVATE")),Dn(new wn("heartbeat",e=>new ej(e),"PRIVATE")),Qt(Hp,g_,t),Qt(Hp,g_,"esm2020"),Qt("fire-js","")}sj("");function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ij=Tb,Sb=new ki("auth","Firebase",Tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Bd("@firebase/auth");function oj(t,...e){Hu.logLevel<=ce.WARN&&Hu.warn(`Auth (${Pi}): ${t}`,...e)}function nu(t,...e){Hu.logLevel<=ce.ERROR&&Hu.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Pg(t,...e)}function Pn(t,...e){return Pg(t,...e)}function kg(t,e,n){const r={...ij(),[e]:n};return new ki("auth","Firebase",r).create(e,{appName:t.name})}function xr(t){return kg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(t,"argument-error"),kg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sb.create(t,...e)}function Z(t,e,...n){if(!t)throw Pg(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function Cr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lj(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lj()||mb()||"connection"in navigator)?navigator.onLine:!0}function uj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=DP()||MP()}get(){return cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fj=new Fl(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Or(t,e,n,r,s={}){return Cb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vl({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return LP()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(d.credentials="include"),Ib.fetch()(await Ab(t,t.config.apiHost,n,a),d)})}async function Cb(t,e,n){t._canInitEmulator=!1;const r={...dj,...e};try{const s=new mj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ac(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ac(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ac(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw kg(t,h,d);_n(t,h)}}catch(s){if(s instanceof xn)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function Ul(t,e,n,r,s={}){const i=await Or(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ab(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?jg(t.config,s):`${t.config.apiScheme}://${s}`;return hj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function pj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),fj.get())})}}function Ac(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pn(t,e,r);return s.customData._tokenResponse=n,s}function E_(t){return t!==void 0&&t.enterprise!==void 0}class gj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yj(t,e){return Or(t,"GET","/v2/recaptchaConfig",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return Or(t,"POST","/v1/accounts:delete",e)}async function qu(t,e){return Or(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wj(t,e=!1){const n=Te(t),r=await n.getIdToken(e),s=Dg(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qa(vf(s.auth_time)),issuedAtTime:Qa(vf(s.iat)),expirationTime:Qa(vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const s=cb(n);return s?JSON.parse(s):(nu("Failed to decode base64 JWT payload"),null)}catch(s){return nu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function b_(t){const e=Dg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xn&&_j(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _j({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Co(t,qu(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Nb(s.providerUserInfo):[],o=bj(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Ej(t){const e=Te(t);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Nb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){const n=await Cb(t,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Ab(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(l.credentials="include"),Ib.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sj(t,e){return Or(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new xj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wj(this,e)}reload(){return Ej(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Co(this,vj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:I,stsTokenManager:_}=n;Z(f&&_,e,"internal-error");const S=uo.fromJSON(this.name,_);Z(typeof f=="string",e,"internal-error"),$r(r,e.name),$r(s,e.name),Z(typeof m=="boolean",e,"internal-error"),Z(typeof v=="boolean",e,"internal-error"),$r(i,e.name),$r(o,e.name),$r(a,e.name),$r(l,e.name),$r(d,e.name),$r(h,e.name);const x=new Nn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return I&&Array.isArray(I)&&(x.providerData=I.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new uo;s.updateFromServerResponse(n);const i=new Nn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Nb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new uo;a.updateFromIdToken(r);const l=new Nn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function wr(t){Cr(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rb.type="NONE";const S_=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ru(this.userKey,s.apiKey,i),this.fullPersistenceKey=ru("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qu(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(wr(S_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||wr(S_);const o=ru(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await qu(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Nn._fromGetAccountInfoResponse(e,m,h)}else f=Nn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ho(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ho(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Mb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kb(t=At()){return/firefox\//i.test(t)}function Pb(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(t=At()){return/crios\//i.test(t)}function Db(t=At()){return/iemobile/i.test(t)}function Ob(t=At()){return/android/i.test(t)}function Lb(t=At()){return/blackberry/i.test(t)}function Mb(t=At()){return/webos/i.test(t)}function Og(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ij(t=At()){var e;return Og(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Cj(){return VP()&&document.documentMode===10}function Vb(t=At()){return Og(t)||Ob(t)||Mb(t)||Lb(t)||/windows phone/i.test(t)||Db(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e=[]){let n;switch(t){case"Browser":n=I_(At());break;case"Worker":n=`${I_(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Or(t,"GET","/v2/passwordPolicy",Bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=6;class kj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new Aj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qu(this,{idToken:e}),r=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(xr(this));const n=e?Te(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nj(this),n=new kj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&oj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zs(t){return Te(t)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=HP(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jj(t){$d=t}function Ub(t){return $d.loadJS(t)}function Dj(){return $d.recaptchaEnterpriseScript}function Oj(){return $d.gapiScript}function Lj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mj{constructor(){this.enterprise=new Vj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Fj="recaptcha-enterprise",Bb="NO_RECAPTCHA";class Uj{constructor(e){this.type=Fj,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{yj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new gj(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;E_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(Bb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mj().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&E_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dj();l.length!==0&&(l+=a),Ub(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function A_(t,e,n,r=!1,s=!1){const i=new Uj(t);let o;if(s)o=Bb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await A_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await A_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){const n=Us(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bs(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $j(t,e,n){const r=zs(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=zb(e),{host:o,port:a}=Wj(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(bs(d,r.config.emulator)&&bs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Fs(o)?(Ag(`${i}//${o}${l}`),Ng("Auth",!0)):Hj()}function zb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wj(t){const e=zb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:N_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:N_(o)}}}function N_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function qj(t,e){return Or(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return Ul(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e){return Ul(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}async function Qj(t,e){return Ul(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Lg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,n,"signInWithPassword",Gj);case"emailLink":return Kj(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,r,"signUpPassword",qj);case"emailLink":return Qj(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e){return Ul(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="http://localhost";class wi extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new wi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:Yj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jj(t){const e=Pa(ja(t)).link,n=e?Pa(ja(e)).deep_link_id:null,r=Pa(ja(t)).deep_link_id;return(r?Pa(ja(r)).link:null)||r||n||e||t}class Mg{constructor(e){const n=Pa(ja(e)),r=n.apiKey??null,s=n.oobCode??null,i=Xj(n.mode??null);Z(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Jj(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mg.parseLink(n);return Z(r,"argument-error"),xl._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Bl{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Bl{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Bl{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){return Ul(t,"POST","/v1/accounts:signUp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Nn._fromIdTokenResponse(e,r,s),o=R_(r);return new _i({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=R_(r);return new _i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function R_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends xn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ku(e,n,r,s)}}function $b(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ku._fromErrorAndOperation(t,i,e,r):i})}async function e4(t,e,n=!1){const r=await Co(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e,n=!1){const{auth:r}=t;if(zt(r.app))return Promise.reject(xr(r));const s="reauthenticate";try{const i=await Co(t,$b(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Dg(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),_i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e,n=!1){if(zt(t.app))return Promise.reject(xr(t));const r="signIn",s=await $b(t,r,e),i=await _i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function n4(t,e){return Wb(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r4(t,e,n){if(zt(t.app))return Promise.reject(xr(t));const r=zs(t),o=await Yp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Hb(t),l}),a=await _i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function s4(t,e,n){return zt(t.app)?Promise.reject(xr(t)):n4(Te(t),Wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){return Or(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Te(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Co(r,i4(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function o4(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function a4(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}function l4(t,e,n,r){return Te(t).onAuthStateChanged(e,n,r)}function c4(t){return Te(t).signOut()}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=1e3,d4=10;class Kb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Cj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,d4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const h4=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qb.type="SESSION";const Yb=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await f4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Fg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function m4(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function g4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function v4(){return Xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firebaseLocalStorageDb",w4=1,Yu="firebaseLocalStorage",Zb="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hd(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function _4(){const t=indexedDB.deleteDatabase(Jb);return new zl(t).toPromise()}function Xp(){const t=indexedDB.open(Jb,w4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:Zb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await _4(),e(await Xp()))})})}async function k_(t,e,n){const r=Hd(t,!0).put({[Zb]:e,value:n});return new zl(r).toPromise()}async function x4(t,e){const n=Hd(t,!1).get(e),r=await new zl(n).toPromise();return r===void 0?null:r.value}function P_(t,e){const n=Hd(t,!0).delete(e);return new zl(n).toPromise()}const E4=800,b4=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>b4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(v4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await g4(),!this.activeServiceWorker)return;this.sender=new p4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await k_(e,Qu,"1"),await P_(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hd(s,!1).getAll();return new zl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const T4=eT;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return e?wr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S4(t){return Wb(t.auth,new Ug(t),t.bypassAuthState)}function I4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),t4(n,new Ug(t),t.bypassAuthState)}async function C4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),e4(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S4;case"linkViaPopup":case"linkViaRedirect":return C4;case"reauthViaPopup":case"reauthViaRedirect":return I4;default:_n(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Fl(2e3,1e4);async function N4(t,e,n){if(zt(t.app))return Promise.reject(Pn(t,"operation-not-supported-in-this-environment"));const r=zs(t);aj(t,e,Vg);const s=tT(r,n);return new ai(r,"signInViaPopup",e,s).executeNotNull()}class ai extends nT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A4.get())};e()}}ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="pendingRedirect",su=new Map;class k4 extends nT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=su.get(this.auth._key());if(!e){try{const r=await P4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P4(t,e){const n=O4(e),r=D4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function j4(t,e){su.set(t._key(),e)}function D4(t){return wr(t._redirectPersistence)}function O4(t){return ru(R4,t.config.apiKey,t.name)}async function L4(t,e,n=!1){if(zt(t.app))return Promise.reject(xr(t));const r=zs(t),s=tT(r,e),o=await new k4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=10*60*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M4&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e={}){return Or(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z4=/^https?/;async function $4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U4(t);for(const n of e)try{if(W4(n))return}catch{}_n(t,"unauthorized-domain")}function W4(t){const e=Kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z4.test(n))return!1;if(B4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Fl(3e4,6e4);function D_(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q4(t){return new Promise((e,n)=>{var s,i,o;function r(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),n(Pn(t,"network-request-failed"))},timeout:H4.get()})}if((i=(s=Xn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Xn().gapi)!=null&&o.load)r();else{const a=Lj("iframefcb");return Xn()[a]=()=>{gapi.load?r():n(Pn(t,"network-request-failed"))},Ub(`${Oj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw iu=null,e})}let iu=null;function G4(t){return iu=iu||q4(t),iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Fl(5e3,15e3),Q4="__/auth/iframe",Y4="emulator/auth/iframe",X4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z4(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jg(e,Y4):`https://${t.config.authDomain}/${Q4}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},s=J4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vl(r).slice(1)}`}async function eD(t){const e=await G4(t),n=Xn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:Z4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Xn().setTimeout(()=>{i(o)},K4.get());function l(){Xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nD=500,rD=600,sD="_blank",iD="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oD(t,e,n,r=nD,s=rD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...tD,width:r.toString(),height:s.toString(),top:i,left:o},d=At().toLowerCase();n&&(a=jb(d)?sD:n),kb(d)&&(e=e||iD,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[v,I])=>`${m}${v}=${I},`,"");if(Ij(d)&&a!=="_self")return aD(e||"",a),new O_(null);const f=window.open(e||"",a,h);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new O_(f)}function aD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__/auth/handler",cD="emulator/auth/handler",uD=encodeURIComponent("fac");async function L_(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:s};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Bl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${uD}=${encodeURIComponent(l)}`:"";return`${dD(t)}?${Vl(a).slice(1)}${d}`}function dD({config:t}){return t.emulator?jg(t,cD):`https://${t.authDomain}/${lD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=L4,this._overrideRedirectResult=j4}async _openPopup(e,n,r,s){var o;Cr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await L_(e,n,r,Kp(),s);return oD(e,i,Fg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await L_(e,n,r,Kp(),s);return m4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eD(e),r=new V4(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[wf];i!==void 0&&n(!!i),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||Pb()||Og()}}const fD=hD;var M_="@firebase/auth",V_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gD(t){Dn(new wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(t)},d=new Pj(r,s,i,l);return zj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new wn("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new pD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(M_,V_,mD(t)),Qt(M_,V_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=5*60,vD=fb("authIdTokenMaxAge")||yD;let F_=null;const wD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vD)return;const s=n==null?void 0:n.token;F_!==s&&(F_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _D(t=zd()){const e=Us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bj(t,{popupRedirectResolver:fD,persistence:[T4,h4,Yb]}),r=fb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wD(i.toString());a4(n,o,()=>o(n.currentUser)),o4(n,a=>o(a))}}const s=ub("auth");return s&&$j(n,`http://${s}`),n}function xD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gD("Browser");var ED="firebase",bD="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt(ED,bD,"app");const sT="@firebase/installations",Bg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1e4,oT=`w:${Bg}`,aT="FIS_v2",TD="https://firebaseinstallations.googleapis.com/v1",SD=60*60*1e3,ID="installations",CD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xi=new ki(ID,CD,AD);function lT(t){return t instanceof xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT({projectId:t}){return`${TD}/projects/${t}/installations`}function uT(t){return{token:t.token,requestStatus:2,expiresIn:RD(t.expiresIn),creationTime:Date.now()}}async function dT(t,e){const r=(await e.json()).error;return xi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ND(t,{refreshToken:e}){const n=hT(t);return n.append("Authorization",kD(e)),n}async function fT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function RD(t){return Number(t.replace("s","000"))}function kD(t){return`${aT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cT(t),s=hT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:aT,appId:t.appId,sdkVersion:oT},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await fT(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:uT(d.authToken)}}else throw await dT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^[cdef][\w-]{21}$/,Jp="";function OD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=LD(t);return DD.test(n)?n:Jp}catch{return Jp}}function LD(t){return jD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function gT(t,e){const n=qd(t);yT(n,e),MD(n,e)}function yT(t,e){const n=mT.get(t);if(n)for(const r of n)r(e)}function MD(t,e){const n=VD();n&&n.postMessage({key:t,fid:e}),FD()}let li=null;function VD(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=t=>{yT(t.data.key,t.data.fid)}),li}function FD(){mT.size===0&&li&&(li.close(),li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-installations-database",BD=1,Ei="firebase-installations-store";let _f=null;function zg(){return _f||(_f=_b(UD,BD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ei)}}})),_f}async function Xu(t,e){const n=qd(t),s=(await zg()).transaction(Ei,"readwrite"),i=s.objectStore(Ei),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&gT(t,e.fid),e}async function vT(t){const e=qd(t),r=(await zg()).transaction(Ei,"readwrite");await r.objectStore(Ei).delete(e),await r.done}async function Gd(t,e){const n=qd(t),s=(await zg()).transaction(Ei,"readwrite"),i=s.objectStore(Ei),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&gT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(t){let e;const n=await Gd(t.appConfig,r=>{const s=zD(r),i=$D(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Jp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zD(t){const e=t||{fid:OD(),registrationStatus:0};return wT(e)}function $D(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=WD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HD(t)}:{installationEntry:e}}async function WD(t,e){try{const n=await PD(t,e);return Xu(t.appConfig,n)}catch(n){throw lT(n)&&n.customData.serverCode===409?await vT(t.appConfig):await Xu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HD(t){let e=await U_(t.appConfig);for(;e.registrationStatus===1;)await pT(100),e=await U_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $g(t);return r||n}return e}function U_(t){return Gd(t,e=>{if(!e)throw xi.create("installation-not-found");return wT(e)})}function wT(t){return qD(t)?{fid:t.fid,registrationStatus:0}:t}function qD(t){return t.registrationStatus===1&&t.registrationTime+iT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD({appConfig:t,heartbeatServiceProvider:e},n){const r=KD(t,n),s=ND(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:oT,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await fT(()=>fetch(r,a));if(l.ok){const d=await l.json();return uT(d)}else throw await dT("Generate Auth Token",l)}function KD(t,{fid:e}){return`${cT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(t,e=!1){let n;const r=await Gd(t.appConfig,i=>{if(!_T(i))throw xi.create("not-registered");const o=i.authToken;if(!e&&XD(o))return i;if(o.requestStatus===1)return n=QD(t,e),i;{if(!navigator.onLine)throw xi.create("app-offline");const a=ZD(i);return n=YD(t,a),a}});return n?await n:r.authToken}async function QD(t,e){let n=await B_(t.appConfig);for(;n.authToken.requestStatus===1;)await pT(100),n=await B_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Wg(t,e):r}function B_(t){return Gd(t,e=>{if(!_T(e))throw xi.create("not-registered");const n=e.authToken;return eO(n)?{...e,authToken:{requestStatus:0}}:e})}async function YD(t,e){try{const n=await GD(t,e),r={...e,authToken:n};return await Xu(t.appConfig,r),n}catch(n){if(lT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Xu(t.appConfig,r)}throw n}}function _T(t){return t!==void 0&&t.registrationStatus===2}function XD(t){return t.requestStatus===2&&!JD(t)}function JD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SD}function ZD(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function eO(t){return t.requestStatus===1&&t.requestTime+iT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t){const e=t,{installationEntry:n,registrationPromise:r}=await $g(e);return r?r.catch(console.error):Wg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e=!1){const n=t;return await rO(n),(await Wg(n,e)).token}async function rO(t){const{registrationPromise:e}=await $g(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(!t||!t.options)throw xf("App Configuration");if(!t.name)throw xf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xf(t){return xi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="installations",iO="installations-internal",oO=t=>{const e=t.getProvider("app").getImmediate(),n=sO(e),r=Us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aO=t=>{const e=t.getProvider("app").getImmediate(),n=Us(e,xT).getImmediate();return{getId:()=>tO(n),getToken:s=>nO(n,s)}};function lO(){Dn(new wn(xT,oO,"PUBLIC")),Dn(new wn(iO,aO,"PRIVATE"))}lO();Qt(sT,Bg);Qt(sT,Bg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="analytics",cO="firebase_id",uO="origin",dO=60*1e3,hO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Bd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new ki("analytics","Analytics",fO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){if(!t.startsWith(Hg)){const e=on.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function ET(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function mO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gO(t,e){const n=mO("firebase-js-sdk-policy",{createScriptURL:pO}),r=document.createElement("script"),s=`${Hg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function yO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vO(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await ET(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Dt.error(a)}t("config",s,i)}async function wO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await ET(n);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Dt.error(i)}}function _O(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await wO(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await vO(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Dt.error(a)}}return s}function xO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=_O(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function EO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Hg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=30,TO=1e3;class SO{constructor(e={},n=TO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bT=new SO;function IO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function CO(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:IO(n)},s=hO.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function AO(t,e=bT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw on.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw on.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kO;return setTimeout(async()=>{a.abort()},dO),TT({appId:r,apiKey:s,measurementId:i},o,a,e)}async function TT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=bT){var a;const{appId:i,measurementId:o}=t;try{await NO(r,e)}catch(l){if(o)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await CO(t);return s.deleteThrottleMetadata(i),l}catch(l){const d=l;if(!RO(d)){if(s.deleteThrottleMetadata(i),o)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?h_(n,s.intervalMillis,bO):h_(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),Dt.debug(`Calling attemptFetch again in ${h} millis`),TT(t,f,r,s)}}function NO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RO(t){if(!(t instanceof xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function PO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function jO(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(){if(gb())try{await yb()}catch(t){return Dt.warn(on.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OO(t,e,n,r,s,i,o){const a=AO(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Dt.error(m)),e.push(a);const l=DO().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([a,l]);EO(i)||gO(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[uO]="firebase",f.update=!0,h!=null&&(f[cO]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.app=e}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},z_=[];const $_={};let Ef="dataLayer",MO="gtag",W_,qg,H_=!1;function VO(){const t=[];if(mb()&&t.push("This is a browser extension environment."),UP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=on.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}function FO(t,e,n){VO();const r=t.options.appId;if(!r)throw on.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(po[r]!=null)throw on.create("already-exists",{id:r});if(!H_){yO(Ef);const{wrappedGtag:i,gtagCore:o}=xO(po,z_,$_,Ef,MO);qg=i,W_=o,H_=!0}return po[r]=OO(t,z_,$_,e,W_,Ef,n),new LO(t)}function UO(t=zd()){t=Te(t);const e=Us(t,Ju);return e.isInitialized()?e.getImmediate():BO(t)}function BO(t,e={}){const n=Us(t,Ju);if(n.isInitialized()){const s=n.getImmediate();if(bs(e,n.getOptions()))return s;throw on.create("already-initialized")}return n.initialize({options:e})}function zO(t,e,n){t=Te(t),jO(qg,po[t.app.options.appId],e,n).catch(r=>Dt.error(r))}function $O(t,e,n,r){t=Te(t),PO(qg,po[t.app.options.appId],e,n,r).catch(s=>Dt.error(s))}const q_="@firebase/analytics",G_="0.10.19";function WO(){Dn(new wn(Ju,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return FO(r,s,n)},"PUBLIC")),Dn(new wn("analytics-internal",t,"PRIVATE")),Qt(q_,G_),Qt(q_,G_,"esm2020");function t(e){try{const n=e.getProvider(Ju).getImmediate();return{logEvent:(r,s,i)=>$O(n,r,s,i),setUserProperties:(r,s)=>zO(n,r,s)}}catch(n){throw on.create("interop-component-reg-failed",{reason:n})}}}WO();var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,ST;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function C(){}C.prototype=E.prototype,b.F=E.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(R,j,P){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return E.prototype[j].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,E,C){C||(C=0);const R=Array(16);if(typeof E=="string")for(var j=0;j<16;++j)R[j]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(j=0;j<16;++j)R[j]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=b.g[0],C=b.g[1],j=b.g[2];let P=b.g[3],k;k=E+(P^C&(j^P))+R[0]+3614090360&4294967295,E=C+(k<<7&4294967295|k>>>25),k=P+(j^E&(C^j))+R[1]+3905402710&4294967295,P=E+(k<<12&4294967295|k>>>20),k=j+(C^P&(E^C))+R[2]+606105819&4294967295,j=P+(k<<17&4294967295|k>>>15),k=C+(E^j&(P^E))+R[3]+3250441966&4294967295,C=j+(k<<22&4294967295|k>>>10),k=E+(P^C&(j^P))+R[4]+4118548399&4294967295,E=C+(k<<7&4294967295|k>>>25),k=P+(j^E&(C^j))+R[5]+1200080426&4294967295,P=E+(k<<12&4294967295|k>>>20),k=j+(C^P&(E^C))+R[6]+2821735955&4294967295,j=P+(k<<17&4294967295|k>>>15),k=C+(E^j&(P^E))+R[7]+4249261313&4294967295,C=j+(k<<22&4294967295|k>>>10),k=E+(P^C&(j^P))+R[8]+1770035416&4294967295,E=C+(k<<7&4294967295|k>>>25),k=P+(j^E&(C^j))+R[9]+2336552879&4294967295,P=E+(k<<12&4294967295|k>>>20),k=j+(C^P&(E^C))+R[10]+4294925233&4294967295,j=P+(k<<17&4294967295|k>>>15),k=C+(E^j&(P^E))+R[11]+2304563134&4294967295,C=j+(k<<22&4294967295|k>>>10),k=E+(P^C&(j^P))+R[12]+1804603682&4294967295,E=C+(k<<7&4294967295|k>>>25),k=P+(j^E&(C^j))+R[13]+4254626195&4294967295,P=E+(k<<12&4294967295|k>>>20),k=j+(C^P&(E^C))+R[14]+2792965006&4294967295,j=P+(k<<17&4294967295|k>>>15),k=C+(E^j&(P^E))+R[15]+1236535329&4294967295,C=j+(k<<22&4294967295|k>>>10),k=E+(j^P&(C^j))+R[1]+4129170786&4294967295,E=C+(k<<5&4294967295|k>>>27),k=P+(C^j&(E^C))+R[6]+3225465664&4294967295,P=E+(k<<9&4294967295|k>>>23),k=j+(E^C&(P^E))+R[11]+643717713&4294967295,j=P+(k<<14&4294967295|k>>>18),k=C+(P^E&(j^P))+R[0]+3921069994&4294967295,C=j+(k<<20&4294967295|k>>>12),k=E+(j^P&(C^j))+R[5]+3593408605&4294967295,E=C+(k<<5&4294967295|k>>>27),k=P+(C^j&(E^C))+R[10]+38016083&4294967295,P=E+(k<<9&4294967295|k>>>23),k=j+(E^C&(P^E))+R[15]+3634488961&4294967295,j=P+(k<<14&4294967295|k>>>18),k=C+(P^E&(j^P))+R[4]+3889429448&4294967295,C=j+(k<<20&4294967295|k>>>12),k=E+(j^P&(C^j))+R[9]+568446438&4294967295,E=C+(k<<5&4294967295|k>>>27),k=P+(C^j&(E^C))+R[14]+3275163606&4294967295,P=E+(k<<9&4294967295|k>>>23),k=j+(E^C&(P^E))+R[3]+4107603335&4294967295,j=P+(k<<14&4294967295|k>>>18),k=C+(P^E&(j^P))+R[8]+1163531501&4294967295,C=j+(k<<20&4294967295|k>>>12),k=E+(j^P&(C^j))+R[13]+2850285829&4294967295,E=C+(k<<5&4294967295|k>>>27),k=P+(C^j&(E^C))+R[2]+4243563512&4294967295,P=E+(k<<9&4294967295|k>>>23),k=j+(E^C&(P^E))+R[7]+1735328473&4294967295,j=P+(k<<14&4294967295|k>>>18),k=C+(P^E&(j^P))+R[12]+2368359562&4294967295,C=j+(k<<20&4294967295|k>>>12),k=E+(C^j^P)+R[5]+4294588738&4294967295,E=C+(k<<4&4294967295|k>>>28),k=P+(E^C^j)+R[8]+2272392833&4294967295,P=E+(k<<11&4294967295|k>>>21),k=j+(P^E^C)+R[11]+1839030562&4294967295,j=P+(k<<16&4294967295|k>>>16),k=C+(j^P^E)+R[14]+4259657740&4294967295,C=j+(k<<23&4294967295|k>>>9),k=E+(C^j^P)+R[1]+2763975236&4294967295,E=C+(k<<4&4294967295|k>>>28),k=P+(E^C^j)+R[4]+1272893353&4294967295,P=E+(k<<11&4294967295|k>>>21),k=j+(P^E^C)+R[7]+4139469664&4294967295,j=P+(k<<16&4294967295|k>>>16),k=C+(j^P^E)+R[10]+3200236656&4294967295,C=j+(k<<23&4294967295|k>>>9),k=E+(C^j^P)+R[13]+681279174&4294967295,E=C+(k<<4&4294967295|k>>>28),k=P+(E^C^j)+R[0]+3936430074&4294967295,P=E+(k<<11&4294967295|k>>>21),k=j+(P^E^C)+R[3]+3572445317&4294967295,j=P+(k<<16&4294967295|k>>>16),k=C+(j^P^E)+R[6]+76029189&4294967295,C=j+(k<<23&4294967295|k>>>9),k=E+(C^j^P)+R[9]+3654602809&4294967295,E=C+(k<<4&4294967295|k>>>28),k=P+(E^C^j)+R[12]+3873151461&4294967295,P=E+(k<<11&4294967295|k>>>21),k=j+(P^E^C)+R[15]+530742520&4294967295,j=P+(k<<16&4294967295|k>>>16),k=C+(j^P^E)+R[2]+3299628645&4294967295,C=j+(k<<23&4294967295|k>>>9),k=E+(j^(C|~P))+R[0]+4096336452&4294967295,E=C+(k<<6&4294967295|k>>>26),k=P+(C^(E|~j))+R[7]+1126891415&4294967295,P=E+(k<<10&4294967295|k>>>22),k=j+(E^(P|~C))+R[14]+2878612391&4294967295,j=P+(k<<15&4294967295|k>>>17),k=C+(P^(j|~E))+R[5]+4237533241&4294967295,C=j+(k<<21&4294967295|k>>>11),k=E+(j^(C|~P))+R[12]+1700485571&4294967295,E=C+(k<<6&4294967295|k>>>26),k=P+(C^(E|~j))+R[3]+2399980690&4294967295,P=E+(k<<10&4294967295|k>>>22),k=j+(E^(P|~C))+R[10]+4293915773&4294967295,j=P+(k<<15&4294967295|k>>>17),k=C+(P^(j|~E))+R[1]+2240044497&4294967295,C=j+(k<<21&4294967295|k>>>11),k=E+(j^(C|~P))+R[8]+1873313359&4294967295,E=C+(k<<6&4294967295|k>>>26),k=P+(C^(E|~j))+R[15]+4264355552&4294967295,P=E+(k<<10&4294967295|k>>>22),k=j+(E^(P|~C))+R[6]+2734768916&4294967295,j=P+(k<<15&4294967295|k>>>17),k=C+(P^(j|~E))+R[13]+1309151649&4294967295,C=j+(k<<21&4294967295|k>>>11),k=E+(j^(C|~P))+R[4]+4149444226&4294967295,E=C+(k<<6&4294967295|k>>>26),k=P+(C^(E|~j))+R[11]+3174756917&4294967295,P=E+(k<<10&4294967295|k>>>22),k=j+(E^(P|~C))+R[2]+718787259&4294967295,j=P+(k<<15&4294967295|k>>>17),k=C+(P^(j|~E))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+P&4294967295}r.prototype.v=function(b,E){E===void 0&&(E=b.length);const C=E-this.blockSize,R=this.C;let j=this.h,P=0;for(;P<E;){if(j==0)for(;P<=C;)s(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<E;)if(R[j++]=b.charCodeAt(P++),j==this.blockSize){s(this,R),j=0;break}}else for(;P<E;)if(R[j++]=b[P++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=E},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;E=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=E&255,E/=256;for(this.v(b),b=Array(16),E=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)b[E++]=this.g[C]>>>R&255;return b};function i(b,E){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=E(b)}function o(b,E){this.h=E;const C=[];let R=!0;for(let j=b.length-1;j>=0;j--){const P=b[j]|0;R&&P==E||(C[j]=P,R=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?i(b,function(E){return new o([E|0],E<0?-1:0)}):new o([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return S(d(-b));const E=[];let C=1;for(let R=0;b>=C;R++)E[R]=b/C|0,C*=4294967296;return new o(E,0)}function h(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return S(h(b.substring(1),E));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(E,8));let R=f;for(let P=0;P<b.length;P+=8){var j=Math.min(8,b.length-P);const k=parseInt(b.substring(P,P+j),E);j<8?(j=d(Math.pow(E,j)),R=R.j(j).add(d(k))):(R=R.j(C),R=R.add(d(k)))}return R}var f=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();let b=0,E=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);b+=(R>=0?R:4294967296+R)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(_(this))return"-"+S(this).toString(b);const E=d(Math.pow(b,6));var C=this;let R="";for(;;){const j=N(C,E).g;C=x(C,j.j(E));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=j,I(C))return P+R;for(;P.length<6;)P="0"+P;R=P+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(let E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function _(b){return b.h==-1}t.l=function(b){return b=x(this,b),_(b)?-1:I(b)?0:1};function S(b){const E=b.g.length,C=[];for(let R=0;R<E;R++)C[R]=~b.g[R];return new o(C,~b.h).add(m)}t.abs=function(){return _(this)?S(this):this},t.add=function(b){const E=Math.max(this.g.length,b.g.length),C=[];let R=0;for(let j=0;j<=E;j++){let P=R+(this.i(j)&65535)+(b.i(j)&65535),k=(P>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);R=k>>>16,P&=65535,k&=65535,C[j]=k<<16|P}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(b,E){return b.add(S(E))}t.j=function(b){if(I(this)||I(b))return f;if(_(this))return _(b)?S(this).j(S(b)):S(S(this).j(b));if(_(b))return S(this.j(S(b)));if(this.l(v)<0&&b.l(v)<0)return d(this.m()*b.m());const E=this.g.length+b.g.length,C=[];for(var R=0;R<2*E;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let j=0;j<b.g.length;j++){const P=this.i(R)>>>16,k=this.i(R)&65535,H=b.i(j)>>>16,te=b.i(j)&65535;C[2*R+2*j]+=k*te,w(C,2*R+2*j),C[2*R+2*j+1]+=P*te,w(C,2*R+2*j+1),C[2*R+2*j+1]+=k*H,w(C,2*R+2*j+1),C[2*R+2*j+2]+=P*H,w(C,2*R+2*j+2)}for(b=0;b<E;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=E;b<2*E;b++)C[b]=0;return new o(C,0)};function w(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function T(b,E){this.g=b,this.h=E}function N(b,E){if(I(E))throw Error("division by zero");if(I(b))return new T(f,f);if(_(b))return E=N(S(b),E),new T(S(E.g),S(E.h));if(_(E))return E=N(b,S(E)),new T(S(E.g),E.h);if(b.g.length>30){if(_(b)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=E;R.l(b)<=0;)C=O(C),R=O(R);var j=D(C,1),P=D(R,1);for(R=D(R,2),C=D(C,2);!I(R);){var k=P.add(R);k.l(b)<=0&&(j=j.add(C),P=k),R=D(R,1),C=D(C,1)}return E=x(b,j.j(E)),new T(j,E)}for(j=f;b.l(E)>=0;){for(C=Math.max(1,Math.floor(b.m()/E.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),P=d(C),k=P.j(E);_(k)||k.l(b)>0;)C-=R,P=d(C),k=P.j(E);I(P)&&(P=m),j=j.add(P),b=x(b,k)}return new T(j,b)}t.B=function(b){return N(this,b).h},t.and=function(b){const E=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<E;R++)C[R]=this.i(R)&b.i(R);return new o(C,this.h&b.h)},t.or=function(b){const E=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<E;R++)C[R]=this.i(R)|b.i(R);return new o(C,this.h|b.h)},t.xor=function(b){const E=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<E;R++)C[R]=this.i(R)^b.i(R);return new o(C,this.h^b.h)};function O(b){const E=b.g.length+1,C=[];for(let R=0;R<E;R++)C[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(C,b.h)}function D(b,E){const C=E>>5;E%=32;const R=b.g.length-C,j=[];for(let P=0;P<R;P++)j[P]=E>0?b.i(P+C)>>>E|b.i(P+C+1)<<32-E:b.i(P+C);return new o(j,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ST=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,ws=o}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Da,CT,ou,Zp,AT,NT,RT;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in g))break e;g=g[L]}c=c[c.length-1],A=g[c],p=p(A),p!=A&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var g=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&g.push([A,p[A]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function d(c,p,g){return d=l,d.apply(null,arguments)}function h(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function f(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(A,L,M){for(var z=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)z[ae-2]=arguments[ae];return p.prototype[L].apply(A,z)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const p=c.length;if(p>0){const g=Array(p);for(let A=0;A<p;A++)g[A]=c[A];return g}return[]}function I(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=c.length||0;const M=L.length||0;c.length=g+M;for(let z=0;z<M;z++)c[g+z]=L[z]}else c.push(L)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(c){o.setTimeout(()=>{throw c},0)}function x(){var c=b;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class w{constructor(){this.h=this.g=null}add(p,g){const A=T.get();A.set(p,g),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new _(()=>new N,c=>c.reset());class N{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,b=new w,E=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(C)}};function C(){for(var c;c=x();){try{c.h.call(c.g)}catch(g){S(g)}var p=T;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}D=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function H(c,p){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(H,j),H.prototype.init=function(c,p){const g=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,p,g,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function V(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $(c,p,g){for(const A in c)p.call(g,c[A],A,c)}function K(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function ie(c){const p={};for(const g in c)p[g]=c[g];return p}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yt(c,p){let g,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(g in A)c[g]=A[g];for(let M=0;M<_e.length;M++)g=_e[M],Object.prototype.hasOwnProperty.call(A,g)&&(c[g]=A[g])}}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,p,g,A,L){const M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);const z=et(c,p,A,L);return z>-1?(p=c[z],g||(p.fa=!1)):(p=new se(p,this.src,M,!!A,L),p.fa=g,c.push(p)),p};function Ft(c,p){const g=p.type;if(g in c.g){var A=c.g[g],L=Array.prototype.indexOf.call(A,p,void 0),M;(M=L>=0)&&Array.prototype.splice.call(A,L,1),M&&(V(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function et(c,p,g,A){for(let L=0;L<c.length;++L){const M=c[L];if(!M.da&&M.listener==p&&M.capture==!!g&&M.ha==A)return L}return-1}var X="closure_lm_"+(Math.random()*1e6|0),ye={};function tt(c,p,g,A,L){if(Array.isArray(p)){for(let M=0;M<p.length;M++)tt(c,p[M],g,A,L);return null}return g=Jl(g),c&&c[te]?c.J(p,g,a(A)?!!A.capture:!1,L):we(c,p,g,!1,A,L)}function we(c,p,g,A,L,M){if(!p)throw Error("Invalid event type");const z=a(L)?!!L.capture:!!L;let ae=ur(c);if(ae||(c[X]=ae=new Ue(c)),g=ae.add(p,g,A,z,M),g.proxy)return g;if(A=ge(),g.proxy=A,A.src=c,A.listener=g,c.addEventListener)P||(L=z),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(Xt(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ge(){function c(g){return p.call(c.src,c.listener,g)}const p=Ks;return c}function pe(c,p,g,A,L){if(Array.isArray(p))for(var M=0;M<p.length;M++)pe(c,p[M],g,A,L);else A=a(A)?!!A.capture:!!A,g=Jl(g),c&&c[te]?(c=c.i,M=String(p).toString(),M in c.g&&(p=c.g[M],g=et(p,g,A,L),g>-1&&(V(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[M],c.h--)))):c&&(c=ur(c))&&(p=c.g[p.toString()],c=-1,p&&(c=et(p,g,A,L)),(g=c>-1?p[c]:null)&&ut(g))}function ut(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[te])Ft(p.i,c);else{var g=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(g,A,c.capture):p.detachEvent?p.detachEvent(Xt(g),A):p.addListener&&p.removeListener&&p.removeListener(A),(g=ur(p))?(Ft(g,c),g.h==0&&(g.src=null,p[X]=null)):V(c)}}}function Xt(c){return c in ye?ye[c]:ye[c]="on"+c}function Ks(c,p){if(c.da)c=!0;else{p=new H(p,this);const g=c.listener,A=c.ha||c.src;c.fa&&ut(c),c=g.call(A,p)}return c}function ur(c){return c=c[X],c instanceof Ue?c:null}var dr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jl(c){return typeof c=="function"?c:(c[dr]||(c[dr]=function(p){return c.handleEvent(p)}),c[dr])}function Be(){R.call(this),this.i=new Ue(this),this.M=this,this.G=null}f(Be,R),Be.prototype[te]=!0,Be.prototype.removeEventListener=function(c,p,g,A){pe(this,c,p,g,A)};function Nt(c,p){var g,A=c.G;if(A)for(g=[];A;A=A.G)g.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new j(p,c);else if(p instanceof j)p.target=p.target||c;else{var L=p;p=new j(A,c),Yt(p,L)}L=!0;let M,z;if(g)for(z=g.length-1;z>=0;z--)M=p.g=g[z],L=Zl(M,A,!0,p)&&L;if(M=p.g=c,L=Zl(M,A,!0,p)&&L,L=Zl(M,A,!1,p)&&L,g)for(z=0;z<g.length;z++)M=p.g=g[z],L=Zl(M,A,!1,p)&&L}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let A=0;A<g.length;A++)V(g[A]);delete c.g[p],c.h--}}this.G=null},Be.prototype.J=function(c,p,g,A){return this.i.add(String(c),p,!1,g,A)},Be.prototype.K=function(c,p,g,A){return this.i.add(String(c),p,!0,g,A)};function Zl(c,p,g,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let M=0;M<p.length;++M){const z=p[M];if(z&&!z.da&&z.capture==g){const ae=z.listener,nt=z.ha||z.src;z.fa&&Ft(c.i,z),L=ae.call(nt,A)!==!1&&L}}return L&&!A.defaultPrevented}function xA(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Xy(c){c.g=xA(()=>{c.g=null,c.i&&(c.i=!1,Xy(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class EA extends R{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xy(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(c){R.call(this),this.h=c,this.g={}}f(ta,R);var Jy=[];function Zy(c){$(c.g,function(p,g){this.g.hasOwnProperty(g)&&ut(p)},c),c.g={}}ta.prototype.N=function(){ta.Z.N.call(this),Zy(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=o.JSON.stringify,bA=o.JSON.parse,TA=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ev(){}function tv(){}var na={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bh(){j.call(this,"d")}f(bh,j);function Th(){j.call(this,"c")}f(Th,j);var Qs={},nv=null;function ec(){return nv=nv||new Be}Qs.Ia="serverreachability";function rv(c){j.call(this,Qs.Ia,c)}f(rv,j);function ra(c){const p=ec();Nt(p,new rv(p))}Qs.STAT_EVENT="statevent";function sv(c,p){j.call(this,Qs.STAT_EVENT,c),this.stat=p}f(sv,j);function Rt(c){const p=ec();Nt(p,new sv(p,c))}Qs.Ja="timingevent";function iv(c,p){j.call(this,Qs.Ja,c),this.size=p}f(iv,j);function sa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function ia(){this.g=!0}ia.prototype.ua=function(){this.g=!1};function SA(c,p,g,A,L,M){c.info(function(){if(c.g)if(M){var z="",ae=M.split("&");for(let xe=0;xe<ae.length;xe++){var nt=ae[xe].split("=");if(nt.length>1){const ot=nt[0];nt=nt[1];const Fn=ot.split("_");z=Fn.length>=2&&Fn[1]=="type"?z+(ot+"="+nt+"&"):z+(ot+"=redacted&")}}}else z=null;else z=M;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+g+`
`+z})}function IA(c,p,g,A,L,M,z){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+g+`
`+M+" "+z})}function Oi(c,p,g,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+AA(c,g)+(A?" "+A:"")})}function CA(c,p){c.info(function(){return"TIMEOUT: "+p})}ia.prototype.info=function(){};function AA(c,p){if(!c.g)return p;if(!p)return null;try{const M=JSON.parse(p);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var g=M[c];if(!(g.length<2)){var A=g[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let z=1;z<A.length;z++)A[z]=""}}}}return Eh(M)}catch{return p}}var tc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ov={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},av;function Sh(){}f(Sh,ev),Sh.prototype.g=function(){return new XMLHttpRequest},av=new Sh;function oa(c){return encodeURIComponent(String(c))}function NA(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function Lr(c,p,g,A){this.j=c,this.i=p,this.l=g,this.S=A||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lv}function lv(){this.i=null,this.g="",this.h=!1}var cv={},Ih={};function Ch(c,p,g){c.M=1,c.A=rc(Vn(p)),c.u=g,c.R=!0,uv(c,null)}function uv(c,p){c.F=Date.now(),nc(c),c.B=Vn(c.A);var g=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),bv(g.i,"t",A),c.C=0,g=c.j.L,c.h=new lv,c.g=Bv(c.j,g?p:null,!c.u),c.P>0&&(c.O=new EA(d(c.Y,c,c.g),c.P)),p=c.V,g=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Jy[0]=L.toString()),L=Jy);for(let M=0;M<L.length;M++){const z=tt(g,L[M],A||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=c.J?ie(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ra(),SA(c.i,c.v,c.B,c.l,c.S,c.u)}Lr.prototype.ba=function(c){c=c.target;const p=this.O;p&&Fr(c)==3?p.j():this.Y(c)},Lr.prototype.Y=function(c){try{if(c==this.g)e:{const ae=Fr(this.g),nt=this.g.ya(),xe=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||Rv(this.g)))){this.K||ae!=4||nt==7||(nt==8||xe<=0?ra(3):ra(2)),Ah(this);var p=this.g.ca();this.X=p;var g=RA(this);if(this.o=p==200,IA(this.i,this.v,this.B,this.l,this.S,ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var M=A;break t}}M=null}if(c=M)Oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nh(this,c);else{this.o=!1,this.m=3,Rt(12),Ys(this),aa(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<g.length;)if(ot=kA(this,g),ot==Ih){ae==4&&(this.m=4,Rt(14),c=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==cv){this.m=4,Rt(15),Oi(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Oi(this.i,this.l,ot,null),Nh(this,ot);if(dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||g.length!=0||this.h.h||(this.m=1,Rt(16),c=!1),this.o=this.o&&c,!c)Oi(this.i,this.l,g,"[Invalid Chunked Response]"),Ys(this),aa(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Mh(z),z.P=!0,Rt(11))}}else Oi(this.i,this.l,g,null),Nh(this,g);ae==4&&Ys(this),this.o&&!this.K&&(ae==4?Mv(this.j,this):(this.o=!1,nc(this)))}else HA(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Ys(this),aa(this)}}}catch{}finally{}};function RA(c){if(!dv(c))return c.g.la();const p=Rv(c.g);if(p==="")return"";let g="";const A=p.length,L=Fr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ys(c),aa(c),"";c.h.i=new o.TextDecoder}for(let M=0;M<A;M++)c.h.h=!0,g+=c.h.i.decode(p[M],{stream:!(L&&M==A-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function dv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function kA(c,p){var g=c.C,A=p.indexOf(`
`,g);return A==-1?Ih:(g=Number(p.substring(g,A)),isNaN(g)?cv:(A+=1,A+g>p.length?Ih:(p=p.slice(A,A+g),c.C=A+g,p)))}Lr.prototype.cancel=function(){this.K=!0,Ys(this)};function nc(c){c.T=Date.now()+c.H,hv(c,c.H)}function hv(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=sa(d(c.aa,c),p)}function Ah(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Lr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(CA(this.i,this.B),this.M!=2&&(ra(),Rt(17)),Ys(this),this.m=2,aa(this)):hv(this,this.T-c)};function aa(c){c.j.I==0||c.K||Mv(c.j,c)}function Ys(c){Ah(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Zy(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Nh(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||Rh(g.h,c))){if(!c.L&&Rh(g.h,c)&&g.I==3){try{var A=g.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)lc(g),oc(g);else break e;Lh(g),Rt(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=sa(d(g.Va,g),6e3));mv(g.h)<=1&&g.ta&&(g.ta=void 0)}else Js(g,11)}else if((c.L||g.g==c)&&lc(g),!k(p))for(L=g.Ba.g.parse(p),p=0;p<L.length;p++){let xe=L[p];const ot=xe[0];if(!(ot<=g.K))if(g.K=ot,xe=xe[1],g.I==2)if(xe[0]=="c"){g.M=xe[1],g.ba=xe[2];const Fn=xe[3];Fn!=null&&(g.ka=Fn,g.j.info("VER="+g.ka));const Zs=xe[4];Zs!=null&&(g.za=Zs,g.j.info("SVER="+g.za));const Ur=xe[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(A=1.5*Ur,g.O=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const Br=c.g;if(Br){const uc=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var M=A.h;M.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(kh(M,M.h),M.h=null))}if(A.G){const Vh=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Vh&&(A.wa=Vh,Se(A.J,A.G,Vh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),A=g;var z=c;if(A.na=Uv(A,A.L?A.ba:null,A.W),z.L){gv(A.h,z);var ae=z,nt=A.O;nt&&(ae.H=nt),ae.D&&(Ah(ae),nc(ae)),A.g=z}else Ov(A);g.i.length>0&&ac(g)}else xe[0]!="stop"&&xe[0]!="close"||Js(g,7);else g.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Js(g,7):Oh(g):xe[0]!="noop"&&g.l&&g.l.qa(xe),g.A=0)}}ra(4)}catch{}}var PA=class{constructor(c,p){this.g=c,this.map=p}};function fv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mv(c){return c.h?1:c.g?c.g.size:0}function Rh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function kh(c,p){c.g?c.g.add(p):c.h=p}function gv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}fv.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yv(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return v(c.i)}var vv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jA(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const A=c[g].indexOf("=");let L,M=null;A>=0?(L=c[g].substring(0,A),M=c[g].substring(A+1)):L=c[g],p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Mr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Mr?(this.l=c.l,la(this,c.j),this.o=c.o,this.g=c.g,ca(this,c.u),this.h=c.h,Ph(this,Tv(c.i)),this.m=c.m):c&&(p=String(c).match(vv))?(this.l=!1,la(this,p[1]||"",!0),this.o=ua(p[2]||""),this.g=ua(p[3]||"",!0),ca(this,p[4]),this.h=ua(p[5]||"",!0),Ph(this,p[6]||"",!0),this.m=ua(p[7]||"")):(this.l=!1,this.i=new ha(null,this.l))}Mr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(da(p,wv,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(da(p,wv,!0),"@"),c.push(oa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(da(g,g.charAt(0)=="/"?LA:OA,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",da(g,VA)),c.join("")},Mr.prototype.resolve=function(c){const p=Vn(this);let g=!!c.j;g?la(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var A=c.h;if(g)ca(p,c.u);else if(g=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const M=[];for(let z=0;z<L.length;){const ae=L[z++];ae=="."?A&&z==L.length&&M.push(""):ae==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),A&&z==L.length&&M.push("")):(M.push(ae),A=!0)}A=M.join("/")}else A=L}return g?p.h=A:g=c.i.toString()!=="",g?Ph(p,Tv(c.i)):g=!!c.m,g&&(p.m=c.m),p};function Vn(c){return new Mr(c)}function la(c,p,g){c.j=g?ua(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ca(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Ph(c,p,g){p instanceof ha?(c.i=p,FA(c.i,c.l)):(g||(p=da(p,MA)),c.i=new ha(p,c.l))}function Se(c,p,g){c.i.set(p,g)}function rc(c){return Se(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ua(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function da(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,DA),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wv=/[#\/\?@]/g,OA=/[#\?:]/g,LA=/[#\?]/g,MA=/[#\?@]/g,VA=/#/g;function ha(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Xs(c){c.g||(c.g=new Map,c.h=0,c.i&&jA(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=ha.prototype,t.add=function(c,p){Xs(this),this.i=null,c=Li(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function _v(c,p){Xs(c),p=Li(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function xv(c,p){return Xs(c),p=Li(c,p),c.g.has(p)}t.forEach=function(c,p){Xs(this),this.g.forEach(function(g,A){g.forEach(function(L){c.call(p,L,A,this)},this)},this)};function Ev(c,p){Xs(c);let g=[];if(typeof p=="string")xv(c,p)&&(g=g.concat(c.g.get(Li(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return Xs(this),this.i=null,c=Li(this,c),xv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Ev(this,c),c.length>0?String(c[0]):p):p};function bv(c,p,g){_v(c,p),g.length>0&&(c.i=null,c.g.set(Li(c,p),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var g=p[A];const L=oa(g);g=Ev(this,g);for(let M=0;M<g.length;M++){let z=L;g[M]!==""&&(z+="="+oa(g[M])),c.push(z)}}return this.i=c.join("&")};function Tv(c){const p=new ha;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Li(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function FA(c,p){p&&!c.j&&(Xs(c),c.i=null,c.g.forEach(function(g,A){const L=A.toLowerCase();A!=L&&(_v(this,A),bv(this,L,g))},c)),c.j=p}function UA(c,p){const g=new ia;if(o.Image){const A=new Image;A.onload=h(Vr,g,"TestLoadImage: loaded",!0,p,A),A.onerror=h(Vr,g,"TestLoadImage: error",!1,p,A),A.onabort=h(Vr,g,"TestLoadImage: abort",!1,p,A),A.ontimeout=h(Vr,g,"TestLoadImage: timeout",!1,p,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function BA(c,p){const g=new ia,A=new AbortController,L=setTimeout(()=>{A.abort(),Vr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(M=>{clearTimeout(L),M.ok?Vr(g,"TestPingServer: ok",!0,p):Vr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Vr(g,"TestPingServer: error",!1,p)})}function Vr(c,p,g,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(g)}catch{}}function zA(){this.g=new TA}function jh(c){this.i=c.Sb||null,this.h=c.ab||!1}f(jh,ev),jh.prototype.g=function(){return new sc(this.i,this.h)};function sc(c,p){Be.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(sc,Be),t=sc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,pa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sv(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sv(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?fa(this):pa(this),this.readyState==3&&Sv(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,fa(this))},t.Na=function(c){this.g&&(this.response=c,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,pa(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function pa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Iv(c){let p="";return $(c,function(g,A){p+=A,p+=":",p+=g,p+=`\r
`}),p}function Dh(c,p,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=Iv(g),typeof c=="string"?g!=null&&oa(g):Se(c,p,g))}function Le(c){Be.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Le,Be);var $A=/^https?$/i,WA=["POST","PUT"];t=Le.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():av.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){Cv(this,M);return}if(c=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)g.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const M of A.keys())g.set(M,A.get(M));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(WA,p,void 0)>=0)||A||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of g)this.g.setRequestHeader(M,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){Cv(this,M)}};function Cv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Av(c),ic(c)}function Av(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nv(this):this.Xa())},t.Xa=function(){Nv(this)};function Nv(c){if(c.h&&typeof i<"u"){if(c.v&&Fr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Fr(c)==4){c.h=!1;try{const M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var A;if(A=M===0){let z=String(c.D).match(vv)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),A=!$A.test(z?z.toLowerCase():"")}g=A}if(g)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var L=Fr(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Av(c)}}finally{ic(c)}}}}function ic(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||Nt(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),bA(p)}};function Rv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HA(c){const p={};c=(c.g&&Fr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(k(c[A]))continue;var g=NA(c[A]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=p[L]||[];p[L]=M,M.push(g)}K(p,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function kv(c){this.za=0,this.i=[],this.j=new ia,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ma("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ma("baseRetryDelayMs",5e3,c),this.Za=ma("retryDelaySeedMs",1e4,c),this.Ta=ma("forwardChannelMaxRetries",2,c),this.va=ma("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new fv(c&&c.concurrentRequestLimit),this.Ba=new zA,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kv.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,A){Rt(0),this.W=c,this.H=p||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.J=Uv(this,null,this.W),ac(this)};function Oh(c){if(Pv(c),c.I==3){var p=c.V++,g=Vn(c.J);if(Se(g,"SID",c.M),Se(g,"RID",p),Se(g,"TYPE","terminate"),ga(c,g),p=new Lr(c,c.j,p),p.M=2,p.A=rc(Vn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=Bv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),nc(p)}Fv(c)}function oc(c){c.g&&(Mh(c),c.g.cancel(),c.g=null)}function Pv(c){oc(c),c.v&&(o.clearTimeout(c.v),c.v=null),lc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ac(c){if(!pv(c.h)&&!c.m){c.m=!0;var p=c.Ea;O||E(),D||(O(),D=!0),b.add(p,c),c.D=0}}function qA(c,p){return mv(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=sa(d(c.Ea,c,p),Vv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Lr(this,this.j,c);let M=this.o;if(this.U&&(M?(M=ie(M),Yt(M,this.U)):M=this.U),this.u!==null||this.R||(L.J=M,M=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Dv(this,L,p),g=Vn(this.J),Se(g,"RID",c),Se(g,"CVER",22),this.G&&Se(g,"X-HTTP-Session-Id",this.G),ga(this,g),M&&(this.R?p="headers="+oa(Iv(M))+"&"+p:this.u&&Dh(g,this.u,M)),kh(this.h,L),this.Ra&&Se(g,"TYPE","init"),this.S?(Se(g,"$req",p),Se(g,"SID","null"),L.U=!0,Ch(L,g,null)):Ch(L,g,p),this.I=2}}else this.I==3&&(c?jv(this,c):this.i.length==0||pv(this.h)||jv(this))};function jv(c,p){var g;p?g=p.l:g=c.V++;const A=Vn(c.J);Se(A,"SID",c.M),Se(A,"RID",g),Se(A,"AID",c.K),ga(c,A),c.u&&c.o&&Dh(A,c.u,c.o),g=new Lr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Dv(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),kh(c.h,g),Ch(g,A,p)}function ga(c,p){c.H&&$(c.H,function(g,A){Se(p,A,g)}),c.l&&$({},function(g,A){Se(p,A,g)})}function Dv(c,p,g){g=Math.min(c.i.length,g);const A=c.l?d(c.l.Ka,c.l,c):null;e:{var L=c.i;let ae=-1;for(;;){const nt=["count="+g];ae==-1?g>0?(ae=L[0].g,nt.push("ofs="+ae)):ae=0:nt.push("ofs="+ae);let xe=!0;for(let ot=0;ot<g;ot++){var M=L[ot].g;const Fn=L[ot].map;if(M-=ae,M<0)ae=Math.max(0,L[ot].g-100),xe=!1;else try{M="req"+M+"_"||"";try{var z=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Zs,Ur]of z){let Br=Ur;a(Ur)&&(Br=Eh(Ur)),nt.push(M+Zs+"="+encodeURIComponent(Br))}}catch(Zs){throw nt.push(M+"type="+encodeURIComponent("_badmap")),Zs}}catch{A&&A(Fn)}}if(xe){z=nt.join("&");break e}}z=void 0}return c=c.i.splice(0,g),p.G=c,z}function Ov(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;O||E(),D||(O(),D=!0),b.add(p,c),c.A=0}}function Lh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=sa(d(c.Da,c),Vv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Lv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=sa(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),oc(this),Lv(this))};function Mh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Lv(c){c.g=new Lr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Vn(c.na);Se(p,"RID","rpc"),Se(p,"SID",c.M),Se(p,"AID",c.K),Se(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Se(p,"TO",c.ia),Se(p,"TYPE","xmlhttp"),ga(c,p),c.u&&c.o&&Dh(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=rc(Vn(p)),g.u=null,g.R=!0,uv(g,c)}t.Va=function(){this.C!=null&&(this.C=null,oc(this),Lh(this),Rt(19))};function lc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Mv(c,p){var g=null;if(c.g==p){lc(c),Mh(c),c.g=null;var A=2}else if(Rh(c.h,p))g=p.G,gv(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=ec(),Nt(A,new iv(A,g)),ac(c)}else Ov(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&qA(c,p)||A==2&&Lh(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),L){case 1:Js(c,5);break;case 4:Js(c,10);break;case 3:Js(c,6);break;default:Js(c,2)}}}function Vv(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function Js(c,p){if(c.j.info("Error code "+p),p==2){var g=d(c.bb,c),A=c.Ua;const L=!A;A=new Mr(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||la(A,"https"),rc(A),L?UA(A.toString(),g):BA(A.toString(),g)}else Rt(2);c.I=0,c.l&&c.l.pa(p),Fv(c),Pv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Fv(c){if(c.I=0,c.ja=[],c.l){const p=yv(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ja,p),I(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function Uv(c,p,g){var A=g instanceof Mr?Vn(g):new Mr(g);if(A.g!="")p&&(A.g=p+"."+A.g),ca(A,A.u);else{var L=o.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const M=new Mr(null);A&&la(M,A),p&&(M.g=p),L&&ca(M,L),g&&(M.h=g),A=M}return g=c.G,p=c.wa,g&&p&&Se(A,g,p),Se(A,"VER",c.ka),ga(c,A),A}function Bv(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Le(new jh({ab:g})):new Le(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zv(){}t=zv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cc(){}cc.prototype.g=function(c,p){return new Jt(c,p)};function Jt(c,p){Be.call(this),this.g=new kv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!k(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Mi(this)}f(Jt,Be),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Oh(this.g)},Jt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Eh(c),c=g);p.i.push(new PA(p.Ya++,c)),p.I==3&&ac(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Jt.Z.N.call(this)};function $v(c){bh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f($v,bh);function Wv(){Th.call(this),this.status=1}f(Wv,Th);function Mi(c){this.g=c}f(Mi,zv),Mi.prototype.ra=function(){Nt(this.g,"a")},Mi.prototype.qa=function(c){Nt(this.g,new $v(c))},Mi.prototype.pa=function(c){Nt(this.g,new Wv)},Mi.prototype.oa=function(){Nt(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,RT=function(){return new cc},NT=function(){return ec()},AT=Qs,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,ou=tc,ov.COMPLETE="complete",CT=ov,tv.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",Be.prototype.listen=Be.prototype.J,Da=tv,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,IT=Le}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",Y_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Bd("@firebase/firestore");function $i(){return bi.logLevel}function q(t,...e){if(bi.logLevel<=ce.DEBUG){const n=e.map(Gg);bi.debug(`Firestore (${Ho}): ${t}`,...n)}}function Ar(t,...e){if(bi.logLevel<=ce.ERROR){const n=e.map(Gg);bi.error(`Firestore (${Ho}): ${t}`,...n)}}function Ao(t,...e){if(bi.logLevel<=ce.WARN){const n=e.map(Gg);bi.warn(`Firestore (${Ho}): ${t}`,...n)}}function Gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kT(t,r,n)}function kT(t,e,n){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||kT(e,s,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class qO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GO{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new PT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class KO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=XO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function em(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return bf(s)===bf(i)?ue(s,i):bf(s)?1:-1}return ue(t.length,e.length)}const JO=55296,ZO=57343;function bf(t){const e=t.charCodeAt(0);return e>=JO&&e<=ZO}function No(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class $n{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=$n.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=$n.isNumericId(e),s=$n.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$n.extractNumericId(e).compare($n.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class Ee extends $n{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const eL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends $n{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return eL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new ft([J_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ee.fromString(e))}static fromName(e){return new Y(Ee.fromString(e).popFirst(5))}static empty(){return new Y(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tL(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z_(t){if(!Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ex(t){if(Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kd(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nL(t,e){if(e<=0)throw new W(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function $l(t,e){if(!DT(t))throw new W(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=-62135596800,nx=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nx);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tx)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nx}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Je("string",Ne._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Ne(0,0))}static max(){return new re(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function rL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Ts(s,Y.empty(),e)}function sL(t){return new Ts(t.readTime,t.key,El)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(re.min(),Y.empty(),El)}static max(){return new Ts(re.max(),Y.empty(),El)}}function iL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==oL)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function lL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=-1;function Yd(t){return t==null}function Zu(t){return t===0&&1/t==-1/0}function cL(t){return typeof t=="number"&&Number.isInteger(t)&&!Zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="";function uL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rx(e)),e=dL(t.get(n),e);return rx(e)}function dL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case OT:n+="";break;default:n+=i}}return n}function rx(t){return t+OT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hL(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function LT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ix(this.data.getIterator())}getIteratorFrom(e){return new ix(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class ix{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new nn([])}unionWith(e){let n=new it(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=fL.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="server_timestamp",FT="__type__",UT="__previous_value__",BT="__local_write_time__";function Yg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FT])==null?void 0:r.stringValue)===VT}function Xd(t){const e=t.mapValue.fields[UT];return Yg(e)?Xd(e):e}function bl(t){const e=Ss(t.mapValue.fields[BT].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const ed="(default)";class Tl{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",mL="__max__",kc={mapValue:{}},$T="__vector__",td="value";function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yg(t)?4:yL(t)?9007199254740991:gL(t)?10:11:ee(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ss(s.timestampValue),a=Ss(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Is(s.bytesValue).isEqual(Is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),a=ze(i.doubleValue);return o===a?Zu(o)===Zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(sx(o)!==sx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ar(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Sl(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=Cs(t),r=Cs(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ze(i.integerValue||i.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ox(t.timestampValue,e.timestampValue);case 4:return ox(bl(t),bl(e));case 5:return em(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Is(i),l=Is(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=ue(a[d],l[d]);if(h!==0)return h}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue(ze(i.latitude),ze(o.latitude));return a!==0?a:ue(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ax(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,v,I,_;const a=i.fields||{},l=o.fields||{},d=(m=a[td])==null?void 0:m.arrayValue,h=(v=l[td])==null?void 0:v.arrayValue,f=ue(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:ax(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===kc.mapValue&&o===kc.mapValue)return 0;if(i===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=em(l[f],h[f]);if(m!==0)return m;const v=Ro(a[l[f]],d[h[f]]);if(v!==0)return v}return ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function ox(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ss(t),r=Ss(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function ax(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ro(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function ko(t){return tm(t)}function tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tm(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function au(t){switch(Cs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(t);return e?16+au(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+au(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return $s(r.fields,(i,o)=>{s+=i.length+au(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function lx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nm(t){return!!t&&"integerValue"in t}function Xg(t){return!!t&&"arrayValue"in t}function cx(t){return!!t&&"nullValue"in t}function ux(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lu(t){return!!t&&"mapValue"in t}function gL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zT])==null?void 0:r.stringValue)===$T}function Ya(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return{...t}}function yL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(Ya(this.value))}}function WT(t){const e=[];return $s(t.fields,(n,r)=>{const s=new ft([n]);if(lu(r)){const i=WT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,re.min(),re.min(),re.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,re.min(),re.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,re.min(),re.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function dx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function hx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n="asc"){this.field=e,this.dir=n}}function vL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class Xe extends HT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _L(e,n,r):n==="array-contains"?new bL(e,r):n==="in"?new TL(e,r):n==="not-in"?new SL(e,r):n==="array-contains-any"?new IL(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xL(e,r):new EL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new On(e,n)}matches(e){return qT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(t){return t.op==="and"}function GT(t){return wL(t)&&qT(t)}function wL(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function rm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(GT(t))return t.filters.map(e=>rm(e)).join(",");{const e=t.filters.map(n=>rm(n)).join(",");return`${t.op}(${e})`}}function KT(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&ar(r.value,s.value)}(t,e):t instanceof On?function(r,s){return s instanceof On&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KT(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function QT(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}class _L extends Xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class xL extends Xe{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EL extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class bL extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xg(n)&&Sl(n.arrayValue,this.value)}}class TL extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class SL extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sl(this.value.arrayValue,n)}}class IL extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function fx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new CL(t,e,n,r,s,i,o)}function Jg(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.Te=n}return e.Te}function Zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hx(t.startAt,e.startAt)&&hx(t.endAt,e.endAt)}function sm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AL(t,e,n,r,s,i,o,a){return new Ko(t,e,n,r,s,i,o,a)}function ey(t){return new Ko(t)}function px(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XT(t){return t.collectionGroup!==null}function Xa(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Il(i,r))}),n.has(ft.keyField().canonicalString())||e.Ie.push(new Il(ft.keyField(),r))}return e.Ie}function Zn(t){const e=ne(t);return e.Ee||(e.Ee=JT(e,Xa(t))),e.Ee}function NL(t){const e=ne(t);return e.de||(e.de=JT(e,t.explicitOrderBy)),e.de}function JT(t,e){if(t.limitType==="F")return fx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Il(s.field,i)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return fx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e){const n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rd(t,e,n){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Zg(Zn(t),Zn(e))&&t.limitType===e.limitType}function ZT(t){return`${Jg(Zn(t))}|lt:${t.limitType}`}function Wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QT(s)).join(", ")}]`),Yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ko(s)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=dx(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Xa(r),s)||r.endAt&&!function(o,a,l){const d=dx(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Xa(r),s))}(t,e)}function RL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eS(t){return(e,n)=>{let r=!1;for(const s of Xa(t)){const i=kL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function kL(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Ro(l,d):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new Oe(Y.comparator);function Nr(){return PL}const tS=new Oe(Y.comparator);function Oa(...t){let e=tS;for(const n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return Ja()}function rS(){return Ja()}function Ja(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const jL=new Oe(Y.comparator),DL=new it(Y.comparator);function de(...t){let e=DL;for(const n of t)e=e.add(n);return e}const OL=new it(ue);function LL(){return OL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function ML(t,e){return cL(e)?sS(e):ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function VL(t,e,n){return t instanceof sd?function(s,i){const o={fields:{[FT]:{stringValue:VT},[BT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Yg(i)&&(i=Xd(i)),i&&(o.fields[UT]=i),{mapValue:o}}(n,e):t instanceof Cl?oS(t,e):t instanceof Al?aS(t,e):function(s,i){const o=iS(s,i),a=mx(o)+mx(s.Ae);return nm(o)&&nm(s.Ae)?sS(a):ty(s.serializer,a)}(t,e)}function FL(t,e,n){return t instanceof Cl?oS(t,e):t instanceof Al?aS(t,e):n}function iS(t,e){return t instanceof id?function(r){return nm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class sd extends eh{}class Cl extends eh{constructor(e){super(),this.elements=e}}function oS(t,e){const n=lS(e);for(const r of t.elements)n.some(s=>ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class Al extends eh{constructor(e){super(),this.elements=e}}function aS(t,e){let n=lS(e);for(const r of t.elements)n=n.filter(s=>!ar(s,r));return{arrayValue:{values:n}}}class id extends eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mx(t){return ze(t.integerValue||t.doubleValue)}function lS(t){return Xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Cl&&s instanceof Cl||r instanceof Al&&s instanceof Al?No(r.elements,s.elements,ar):r instanceof id&&s instanceof id?ar(r.Ae,s.Ae):r instanceof sd&&s instanceof sd}(t.transform,e.transform)}class BL{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function cS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dS(t.key,er.none()):new Wl(t.key,t.data,er.none());{const n=t.data,r=$t.empty();let s=new it(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ws(t.key,r,new nn(s.toArray()),er.none())}}function zL(t,e,n){t instanceof Wl?function(s,i,o){const a=s.value.clone(),l=yx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(s,i,o){if(!cu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=yx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(uS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Za(t,e,n,r){return t instanceof Wl?function(i,o,a,l){if(!cu(i.precondition,o))return a;const d=i.value.clone(),h=vx(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(i,o,a,l){if(!cu(i.precondition,o))return a;const d=vx(i.fieldTransforms,l,o),h=o.data;return h.setAll(uS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return cu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $L(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iS(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function gx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&No(r,s,(i,o)=>UL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends th{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ws extends th{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yx(t,e,n){const r=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,FL(o,a,n[s]))}return r}function vx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,VL(i,o,e))}return r}class dS extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WL extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&zL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=cS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>gx(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>gx(n,r))}}class ny{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return jL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ny(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,he;function QL(t){switch(t){case F.OK:return ee(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function hS(t){if(t===void 0)return Ar("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ge.OK:return F.OK;case Ge.CANCELLED:return F.CANCELLED;case Ge.UNKNOWN:return F.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return F.INTERNAL;case Ge.UNAVAILABLE:return F.UNAVAILABLE;case Ge.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ge.NOT_FOUND:return F.NOT_FOUND;case Ge.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ge.ABORTED:return F.ABORTED;case Ge.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ge.DATA_LOSS:return F.DATA_LOSS;default:return ee(39323,{code:t})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new ws([4294967295,4294967295],0);function wx(t){const e=YL().encode(t),n=new ST;return n.update(e),new Uint8Array(n.digest())}function _x(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ws([n,r],0),new ws([s,i],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ws.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ws.fromNumber(r)));return s.compare(XL)===1&&(s=new ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wx(e),[r,s]=_x(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ry(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=wx(e),[r,s]=_x(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nh(re.min(),s,new Oe(ue),Nr(),de())}}class Hl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fS{constructor(e,n){this.targetId=e,this.Ce=n}}class pS{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xx{constructor(){this.ve=0,this.Fe=Ex(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),n=de(),r=de();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Hl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ex()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Pc(),this.He=Pc(),this.Ye=new Oe(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(sm(i))if(r===0){const o=new Y(i.path);this.et(n,o,It.newNoDocument(o,re.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Is(r).toUint8Array()}catch(l){if(l instanceof MT)return Ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ry(o,s,i)}catch(l){return Ao(l instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&sm(a.target)){const l=new Y(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,It.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=de();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new nh(e,n,this.Ye,this.je,r);return this.je=Nr(),this.Je=Pc(),this.He=Pc(),this.Ye=new Oe(ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new it(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new it(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new Oe(Y.comparator)}function Ex(){return new Oe(Y.comparator)}const ZL={asc:"ASCENDING",desc:"DESCENDING"},eM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM={and:"AND",or:"OR"};class nM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(t,e){return t.useProto3Json||Yd(e)?e:{value:e}}function od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rM(t,e){return od(t,e.toTimestamp())}function tr(t){return me(!!t,49232),re.fromTimestamp(function(n){const r=Ss(n);return new Ne(r.seconds,r.nanos)}(t))}function sy(t,e){return am(t,e).canonicalString()}function am(t,e){const n=function(s){return new Ee(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gS(t){const e=Ee.fromString(t);return me(ES(e),10190,{key:e.toString()}),e}function lm(t,e){return sy(t.databaseId,e.path)}function Tf(t,e){const n=gS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(vS(n))}function yS(t,e){return sy(t.databaseId,e)}function sM(t){const e=gS(t);return e.length===4?Ee.emptyPath():vS(e)}function cm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vS(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bx(t,e,n){return{name:lm(t,e),fields:n.value.mapValue.fields}}function iM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(me(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:hS(d.code);return new W(h,d.message||"")}(o);n=new pS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tf(t,r.document.name),i=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):re.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new uu(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tf(t,r.document),i=r.readTime?tr(r.readTime):re.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tf(t,r.document),i=r.removedTargetIds||[];n=new uu([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new KL(s,i),a=r.targetId;n=new fS(a,o)}}return n}function oM(t,e){let n;if(e instanceof Wl)n={update:bx(t,e.key,e.value)};else if(e instanceof dS)n={delete:lm(t,e.key)};else if(e instanceof Ws)n={update:bx(t,e.key,e.data),updateMask:mM(e.fieldMask)};else{if(!(e instanceof WL))return ee(16599,{Vt:e.type});n={verify:lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof sd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof id)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function aM(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?tr(s.updateTime):tr(i);return o.isEqual(re.min())&&(o=tr(i)),new BL(o,s.transformResults||[])}(n,e))):[]}function lM(t,e){return{documents:[yS(t,e.path)]}}function wS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yS(t,s);const i=function(d){if(d.length!==0)return xS(On.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:ts(m.field),direction:hM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=om(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function cM(t,e,n,r){const{ft:s,parent:i}=wS(t,e),o={},a=[];let l=0;return n.forEach(d=>{const h="aggregate_"+l++;o[h]=d.alias,d.aggregateType==="count"?a.push({alias:h,count:{}}):d.aggregateType==="avg"?a.push({alias:h,avg:{field:ts(d.fieldPath)}}):d.aggregateType==="sum"&&a.push({alias:h,sum:{field:ts(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},gt:o,parent:i}}function uM(t){let e=sM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=_S(f);return m instanceof On&&GT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new Il(Hi(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Yd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new nd(v,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,v=f.values||[];return new nd(v,m)}(n.endAt)),AL(e,s,o,i,a,"F",l,d)}function dM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _S(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hi(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hi(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hi(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hi(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Hi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>_S(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function hM(t){return ZL[t]}function fM(t){return eM[t]}function pM(t){return tM[t]}function ts(t){return{fieldPath:t.canonicalString()}}function Hi(t){return ft.fromServerFormat(t.fieldPath)}function xS(t){return t instanceof Xe?function(n){if(n.op==="=="){if(ux(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(cx(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ux(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(cx(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:fM(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(s=>xS(s));return r.length===1?r[0]:{compositeFilter:{op:pM(n.op),filters:r}}}(t):ee(54877,{filter:t})}function mM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ES(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,s,i=re.min(),o=re.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.yt=e}}function yM(t){const e=uM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Cn=new wM}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ts.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class wM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Ee.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bS=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(bS,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="LruGarbageCollector",_M=1048576;function Ix([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class xM{constructor(e){this.Ir=e,this.buffer=new it(Ix),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ix(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(Sx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?q(Sx,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Vr(3e5)})}}class bM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Qd.ce);const r=new xM(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Tx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),$i()<=ce.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function TM(t,e){return new bM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Za(r.mutation,s,nn.empty(),Ne.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Oa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Nr();const o=Ja(),a=function(){return Ja()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ws)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Za(h.mutation,d,h.mutation.getFieldMask(),Ne.now())):o.set(d.key,nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new IM(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ja();let s=new Oe((o,a)=>o-a),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||nn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||de()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=rS();h.forEach(m=>{if(!i.has(m)){const v=cS(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(ci());let a=El,l=i;return o.next(d=>U.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,de())).next(h=>({batchId:a,changes:nS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Oa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const d=function(f,m){return new Ko(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,It.newInvalidDocument(h)))});let a=Oa();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Za(h.mutation,d,nn.empty(),Ne.now()),Zd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:yM(s.bundledQuery),readTime:tr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.overlays=new Oe(Y.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Oe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ci(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qL(n,r));let i=this.qr.get(n);i===void 0&&(i=de(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Qr=new it(at.$r),this.Ur=new it(at.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new at(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new Ee([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new Ee([])),r=new at(n,e),s=new at(n,e+1);let i=de();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new it(at.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Qg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ue);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new at(new Y(i),0);let a=new it(ue);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new at(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.ri=e,this.docs=function(){return new Oe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Nr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Nr();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||iL(sL(h),r)<=0||(s.has(h.key)||Zd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jM(this)}getSize(e){return U.resolve(this.size)}}class jM extends SM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.persistence=e,this.si=new ji(n=>Jg(n),Zg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qd(0),this.li=!1,this.li=!0,this.hi=new RM,this.referenceDelegate=e(this),this.Pi=new DM(this),this.indexManager=new vM,this.remoteDocumentCache=function(s){return new PM(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gM(n),this.Ii=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new OM(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class OM extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new iy,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new ji(r=>uL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=TM(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=au(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ay(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return FP()?8:lL(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new LM;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?($i()<=ce.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):($i()<=ce.DEBUG&&q("QueryEngine","Query:",Wi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?($i()<=ce.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):U.resolve())}ys(e,n){if(px(n))return U.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rd(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,rd(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return px(n)||s.isEqual(re.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):($i()<=ce.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wi(n)),this.vs(e,o,n,rL(s,El)).next(a=>a))})}Ds(e,n){let r=new it(eS(e));return n.forEach((s,i)=>{Zd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return $i()<=ce.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Wi(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="LocalStore",VM=3e8;class FM{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Oe(ue),this.xs=new ji(i=>Jg(i),Zg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function UM(t,e,n,r){return new FM(t,e,n,r)}async function SS(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=de();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function BM(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let v=U.resolve();return m.forEach(I=>{v=v.next(()=>h.getEntry(l,I)).next(_=>{const S=d.docVersions.get(I);me(S!==null,48541),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function IS(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zM(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(gt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(_,S,x){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=VM?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=Nr(),d=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push($M(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(re.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function $M(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Nr();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(ly,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function WM(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HM(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function um(t,e,n){const r=ne(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Go(o))throw o;q(ly,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Cx(t,e,n){const r=ne(t);let s=re.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=ne(l),m=f.xs.get(h);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:de())).next(a=>(qM(r,RL(e),a),{documents:a,Qs:i})))}function qM(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ax{constructor(){this.activeTargetIds=LL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GM{constructor(){this.Mo=new Ax,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="ConnectivityMonitor";class Rx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(Nx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(Nx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function dm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",QM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ed?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=dm(),a=this.zo(e,n.toUriEncodedString());q(Sf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=Fs(d);return this.Jo(e,a,l,r,h).then(f=>(q(Sf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ao(Sf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=QM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class JM extends YM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=dm();return new Promise((a,l)=>{const d=new IT;d.setWithCredentials(!0),d.listenOnce(CT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ou.NO_ERROR:const f=d.getResponseJson();q(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ou.TIMEOUT:q(xt,`RPC '${e}' ${o} timed out`),l(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const m=d.getStatus();if(q(xt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const _=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(I.status);l(new W(_,I.message))}else l(new W(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new W(F.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{q(xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);q(xt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=dm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RT(),a=NT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");q(xt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,v=!1;const I=new XM({Yo:S=>{v?q(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(q(xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),q(xt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),_=(S,x,w)=>{S.listen(x,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return _(f,Da.EventType.OPEN,()=>{v||(q(xt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),_(f,Da.EventType.CLOSE,()=>{v||(v=!0,q(xt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),_(f,Da.EventType.ERROR,S=>{v||(v=!0,Ao(xt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),I.a_(new W(F.UNAVAILABLE,"The operation could not be completed")))}),_(f,Da.EventType.MESSAGE,S=>{var x;if(!v){const w=S.data[0];me(!!w,16349);const T=w,N=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(N){q(xt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let D=function(C){const R=Ge[C];if(R!==void 0)return hS(R)}(O),b=N.message;D===void 0&&(D=F.INTERNAL,b="Unknown error status: "+O+" with message "+N.message),v=!0,I.a_(new W(D,b)),f.close()}else q(xt,`RPC '${e}' stream ${s} received:`,w),I.u_(w)}}),_(a,AT.STAT_EVENT,S=>{S.stat===Zp.PROXY?q(xt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Zp.NOPROXY&&q(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return new nM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="PersistentStream";class AS{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(kx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(kx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends AS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iM(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?tr(o.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=sm(l)?{documents:lM(i,l)}:{query:wS(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mS(i,o.resumeToken);const d=om(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=od(i,o.snapshotVersion.toTimestamp());const d=om(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=dM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cm(this.serializer),n.removeTarget=e,this.q_(n)}}class eV extends AS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aM(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class nV extends tV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,am(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,am(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class sV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Di(this)&&(q(Ti,"Restarting streams for network reachability change."),await async function(l){const d=ne(l);d.Ea.add(4),await ql(d),d.Ra.set("Unknown"),d.Ea.delete(4),await sh(d)}(this))})}),this.Ra=new rV(r,s)}}async function sh(t){if(Di(t))for(const e of t.da)await e(!0)}async function ql(t){for(const e of t.da)await e(!1)}function NS(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hy(n)?dy(n):Qo(n).O_()&&uy(n,e))}function cy(t,e){const n=ne(t),r=Qo(n);n.Ia.delete(e),r.O_()&&RS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Di(n)&&n.Ra.set("Unknown"))}function uy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(t).Y_(e)}function RS(t,e){t.Va.Ue(e),Qo(t).Z_(e)}function dy(t){t.Va=new JL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qo(t).start(),t.Ra.ua()}function hy(t){return Di(t)&&!Qo(t).x_()&&t.Ia.size>0}function Di(t){return ne(t).Ea.size===0}function kS(t){t.Va=void 0}async function iV(t){t.Ra.set("Online")}async function oV(t){t.Ia.forEach((e,n)=>{uy(t,e)})}async function aV(t,e){kS(t),hy(t)?(t.Ra.ha(e),dy(t)):t.Ra.set("Unknown")}async function lV(t,e,n){if(t.Ra.set("Online"),e instanceof pS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){q(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof uu?t.Va.Ze(e):e instanceof fS?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await IS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),RS(i,l);const f=new as(h.target,l,d,h.sequenceNumber);uy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(Ti,"Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!Go(e))throw e;t.Ea.add(1),await ql(t),t.Ra.set("Offline"),n||(n=()=>IS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Ti,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sh(t)})}function PS(t,e){return e().catch(n=>ld(t,n,e))}async function ih(t){const e=ne(t),n=As(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qg;for(;cV(e);)try{const s=await WM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uV(e,s)}catch(s){await ld(e,s)}jS(e)&&DS(e)}function cV(t){return Di(t)&&t.Ta.length<10}function uV(t,e){t.Ta.push(e);const n=As(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jS(t){return Di(t)&&!As(t).x_()&&t.Ta.length>0}function DS(t){As(t).start()}async function dV(t){As(t).ra()}async function hV(t){const e=As(t);for(const n of t.Ta)e.ea(n.mutations)}async function fV(t,e,n){const r=t.Ta.shift(),s=ny.from(r,e,n);await PS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ih(t)}async function pV(t,e){e&&As(t).X_&&await async function(r,s){if(function(o){return QL(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();As(r).B_(),await PS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ih(r)}}(t,e),jS(t)&&DS(t)}async function Px(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q(Ti,"RemoteStore received new credentials");const r=Di(n);n.Ea.add(3),await ql(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sh(n)}async function mV(t,e){const n=ne(t);e?(n.Ea.delete(2),await sh(n)):e||(n.Ea.add(2),await ql(n),n.Ra.set("Unknown"))}function Qo(t){return t.ma||(t.ma=function(n,r,s){const i=ne(n);return i.sa(),new ZM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:iV.bind(null,t),t_:oV.bind(null,t),r_:aV.bind(null,t),H_:lV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),hy(t)?dy(t):t.Ra.set("Unknown")):(await t.ma.stop(),kS(t))})),t.ma}function As(t){return t.fa||(t.fa=function(n,r,s){const i=ne(n);return i.sa(),new eV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dV.bind(null,t),r_:pV.bind(null,t),ta:hV.bind(null,t),na:fV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Ti,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new fy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Go(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ga=new Oe(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jo(e,n,mo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class yV{constructor(){this.queries=Dx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=Dx(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function Dx(){return new ji(t=>ZT(t),Jd)}async function OS(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new gV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=py(o,`Initialization of query '${Wi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&my(n)}async function LS(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vV(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&my(n)}function wV(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function my(t){t.Ca.forEach(e=>{e.next()})}var hm,Ox;(Ox=hm||(hm={})).Ma="default",Ox.Cache="cache";class MS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class _V{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=eS(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jx,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=Zd(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;m&&v?m.data.isEqual(v.data)?I!==_&&(r.track({type:3,doc:v}),S=!0):this.su(m,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.eu(v,l)>0||d&&this.eu(v,d)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),S=!0):m&&!v&&(r.track({type:1,doc:m}),S=!0,(l||d)&&(a=!0)),S&&(v?(o=o.add(v),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,I){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:S})}};return _(v)-_(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new jo(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new FS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=de();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gy="SyncEngine";class xV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EV{constructor(e){this.key=e,this.hu=!1}}class bV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ji(a=>ZT(a),Jd),this.Iu=new Map,this.Eu=new Set,this.du=new Oe(Y.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TV(t,e,n=!0){const r=HS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await US(r,e,n,!0),s}async function SV(t,e){const n=HS(t);await US(n,e,!0,!1)}async function US(t,e,n,r){const s=await HM(t.localStore,Zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await IV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&NS(t.remoteStore,s),a}async function IV(t,e,n,r,s){t.pu=(f,m,v)=>async function(_,S,x,w){let T=S.view.ru(x);T.Cs&&(T=await Cx(_.localStore,S.query,!1).then(({documents:b})=>S.view.ru(b,T)));const N=w&&w.targetChanges.get(S.targetId),O=w&&w.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(T,_.isPrimaryClient,N,O);return Mx(_,S.targetId,D.au),D.snapshot}(t,f,m,v);const i=await Cx(t.localStore,e,!0),o=new _V(e,i.Qs),a=o.ru(i.documents),l=Hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);Mx(t,n,d.au);const h=new xV(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function CV(t,e,n){const r=ne(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Jd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await um(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&cy(r.remoteStore,s.targetId),fm(r,s.targetId)}).catch(qo)):(fm(r,s.targetId),await um(r.localStore,s.targetId,!0))}async function AV(t,e){const n=ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cy(n.remoteStore,r.targetId))}async function NV(t,e,n){const r=LV(t);try{const s=await function(o,a){const l=ne(o),d=Ne.now(),h=a.reduce((v,I)=>v.add(I.key),de());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Nr(),_=de();return l.Ns.getEntries(v,h).next(S=>{I=S,I.forEach((x,w)=>{w.isValidDocument()||(_=_.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,I)).next(S=>{f=S;const x=[];for(const w of a){const T=$L(w,f.get(w.key).overlayedDocument);T!=null&&x.push(new Ws(w.key,T,WT(T.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(v,d,x,a)}).next(S=>{m=S;const x=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(v,S.batchId,x)})}).then(()=>({batchId:m.batchId,changes:nS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new Oe(ue)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Gl(r,s.changes),await ih(r.remoteStore)}catch(s){const i=py(s,"Failed to persist write");n.reject(i)}}async function BS(t,e){const n=ne(t);try{const r=await zM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?me(o.hu,14607):s.removedDocuments.size>0&&(me(o.hu,42227),o.hu=!1))}),await Gl(n,r,e)}catch(r){await qo(r)}}function Lx(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&my(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RV(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Oe(Y.comparator);o=o.insert(i,It.newNoDocument(i,re.min()));const a=de().add(i),l=new nh(re.min(),new Map,new Oe(ue),o,a);await BS(r,l),r.du=r.du.remove(i),r.Au.delete(e),yy(r)}else await um(r.localStore,e,!1).then(()=>fm(r,e,n)).catch(qo)}async function kV(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await BM(n.localStore,e);$S(n,r,null),zS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(n,s)}catch(s){await qo(s)}}async function PV(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(me(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);$S(r,e,n),zS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gl(r,s)}catch(s){await qo(s)}}function zS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $S(t,e,n){const r=ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||WS(t,r)})}function WS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yy(t))}function Mx(t,e,n){for(const r of n)r instanceof VS?(t.Ru.addReference(r.key,e),jV(t,r)):r instanceof FS?(q(gy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WS(t,r.key)):ee(19791,{wu:r})}function jV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(gy,"New document in limbo: "+n),t.Eu.add(r),yy(t))}function yy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new EV(n)),t.du=t.du.insert(n,r),NS(t.remoteStore,new as(Zn(ey(n.path)),r,"TargetPurposeLimboResolution",Qd.ce))}}async function Gl(t,e,n){const r=ne(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=ay.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,m=>U.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>U.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Go(f))throw f;q(ly,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const v=h.Ms.get(m),I=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(m,_)}}}(r.localStore,i))}async function DV(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(gy,"User change. New user:",e.toKey());const r=await SS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gl(n,r.Ls)}}function OV(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return de().add(r.key);{let s=de();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function HS(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RV.bind(null,e),e.Pu.H_=vV.bind(null,e.eventManager),e.Pu.yu=wV.bind(null,e.eventManager),e}function LV(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UM(this.persistence,new MM,e.initialUser,this.serializer)}Cu(e){return new TS(oy.mi,this.serializer)}Du(e){return new GM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class MV extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new TS(r=>ad.mi(r,n),this.serializer)}}class pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,this.syncEngine),await mV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yV}()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),r=function(i){return new JM(i)}(e.databaseInfo);return function(i,o,a,l){return new nV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new sV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Lx(this.syncEngine,n,0),function(){return Rx.v()?new Rx:new KM}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new bV(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);q(Ti,"RemoteStore shutting down."),i.Ea.add(5),await ql(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class VV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=Kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Ns,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ns,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FV(t);q(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Px(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Px(e.remoteStore,s)),t._onlineComponents=e}async function FV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ns,"Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new cd)}}else q(Ns,"Using default OfflineComponentProvider"),await Cf(t,new MV(void 0));return t._offlineComponents}async function vy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ns,"Using user provided OnlineComponentProvider"),await Vx(t,t._uninitializedComponentsProvider._online)):(q(Ns,"Using default OnlineComponentProvider"),await Vx(t,new pm))),t._onlineComponents}function UV(t){return vy(t).then(e=>e.syncEngine)}function BV(t){return vy(t).then(e=>e.datastore)}async function GS(t){const e=await vy(t),n=e.eventManager;return n.onListen=TV.bind(null,e.syncEngine),n.onUnlisten=CV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AV.bind(null,e.syncEngine),n}function zV(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new qS({next:m=>{h.Nu(),o.enqueueAndForget(()=>LS(i,f));const v=m.docs.has(a);!v&&m.fromCache?d.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new MS(ey(a.path),h,{includeMetadataChanges:!0,qa:!0});return OS(i,f)}(await GS(t),t.asyncQueue,e,n,r)),r.promise}function $V(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new qS({next:m=>{h.Nu(),o.enqueueAndForget(()=>LS(i,f)),m.fromCache&&l.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new MS(a,h,{includeMetadataChanges:!0,qa:!0});return OS(i,f)}(await GS(t),t.asyncQueue,e,n,r)),r.promise}function WV(t,e,n){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await BV(t);r.resolve(async function(o,a,l){var _;const d=ne(o),{request:h,gt:f,parent:m}=cM(d.serializer,NL(a),l);d.connection.$o||delete h.parent;const v=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,m,h,1)).filter(S=>!!S.result);me(v.length===1,64727);const I=(_=v[0].result)==null?void 0:_.aggregateFields;return Object.keys(I).reduce((S,x)=>(S[f[x]]=I[x],S),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",Ux=!0;class Bx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=Ux}else this.host=e.host,this.ssl=e.ssl??Ux;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HO;switch(r.type){case"firstParty":return new QO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fx.get(n);r&&(q("ComponentProvider","Removing Datastore"),Fx.delete(n),r.terminate())}(this),Promise.resolve()}}function HV(t,e,n,r={}){var d;t=or(t,oh);const s=Fs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Ag(`https://${a}`),Ng("Firestore",!0)),i.host!==QS&&i.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!bs(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Et.MOCK_USER;else{h=pb(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(m)}t._authCredentials=new qO(new PT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($l(n,We._jsonSchema))return new We(e,r||null,new Y(Ee.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Je("string",We._jsonSchemaVersion),referencePath:Je("string")};class _s extends Hs{constructor(e,n,r){super(e,n,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new Y(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function ns(t,e,...n){if(t=Te(t),jT("collection","path",e),t instanceof oh){const r=Ee.fromString(e,...n);return ex(r),new _s(t,null,r)}{if(!(t instanceof We||t instanceof _s))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return ex(r),new _s(t.firestore,null,r)}}function Do(t,e,...n){if(t=Te(t),arguments.length===1&&(e=Kg.newId()),jT("doc","path",e),t instanceof oh){const r=Ee.fromString(e,...n);return Z_(r),new We(t,null,new Y(r))}{if(!(t instanceof We||t instanceof _s))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return Z_(r),new We(t.firestore,t instanceof _s?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="AsyncQueue";class $x{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CS(this,"async_queue_retry"),this._c=()=>{const r=If();r&&q(zx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;q(zx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",Wx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=fy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:Wx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Wx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yo extends oh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $x,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function qV(t,e){const n=typeof t=="object"?t:zd(),r=typeof t=="string"?t:ed,s=Us(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=db("firestore");i&&HV(s,...i)}return s}function ah(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GV(t),t._firestoreClient}function GV(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new pL(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class QV{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(gt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Je("string",pn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if($l(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Je("string",nr._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new rr(e.vectorValues);throw new W(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Je("string",rr._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=/^__.*__$/;class XV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class YS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class _y{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XS(this.Ac)&&YV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rh(e)}Cc(e,n,r,s=!1){return new _y({Ac:e,methodName:n,Dc:r,path:ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(t){const e=t._freezeSettings(),n=rh(t._databaseId);return new JV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Ey("Data must be an object, but it was:",o,r);const a=JS(r,o);let l,d;if(i.merge)l=new nn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=mm(e,f,n);if(!o.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eI(h,m)||h.push(m)}l=new nn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new XV(new $t(a),l,d)}class ch extends wy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function e3(t,e,n,r){const s=t.Cc(1,e,n);Ey("Data must be an object, but it was:",s,r);const i=[],o=$t.empty();$s(r,(l,d)=>{const h=by(e,l,n);d=Te(d);const f=s.yc(h);if(d instanceof ch)i.push(h);else{const m=Kl(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new nn(i);return new YS(o,a,s.fieldTransforms)}function t3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[mm(e,r,n)],l=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(mm(e,i[m])),l.push(i[m+1]);const d=[],h=$t.empty();for(let m=a.length-1;m>=0;--m)if(!eI(d,a[m])){const v=a[m];let I=l[m];I=Te(I);const _=o.yc(v);if(I instanceof ch)d.push(v);else{const S=Kl(I,_);S!=null&&(d.push(v),h.set(v,S))}}const f=new nn(d);return new YS(h,f,o.fieldTransforms)}function n3(t,e,n,r=!1){return Kl(n,t.Cc(r?4:3,e))}function Kl(t,e){if(ZS(t=Te(t)))return Ey("Unsupported field value:",e,t),JS(t,e);if(t instanceof wy)return function(r,s){if(!XS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Kl(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ML(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ne.fromDate(r);return{timestampValue:od(s.serializer,i)}}if(r instanceof Ne){const i=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(s.serializer,i)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:mS(s.serializer,r._byteString)};if(r instanceof We){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rr)return function(o,a){return{mapValue:{fields:{[zT]:{stringValue:$T},[td]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return ty(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kd(r)}`)}(t,e)}function JS(t,e){const n={};return LT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,s)=>{const i=Kl(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof nr||t instanceof pn||t instanceof We||t instanceof wy||t instanceof rr)}function Ey(t,e,n){if(!ZS(n)||!DT(n)){const r=Kd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function mm(t,e,n){if((e=Te(e))instanceof lh)return e._internalPath;if(typeof e=="string")return by(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const r3=new RegExp("[~\\*/\\[\\]]");function by(t,e,n){if(e.search(r3)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lh(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function eI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s3 extends tI{data(){return super.data()}}function uh(t,e){return typeof e=="string"?by(t,e):e instanceof lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class Sy extends Ty{}function Af(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Iy).length,a=i.filter(l=>l instanceof dh).length;if(o>1||o>0&&a>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class dh extends Sy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dh(e,n,r)}_apply(e){const n=this._parse(e);return nI(e._query,n),new Hs(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=xy(e.firestore);return function(i,o,a,l,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qx(f,h);const I=[];for(const _ of f)I.push(Hx(l,i,_));m={arrayValue:{values:I}}}else m=Hx(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qx(f,h),m=n3(a,o,f,h==="in"||h==="not-in");return Xe.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nf(t,e,n){const r=e,s=uh("where",t);return dh._create(s,r,n)}class Iy extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)nI(o,l),o=im(o,l)}(e._query,n),new Hs(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends Sy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Il(i,o)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ko(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Rf(t,e="asc"){const n=e,r=uh("orderBy",t);return Cy._create(r,n)}class Ay extends Sy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){return new Hs(e.firestore,e.converter,rd(e._query,this._limit,this._limitType))}}function kf(t){return nL("limit",t),Ay._create("limit",t,"F")}function Hx(t,e,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!Y.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lx(t,new Y(r))}if(n instanceof We)return lx(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(n)}.`)}function qx(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o3{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $s(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[td].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ze(o.doubleValue));return new rr(n)}convertGeoPoint(e){return new nr(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);me(ES(r),9688,{name:e});const s=new Tl(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function l3(){return new KV("count")}class Ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends tI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",hi._jsonSchema={type:Je("string",hi._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class du extends hi{data(e={}){return super.data(e)}}class go{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ma(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new du(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new du(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ma(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new du(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ma(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:c3(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t){t=or(t,We);const e=or(t.firestore,Yo);return zV(ah(e),t._key).then(n=>d3(e,t,n))}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Je("string",go._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class Ry extends o3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function hu(t){t=or(t,Hs);const e=or(t.firestore,Yo),n=ah(e),r=new Ry(e);return i3(t._query),$V(n,t._query).then(s=>new go(e,r,t,s))}function rI(t,e,n){t=or(t,We);const r=or(t.firestore,Yo),s=a3(t.converter,e);return sI(r,[ZV(xy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,er.none())])}function u3(t,e,n,...r){t=or(t,We);const s=or(t.firestore,Yo),i=xy(s);let o;return o=typeof(e=Te(e))=="string"||e instanceof lh?t3(i,"updateDoc",t._key,e,n,r):e3(i,"updateDoc",t._key,e),sI(s,[o.toMutation(t._key,er.exists(!0))])}function sI(t,e){return function(r,s){const i=new Jn;return r.asyncQueue.enqueueAndForget(async()=>NV(await UV(r),s,i)),i.promise}(ah(t),e)}function d3(t,e,n){const r=n.docs.get(e._key),s=new Ry(t);return new hi(t,s,e._key,r,new Ma(n.hasPendingWrites,n.fromCache),e.converter)}function Dc(t){return h3(t,{count:l3()})}function h3(t,e){const n=or(t.firestore,Yo),r=ah(n),s=hL(e,(i,o)=>new GL(o,i.aggregateType,i._internalFieldPath));return WV(r,t._query,s).then(i=>function(a,l,d){const h=new Ry(a);return new QV(l,h,d)}(n,t,i))}(function(e,n=!0){(function(s){Ho=s})(Pi),Dn(new wn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Yo(new GO(r.getProvider("auth-internal")),new YO(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Qt(Q_,Y_,e),Qt(Q_,Y_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebasestorage.googleapis.com",oI="storageBucket",f3=2*60*1e3,p3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends xn{constructor(e,n,r=0){super(Pf(e),`Firebase Storage: ${n} (${Pf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ve;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ve||(Ve={}));function Pf(t){return"storage/"+t}function ky(){const t="An unknown error occurred, please check the error payload for server response.";return new Fe(Ve.UNKNOWN,t)}function m3(t){return new Fe(Ve.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g3(t){return new Fe(Ve.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe(Ve.UNAUTHENTICATED,t)}function v3(){return new Fe(Ve.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function w3(t){return new Fe(Ve.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _3(){return new Fe(Ve.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x3(){return new Fe(Ve.CANCELED,"User canceled the upload/download.")}function E3(t){return new Fe(Ve.INVALID_URL,"Invalid URL '"+t+"'.")}function b3(t){return new Fe(Ve.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function T3(){return new Fe(Ve.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oI+"' property when initializing the app?")}function S3(){return new Fe(Ve.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I3(){return new Fe(Ve.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C3(t){return new Fe(Ve.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gm(t){return new Fe(Ve.INVALID_ARGUMENT,t)}function aI(){return new Fe(Ve.APP_DELETED,"The Firebase app was deleted.")}function A3(t){return new Fe(Ve.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function el(t,e){return new Fe(Ve.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sa(t){throw new Fe(Ve.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rn.makeFromUrl(e,n)}catch{return new rn(e,"")}if(r.path==="")return r;throw b3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),I={bucket:1,path:3},_=n===iI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp(`^https?://${_}/${s}/${S}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:v,indices:I,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<T.length;N++){const O=T[N],D=O.regex.exec(e);if(D){const b=D[O.indices.bucket];let E=D[O.indices.path];E||(E=""),r=new rn(b,E),O.postModify(r);break}}if(r==null)throw E3(e);return r}}class N3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(...S){d||(d=!0,e.apply(null,S))}function f(S){s=setTimeout(()=>{s=null,t(v,l())},S)}function m(){i&&clearTimeout(i)}function v(S,...x){if(d){m();return}if(S){m(),h.call(null,S,...x);return}if(l()||o){m(),h.call(null,S,...x);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let I=!1;function _(S){I||(I=!0,m(),!d&&(s!==null?(S||(a=2),clearTimeout(s),f(0)):S||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function k3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){return t!==void 0}function j3(t){return typeof t=="object"&&!Array.isArray(t)}function Py(t){return typeof t=="string"||t instanceof String}function Gx(t){return jy()&&t instanceof Blob}function jy(){return typeof Blob<"u"}function Kx(t,e,n,r){if(r<e)throw gm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var fi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fi||(fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s,i,o,a,l,d,h,f,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,_)=>{this.resolve_=I,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Oc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===fi.NO_ERROR,l=i.getStatus();if(!a||D3(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===fi.ABORT;r(!1,new Oc(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Oc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());P3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=ky();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?aI():x3();o(l)}else{const l=_3();o(l)}};this.canceled_?n(!1,new Oc(!1,null,!0)):this.backoffId_=R3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function L3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function V3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function U3(t,e,n,r,s,i,o=!0,a=!1){const l=lI(t.urlParams),d=t.url+l,h=Object.assign({},t.headers);return V3(h,e),L3(h,n),M3(h,i),F3(h,r),new O3(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z3(...t){const e=B3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jy())return new Blob(t);throw new Fe(Ve.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(typeof atob>"u")throw C3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jf{constructor(e,n){this.data=e,this.contentType=n||null}}function H3(t,e){switch(t){case qn.RAW:return new jf(cI(e));case qn.BASE64:case qn.BASE64URL:return new jf(uI(t,e));case qn.DATA_URL:return new jf(G3(e),K3(e))}throw ky()}function cI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function q3(t){let e;try{e=decodeURIComponent(t)}catch{throw el(qn.DATA_URL,"Malformed data URL.")}return cI(e)}function uI(t,e){switch(t){case qn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw el(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw el(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=W3(e)}catch(s){throw s.message.includes("polyfill")?s:el(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class dI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw el(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Q3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G3(t){const e=new dI(t);return e.base64?uI(qn.BASE64,e.rest):q3(e.rest)}function K3(t){return new dI(t).contentType}function Q3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){let r=0,s="";Gx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gx(this.data_)){const r=this.data_,s=$3(r,e,n);return s===null?null:new rs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new rs(r,!0)}}static getBlob(...e){if(jy()){const n=e.map(r=>r instanceof rs?r.data_:r);return new rs(z3.apply(null,n))}else{const n=e.map(o=>Py(o)?H3(qn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new rs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){let e;try{e=JSON.parse(t)}catch{return null}return j3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function X3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e){return e}class kt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||J3}}let Lc=null;function Z3(t){return!Py(t)||t.length<2?t:fI(t)}function pI(){if(Lc)return Lc;const t=[];t.push(new kt("bucket")),t.push(new kt("generation")),t.push(new kt("metageneration")),t.push(new kt("name","fullPath",!0));function e(i,o){return Z3(o)}const n=new kt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new kt("size");return s.xform=r,t.push(s),t.push(new kt("timeCreated")),t.push(new kt("updated")),t.push(new kt("md5Hash",null,!0)),t.push(new kt("cacheControl",null,!0)),t.push(new kt("contentDisposition",null,!0)),t.push(new kt("contentEncoding",null,!0)),t.push(new kt("contentLanguage",null,!0)),t.push(new kt("contentType",null,!0)),t.push(new kt("metadata","customMetadata",!0)),Lc=t,Lc}function e6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new rn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function t6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return e6(r,t),r}function mI(t,e,n){const r=hI(e);return r===null?null:t6(t,r,n)}function n6(t,e,n,r){const s=hI(e);if(s===null||!Py(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),v=Dy(m,n,r),I=lI({alt:"media",token:d});return v+I})[0]}function r6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class gI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){if(!t)throw ky()}function s6(t,e){function n(r,s){const i=mI(t,s,e);return yI(i!==null),i}return n}function i6(t,e){function n(r,s){const i=mI(t,s,e);return yI(i!==null),n6(i,s,t.host,t._protocol)}return n}function vI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=v3():s=y3():n.getStatus()===402?s=g3(t.bucket):n.getStatus()===403?s=w3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function o6(t){const e=vI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=m3(t.path)),i.serverResponse=s.serverResponse,i}return n}function a6(t,e,n){const r=e.fullServerUrl(),s=Dy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new gI(s,i,i6(t,n),o);return a.errorHandler=o6(e),a}function l6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function c6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=l6(null,e)),r}function u6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let N=0;N<2;N++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const d=c6(e,r,s),h=r6(d,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=rs.getBlob(f,r,m);if(v===null)throw S3();const I={name:d.fullPath},_=Dy(i,t.host,t._protocol),S="POST",x=t.maxUploadRetryTime,w=new gI(_,S,s6(t,n),x);return w.urlParams=I,w.headers=o,w.body=v.uploadData(),w.errorHandler=vI(e),w}class d6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Sa("cannot .send() more than once");if(Fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class h6 extends d6{initXhr(){this.xhr_.responseType="text"}}function wI(){return new h6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this._service=e,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Si(e,n)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fI(this._location.path)}get storage(){return this._service}get parent(){const e=Y3(this._location.path);if(e===null)return null;const n=new rn(this._location.bucket,e);return new Si(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw A3(e)}}function f6(t,e,n){t._throwIfRoot("uploadBytes");const r=u6(t.storage,t._location,pI(),new rs(e,!0),n);return t.storage.makeRequestWithTokens(r,wI).then(s=>({metadata:s,ref:t}))}function p6(t){t._throwIfRoot("getDownloadURL");const e=a6(t.storage,t._location,pI());return t.storage.makeRequestWithTokens(e,wI).then(n=>{if(n===null)throw I3();return n})}function m6(t,e){const n=X3(t._location.path,e),r=new rn(t._location.bucket,n);return new Si(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){return/^[A-Za-z]+:\/\//.test(t)}function y6(t,e){return new Si(t,e)}function _I(t,e){if(t instanceof Oy){const n=t;if(n._bucket==null)throw T3();const r=new Si(n,n._bucket);return e!=null?_I(r,e):r}else return e!==void 0?m6(t,e):t}function v6(t,e){if(e&&g6(e)){if(t instanceof Oy)return y6(t,e);throw gm("To use ref(service, url), the first argument must be a Storage instance.")}else return _I(t,e)}function Qx(t,e){const n=e==null?void 0:e[oI];return n==null?null:rn.makeFromBucketSpec(n,t)}function w6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fs(e);s&&(Ag(`https://${t.host}/b`),Ng("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pb(i,t.app.options.projectId))}class Oy{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=iI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f3,this._maxUploadRetryTime=p3,this._requests=new Set,s!=null?this._bucket=rn.makeFromBucketSpec(s,this._host):this._bucket=Qx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,e):this._bucket=Qx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Si(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new N3(aI());{const o=U3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Yx="@firebase/storage",Xx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="storage";function _6(t,e,n){return t=Te(t),f6(t,e,n)}function x6(t){return t=Te(t),p6(t)}function E6(t,e){return t=Te(t),v6(t,e)}function b6(t=zd(),e){t=Te(t);const r=Us(t,xI).getImmediate({identifier:e}),s=db("storage");return s&&T6(r,...s),r}function T6(t,e,n,r={}){w6(t,e,n,r)}function S6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Oy(n,r,s,e,Pi)}function I6(){Dn(new wn(xI,S6,"PUBLIC").setMultipleInstances(!0)),Qt(Yx,Xx,""),Qt(Yx,Xx,"esm2020")}I6();const C6={apiKey:"AIzaSyAVk3CIK5hyAmjwVPh1p4i01vq-0Z5IsEA",authDomain:"zedctf.firebaseapp.com",projectId:"zedctf",storageBucket:"zedctf.firebasestorage.app",messagingSenderId:"574551910114",appId:"1:574551910114:web:8bcce937be224e1575a0bb",measurementId:"G-MEYRJGR69W"},hh=xb(C6);UO(hh);const Nl=_D(hh),Wt=qV(hh),A6=b6(hh),EI=y.createContext({user:null,loading:!0}),bI=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);return y.useEffect(()=>l4(Nl,o=>{n(o),s(!1)}),[]),u.jsx(EI.Provider,{value:{user:e,loading:r},children:t})},Ql=()=>{const t=y.useContext(EI);if(!t)throw new Error("useAuthContext must be used within an AuthProvider");return t},N6=({children:t})=>{const{loading:e}=Ql();return e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsx(u.Fragment,{children:t})},Fi=({children:t})=>{const{user:e,loading:n}=Ql();return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(uP,{to:"/login",replace:!0})};function Jx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Jx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Jx(t[s],null)}}}}function yt(...t){return y.useCallback(Yl(...t),t)}var R6=Symbol.for("react.lazy"),dd=bd[" use ".trim().toString()];function k6(t){return typeof t=="object"&&t!==null&&"then"in t}function TI(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===R6&&"_payload"in t&&k6(t._payload)}function SI(t){const e=j6(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;TI(i)&&typeof dd=="function"&&(i=dd(i._payload));const a=y.Children.toArray(i),l=a.find(O6);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var P6=SI("Slot");function j6(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(TI(s)&&typeof dd=="function"&&(s=dd(s._payload)),y.isValidElement(s)){const o=M6(s),a=L6(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Yl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D6=Symbol("radix.slottable");function O6(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D6}function L6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function M6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function II(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=II(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=II(t))&&(r&&(r+=" "),r+=e);return r}const Zx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,e0=CI,AI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return e0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=Zx(h)||Zx(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...v}=h;return Object.entries(v).every(I=>{let[_,S]=I;return Array.isArray(S)?S.includes({...i,...a}[_]):{...i,...a}[_]===S})?[...d,f,m]:d},[]);return e0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Ly="-",V6=t=>{const e=U6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ly);return a[0]===""&&a.length!==1&&a.shift(),NI(a,e)||F6(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},NI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?NI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ly);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},t0=/^\[(.+)\]$/,F6=t=>{if(t0.test(t)){const e=t0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},U6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return z6(Object.entries(t.classGroups),n).forEach(([i,o])=>{ym(o,r,i,e)}),r},ym=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:n0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(B6(s)){ym(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ym(o,n0(e,i),n,r)})})},n0=(t,e)=>{let n=t;return e.split(Ly).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},B6=t=>t.isThemeGetter,z6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,$6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},RI="!",W6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let x=a[S];if(d===0){if(x===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(h,S)),h=S+i;continue}if(x==="/"){f=S;continue}}x==="["?d++:x==="]"&&d--}const m=l.length===0?a:a.substring(h),v=m.startsWith(RI),I=v?m.substring(1):m,_=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:I,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},H6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},q6=t=>({cache:$6(t.cacheSize),parseClassName:W6(t),...V6(t)}),G6=/\s+/,K6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(G6);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(d);let I=!!v,_=r(I?m.substring(0,v):m);if(!_){if(!I){a=d+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=d+(a.length>0?" "+a:a);continue}I=!1}const S=H6(h).join(":"),x=f?S+RI:S,w=x+_;if(i.includes(w))continue;i.push(w);const T=s(_,I);for(let N=0;N<T.length;++N){const O=T[N];i.push(x+O)}a=d+(a.length>0?" "+a:a)}return a};function Q6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kI(e))&&(r&&(r+=" "),r+=n);return r}const kI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kI(t[r]))&&(n&&(n+=" "),n+=e);return n};function Y6(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=q6(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=K6(l,n);return s(l,h),h}return function(){return i(Q6.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PI=/^\[(?:([a-z-]+):)?(.+)\]$/i,X6=/^\d+\/\d+$/,J6=new Set(["px","full","screen"]),Z6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,n5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hr=t=>yo(t)||J6.has(t)||X6.test(t),Wr=t=>Xo(t,"length",d5),yo=t=>!!t&&!Number.isNaN(Number(t)),Df=t=>Xo(t,"number",yo),Ia=t=>!!t&&Number.isInteger(Number(t)),s5=t=>t.endsWith("%")&&yo(t.slice(0,-1)),oe=t=>PI.test(t),Hr=t=>Z6.test(t),i5=new Set(["length","size","percentage"]),o5=t=>Xo(t,i5,jI),a5=t=>Xo(t,"position",jI),l5=new Set(["image","url"]),c5=t=>Xo(t,l5,f5),u5=t=>Xo(t,"",h5),Ca=()=>!0,Xo=(t,e,n)=>{const r=PI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},d5=t=>e5.test(t)&&!t5.test(t),jI=()=>!1,h5=t=>n5.test(t),f5=t=>r5.test(t),p5=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),d=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),m=Ie("gap"),v=Ie("gradientColorStops"),I=Ie("gradientColorStopPositions"),_=Ie("inset"),S=Ie("margin"),x=Ie("opacity"),w=Ie("padding"),T=Ie("saturate"),N=Ie("scale"),O=Ie("sepia"),D=Ie("skew"),b=Ie("space"),E=Ie("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",oe,e],P=()=>[oe,e],k=()=>["",hr,Wr],H=()=>["auto",yo,oe],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",oe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[yo,oe];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[hr,Wr],blur:["none","",Hr,oe],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Hr,oe],borderSpacing:P(),borderWidth:k(),contrast:ie(),grayscale:$(),hueRotate:ie(),invert:$(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[s5,Wr],inset:j(),margin:j(),opacity:ie(),padding:P(),saturate:ie(),scale:ie(),sepia:$(),skew:ie(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),oe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,oe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ia,oe]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",Ia,oe]},oe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[Ia,oe]},oe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,e]}],"min-w":[{"min-w":[oe,e,"min","max","fit"]}],"max-w":[{"max-w":[oe,e,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Df]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",yo,Df]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hr,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hr,Wr]}],"underline-offset":[{"underline-offset":["auto",hr,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),a5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[hr,oe]}],"outline-w":[{outline:[hr,Wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[hr,Wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hr,u5]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,oe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ia,oe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hr,Wr,Df]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m5=Y6(p5);function Ze(...t){return m5(CI(t))}const g5=AI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.6)]",terminal:"bg-card border border-primary/30 text-primary hover:border-primary hover:bg-primary/10 font-mono"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Qe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?P6:"button";return u.jsx(o,{className:Ze(g5({variant:e,size:n,className:t})),ref:i,...s})});Qe.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...v5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DI("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(w5,{ref:i,iconNode:e,className:DI(`lucide-${y5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=J("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=J("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=J("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=J("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=J("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=J("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=J("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=J("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=J("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=J("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=J("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=J("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=J("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=J("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=J("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$5="/ZedCTF/favicon.png",Ot=()=>{var a;const[t,e]=y.useState(!1),{user:n}=Ql(),r=Dr(),[s,i]=y.useState(!1),o=async()=>{i(!0);try{await c4(Nl),r("/"),e(!1)}catch(l){console.error("Error signing out:",l)}finally{i(!1)}};return u.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg supports-[backdrop-filter]:bg-background/60",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs(Ae,{to:"/",className:"flex items-center gap-2",children:[u.jsx("img",{src:$5,alt:"ZedCTF",className:"w-8 h-8"}),u.jsx("span",{className:"text-2xl font-bold text-green-600 animate-pulse-glow",children:"ZedCTF"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[u.jsxs(Ae,{to:"/",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(s0,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Home"]}),u.jsxs(Ae,{to:"/dashboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(hd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Dashboard"]}),u.jsxs(Ae,{to:"/practice",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(Gn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Practice"]}),u.jsxs(Ae,{to:"/live",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx(r0,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"LIVE CTF"]}),u.jsxs(Ae,{to:"/leaderboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(Rs,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Leaderboard"]}),u.jsxs(Ae,{to:"/writeups",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(fd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Writeups"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qe,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:u.jsx(gd,{className:"w-5 h-5"})}),u.jsxs(Qe,{variant:"ghost",size:"icon",className:"relative",children:[u.jsx(x5,{className:"w-5 h-5"}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),u.jsx(Qe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:u.jsx(L5,{className:"w-5 h-5"})}),n?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-foreground/80 hidden sm:block",children:n.displayName||((a=n.email)==null?void 0:a.split("@")[0])}),u.jsxs(Qe,{variant:"default",size:"sm",className:"bg-red-500 hover:bg-red-600 text-white gap-2",onClick:o,disabled:s,children:[s?u.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):u.jsx(a0,{className:"w-4 h-4"}),s?"...":"Logout"]})]}):u.jsx(Ae,{to:"/login",children:u.jsxs(Qe,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 text-white animate-glow gap-2",children:[u.jsx(sr,{className:"w-4 h-4"}),"Sign In"]})})]})]}),t&&u.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-lg animate-fade-in",children:u.jsxs("div",{className:"py-4 space-y-4",children:[u.jsxs(Ae,{to:"/",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(s0,{className:"w-5 h-5"}),"Home"]}),u.jsxs(Ae,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(hd,{className:"w-5 h-5"}),"Dashboard"]}),u.jsxs(Ae,{to:"/practice",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(Gn,{className:"w-5 h-5"}),"Practice"]}),u.jsxs(Ae,{to:"/live",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx(r0,{className:"w-5 h-5"}),"LIVE CTF"]}),u.jsxs(Ae,{to:"/leaderboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(Rs,{className:"w-5 h-5"}),"Leaderboard"]}),u.jsxs(Ae,{to:"/writeups",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(fd,{className:"w-5 h-5"}),"Writeups"]}),u.jsx("div",{className:"px-4 pt-2 border-t border-border",children:n?u.jsxs(Qe,{variant:"default",className:"w-full justify-start gap-2 bg-red-500 hover:bg-red-600",onClick:o,disabled:s,children:[s?u.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):u.jsx(a0,{className:"w-4 h-4"}),s?"Signing out...":"Logout"]}):u.jsx(Ae,{to:"/login",onClick:()=>e(!1),children:u.jsxs(Qe,{variant:"default",className:"w-full justify-start gap-2 bg-green-500 hover:bg-green-600",children:[u.jsx(sr,{className:"w-4 h-4"}),"Sign In"]})})})]})})]})})},W5="/ZedCTF/assets/hero-bg-x4dJ88o_.jpg",H5=()=>{const[t,e]=y.useState({totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0}),[n,r]=y.useState(!0),s=Dr(),i=async()=>{try{const l={totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0},d=["users","user","members","profiles"];for(const v of d)try{const _=(await Dc(ns(Wt,v))).data().count;if(_>0){l.totalUsers=_;break}}catch{continue}const h=["challenges","challenge","ctfChallenges","practice"];for(const v of h)try{const _=(await Dc(ns(Wt,v))).data().count;if(_>0){l.totalChallenges=_;break}}catch{continue}const f=["events","event","liveEvents","competitions"];for(const v of f)try{const _=(await Dc(ns(Wt,v))).data().count;if(_>0){l.liveEvents=_;break}}catch{continue}const m=["submissions","submission","solves","completions"];for(const v of m)try{const _=(await Dc(ns(Wt,v))).data().count;if(_>0){l.totalCompletions=_;break}}catch{continue}if(l.totalCompletions===0&&l.totalUsers>0)try{const v=await hu(ns(Wt,"users"));let I=0;v.forEach(_=>{const S=_.data();I+=S.challengesSolved||S.solvedChallenges||S.totalSolved||0}),l.totalCompletions=I}catch{}e(l)}catch{console.log("Stats loading completed")}finally{r(!1)}};y.useEffect(()=>{i()},[]);const o=()=>{s("/practice")},a=()=>{s("/live")};return u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${W5})`}}),u.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),u.jsx("div",{className:"container relative z-10 px-4 py-32",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-primary/30 bg-primary/5 mb-4",children:[u.jsx(N5,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-mono",children:"Zambia's Premier CTF Platform"})]}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Master Cybersecurity",u.jsx("br",{}),u.jsx("span",{className:"neon-text animate-pulse-glow",children:"Capture The Flag"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sharpen your hacking skills, compete in real-time challenges, and climb the leaderboard. From beginner to expert, ZedCTF is your gateway to cybersecurity mastery."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[u.jsxs(Qe,{onClick:o,variant:"neon",size:"lg",className:"group",children:["Start Practicing",u.jsx(_5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),u.jsxs(Qe,{onClick:a,variant:"terminal",size:"lg",children:[u.jsx(C5,{className:"w-5 h-5"}),"Join LIVE Event"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-12 max-w-3xl mx-auto",children:[u.jsx(Vc,{loading:n,value:t.totalUsers,label:"Registered Users",icon:u.jsx(Rs,{className:"w-5 h-5"})}),u.jsx(Vc,{loading:n,value:t.totalChallenges,label:"Challenges",icon:u.jsx(Rr,{className:"w-5 h-5"})}),u.jsx(Vc,{loading:n,value:t.liveEvents,label:"Live Events",icon:u.jsx(fh,{className:"w-5 h-5"})}),u.jsx(Vc,{loading:n,value:t.totalCompletions,label:"Completions",icon:u.jsx(Gn,{className:"w-5 h-5"})})]}),!n&&u.jsx("div",{className:"mt-4",children:u.jsx(Qe,{variant:"outline",size:"sm",onClick:i,children:"Refresh Stats"})})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"})]})},Vc=({loading:t,value:e,label:n,icon:r})=>t?u.jsxs("div",{className:"text-center animate-pulse",children:[u.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):u.jsxs("div",{className:"text-center group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl md:text-3xl font-bold text-primary mb-1",children:[r,e.toLocaleString()]}),u.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:n})]}),Lt=()=>u.jsx("footer",{className:"border-t border-border bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Rr,{className:"w-8 h-8 text-primary"}),u.jsx("span",{className:"text-2xl font-bold neon-text",children:"ZedCTF"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Zambia's premier platform for cybersecurity challenges and training."}),u.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"An initiative by IT Society of Kapasa Makasa University"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Platform"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Ae,{to:"/dashboard",className:"hover:text-primary transition-colors",children:"Dashboard"})}),u.jsx("li",{children:u.jsx(Ae,{to:"/practice",className:"hover:text-primary transition-colors",children:"Practice"})}),u.jsx("li",{children:u.jsx(Ae,{to:"/live",className:"hover:text-primary transition-colors",children:"LIVE Events"})}),u.jsx("li",{children:u.jsx(Ae,{to:"/leaderboard",className:"hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Resources"}),u.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:u.jsx("li",{children:u.jsx(Ae,{to:"/writeups",className:"hover:text-primary transition-colors",children:"Walkthroughs"})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Connect"}),u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsx("a",{href:"https://github.com/ZedCTF/ZedCTF",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(R5,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(U5,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(D5,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(FI,{className:"w-5 h-5"})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2 text-primary flex items-center gap-2",children:[u.jsx(Rs,{className:"w-4 h-4"}),"Contributors"]}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[u.jsx("a",{href:"https://github.com/SokoJames",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"James Soko"}),u.jsx("a",{href:"https://github.com/abbymwale24",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Abby Mwale"}),u.jsx("a",{href:"https://github.com/Joylad-Jangazya",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Joylad Jangazya"}),u.jsx("a",{href:"https://github.com/Kono-hub",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Mary Chanda"}),u.jsx("a",{href:"https://github.com/ronny-brawn",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Aaron Nyakapanda"}),u.jsx("a",{href:"https://github.com/threat23",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Humphery Chileshe"})]})]})]})]}),u.jsxs("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[u.jsx("p",{children:" 2025 ZedCTF. All rights reserved. Made with  in Zambia"}),u.jsx("p",{className:"mt-1",children:"IT Society of Kapasa Makasa University"})]})]})}),q5=()=>u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Ot,{}),u.jsx(H5,{}),u.jsx(Lt,{})]}),G5=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,a]=y.useState(""),[l,d]=y.useState({email:"",password:"",rememberMe:!1}),h=Dr(),f=new mr;f.addScope("read:user"),f.addScope("user:email");const m=async S=>{S.preventDefault(),a(""),i(!0);try{await s4(Nl,l.email,l.password),h("/dashboard")}catch(x){console.error("Login error:",x),a(I(x.code))}finally{i(!1)}},v=async()=>{var S,x,w;r(!0),a("");try{const N=(await N4(Nl,f)).user;(await Ny(Do(Wt,"users",N.uid))).exists()||await rI(Do(Wt,"users",N.uid),{uid:N.uid,firstName:((S=N.displayName)==null?void 0:S.split(" ")[0])||"GitHub",lastName:((x=N.displayName)==null?void 0:x.split(" ").slice(1).join(" "))||"User",username:((w=N.email)==null?void 0:w.split("@")[0])||`github_${N.uid.slice(0,8)}`,email:N.email,displayName:N.displayName||"GitHub User",photoURL:N.photoURL,provider:"github",createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(T){console.error("GitHub login error:",T),T.code==="auth/account-exists-with-different-credential"?a("An account already exists with the same email address but different sign-in credentials."):T.code==="auth/popup-closed-by-user"?console.log("GitHub login popup closed by user"):a("GitHub login failed. Please try again.")}finally{r(!1)}},I=S=>{switch(S){case"auth/invalid-email":return"Invalid email address format.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials.";default:return"Login failed. Please try again."}},_=S=>{const{name:x,value:w,type:T,checked:N}=S.target;d(O=>({...O,[x]:T==="checkbox"?N:w}))};return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(Rr,{className:"w-10 h-10 text-primary"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground",children:"Access your cybersecurity dashboard"})]}),o&&u.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),u.jsx("div",{className:"relative",children:u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:l.password,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all pr-12",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?u.jsx(vm,{className:"w-5 h-5"}):u.jsx(Rl,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{name:"rememberMe",type:"checkbox",checked:l.rememberMe,onChange:_,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2",disabled:s}),u.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),u.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),u.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?u.jsx(md,{className:"w-5 h-5 animate-spin"}):u.jsx(O5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),s?"Signing in...":"Access Dashboard"]})]}),u.jsxs("div",{className:"my-6 flex items-center",children:[u.jsx("div",{className:"flex-1 border-t border-border"}),u.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or continue with"}),u.jsx("div",{className:"flex-1 border-t border-border"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.jsxs("button",{onClick:v,disabled:n||s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-muted/50 border border-border rounded-lg text-foreground hover:bg-muted transition-colors hover:border-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:[n?u.jsx(md,{className:"w-5 h-5 animate-spin"}):u.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),n?"Signing in with GitHub...":"Continue with GitHub"]})}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-muted-foreground",children:["New to ZedCTF?"," ",u.jsx(Ae,{to:"/signup",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Create an account"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),u.jsx(Lt,{})]})},K5=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,a]=y.useState(""),[l,d]=y.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:"",agreeToTerms:!1}),h=Dr(),f=async I=>{if(I.preventDefault(),a(""),l.password!==l.confirmPassword){a("Passwords don't match!");return}if(l.password.length<6){a("Password should be at least 6 characters");return}if(!l.agreeToTerms){a("Please agree to the terms and conditions");return}i(!0);try{const S=(await r4(Nl,l.email,l.password)).user;await qb(S,{displayName:`${l.firstName} ${l.lastName}`.trim()}),await rI(Do(Wt,"users",S.uid),{uid:S.uid,firstName:l.firstName,lastName:l.lastName,username:l.username,email:l.email,displayName:`${l.firstName} ${l.lastName}`.trim(),createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(_){console.error("Registration error:",_),a(m(_.code))}finally{i(!1)}},m=I=>{switch(I){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/invalid-email":return"Invalid email address format.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak.";default:return"Registration failed. Please try again."}},v=I=>{const{name:_,value:S,type:x,checked:w}=I.target;d(T=>({...T,[_]:x==="checkbox"?w:S}))};return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(Rr,{className:"w-10 h-10 text-primary"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Join the Community"}),u.jsx("p",{className:"text-muted-foreground",children:"Start your cybersecurity journey today"})]}),o&&u.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-2",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(sr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:l.firstName,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-2",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(sr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:l.lastName,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Doe",disabled:s})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(FI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-2",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx(sr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:l.username,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"cyber_hacker",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(o0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:l.password,onChange:v,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?u.jsx(vm,{className:"w-5 h-5"}):u.jsx(Rl,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(o0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:l.confirmPassword,onChange:v,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:n?u.jsx(vm,{className:"w-5 h-5"}):u.jsx(Rl,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex items-start",children:u.jsxs("label",{className:"flex items-start",children:[u.jsx("input",{name:"agreeToTerms",type:"checkbox",checked:l.agreeToTerms,onChange:v,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2 mt-1",disabled:s}),u.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["I agree to the"," ",u.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Terms of Service"})," ","and"," ",u.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Privacy Policy"})]})]})}),u.jsxs("button",{type:"submit",disabled:s||!l.agreeToTerms,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?u.jsx(md,{className:"w-5 h-5 animate-spin"}):u.jsx(B5,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s?"Creating Account...":"Create Account"]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",u.jsx(Ae,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Sign in"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),u.jsx(Lt,{})]})},Q5=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState([]),[o,a]=y.useState([]),[l,d]=y.useState(""),[h,f]=y.useState("all"),[m,v]=y.useState("all"),[I,_]=y.useState("all"),[S,x]=y.useState(!0),[w]=y.useState(!1),T=async()=>{try{x(!0);const b=await fetch("/api/writeups");if(b.ok){const E=await b.json();e(E),r(E);const C=Array.from(new Set(E.map(j=>j.category))).filter(Boolean),R=Array.from(new Set(E.map(j=>j.difficulty))).filter(Boolean);i(C),a(R)}else e([]),r([]),i([]),a([])}catch{e([]),r([]),i([]),a([])}finally{x(!1)}};y.useEffect(()=>{T()},[]),y.useEffect(()=>{let D=t;l&&(D=D.filter(b=>b.title.toLowerCase().includes(l.toLowerCase())||b.description.toLowerCase().includes(l.toLowerCase())||b.tags.some(E=>E.toLowerCase().includes(l.toLowerCase())))),h!=="all"&&(D=D.filter(b=>b.category===h)),m!=="all"&&(D=D.filter(b=>b.difficulty===m)),I!=="all"&&(D=D.filter(b=>b.status===I)),r(D)},[l,h,m,I,t]);const N=D=>{switch(D){case"approved":return u.jsx(My,{className:"w-4 h-4 text-green-400"});case"rejected":return u.jsx(MI,{className:"w-4 h-4 text-red-400"});default:return u.jsx(fh,{className:"w-4 h-4 text-yellow-400"})}},O=D=>{switch(D.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"insane":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"expert":return"bg-red-500/20 text-red-500 border-red-500/30";case"beginner":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return S?u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading writeups..."})]})}),u.jsx(Lt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Rr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Community ",u.jsx("span",{className:"text-primary",children:"Writeups"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Learn from other players' solutions and share your own approaches"})]}),u.jsxs("div",{className:"bg-muted/20 border border-border rounded-lg p-6 mb-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsxs("div",{className:"relative",children:[u.jsx(gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx("input",{type:"text",placeholder:"Search writeups, tags, challenges...",value:l,onChange:D=>d(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})}),u.jsx("div",{children:u.jsxs("select",{value:h,onChange:D=>f(D.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Categories"}),s.map(D=>u.jsx("option",{value:D,children:D},D))]})}),u.jsx("div",{children:u.jsxs("select",{value:m,onChange:D=>v(D.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Difficulties"}),o.map(D=>u.jsx("option",{value:D,children:D},D))]})})]}),w&&u.jsx("div",{className:"mt-4",children:u.jsxs("select",{value:I,onChange:D=>_(D.target.value),className:"w-full md:w-auto px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),u.jsx("div",{className:"flex justify-end mb-6",children:u.jsxs(Ae,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5"}),"New Writeup"]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(D=>u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(D.difficulty)}`,children:D.difficulty}),u.jsxs("div",{className:"flex items-center gap-1",children:[N(D.status),u.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:D.status})]})]}),u.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded border border-primary/20 mb-3",children:D.category}),u.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:D.title}),u.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:D.description}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[u.jsx(fd,{className:"w-4 h-4"}),u.jsxs("span",{children:["Challenge: ",D.challenge]})]}),u.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[D.tags.slice(0,3).map((b,E)=>u.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["#",b]},E)),D.tags.length>3&&u.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["+",D.tags.length-3]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(sr,{className:"w-3 h-3 text-primary"})}),u.jsx("span",{className:"text-sm text-muted-foreground",children:D.author.name})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Rl,{className:"w-4 h-4"}),u.jsx("span",{children:D.views})]}),u.jsx("span",{children:new Date(D.createdAt).toLocaleDateString()})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Ae,{to:`/writeups/${D.id}`,className:"flex-1 bg-primary/10 text-primary border border-primary/20 py-2 px-4 rounded-lg text-center hover:bg-primary/20 transition-colors",children:"Read"}),w&&D.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"flex-1 bg-green-500/10 text-green-500 border border-green-500/20 py-2 px-4 rounded-lg hover:bg-green-500/20 transition-colors",children:"Approve"}),u.jsx("button",{className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 py-2 px-4 rounded-lg hover:bg-red-500/20 transition-colors",children:"Reject"})]})]})]},D.id))}),n.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(fd,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No writeups found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"No writeups have been submitted yet. Be the first to share your solution!":"Try adjusting your search or filters"}),u.jsxs(Ae,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 inline-flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5"}),"Create First Writeup"]})]})]})}),u.jsx(Lt,{})]})},Y5=()=>{const t=Dr(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),[d,h]=y.useState(""),[f,m]=y.useState(""),[v,I]=y.useState(""),[_,S]=y.useState(!1),[x,w]=y.useState([]),[T,N]=y.useState([]),[O,D]=y.useState([]),[b,E]=y.useState(!0),C=async()=>{try{E(!0);const P="/api/challenges/available",k="/api/categories",H="/api/difficulties",[te,Q,se]=await Promise.all([fetch(P),fetch(k),fetch(H)]);if(te.ok){const V=await te.json();w(V)}else w([]);if(Q.ok){const V=await Q.json();N(V),V.length>0&&h(V[0])}else N([]);if(se.ok){const V=await se.json();D(V),V.length>0&&m(V[0])}else D([])}catch{w([]),N([]),D([])}finally{E(!1)}},R=async P=>{P.preventDefault(),S(!0);try{(await fetch("/api/writeups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:r,content:i,challengeId:a,category:d,difficulty:f,tags:v.split(",").map(H=>H.trim()).filter(H=>H)})})).ok?t("/writeups"):console.error("Failed to create writeup")}catch(k){console.error("Error creating writeup:",k)}finally{S(!1)}},j=(P,k)=>{document.execCommand(P,!1,k)};return y.useEffect(()=>{if(a){const P=x.find(k=>k.id===a);P&&(h(P.category),m(P.difficulty))}},[a,x]),y.useEffect(()=>{C()},[]),b?u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading form data..."})]})}),u.jsx(Lt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Rr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Create ",u.jsx("span",{className:"text-primary",children:"Writeup"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Share your solution and help others learn from your approach"})]}),u.jsxs("form",{id:"writeup-form",onSubmit:R,className:"space-y-8",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Basic Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Writeup Title *"}),u.jsx("input",{type:"text",required:!0,value:e,onChange:P=>n(P.target.value),placeholder:"Enter a compelling title for your writeup...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-lg font-semibold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),u.jsx("textarea",{required:!0,value:r,onChange:P=>s(P.target.value),placeholder:"Brief description of your writeup...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Challenge *"}),u.jsxs("select",{required:!0,value:a,onChange:P=>l(P.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"",children:"Select a challenge"}),x.map(P=>u.jsx("option",{value:P.id,children:P.title},P.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category *"}),u.jsx("select",{required:!0,value:d,onChange:P=>h(P.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:T.map(P=>u.jsx("option",{value:P,children:P},P))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty *"}),u.jsx("select",{required:!0,value:f,onChange:P=>m(P.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:O.map(P=>u.jsx("option",{value:P,children:P},P))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),u.jsx("input",{type:"text",value:v,onChange:P=>I(P.target.value),placeholder:"Comma-separated tags (e.g., sql-injection, web, bypass)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Writeup Content"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 p-3 bg-muted/20 rounded-lg border border-border",children:[u.jsx("button",{type:"button",onClick:()=>j("bold"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bold",children:u.jsx(E5,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("italic"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Italic",children:u.jsx(P5,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("insertUnorderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bullet List",children:u.jsx(i0,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("insertOrderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Numbered List",children:u.jsx(i0,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>{const P=prompt("Enter URL:");P&&j("createLink",P)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Link",children:u.jsx(j5,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("formatBlock","<pre>"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Code Block",children:u.jsx(A5,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>{const P=prompt("Enter image URL:");P&&j("insertImage",P)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Image",children:u.jsx(k5,{className:"w-4 h-4 text-foreground"})})]}),u.jsx("div",{contentEditable:!0,onInput:P=>o(P.currentTarget.innerHTML),className:"min-h-[400px] px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all prose prose-invert max-w-none",style:{fontFamily:"Georgia, serif",fontSize:"16px",lineHeight:"1.6"},"data-placeholder":"Start writing your amazing writeup here... You can include code snippets, images, and formatted text."}),u.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[u.jsxs("p",{children:[" ",u.jsx("strong",{children:"Pro tips:"})]}),u.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[u.jsx("li",{children:"Use the toolbar above to format your text"}),u.jsx("li",{children:"Include code snippets using the code block button"}),u.jsx("li",{children:"Add images to illustrate your steps"}),u.jsx("li",{children:"Break down complex solutions into clear steps"}),u.jsx("li",{children:"Share your thought process and learning moments"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",onClick:()=>t("/writeups"),children:[u.jsx(Rl,{className:"w-4 h-4"}),"Cancel"]}),u.jsxs("button",{type:"submit",disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[_?u.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):u.jsx(M5,{className:"w-4 h-4"}),_?"Publishing...":"Publish Writeup"]})]})]})]})}),u.jsx(Lt,{})]})},u0=()=>new Promise(t=>{setTimeout(()=>{const e={id:"github-"+Date.now(),username:"zedctf_user",email:"user@zedctf.com",name:"ZedCTF User",avatar:"https://github.com/github.png",provider:"github"};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true"),t(e)},1500)}),X5=()=>{const[t,e]=y.useState("loading"),[n,r]=y.useState(""),s=Dr();return y.useEffect(()=>{(async()=>{const o=new URLSearchParams(window.location.search),a=o.get("code");if(o.get("error")){e("error"),r("GitHub authentication failed. Please try again.");return}try{if(await new Promise(d=>setTimeout(d,2e3)),a){const d=await u0();e("success"),r(`Welcome, ${d.username}! Successfully authenticated with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}else{const d=await u0();e("success"),r(`Welcome, ${d.username}! Successfully signed in with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}}catch(d){e("error"),r("Authentication failed. Please try again."),console.error("GitHub callback error:",d)}})()},[s]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsx(Rr,{className:"w-10 h-10 text-green-400"}),u.jsx("span",{className:"text-3xl font-bold text-white",children:"ZedCTF"})]}),u.jsxs("div",{className:"space-y-4",children:[t==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx(md,{className:"w-12 h-12 text-green-400 animate-spin mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connecting to GitHub..."}),u.jsx("p",{className:"text-gray-300",children:"Please wait while we authenticate your account."})]}),t==="success"&&u.jsxs(u.Fragment,{children:[u.jsx(My,{className:"w-12 h-12 text-green-400 mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Successful!"}),u.jsx("p",{className:"text-gray-300",children:n}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting to homepage..."})]}),t==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(MI,{className:"w-12 h-12 text-red-400 mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Failed"}),u.jsx("p",{className:"text-gray-300",children:n}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Login"}),u.jsx("button",{onClick:()=>s("/signup"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Sign Up"})]})]})]})]})})},J5=()=>{const t=$o();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},bt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));bt.displayName="Card";const In=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));In.displayName="CardHeader";const Cn=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));Cn.displayName="CardTitle";const Z5=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));Z5.displayName="CardDescription";const Tt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ze("p-6 pt-0",t),...e}));Tt.displayName="CardContent";const eF=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",t),...e}));eF.displayName="CardFooter";const tF=({isOpen:t,onClose:e})=>{const{user:n}=Ql(),[r,s]=y.useState(!1),[i,o]=y.useState(!1),[a,l]=y.useState(!1),d=y.useRef(null),[h,f]=y.useState({displayName:"",bio:"",role:"student",institution:""}),[m,v]=y.useState(null),[I,_]=y.useState("");y.useEffect(()=>{t&&n&&(async()=>{try{const b=await Ny(Do(Wt,"users",n.uid));if(b.exists()){const E=b.data();f({displayName:E.displayName||n.displayName||"",bio:E.bio||"",role:E.role||"student",institution:E.institution||""}),_(E.photoURL||n.photoURL||"")}else f({displayName:n.displayName||"",bio:"",role:"student",institution:""}),_(n.photoURL||"")}catch(b){console.error("Error fetching user data:",b)}})()},[t,n]);const S=D=>{const{name:b,value:E}=D.target;f(C=>({...C,[b]:E}))},x=async D=>{var E;const b=(E=D.target.files)==null?void 0:E[0];if(b){if(!b.type.startsWith("image/")){alert("Please select an image file");return}if(b.size>2*1024*1024){alert("Image size should be less than 2MB for faster upload");return}v(b);const C=URL.createObjectURL(b);_(C)}},w=(D,b=800,E=.8)=>new Promise((C,R)=>{const j=document.createElement("canvas"),P=j.getContext("2d"),k=new Image;k.onload=()=>{let H=k.width,te=k.height;H>b&&(te=te*b/H,H=b),j.width=H,j.height=te,P==null||P.drawImage(k,0,0,H,te),j.toBlob(Q=>{if(Q){const se=new File([Q],D.name,{type:"image/jpeg",lastModified:Date.now()});C(se)}else R(new Error("Image compression failed"))},"image/jpeg",E)},k.onerror=R,k.src=URL.createObjectURL(D)}),T=async(D,b)=>{const E=await w(D),R=`profile_${Date.now()}.jpg`,j=E6(A6,`profile-pictures/${b}/${R}`),P=await _6(j,E);return await x6(P.ref)},N=async D=>{if(D.preventDefault(),!!n){s(!0),l(!1);try{let b=n.photoURL;if(m){o(!0);try{b=await T(m,n.uid),console.log("Profile image uploaded successfully")}catch(C){console.error("Error uploading image:",C)}finally{o(!1)}}const E=[];(h.displayName!==n.displayName||b!==n.photoURL)&&E.push(qb(n,{displayName:h.displayName,photoURL:b})),E.push(u3(Do(Wt,"users",n.uid),{displayName:h.displayName,bio:h.bio,role:h.role,institution:h.institution,photoURL:b,updatedAt:new Date})),await Promise.all(E),console.log("Profile updated successfully"),l(!0),setTimeout(()=>{e(),window.location.reload()},1e3)}catch(b){console.error("Error updating profile:",b),alert("Failed to update profile. Please try again.")}finally{s(!1)}}},O=()=>{var D;(D=d.current)==null||D.click()};return t?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-background rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Edit Profile"}),u.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",disabled:r,children:u.jsx(z5,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[a&&u.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[u.jsx(My,{className:"w-5 h-5"}),"Profile updated successfully!"]}),u.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-muted/50 border-2 border-border flex items-center justify-center overflow-hidden",children:I?u.jsx("img",{src:I,alt:"Profile",className:"w-full h-full object-cover"}):u.jsx(sr,{className:"w-12 h-12 text-muted-foreground"})}),u.jsx("button",{type:"button",onClick:O,disabled:i||r,className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 hover:bg-primary/90 transition-colors disabled:opacity-50",children:i?u.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):u.jsx(b5,{className:"w-4 h-4"})}),u.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:i||r})]}),u.jsx("p",{className:"text-sm text-muted-foreground text-center",children:i?"Uploading image...":"Click the camera icon to upload a profile picture (max 2MB)"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-2",children:"Display Name"}),u.jsx("input",{id:"displayName",name:"displayName",type:"text",value:h.displayName,onChange:S,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Enter your display name",disabled:r})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-foreground mb-2",children:"Bio"}),u.jsx("textarea",{id:"bio",name:"bio",rows:3,value:h.bio,onChange:S,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",placeholder:"Tell us about yourself...",disabled:r})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"I am a"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"student",label:"Student",icon:VI},{value:"lecturer",label:"Lecturer",icon:Rs},{value:"expert",label:"Expert",icon:OI},{value:"general",label:"General User",icon:sr}].map(({value:D,label:b,icon:E})=>u.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-all ${h.role===D?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 text-foreground"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("input",{type:"radio",name:"role",value:D,checked:h.role===D,onChange:S,className:"hidden",disabled:r}),u.jsx(E,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:b})]},D))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-foreground mb-2",children:"Institution"}),u.jsx("input",{id:"institution",name:"institution",type:"text",value:h.institution,onChange:S,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Your school, university, or organization",disabled:r})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,disabled:r,className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:r||i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Saving..."]}):"Save Changes"})]})]})]})}):null},nF=()=>{var w,T;const{user:t}=Ql();Dr();const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState([]),[a,l]=y.useState([]),[d,h]=y.useState(!0),[f,m]=y.useState(!1),[v,I]=y.useState(null),_=N=>{switch(N){case"student":return u.jsx(VI,{className:"w-4 h-4"});case"lecturer":return u.jsx(Rs,{className:"w-4 h-4"});case"expert":return u.jsx(OI,{className:"w-4 h-4"});default:return u.jsx(sr,{className:"w-4 h-4"})}},S=N=>{switch(N){case"student":return"Student";case"lecturer":return"Lecturer";case"expert":return"Expert";default:return"General User"}},x=async()=>{var N,O,D;if(t)try{h(!0),console.log("Fetching real dashboard data for user:",t.uid);const b=await Ny(Do(Wt,"users",t.uid));if(b.exists()){const E=b.data();console.log("Real user data from Firestore:",E),I(E),n({totalPoints:E.totalPoints||0,challengesSolved:E.challengesSolved||0,currentRank:E.currentRank||0,timeSpent:E.timeSpent||"0h 0m",username:E.username||((N=t==null?void 0:t.email)==null?void 0:N.split("@")[0])||"Hacker",joinDate:E.createdAt||(t==null?void 0:t.metadata.creationTime)||new Date().toISOString(),firstName:E.firstName,lastName:E.lastName,displayName:E.displayName,bio:E.bio,role:E.role,institution:E.institution,photoURL:E.photoURL})}else console.log("No user document found in Firestore"),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((O=t==null?void 0:t.email)==null?void 0:O.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()});try{const E=Af(ns(Wt,"challenges"),Nf("solvedBy","array-contains",t.uid),Rf("solvedAt","desc"),kf(5)),R=(await hu(E)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real solved challenges:",R),s(R)}catch{console.log("No challenges collection or no solved challenges yet"),s([])}try{const E=Af(ns(Wt,"events"),Nf("participants","array-contains",t.uid),Rf("date","desc"),kf(5)),R=(await hu(E)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real events participated:",R),o(R)}catch{console.log("No events collection or no events participated yet"),o([])}try{const E=Af(ns(Wt,"activity"),Nf("userId","==",t.uid),Rf("timestamp","desc"),kf(10)),R=(await hu(E)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real user activity:",R),l(R)}catch{console.log("No activity collection yet, creating default activity");const C={id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date,userId:t.uid};l([C])}}catch(b){console.error("Error fetching real dashboard data:",b),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((D=t==null?void 0:t.email)==null?void 0:D.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}),s([]),o([]),l([{id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date}])}finally{h(!1)}};return y.useEffect(()=>{t&&x()},[t]),d?u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}),u.jsx(Lt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center overflow-hidden border-2 border-primary/30",children:t!=null&&t.photoURL||v!=null&&v.photoURL?u.jsx("img",{src:(t==null?void 0:t.photoURL)||(v==null?void 0:v.photoURL),alt:"Profile",className:"w-full h-full object-cover"}):u.jsx(sr,{className:"w-8 h-8 text-primary"})}),u.jsx("button",{onClick:()=>m(!0),className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/90 transition-colors",title:"Edit Profile",children:u.jsx(V5,{className:"w-3 h-3"})})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-4xl font-bold",children:["Welcome back,"," ",u.jsx("span",{className:"text-primary",children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||(e==null?void 0:e.username)||((w=t==null?void 0:t.email)==null?void 0:w.split("@")[0])||"Hacker"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[u.jsx("span",{children:t==null?void 0:t.email}),(v==null?void 0:v.role)&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsxs("div",{className:"flex items-center gap-1",children:[_(v.role),u.jsx("span",{children:S(v.role)})]})]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Member since"," ",e!=null&&e.joinDate?new Date(e.joinDate).toLocaleDateString():"recently"]})]}),(v==null?void 0:v.institution)&&u.jsx("p",{className:"text-sm text-muted-foreground",children:v.institution}),(v==null?void 0:v.bio)&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-md",children:v.bio})]})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsxs(bt,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(In,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(Cn,{className:"text-sm font-medium text-muted-foreground",children:"Total Points"}),u.jsx(Gn,{className:"w-5 h-5 text-primary"})]}),u.jsxs(Tt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:((T=e==null?void 0:e.totalPoints)==null?void 0:T.toLocaleString())||"0"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime points earned"})]})]}),u.jsxs(bt,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(In,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(Cn,{className:"text-sm font-medium text-muted-foreground",children:"Challenges Solved"}),u.jsx(Of,{className:"w-5 h-5 text-secondary"})]}),u.jsxs(Tt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.challengesSolved)||"0"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total challenges completed"})]})]}),u.jsxs(bt,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(In,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(Cn,{className:"text-sm font-medium text-muted-foreground",children:"Current Rank"}),u.jsx(F5,{className:"w-5 h-5 text-primary"})]}),u.jsxs(Tt,{children:[u.jsxs("div",{className:"text-3xl font-bold mb-2",children:["#",(e==null?void 0:e.currentRank)||"0"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Global leaderboard position"})]})]}),u.jsxs(bt,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(In,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(Cn,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),u.jsx(fh,{className:"w-5 h-5 text-muted-foreground"})]}),u.jsxs(Tt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.timeSpent)||"0h 0m"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total practice time"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(bt,{className:"border-border",children:[u.jsx(In,{children:u.jsxs(Cn,{className:"flex items-center gap-2",children:[u.jsx(Of,{className:"w-5 h-5 text-primary"}),"Recently Solved Challenges"]})}),u.jsx(Tt,{children:r.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(Of,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No challenges solved yet"}),u.jsx("p",{className:"text-sm mt-2",children:"Start practicing to see your progress here"})]}):u.jsx("div",{className:"space-y-4",children:r.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:N.title}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:N.category}),u.jsx("span",{children:""}),u.jsx("span",{children:N.difficulty}),u.jsx("span",{children:""}),u.jsx("span",{children:N.solvedAt?new Date(N.solvedAt.toDate?N.solvedAt.toDate():N.solvedAt).toLocaleDateString():"Recently"})]})]}),u.jsxs("div",{className:"text-primary font-bold",children:["+",N.points]})]},N.id))})})]}),u.jsxs(bt,{className:"border-border",children:[u.jsx(In,{children:u.jsxs(Cn,{className:"flex items-center gap-2",children:[u.jsx(pd,{className:"w-5 h-5 text-primary"}),"Events Participated In"]})}),u.jsx(Tt,{children:i.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(pd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No events participated yet"}),u.jsx("p",{className:"text-sm mt-2",children:"Join live events to appear here"})]}):u.jsx("div",{className:"space-y-4",children:i.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:N.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:N.date}),N.position&&u.jsxs("span",{children:[" Position: #",N.position]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-secondary font-bold",children:N.prize}),N.pointsEarned>0&&u.jsxs("div",{className:"text-xs text-primary",children:["+",N.pointsEarned," pts"]})]})]},N.id))})})]}),u.jsxs(bt,{className:"border-border lg:col-span-2",children:[u.jsx(In,{children:u.jsxs(Cn,{className:"flex items-center gap-2",children:[u.jsx(hd,{className:"w-5 h-5 text-primary"}),"Recent Activity"]})}),u.jsx(Tt,{children:a.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No recent activity"}),u.jsx("p",{className:"text-sm mt-2",children:"Your activity will appear here"})]}):u.jsx("div",{className:"space-y-3",children:a.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:N.action}),u.jsx("div",{className:"text-sm text-muted-foreground",children:N.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:N.timestamp?new Date(N.timestamp.toDate?N.timestamp.toDate():N.timestamp).toLocaleDateString():"Recently"}),N.points&&u.jsxs("div",{className:"text-sm text-primary font-bold",children:["+",N.points]})]})]},N.id))})})]})]})]})}),u.jsx(Lt,{}),u.jsx(tF,{isOpen:f,onClose:()=>m(!1)})]})},rF=AI("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zn({className:t,variant:e,...n}){return u.jsx("div",{className:Ze(rF({variant:e}),t),...n})}const UI=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));UI.displayName="Input";function d0(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Vy(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const d=f=>{var x;const{scope:m,children:v,...I}=f,_=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,S=y.useMemo(()=>I,Object.values(I));return u.jsx(_.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,m){var _;const v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,I=y.useContext(v);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sF(s,...e)]}function sF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function h0(t){const e=iF(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(aF);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function iF(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=cF(s),a=lF(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Yl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oF=Symbol("radix.slottable");function aF(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oF}function lF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uF(t){const e=t+"CollectionProvider",[n,r]=Vy(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:x}=_,w=qr.useRef(null),T=qr.useRef(new Map).current;return u.jsx(s,{scope:S,itemMap:T,collectionRef:w,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=h0(a),d=qr.forwardRef((_,S)=>{const{scope:x,children:w}=_,T=i(a,x),N=yt(S,T.collectionRef);return u.jsx(l,{ref:N,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=h0(h),v=qr.forwardRef((_,S)=>{const{scope:x,children:w,...T}=_,N=qr.useRef(null),O=yt(S,N),D=i(h,x);return qr.useEffect(()=>(D.itemMap.set(N,{ref:N,...T}),()=>void D.itemMap.delete(N))),u.jsx(m,{[f]:"",ref:O,children:w})});v.displayName=h;function I(_){const S=i(t+"CollectionConsumer",_);return qr.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((D,b)=>T.indexOf(D.ref.current)-T.indexOf(b.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},I,r]}var dF=y.createContext(void 0);function hF(t){const e=y.useContext(dF);return t||e||"ltr"}function fF(t){const e=pF(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(gF);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function pF(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=vF(s),a=yF(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Yl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mF=Symbol("radix.slottable");function gF(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mF}function yF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=wF.reduce((t,e)=>{const n=fF(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _F(t,e){t&&Uo.flushSync(()=>t.dispatchEvent(e))}function ks(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xF(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var EF="DismissableLayer",wm="dismissableLayer.update",bF="dismissableLayer.pointerDownOutside",TF="dismissableLayer.focusOutside",f0,BI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zI=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=y.useContext(BI),[h,f]=y.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),I=yt(e,b=>f(b)),_=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(S),w=h?_.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,O=CF(b=>{const E=b.target,C=[...d.branches].some(R=>R.contains(E));!N||C||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),D=AF(b=>{const E=b.target;[...d.branches].some(R=>R.contains(E))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return xF(b=>{w===d.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(f0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),p0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=f0)}},[h,m,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),p0())},[h,d]),y.useEffect(()=>{const b=()=>v({});return document.addEventListener(wm,b),()=>document.removeEventListener(wm,b)},[]),u.jsx(qe.div,{...l,ref:I,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,O.onPointerDownCapture)})});zI.displayName=EF;var SF="DismissableLayerBranch",IF=y.forwardRef((t,e)=>{const n=y.useContext(BI),r=y.useRef(null),s=yt(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(qe.div,{...t,ref:s})});IF.displayName=SF;function CF(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$I(bF,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function AF(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&$I(TF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p0(){const t=new CustomEvent(wm);document.dispatchEvent(t)}function $I(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_F(s,i):s.dispatchEvent(i)}var Lf=0;function NF(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??m0()),document.body.insertAdjacentElement("beforeend",t[1]??m0()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lf--}},[])}function m0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mf="focusScope.autoFocusOnMount",Vf="focusScope.autoFocusOnUnmount",g0={bubbles:!1,cancelable:!0},RF="FocusScope",WI=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),d=ks(s),h=ks(i),f=y.useRef(null),m=yt(e,_=>l(_)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(T){if(v.paused||!a)return;const N=T.target;a.contains(N)?f.current=N:Gr(f.current,{select:!0})},S=function(T){if(v.paused||!a)return;const N=T.relatedTarget;N!==null&&(a.contains(N)||Gr(f.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Gr(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){v0.add(v);const _=document.activeElement;if(!a.contains(_)){const x=new CustomEvent(Mf,g0);a.addEventListener(Mf,d),a.dispatchEvent(x),x.defaultPrevented||(kF(LF(HI(a)),{select:!0}),document.activeElement===_&&Gr(a))}return()=>{a.removeEventListener(Mf,d),setTimeout(()=>{const x=new CustomEvent(Vf,g0);a.addEventListener(Vf,h),a.dispatchEvent(x),x.defaultPrevented||Gr(_??document.body,{select:!0}),a.removeEventListener(Vf,h),v0.remove(v)},0)}}},[a,d,h,v]);const I=y.useCallback(_=>{if(!n&&!r||v.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,x=document.activeElement;if(S&&x){const w=_.currentTarget,[T,N]=PF(w);T&&N?!_.shiftKey&&x===N?(_.preventDefault(),n&&Gr(T,{select:!0})):_.shiftKey&&x===T&&(_.preventDefault(),n&&Gr(N,{select:!0})):x===w&&_.preventDefault()}},[n,r,v.paused]);return u.jsx(qe.div,{tabIndex:-1,...o,ref:m,onKeyDown:I})});WI.displayName=RF;function kF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gr(r,{select:e}),document.activeElement!==n)return}function PF(t){const e=HI(t),n=y0(e,t),r=y0(e.reverse(),t);return[n,r]}function HI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function y0(t,e){for(const n of t)if(!jF(n,{upTo:e}))return n}function jF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DF(t){return t instanceof HTMLInputElement&&"select"in t}function Gr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&DF(t)&&e&&t.select()}}var v0=OF();function OF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=w0(t,e),t.unshift(e)},remove(e){var n;t=w0(t,e),(n=t[0])==null||n.resume()}}}function w0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LF(t){return t.filter(e=>e.tagName!=="A")}var vt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},MF=bd[" useId ".trim().toString()]||(()=>{}),VF=0;function Fy(t){const[e,n]=y.useState(MF());return vt(()=>{n(r=>r??String(VF++))},[t]),e?`radix-${e}`:""}const FF=["top","right","bottom","left"],Ps=Math.min,en=Math.max,yd=Math.round,Fc=Math.floor,ir=t=>({x:t,y:t}),UF={left:"right",right:"left",bottom:"top",top:"bottom"},BF={start:"end",end:"start"};function _m(t,e,n){return en(t,Ps(e,n))}function kr(t,e){return typeof t=="function"?t(e):t}function Pr(t){return t.split("-")[0]}function Jo(t){return t.split("-")[1]}function Uy(t){return t==="x"?"y":"x"}function By(t){return t==="y"?"height":"width"}const zF=new Set(["top","bottom"]);function Kn(t){return zF.has(Pr(t))?"y":"x"}function zy(t){return Uy(Kn(t))}function $F(t,e,n){n===void 0&&(n=!1);const r=Jo(t),s=zy(t),i=By(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vd(o)),[o,vd(o)]}function WF(t){const e=vd(t);return[xm(t),e,xm(e)]}function xm(t){return t.replace(/start|end/g,e=>BF[e])}const _0=["left","right"],x0=["right","left"],HF=["top","bottom"],qF=["bottom","top"];function GF(t,e,n){switch(t){case"top":case"bottom":return n?e?x0:_0:e?_0:x0;case"left":case"right":return e?HF:qF;default:return[]}}function KF(t,e,n,r){const s=Jo(t);let i=GF(Pr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(xm)))),i}function vd(t){return t.replace(/left|right|bottom|top/g,e=>UF[e])}function QF(t){return{top:0,right:0,bottom:0,left:0,...t}}function qI(t){return typeof t!="number"?QF(t):{top:t,right:t,bottom:t,left:t}}function wd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function E0(t,e,n){let{reference:r,floating:s}=t;const i=Kn(e),o=zy(e),a=By(o),l=Pr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Jo(e)){case"start":v[o]-=m*(n&&d?-1:1);break;case"end":v[o]+=m*(n&&d?-1:1);break}return v}const YF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=E0(d,r,l),m=r,v={},I=0;for(let _=0;_<a.length;_++){const{name:S,fn:x}=a[_],{x:w,y:T,data:N,reset:O}=await x({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=T??f,v={...v,[S]:{...v[S],...N}},O&&I<=50&&(I++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=E0(d,m,l)),_=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:v}};async function kl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=kr(e,t),I=qI(v),S=a[m?f==="floating"?"reference":"floating":f],x=wd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=wd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(x.top-O.top+I.top)/N.y,bottom:(O.bottom-x.bottom+I.bottom)/N.y,left:(x.left-O.left+I.left)/N.x,right:(O.right-x.right+I.right)/N.x}}const XF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=kr(t,e)||{};if(d==null)return{};const f=qI(h),m={x:n,y:r},v=zy(s),I=By(v),_=await o.getDimensions(d),S=v==="y",x=S?"top":"left",w=S?"bottom":"right",T=S?"clientHeight":"clientWidth",N=i.reference[I]+i.reference[v]-m[v]-i.floating[I],O=m[v]-i.reference[v],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=D?D[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(D)))&&(b=a.floating[T]||i.floating[I]);const E=N/2-O/2,C=b/2-_[I]/2-1,R=Ps(f[x],C),j=Ps(f[w],C),P=R,k=b-_[I]-j,H=b/2-_[I]/2+E,te=_m(P,H,k),Q=!l.arrow&&Jo(s)!=null&&H!==te&&i.reference[I]/2-(H<P?R:j)-_[I]/2<0,se=Q?H<P?H-P:H-k:0;return{[v]:m[v]+se,data:{[v]:te,centerOffset:H-te-se,...Q&&{alignmentOffset:se}},reset:Q}}}),JF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...S}=kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Pr(s),w=Kn(a),T=Pr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=m||(T||!_?[vd(a)]:WF(a)),D=I!=="none";!m&&D&&O.push(...KF(a,_,I,N));const b=[a,...O],E=await kl(e,S),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(E[x]),f){const H=$F(s,o,N);C.push(E[H[0]],E[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var j,P;const H=(((j=i.flip)==null?void 0:j.index)||0)+1,te=b[H];if(te&&(!(f==="alignment"?w!==Kn(te):!1)||R.every(V=>Kn(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:H,overflows:R},reset:{placement:te}};let Q=(P=R.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:P.placement;if(!Q)switch(v){case"bestFit":{var k;const se=(k=R.filter(V=>{if(D){const $=Kn(V.placement);return $===w||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:k[0];se&&(Q=se);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function b0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T0(t){return FF.some(e=>t[e]>=0)}const ZF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=kr(t,e);switch(r){case"referenceHidden":{const i=await kl(e,{...s,elementContext:"reference"}),o=b0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:T0(o)}}}case"escaped":{const i=await kl(e,{...s,altBoundary:!0}),o=b0(i,n.floating);return{data:{escapedOffsets:o,escaped:T0(o)}}}default:return{}}}}},GI=new Set(["left","top"]);async function eU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pr(n),a=Jo(n),l=Kn(n)==="y",d=GI.has(o)?-1:1,h=i&&l?-1:1,f=kr(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(v=a==="end"?I*-1:I),l?{x:v*h,y:m*d}:{x:m*d,y:v*h}}const tU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await eU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},nU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x,y:w}=S;return{x,y:w}}},...l}=kr(t,e),d={x:n,y:r},h=await kl(e,l),f=Kn(Pr(s)),m=Uy(f);let v=d[m],I=d[f];if(i){const S=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=v+h[S],T=v-h[x];v=_m(w,v,T)}if(o){const S=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=I+h[S],T=I-h[x];I=_m(w,I,T)}const _=a.fn({...e,[m]:v,[f]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},rU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=kr(t,e),h={x:n,y:r},f=Kn(s),m=Uy(f);let v=h[m],I=h[f];const _=kr(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+S.mainAxis,O=i.reference[m]+i.reference[T]-S.mainAxis;v<N?v=N:v>O&&(v=O)}if(d){var x,w;const T=m==="y"?"width":"height",N=GI.has(Pr(s)),O=i.reference[f]-i.floating[T]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:S.crossAxis),D=i.reference[f]+i.reference[T]+(N?0:((w=o.offset)==null?void 0:w[f])||0)-(N?S.crossAxis:0);I<O?I=O:I>D&&(I=D)}return{[m]:v,[f]:I}}}},sU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=kr(t,e),h=await kl(e,d),f=Pr(s),m=Jo(s),v=Kn(s)==="y",{width:I,height:_}=i.floating;let S,x;f==="top"||f==="bottom"?(S=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,S=m==="end"?"top":"bottom");const w=_-h.top-h.bottom,T=I-h.left-h.right,N=Ps(_-h[S],w),O=Ps(I-h[x],T),D=!e.middlewareData.shift;let b=N,E=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),D&&!m){const R=en(h.left,0),j=en(h.right,0),P=en(h.top,0),k=en(h.bottom,0);v?E=I-2*(R!==0||j!==0?R+j:en(h.left,h.right)):b=_-2*(P!==0||k!==0?P+k:en(h.top,h.bottom))}await l({...e,availableWidth:E,availableHeight:b});const C=await o.getDimensions(a.floating);return I!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function ph(){return typeof window<"u"}function Zo(t){return KI(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cr(t){var e;return(e=(KI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KI(t){return ph()?t instanceof Node||t instanceof an(t).Node:!1}function Ln(t){return ph()?t instanceof Element||t instanceof an(t).Element:!1}function lr(t){return ph()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function S0(t){return!ph()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}const iU=new Set(["inline","contents"]);function Xl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iU.has(s)}const oU=new Set(["table","td","th"]);function aU(t){return oU.has(Zo(t))}const lU=[":popover-open",":modal"];function mh(t){return lU.some(e=>{try{return t.matches(e)}catch{return!1}})}const cU=["transform","translate","scale","rotate","perspective"],uU=["transform","translate","scale","rotate","perspective","filter"],dU=["paint","layout","strict","content"];function $y(t){const e=Wy(),n=Ln(t)?Mn(t):t;return cU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uU.some(r=>(n.willChange||"").includes(r))||dU.some(r=>(n.contain||"").includes(r))}function hU(t){let e=js(t);for(;lr(e)&&!Oo(e);){if($y(e))return e;if(mh(e))return null;e=js(e)}return null}function Wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fU=new Set(["html","body","#document"]);function Oo(t){return fU.has(Zo(t))}function Mn(t){return an(t).getComputedStyle(t)}function gh(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function js(t){if(Zo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||S0(t)&&t.host||cr(t);return S0(e)?e.host:e}function QI(t){const e=js(t);return Oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:lr(e)&&Xl(e)?e:QI(e)}function Pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=an(s);if(i){const a=Em(o);return e.concat(o,o.visualViewport||[],Xl(s)?s:[],a&&n?Pl(a):[])}return e.concat(s,Pl(s,[],n))}function Em(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YI(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yd(n)!==i||yd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Hy(t){return Ln(t)?t:t.contextElement}function vo(t){const e=Hy(t);if(!lr(e))return ir(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=YI(e);let o=(i?yd(n.width):n.width)/r,a=(i?yd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pU=ir(0);function XI(t){const e=an(t);return!Wy()||!e.visualViewport?pU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==an(t)?!1:e}function Ii(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Hy(t);let o=ir(1);e&&(r?Ln(r)&&(o=vo(r)):o=vo(t));const a=mU(i,n,r)?XI(i):ir(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=an(i),v=r&&Ln(r)?an(r):r;let I=m,_=Em(I);for(;_&&r&&v!==I;){const S=vo(_),x=_.getBoundingClientRect(),w=Mn(_),T=x.left+(_.clientLeft+parseFloat(w.paddingLeft))*S.x,N=x.top+(_.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,d*=S.y,h*=S.x,f*=S.y,l+=T,d+=N,I=an(_),_=Em(I)}}return wd({width:h,height:f,x:l,y:d})}function yh(t,e){const n=gh(t).scrollLeft;return e?e.left+n:Ii(cr(t)).left+n}function JI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-yh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function gU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=cr(r),a=e?mh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=ir(1);const h=ir(0),f=lr(r);if((f||!f&&!i)&&((Zo(r)!=="body"||Xl(o))&&(l=gh(r)),lr(r))){const v=Ii(r);d=vo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=o&&!f&&!i?JI(o,l):ir(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function yU(t){return Array.from(t.getClientRects())}function vU(t){const e=cr(t),n=gh(t),r=t.ownerDocument.body,s=en(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=en(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yh(t);const a=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=en(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const I0=25;function wU(t,e){const n=an(t),r=cr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=Wy();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const d=yh(r);if(d<=0){const h=r.ownerDocument,f=h.body,m=getComputedStyle(f),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,I=Math.abs(r.clientWidth-f.clientWidth-v);I<=I0&&(i-=I)}else d<=I0&&(i+=d);return{width:i,height:o,x:a,y:l}}const _U=new Set(["absolute","fixed"]);function xU(t,e){const n=Ii(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=lr(t)?vo(t):ir(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function C0(t,e,n){let r;if(e==="viewport")r=wU(t,n);else if(e==="document")r=vU(cr(t));else if(Ln(e))r=xU(e,n);else{const s=XI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wd(r)}function ZI(t,e){const n=js(t);return n===e||!Ln(n)||Oo(n)?!1:Mn(n).position==="fixed"||ZI(n,e)}function EU(t,e){const n=e.get(t);if(n)return n;let r=Pl(t,[],!1).filter(a=>Ln(a)&&Zo(a)!=="body"),s=null;const i=Mn(t).position==="fixed";let o=i?js(t):t;for(;Ln(o)&&!Oo(o);){const a=Mn(o),l=$y(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&_U.has(s.position)||Xl(o)&&!l&&ZI(t,o))?r=r.filter(h=>h!==o):s=a,o=js(o)}return e.set(t,r),r}function bU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?mh(e)?[]:EU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=C0(e,h,s);return d.top=en(f.top,d.top),d.right=Ps(f.right,d.right),d.bottom=Ps(f.bottom,d.bottom),d.left=en(f.left,d.left),d},C0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TU(t){const{width:e,height:n}=YI(t);return{width:e,height:n}}function SU(t,e,n){const r=lr(e),s=cr(e),i=n==="fixed",o=Ii(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ir(0);function d(){l.x=yh(s)}if(r||!r&&!i)if((Zo(e)!=="body"||Xl(s))&&(a=gh(e)),r){const v=Ii(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?JI(s,a):ir(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Ff(t){return Mn(t).position==="static"}function A0(t,e){if(!lr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return cr(t)===n&&(n=n.ownerDocument.body),n}function eC(t,e){const n=an(t);if(mh(t))return n;if(!lr(t)){let s=js(t);for(;s&&!Oo(s);){if(Ln(s)&&!Ff(s))return s;s=js(s)}return n}let r=A0(t,e);for(;r&&aU(r)&&Ff(r);)r=A0(r,e);return r&&Oo(r)&&Ff(r)&&!$y(r)?n:r||hU(t)||n}const IU=async function(t){const e=this.getOffsetParent||eC,n=this.getDimensions,r=await n(t.floating);return{reference:SU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CU(t){return Mn(t).direction==="rtl"}const AU={convertOffsetParentRelativeRectToViewportRelativeRect:gU,getDocumentElement:cr,getClippingRect:bU,getOffsetParent:eC,getElementRects:IU,getClientRects:yU,getDimensions:TU,getScale:vo,isElement:Ln,isRTL:CU};function tC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NU(t,e){let n=null,r;const s=cr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:v}=d;if(a||e(),!m||!v)return;const I=Fc(f),_=Fc(s.clientWidth-(h+m)),S=Fc(s.clientHeight-(f+v)),x=Fc(h),T={rootMargin:-I+"px "+-_+"px "+-S+"px "+-x+"px",threshold:en(0,Ps(1,l))||1};let N=!0;function O(D){const b=D[0].intersectionRatio;if(b!==l){if(!N)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!tC(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function RU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Hy(t),h=s||i?[...d?Pl(d):[],...Pl(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&a?NU(d,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),n()}),d&&!l&&v.observe(d),v.observe(e));let I,_=l?Ii(t):null;l&&S();function S(){const x=Ii(t);_&&!tC(_,x)&&n(),_=x,I=requestAnimationFrame(S)}return n(),()=>{var x;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(I)}}const kU=tU,PU=nU,jU=JF,DU=sU,OU=ZF,N0=XF,LU=rU,MU=(t,e,n)=>{const r=new Map,s={platform:AU,...n},i={...s.platform,_c:r};return YF(t,e,{...s,platform:i})};var VU=typeof document<"u",FU=function(){},fu=VU?y.useLayoutEffect:FU;function _d(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_d(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_d(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function R0(t,e){const n=nC(t);return Math.round(e*n)/n}function Uf(t){const e=y.useRef(t);return fu(()=>{e.current=t}),e}function UU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=y.useState(r);_d(m,r)||v(r);const[I,_]=y.useState(null),[S,x]=y.useState(null),w=y.useCallback(V=>{V!==D.current&&(D.current=V,_(V))},[]),T=y.useCallback(V=>{V!==b.current&&(b.current=V,x(V))},[]),N=i||I,O=o||S,D=y.useRef(null),b=y.useRef(null),E=y.useRef(h),C=l!=null,R=Uf(l),j=Uf(s),P=Uf(d),k=y.useCallback(()=>{if(!D.current||!b.current)return;const V={placement:e,strategy:n,middleware:m};j.current&&(V.platform=j.current),MU(D.current,b.current,V).then($=>{const K={...$,isPositioned:P.current!==!1};H.current&&!_d(E.current,K)&&(E.current=K,Uo.flushSync(()=>{f(K)}))})},[m,e,n,j,P]);fu(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const H=y.useRef(!1);fu(()=>(H.current=!0,()=>{H.current=!1}),[]),fu(()=>{if(N&&(D.current=N),O&&(b.current=O),N&&O){if(R.current)return R.current(N,O,k);k()}},[N,O,k,R,C]);const te=y.useMemo(()=>({reference:D,floating:b,setReference:w,setFloating:T}),[w,T]),Q=y.useMemo(()=>({reference:N,floating:O}),[N,O]),se=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!Q.floating)return V;const $=R0(Q.floating,h.x),K=R0(Q.floating,h.y);return a?{...V,transform:"translate("+$+"px, "+K+"px)",...nC(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,a,Q.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:k,refs:te,elements:Q,floatingStyles:se}),[h,k,te,Q,se])}const BU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?N0({element:r.current,padding:s}).fn(n):{}:r?N0({element:r,padding:s}).fn(n):{}}}},zU=(t,e)=>({...kU(t),options:[t,e]}),$U=(t,e)=>({...PU(t),options:[t,e]}),WU=(t,e)=>({...LU(t),options:[t,e]}),HU=(t,e)=>({...jU(t),options:[t,e]}),qU=(t,e)=>({...DU(t),options:[t,e]}),GU=(t,e)=>({...OU(t),options:[t,e]}),KU=(t,e)=>({...BU(t),options:[t,e]});var QU="Arrow",rC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(qe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});rC.displayName=QU;var YU=rC;function XU(t){const[e,n]=y.useState(void 0);return vt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qy="Popper",[sC,iC]=Vy(qy),[JU,oC]=sC(qy),aC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(JU,{scope:e,anchor:r,onAnchorChange:s,children:n})};aC.displayName=qy;var lC="PopperAnchor",cC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=oC(lC,n),o=y.useRef(null),a=yt(e,o),l=y.useRef(null);return y.useEffect(()=>{const d=l.current;l.current=(r==null?void 0:r.current)||o.current,d!==l.current&&i.onAnchorChange(l.current)}),r?null:u.jsx(qe.div,{...s,ref:a})});cC.displayName=lC;var Gy="PopperContent",[ZU,e9]=sC(Gy),uC=y.forwardRef((t,e)=>{var X,ye,tt,we,ge,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:I,..._}=t,S=oC(Gy,n),[x,w]=y.useState(null),T=yt(e,ut=>w(ut)),[N,O]=y.useState(null),D=XU(N),b=(D==null?void 0:D.width)??0,E=(D==null?void 0:D.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],P=j.length>0,k={padding:R,boundary:j.filter(n9),altBoundary:P},{refs:H,floatingStyles:te,placement:Q,isPositioned:se,middlewareData:V}=UU({strategy:"fixed",placement:C,whileElementsMounted:(...ut)=>RU(...ut,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[zU({mainAxis:s+E,alignmentAxis:o}),l&&$U({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WU():void 0,...k}),l&&HU({...k}),qU({...k,apply:({elements:ut,rects:Xt,availableWidth:Ks,availableHeight:ur})=>{const{width:dr,height:Jl}=Xt.reference,Be=ut.floating.style;Be.setProperty("--radix-popper-available-width",`${Ks}px`),Be.setProperty("--radix-popper-available-height",`${ur}px`),Be.setProperty("--radix-popper-anchor-width",`${dr}px`),Be.setProperty("--radix-popper-anchor-height",`${Jl}px`)}}),N&&KU({element:N,padding:a}),r9({arrowWidth:b,arrowHeight:E}),m&&GU({strategy:"referenceHidden",...k})]}),[$,K]=fC(Q),ie=ks(I);vt(()=>{se&&(ie==null||ie())},[se,ie]);const _e=(X=V.arrow)==null?void 0:X.x,Yt=(ye=V.arrow)==null?void 0:ye.y,Ue=((tt=V.arrow)==null?void 0:tt.centerOffset)!==0,[Ft,et]=y.useState();return vt(()=>{x&&et(window.getComputedStyle(x).zIndex)},[x]),u.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:se?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ft,"--radix-popper-transform-origin":[(we=V.transformOrigin)==null?void 0:we.x,(ge=V.transformOrigin)==null?void 0:ge.y].join(" "),...((pe=V.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(ZU,{scope:n,placedSide:$,onArrowChange:O,arrowX:_e,arrowY:Yt,shouldHideArrow:Ue,children:u.jsx(qe.div,{"data-side":$,"data-align":K,..._,ref:T,style:{..._.style,animation:se?void 0:"none"}})})})});uC.displayName=Gy;var dC="PopperArrow",t9={top:"bottom",right:"left",bottom:"top",left:"right"},hC=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=e9(dC,r),o=t9[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(YU,{...s,ref:n,style:{...s.style,display:"block"}})})});hC.displayName=dC;function n9(t){return t!==null}var r9=t=>({name:"transformOrigin",options:t,fn(e){var S,x,w;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=fC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let I="",_="";return d==="bottom"?(I=o?f:`${m}px`,_=`${-l}px`):d==="top"?(I=o?f:`${m}px`,_=`${r.floating.height+l}px`):d==="right"?(I=`${-l}px`,_=o?f:`${v}px`):d==="left"&&(I=`${r.floating.width+l}px`,_=o?f:`${v}px`),{data:{x:I,y:_}}}});function fC(t){const[e,n="center"]=t.split("-");return[e,n]}var s9=aC,i9=cC,o9=uC,a9=hC,l9="Portal",pC=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);vt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wk.createPortal(u.jsx(qe.div,{...r,ref:e}),o):null});pC.displayName=l9;function c9(t){const e=u9(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(h9);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function u9(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=p9(s),a=f9(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Yl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var d9=Symbol("radix.slottable");function h9(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===d9}function f9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m9=bd[" useInsertionEffect ".trim().toString()]||vt;function k0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=g9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const m=y9(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,d]}function g9({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return m9(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function y9(t){return typeof t=="function"}function v9(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),w9="VisuallyHidden",_9=y.forwardRef((t,e)=>u.jsx(qe.span,{...t,ref:e,style:{...mC,...t.style}}));_9.displayName=w9;var x9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ui=new WeakMap,Uc=new WeakMap,Bc={},Bf=0,gC=function(t){return t&&(t.host||gC(t.parentNode))},E9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},b9=function(t,e,n,r){var s=E9(e,Array.isArray(t)?t:[t]);Bc[n]||(Bc[n]=new WeakMap);var i=Bc[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var v=m.getAttribute(r),I=v!==null&&v!=="false",_=(Ui.get(m)||0)+1,S=(i.get(m)||0)+1;Ui.set(m,_),i.set(m,S),o.push(m),_===1&&I&&Uc.set(m,!0),S===1&&m.setAttribute(n,"true"),I||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),a.clear(),Bf++,function(){o.forEach(function(f){var m=Ui.get(f)-1,v=i.get(f)-1;Ui.set(f,m),i.set(f,v),m||(Uc.has(f)||f.removeAttribute(r),Uc.delete(f)),v||f.removeAttribute(n)}),Bf--,Bf||(Ui=new WeakMap,Ui=new WeakMap,Uc=new WeakMap,Bc={})}},T9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=x9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),b9(r,s,n,"aria-hidden")):function(){return null}},Hn=function(){return Hn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hn.apply(this,arguments)};function yC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function S9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var pu="right-scroll-bar-position",mu="width-before-scroll-bar",I9="with-scroll-bars-hidden",C9="--removed-body-scroll-bar-size";function zf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N9=typeof window<"u"?y.useLayoutEffect:y.useEffect,P0=new WeakMap;function R9(t,e){var n=A9(null,function(r){return t.forEach(function(s){return zf(s,r)})});return N9(function(){var r=P0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||zf(a,null)}),i.forEach(function(a){s.has(a)||zf(a,o)})}P0.set(n,t)},[t]),n}function k9(t){return t}function P9(t,e){e===void 0&&(e=k9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function j9(t){t===void 0&&(t={});var e=P9(null);return e.options=Hn({async:!0,ssr:!1},t),e}var vC=function(t){var e=t.sideCar,n=yC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Hn({},n))};vC.isSideCarExport=!0;function D9(t,e){return t.useMedium(e),vC}var wC=j9(),$f=function(){},vh=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:$f,onWheelCapture:$f,onTouchMoveCapture:$f}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,v=t.noRelative,I=t.noIsolation,_=t.inert,S=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,T=t.gapMode,N=yC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=m,D=R9([n,e]),b=Hn(Hn({},N),s);return y.createElement(y.Fragment,null,h&&y.createElement(O,{sideCar:wC,removeScrollBar:d,shards:f,noRelative:v,noIsolation:I,inert:_,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),Hn(Hn({},b),{ref:D})):y.createElement(w,Hn({},b,{className:l,ref:D}),a))});vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vh.classNames={fullWidth:mu,zeroRight:pu};var O9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=O9();return e&&t.setAttribute("nonce",e),t}function M9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function V9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var F9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=L9())&&(M9(e,n),V9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U9=function(){var t=F9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_C=function(){var t=U9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},B9={left:0,top:0,right:0,gap:0},Wf=function(t){return parseInt(t||"",10)||0},z9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wf(n),Wf(r),Wf(s)]},$9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B9;var e=z9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},W9=_C(),wo="data-scroll-locked",H9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(I9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mu," .").concat(mu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(C9,": ").concat(a,`px;
  }
`)},j0=function(){var t=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(t)?t:0},q9=function(){y.useEffect(function(){return document.body.setAttribute(wo,(j0()+1).toString()),function(){var t=j0()-1;t<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,t.toString())}},[])},G9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q9();var i=y.useMemo(function(){return $9(s)},[s]);return y.createElement(W9,{styles:H9(i,!e,s,n?"":"!important")})},bm=!1;if(typeof window<"u")try{var zc=Object.defineProperty({},"passive",{get:function(){return bm=!0,!0}});window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{bm=!1}var Bi=bm?{passive:!1}:!1,K9=function(t){return t.tagName==="TEXTAREA"},xC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!K9(t)&&n[e]==="visible")},Q9=function(t){return xC(t,"overflowY")},Y9=function(t){return xC(t,"overflowX")},D0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EC(t,r);if(s){var i=bC(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},X9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},J9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EC=function(t,e){return t==="v"?Q9(e):Y9(e)},bC=function(t,e){return t==="v"?X9(e):J9(e)},Z9=function(t,e){return t==="h"&&e==="rtl"?-1:1},eB=function(t,e,n,r,s){var i=Z9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var v=bC(t,a),I=v[0],_=v[1],S=v[2],x=_-S-i*I;(I||x)&&EC(t,a)&&(f+=x,m+=I);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(d=!0),d},$c=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},O0=function(t){return[t.deltaX,t.deltaY]},L0=function(t){return t&&"current"in t?t.current:t},tB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rB=0,zi=[];function sB(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(rB++)[0],i=y.useState(_C)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=S9([t.lockRef.current],(t.shards||[]).map(L0),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var x=$c(_),w=n.current,T="deltaX"in _?_.deltaX:w[0]-x[0],N="deltaY"in _?_.deltaY:w[1]-x[1],O,D=_.target,b=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in _&&b==="h"&&D.type==="range")return!1;var E=D0(b,D);if(!E)return!0;if(E?O=b:(O=b==="v"?"h":"v",E=D0(b,D)),!E)return!1;if(!r.current&&"changedTouches"in _&&(T||N)&&(r.current=O),!O)return!0;var C=r.current||O;return eB(C,S,_,C==="h"?T:N)},[]),l=y.useCallback(function(_){var S=_;if(!(!zi.length||zi[zi.length-1]!==i)){var x="deltaY"in S?O0(S):$c(S),w=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&tB(O.delta,x)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(L0).filter(Boolean).filter(function(O){return O.contains(S.target)}),N=T.length>0?a(S,T[0]):!o.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),d=y.useCallback(function(_,S,x,w){var T={name:_,delta:S,target:x,should:w,shadowParent:iB(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),h=y.useCallback(function(_){n.current=$c(_),r.current=void 0},[]),f=y.useCallback(function(_){d(_.type,O0(_),_.target,a(_,t.lockRef.current))},[]),m=y.useCallback(function(_){d(_.type,$c(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return zi.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Bi),document.addEventListener("touchmove",l,Bi),document.addEventListener("touchstart",h,Bi),function(){zi=zi.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,Bi),document.removeEventListener("touchmove",l,Bi),document.removeEventListener("touchstart",h,Bi)}},[]);var v=t.removeScrollBar,I=t.inert;return y.createElement(y.Fragment,null,I?y.createElement(i,{styles:nB(s)}):null,v?y.createElement(G9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oB=D9(wC,sB);var TC=y.forwardRef(function(t,e){return y.createElement(vh,Hn({},t,{ref:e,sideCar:oB}))});TC.classNames=vh.classNames;var aB=[" ","Enter","ArrowUp","ArrowDown"],lB=[" ","Enter"],Ci="Select",[wh,_h,cB]=uF(Ci),[ea]=Vy(Ci,[cB,iC]),xh=iC(),[uB,qs]=ea(Ci),[dB,hB]=ea(Ci),SC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:v,form:I}=t,_=xh(e),[S,x]=y.useState(null),[w,T]=y.useState(null),[N,O]=y.useState(!1),D=hF(d),[b,E]=k0({prop:r,defaultProp:s??!1,onChange:i,caller:Ci}),[C,R]=k0({prop:o,defaultProp:a,onChange:l,caller:Ci}),j=y.useRef(null),P=S?I||!!S.closest("form"):!0,[k,H]=y.useState(new Set),te=Array.from(k).map(Q=>Q.props.value).join(";");return u.jsx(s9,{..._,children:u.jsxs(uB,{required:v,scope:e,trigger:S,onTriggerChange:x,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:Fy(),value:C,onValueChange:R,open:b,onOpenChange:E,dir:D,triggerPointerDownPosRef:j,disabled:m,children:[u.jsx(wh.Provider,{scope:e,children:u.jsx(dB,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(Q=>{H(se=>new Set(se).add(Q))},[]),onNativeOptionRemove:y.useCallback(Q=>{H(se=>{const V=new Set(se);return V.delete(Q),V})},[]),children:n})}),P?u.jsxs(QC,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Q=>R(Q.target.value),disabled:m,form:I,children:[C===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},te):null]})})};SC.displayName=Ci;var IC="SelectTrigger",CC=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=xh(n),o=qs(IC,n),a=o.disabled||r,l=yt(e,o.onTriggerChange),d=_h(n),h=y.useRef("touch"),[f,m,v]=XC(_=>{const S=d().filter(T=>!T.disabled),x=S.find(T=>T.value===o.value),w=JC(S,_,x);w!==void 0&&o.onValueChange(w.value)}),I=_=>{a||(o.onOpenChange(!0),v()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return u.jsx(i9,{asChild:!0,...i,children:u.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":YC(o.value)?"":void 0,...s,ref:l,onClick:Ke(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&I(_)}),onPointerDown:Ke(s.onPointerDown,_=>{h.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(I(_),_.preventDefault())}),onKeyDown:Ke(s.onKeyDown,_=>{const S=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(S&&_.key===" ")&&aB.includes(_.key)&&(I(),_.preventDefault())})})})});CC.displayName=IC;var AC="SelectValue",NC=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=qs(AC,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=yt(e,l.onValueNodeChange);return vt(()=>{d(h)},[d,h]),u.jsx(qe.span,{...a,ref:f,style:{pointerEvents:"none"},children:YC(l.value)?u.jsx(u.Fragment,{children:o}):i})});NC.displayName=AC;var fB="SelectIcon",RC=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(qe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});RC.displayName=fB;var pB="SelectPortal",kC=t=>u.jsx(pC,{asChild:!0,...t});kC.displayName=pB;var Ai="SelectContent",PC=y.forwardRef((t,e)=>{const n=qs(Ai,t.__scopeSelect),[r,s]=y.useState();if(vt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Uo.createPortal(u.jsx(jC,{scope:t.__scopeSelect,children:u.jsx(wh.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(DC,{...t,ref:e})});PC.displayName=Ai;var bn=10,[jC,Gs]=ea(Ai),mB="SelectContentImpl",gB=c9("SelectContent.RemoveScroll"),DC=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:I,hideWhenDetached:_,avoidCollisions:S,...x}=t,w=qs(Ai,n),[T,N]=y.useState(null),[O,D]=y.useState(null),b=yt(e,X=>N(X)),[E,C]=y.useState(null),[R,j]=y.useState(null),P=_h(n),[k,H]=y.useState(!1),te=y.useRef(!1);y.useEffect(()=>{if(T)return T9(T)},[T]),NF();const Q=y.useCallback(X=>{const[ye,...tt]=P().map(pe=>pe.ref.current),[we]=tt.slice(-1),ge=document.activeElement;for(const pe of X)if(pe===ge||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ye&&O&&(O.scrollTop=0),pe===we&&O&&(O.scrollTop=O.scrollHeight),pe==null||pe.focus(),document.activeElement!==ge))return},[P,O]),se=y.useCallback(()=>Q([E,T]),[Q,E,T]);y.useEffect(()=>{k&&se()},[k,se]);const{onOpenChange:V,triggerPointerDownPosRef:$}=w;y.useEffect(()=>{if(T){let X={x:0,y:0};const ye=we=>{var ge,pe;X={x:Math.abs(Math.round(we.pageX)-(((ge=$.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(we.pageY)-(((pe=$.current)==null?void 0:pe.y)??0))}},tt=we=>{X.x<=10&&X.y<=10?we.preventDefault():T.contains(we.target)||V(!1),document.removeEventListener("pointermove",ye),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",tt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",tt,{capture:!0})}}},[T,V,$]),y.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[K,ie]=XC(X=>{const ye=P().filter(ge=>!ge.disabled),tt=ye.find(ge=>ge.ref.current===document.activeElement),we=JC(ye,X,tt);we&&setTimeout(()=>we.ref.current.focus())}),_e=y.useCallback((X,ye,tt)=>{const we=!te.current&&!tt;(w.value!==void 0&&w.value===ye||we)&&(C(X),we&&(te.current=!0))},[w.value]),Yt=y.useCallback(()=>T==null?void 0:T.focus(),[T]),Ue=y.useCallback((X,ye,tt)=>{const we=!te.current&&!tt;(w.value!==void 0&&w.value===ye||we)&&j(X)},[w.value]),Ft=r==="popper"?Tm:OC,et=Ft===Tm?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:I,hideWhenDetached:_,avoidCollisions:S}:{};return u.jsx(jC,{scope:n,content:T,viewport:O,onViewportChange:D,itemRefCallback:_e,selectedItem:E,onItemLeave:Yt,itemTextRefCallback:Ue,focusSelectedItem:se,selectedItemText:R,position:r,isPositioned:k,searchRef:K,children:u.jsx(TC,{as:gB,allowPinchZoom:!0,children:u.jsx(WI,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ke(s,X=>{var ye;(ye=w.trigger)==null||ye.focus({preventScroll:!0}),X.preventDefault()}),children:u.jsx(zI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Ft,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...x,...et,onPlaced:()=>H(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,X=>{const ye=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ye&&X.key.length===1&&ie(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let we=P().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(X.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ge=X.target,pe=we.indexOf(ge);we=we.slice(pe+1)}setTimeout(()=>Q(we)),X.preventDefault()}})})})})})})});DC.displayName=mB;var yB="SelectItemAlignedPosition",OC=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=qs(Ai,n),o=Gs(Ai,n),[a,l]=y.useState(null),[d,h]=y.useState(null),f=yt(e,b=>h(b)),m=_h(n),v=y.useRef(!1),I=y.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:x,focusSelectedItem:w}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&_&&S&&x){const b=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const ge=R.left-E.left,pe=C.left-ge,ut=b.left-pe,Xt=b.width+ut,Ks=Math.max(Xt,E.width),ur=window.innerWidth-bn,dr=d0(pe,[bn,Math.max(bn,ur-Ks)]);a.style.minWidth=Xt+"px",a.style.left=dr+"px"}else{const ge=E.right-R.right,pe=window.innerWidth-C.right-ge,ut=window.innerWidth-b.right-pe,Xt=b.width+ut,Ks=Math.max(Xt,E.width),ur=window.innerWidth-bn,dr=d0(pe,[bn,Math.max(bn,ur-Ks)]);a.style.minWidth=Xt+"px",a.style.right=dr+"px"}const j=m(),P=window.innerHeight-bn*2,k=_.scrollHeight,H=window.getComputedStyle(d),te=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),se=parseInt(H.borderBottomWidth,10),V=parseInt(H.paddingBottom,10),$=te+Q+k+V+se,K=Math.min(S.offsetHeight*5,$),ie=window.getComputedStyle(_),_e=parseInt(ie.paddingTop,10),Yt=parseInt(ie.paddingBottom,10),Ue=b.top+b.height/2-bn,Ft=P-Ue,et=S.offsetHeight/2,X=S.offsetTop+et,ye=te+Q+X,tt=$-ye;if(ye<=Ue){const ge=j.length>0&&S===j[j.length-1].ref.current;a.style.bottom="0px";const pe=d.clientHeight-_.offsetTop-_.offsetHeight,ut=Math.max(Ft,et+(ge?Yt:0)+pe+se),Xt=ye+ut;a.style.height=Xt+"px"}else{const ge=j.length>0&&S===j[0].ref.current;a.style.top="0px";const ut=Math.max(Ue,te+_.offsetTop+(ge?_e:0)+et)+tt;a.style.height=ut+"px",_.scrollTop=ye-Ue+_.offsetTop}a.style.margin=`${bn}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,a,d,_,S,x,i.dir,r]);vt(()=>T(),[T]);const[N,O]=y.useState();vt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const D=y.useCallback(b=>{b&&I.current===!0&&(T(),w==null||w(),I.current=!1)},[T,w]);return u.jsx(wB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:u.jsx(qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});OC.displayName=yB;var vB="SelectPopperPosition",Tm=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=bn,...i}=t,o=xh(n);return u.jsx(o9,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tm.displayName=vB;var[wB,Ky]=ea(Ai,{}),Sm="SelectViewport",LC=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Gs(Sm,n),o=Ky(Sm,n),a=yt(e,i.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(wh.Slot,{scope:n,children:u.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ke(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(l.current-h.scrollTop);if(v>0){const I=window.innerHeight-bn*2,_=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),x=Math.max(_,S);if(x<I){const w=x+v,T=Math.min(I,w),N=w-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});LC.displayName=Sm;var MC="SelectGroup",[_B,xB]=ea(MC),EB=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fy();return u.jsx(_B,{scope:n,id:s,children:u.jsx(qe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});EB.displayName=MC;var VC="SelectLabel",FC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xB(VC,n);return u.jsx(qe.div,{id:s.id,...r,ref:e})});FC.displayName=VC;var xd="SelectItem",[bB,UC]=ea(xd),BC=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=qs(xd,n),l=Gs(xd,n),d=a.value===r,[h,f]=y.useState(i??""),[m,v]=y.useState(!1),I=yt(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),_=Fy(),S=y.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(bB,{scope:n,value:r,disabled:s,textId:_,isSelected:d,onItemTextChange:y.useCallback(w=>{f(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(wh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(qe.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:Ke(o.onFocus,()=>v(!0)),onBlur:Ke(o.onBlur,()=>v(!1)),onClick:Ke(o.onClick,()=>{S.current!=="mouse"&&x()}),onPointerUp:Ke(o.onPointerUp,()=>{S.current==="mouse"&&x()}),onPointerDown:Ke(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:Ke(o.onPointerMove,w=>{var T;S.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:Ke(o.onKeyDown,w=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(lB.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});BC.displayName=xd;var Va="SelectItemText",zC=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=qs(Va,n),a=Gs(Va,n),l=UC(Va,n),d=hB(Va,n),[h,f]=y.useState(null),m=yt(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),v=h==null?void 0:h.textContent,I=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=d;return vt(()=>(_(I),()=>S(I)),[_,S,I]),u.jsxs(u.Fragment,{children:[u.jsx(qe.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Uo.createPortal(i.children,o.valueNode):null]})});zC.displayName=Va;var $C="SelectItemIndicator",WC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return UC($C,n).isSelected?u.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});WC.displayName=$C;var Im="SelectScrollUpButton",HC=y.forwardRef((t,e)=>{const n=Gs(Im,t.__scopeSelect),r=Ky(Im,t.__scopeSelect),[s,i]=y.useState(!1),o=yt(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(GC,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});HC.displayName=Im;var Cm="SelectScrollDownButton",qC=y.forwardRef((t,e)=>{const n=Gs(Cm,t.__scopeSelect),r=Ky(Cm,t.__scopeSelect),[s,i]=y.useState(!1),o=yt(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(GC,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});qC.displayName=Cm;var GC=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Gs("SelectScrollButton",n),o=y.useRef(null),a=_h(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),vt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ke(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ke(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ke(s.onPointerLeave,()=>{l()})})}),TB="SelectSeparator",KC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});KC.displayName=TB;var Am="SelectArrow",SB=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xh(n),i=qs(Am,n),o=Gs(Am,n);return i.open&&o.position==="popper"?u.jsx(a9,{...s,...r,ref:e}):null});SB.displayName=Am;var IB="SelectBubbleInput",QC=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=yt(r,s),o=v9(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),u.jsx(qe.select,{...n,style:{...mC,...n.style},ref:i,defaultValue:e})});QC.displayName=IB;function YC(t){return t===""||t===void 0}function XC(t){const e=ks(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function JC(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=CB(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function CB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var AB=SC,ZC=CC,NB=NC,RB=RC,kB=kC,eA=PC,PB=LC,tA=FC,nA=BC,jB=zC,DB=WC,rA=HC,sA=qC,iA=KC;const Hf=AB,qf=NB,gu=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(ZC,{ref:r,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(RB,{asChild:!0,children:u.jsx(LI,{className:"h-4 w-4 opacity-50"})})]}));gu.displayName=ZC.displayName;const oA=y.forwardRef(({className:t,...e},n)=>u.jsx(rA,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(S5,{className:"h-4 w-4"})}));oA.displayName=rA.displayName;const aA=y.forwardRef(({className:t,...e},n)=>u.jsx(sA,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(LI,{className:"h-4 w-4"})}));aA.displayName=sA.displayName;const yu=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(kB,{children:u.jsxs(eA,{ref:s,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(oA,{}),u.jsx(PB,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(aA,{})]})}));yu.displayName=eA.displayName;const OB=y.forwardRef(({className:t,...e},n)=>u.jsx(tA,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));OB.displayName=tA.displayName;const ri=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(nA,{ref:r,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(DB,{children:u.jsx(T5,{className:"h-4 w-4"})})}),u.jsx(jB,{children:e})]}));ri.displayName=nA.displayName;const LB=y.forwardRef(({className:t,...e},n)=>u.jsx(iA,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));LB.displayName=iA.displayName;const MB=()=>{var E;const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState([]),[o,a]=y.useState("all"),[l,d]=y.useState("all"),[h,f]=y.useState("all"),[m,v]=y.useState(""),[I,_]=y.useState(!0),[S,x]=y.useState([]),[w,T]=y.useState([]),N=async()=>{try{_(!0);const C="/api/practice/categories",R="/api/practice/challenges",[j,P]=await Promise.all([fetch(C),fetch(R)]);if(j.ok){const k=await j.json();e(k)}else e([]);if(P.ok){const k=await P.json();r(k),i(k);const H=Array.from(new Set(k.map(Q=>Q.type).filter(Boolean))),te=Array.from(new Set(k.map(Q=>Q.difficulty).filter(Boolean)));x(H),T(te)}else r([]),i([]),x([]),T([])}catch{e([]),r([]),i([]),x([]),T([])}finally{_(!1)}};y.useEffect(()=>{if(n.length===0)return;let C=n;m&&(C=C.filter(R=>{var j,P;return R.title.toLowerCase().includes(m.toLowerCase())||((j=R.description)==null?void 0:j.toLowerCase().includes(m.toLowerCase()))||((P=R.tags)==null?void 0:P.some(k=>k.toLowerCase().includes(m.toLowerCase())))})),o!=="all"&&(C=C.filter(R=>R.category===o)),l!=="all"&&(C=C.filter(R=>R.type===l)),h!=="all"&&(C=C.filter(R=>R.difficulty===h)),i(C)},[n,m,o,l,h]);const O=async C=>{try{(await fetch(`/api/practice/challenges/${C}/start`,{method:"POST"})).ok&&(window.location.href=`/challenge/${C}`)}catch(R){console.error("Failed to start challenge:",R)}},D=C=>{switch(C.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"expert":return"bg-purple-500/20 text-purple-500 border-purple-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};if(y.useEffect(()=>{N()},[]),I)return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading challenges..."})]})}),u.jsx(Lt,{})]});const b=n.length;return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Challenge ",u.jsx("span",{className:"text-primary",children:"Library"})]}),u.jsx("p",{className:"text-muted-foreground",children:b>0?`Browse and search through ${b} cybersecurity challenges`:"No challenges available yet. Challenges will appear here once they are added by administrators."})]}),b>0&&u.jsx(bt,{className:"border-border mb-8",children:u.jsxs(Tt,{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(gd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(UI,{placeholder:"Search by keyword or challenge...",className:"pl-9",value:m,onChange:C=>v(C.target.value)})]}),S.length>0&&u.jsxs(Hf,{value:l,onValueChange:d,children:[u.jsx(gu,{children:u.jsx(qf,{placeholder:"Type"})}),u.jsxs(yu,{children:[u.jsx(ri,{value:"all",children:"All Types"}),S.map(C=>u.jsx(ri,{value:C,children:C},C))]})]}),t.length>0&&u.jsxs(Hf,{value:o,onValueChange:a,children:[u.jsx(gu,{children:u.jsx(qf,{placeholder:"Category"})}),u.jsxs(yu,{children:[u.jsx(ri,{value:"all",children:"All Categories"}),t.map(C=>u.jsx(ri,{value:C.id,children:C.name},C.id))]})]}),w.length>0&&u.jsxs(Hf,{value:h,onValueChange:f,children:[u.jsx(gu,{children:u.jsx(qf,{placeholder:"Difficulty"})}),u.jsxs(yu,{children:[u.jsx(ri,{value:"all",children:"All Difficulties"}),w.map(C=>u.jsx(ri,{value:C,children:C},C))]})]})]}),(o!=="all"||l!=="all"||h!=="all"||m)&&u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),m&&u.jsxs(zn,{variant:"secondary",className:"flex items-center gap-1",children:['Search: "',m,'"',u.jsx(Qe,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>v(""),children:""})]}),l!=="all"&&u.jsxs(zn,{variant:"secondary",className:"flex items-center gap-1",children:["Type: ",l,u.jsx(Qe,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>d("all"),children:""})]}),o!=="all"&&u.jsxs(zn,{variant:"secondary",className:"flex items-center gap-1",children:["Category: ",(E=t.find(C=>C.id===o))==null?void 0:E.name,u.jsx(Qe,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>a("all"),children:""})]}),h!=="all"&&u.jsxs(zn,{variant:"secondary",className:"flex items-center gap-1",children:["Difficulty: ",h,u.jsx(Qe,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>f("all"),children:""})]}),u.jsx(Qe,{variant:"ghost",size:"sm",onClick:()=>{v(""),d("all"),a("all"),f("all")},children:"Clear all"})]})]})}),b>0&&u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("div",{children:u.jsxs("span",{className:"text-muted-foreground",children:["Showing ",s.length," of ",b," challenges"]})})}),u.jsx(bt,{className:"border-border",children:u.jsx(Tt,{className:"p-0",children:b===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(Rr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No challenges available"}),u.jsx("p",{className:"text-sm",children:"Challenges will appear here once they are added by administrators. Check back later or contact the platform administrators."})]}):s.length===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(gd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No challenges found"}),u.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or filters"}),u.jsx(Qe,{variant:"outline",className:"mt-4",onClick:()=>{v(""),d("all"),a("all"),f("all")},children:"Clear all filters"})]}):u.jsx("div",{className:"divide-y divide-border",children:s.map(C=>{var R;return u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-6 hover:bg-muted/10 transition-all",children:[u.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[C.completed?u.jsx(I5,{className:"w-6 h-6 text-primary mt-1 flex-shrink-0"}):u.jsx(Rr,{className:"w-6 h-6 text-muted-foreground mt-1 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-bold text-lg mb-2",children:C.title}),C.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:C.description}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(zn,{className:D(C.difficulty),children:C.difficulty}),u.jsx(zn,{variant:"outline",className:"border-primary/30 text-primary",children:C.category}),C.type&&u.jsx(zn,{variant:"secondary",children:C.type}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[C.solvedCount," solved"]}),(R=C.tags)==null?void 0:R.map((j,P)=>u.jsx(zn,{variant:"outline",className:"text-xs",children:j},P))]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 md:ml-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xl font-bold text-primary",children:C.points}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]}),u.jsx(Qe,{variant:C.completed?"outline":"neon",size:"sm",onClick:()=>O(C.id),children:C.completed?"Review":"Start"})]})]},C.id)})})})})]})}),u.jsx(Lt,{})]})},VB=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=async()=>{try{const h="/api/events/live",f="/api/events/upcoming",[m,v]=await Promise.all([fetch(h,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(f)]);if(m.ok){const I=await m.json();e(I)}else e([]);if(v.ok){const I=await v.json();r(I)}else r([])}catch{e([]),r([])}finally{i(!1)}},a=async h=>{try{(await fetch("/api/events/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&o()}catch(f){console.error("Failed to register for event:",f)}},l=async h=>{try{(await fetch("/api/events/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&(window.location.href=`/competition/${h}`)}catch(f){console.error("Failed to join live event:",f)}};if(y.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),s)return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading events..."})]})}),u.jsx(Lt,{})]});const d=t[0];return u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx(Mc,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[u.jsx("span",{className:"text-primary",children:"LIVE"})," Events"]}),u.jsx("p",{className:"text-muted-foreground",children:"Compete in real-time for prizes"})]}),d?u.jsxs(bt,{className:"max-w-4xl mx-auto border-primary/50 bg-gradient-to-br from-primary/5 to-transparent mb-8 animate-glow",children:[u.jsx(In,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Cn,{className:"text-2xl flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),d.title]}),u.jsx(zn,{className:"bg-primary text-primary-foreground font-bold px-4 py-1",children:d.status==="LIVE"?"LIVE NOW":"STARTING SOON"})]})}),u.jsxs(Tt,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(fh,{className:"w-8 h-8 text-primary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold font-mono",children:d.timeLeft}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Time Left"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Rs,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.participants}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Players"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Gn,{className:"w-8 h-8 text-primary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.prize}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Prize Pool"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Mc,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.difficulty}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Difficulty"})]})]}),u.jsxs(Qe,{variant:"neon",size:"lg",className:"w-full",onClick:()=>l(d.id),children:[u.jsx(Mc,{className:"w-5 h-5"}),d.status==="LIVE"?"Join Event Now":"Prepare for Event"]})]})]}):u.jsx(bt,{className:"max-w-4xl mx-auto border-border mb-8",children:u.jsxs(Tt,{className:"p-12 text-center",children:[u.jsx(Mc,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Live Events"}),u.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming competitions"})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Upcoming Events"}),n.length===0?u.jsx(bt,{className:"border-border",children:u.jsxs(Tt,{className:"p-8 text-center",children:[u.jsx(pd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled"})]})}):u.jsx("div",{className:"space-y-4",children:n.map(h=>u.jsx(bt,{className:"border-border hover:border-primary/30 transition-all",children:u.jsx(Tt,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("h4",{className:"font-bold text-xl",children:h.title}),u.jsx(zn,{variant:"outline",className:"border-primary/30 text-primary",children:h.difficulty})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pd,{className:"w-4 h-4"}),h.date]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Rs,{className:"w-4 h-4"}),h.participants," registered",h.maxParticipants&&` / ${h.maxParticipants} max`]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"w-4 h-4"}),"Prize: ",h.prize]})]}),h.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:h.description})]}),u.jsx(Qe,{variant:h.registered?"outline":"terminal",className:"md:ml-4",onClick:()=>!h.registered&&a(h.id),disabled:h.registered,children:h.registered?"Registered ":"Register"})]})})},h.id))})]})]})}),u.jsx(Lt,{})]})};function FB(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o);a.displayName=i+"Context";const l=n.length;n=[...n,o];const d=f=>{var x;const{scope:m,children:v,...I}=f,_=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,S=y.useMemo(()=>I,Object.values(I));return u.jsx(_.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,m){var _;const v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,I=y.useContext(v);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,UB(s,...e)]}function UB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var BB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qy=BB.reduce((t,e)=>{const n=SI(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lA={exports:{}},cA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=y;function zB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $B=typeof Object.is=="function"?Object.is:zB,WB=Lo.useState,HB=Lo.useEffect,qB=Lo.useLayoutEffect,GB=Lo.useDebugValue;function KB(t,e){var n=e(),r=WB({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return qB(function(){s.value=n,s.getSnapshot=e,Gf(s)&&i({inst:s})},[t,n,e]),HB(function(){return Gf(s)&&i({inst:s}),t(function(){Gf(s)&&i({inst:s})})},[t]),GB(n),n}function Gf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$B(t,n)}catch{return!0}}function QB(t,e){return e()}var YB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QB:KB;cA.useSyncExternalStore=Lo.useSyncExternalStore!==void 0?Lo.useSyncExternalStore:YB;lA.exports=cA;var XB=lA.exports;function JB(){return XB.useSyncExternalStore(ZB,()=>!0,()=>!1)}function ZB(){return()=>{}}var Yy="Avatar",[e8]=FB(Yy),[t8,uA]=e8(Yy),dA=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(t8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Qy.span,{...r,ref:e})})});dA.displayName=Yy;var hA="AvatarImage",fA=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=uA(hA,n),a=n8(r,i),l=ks(d=>{s(d),o.onImageLoadingStatusChange(d)});return vt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Qy.img,{...i,ref:e,src:r}):null});fA.displayName=hA;var pA="AvatarFallback",mA=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=uA(pA,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Qy.span,{...s,ref:e}):null});mA.displayName=pA;function M0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n8(t,{referrerPolicy:e,crossOrigin:n}){const r=JB(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>M0(i,t));return vt(()=>{a(M0(i,t))},[i,t]),vt(()=>{const l=f=>()=>{a(f)};if(!i)return;const d=l("loaded"),h=l("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}var gA=dA,yA=fA,vA=mA;const wA=y.forwardRef(({className:t,...e},n)=>u.jsx(gA,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));wA.displayName=gA.displayName;const r8=y.forwardRef(({className:t,...e},n)=>u.jsx(yA,{ref:n,className:Ze("aspect-square h-full w-full",t),...e}));r8.displayName=yA.displayName;const _A=y.forwardRef(({className:t,...e},n)=>u.jsx(vA,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));_A.displayName=vA.displayName;const s8=({eventName:t="CTF Competition"})=>{const[e,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState(!0),a=async()=>{try{const l="/api/ctf/leaderboard",d="/api/platform/top-users",[h,f]=await Promise.all([fetch(l,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(d)]);if(h.ok){const m=await h.json();n(m)}else n([]);if(f.ok){const m=await f.json();s(m)}else s([])}catch{n([]),s([])}finally{o(!1)}};return y.useEffect(()=>{a();const l=setInterval(a,5e3);return()=>clearInterval(l)},[]),i?u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"leaderboard",className:"pt-24 pb-16 bg-muted/20 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading leaderboard data..."})]})}),u.jsx(Lt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ot,{}),u.jsx("section",{id:"ctf-leaderboard",className:"pt-24 pb-16 bg-background min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Gn,{className:"w-12 h-12 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t," - ",u.jsx("span",{className:"text-primary",children:"Live Scoreboard"})]})]}),u.jsxs(bt,{className:"max-w-6xl mx-auto border-border",children:[u.jsx(In,{className:"bg-muted/30",children:u.jsxs(Cn,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-primary"}),"Live Competition Rankings"]}),u.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e.length>0?`${e.length} Teams Competing`:"No active competition"})]})}),u.jsx(Tt,{className:"p-0",children:e.length===0?u.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[u.jsx(Gn,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No scores available yet"}),u.jsx("p",{className:"text-sm",children:"Leaderboard will update when competition starts"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"#"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Team"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Captain"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Points"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Activity"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Challenge"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:e.map(l=>u.jsxs("tr",{className:"hover:bg-muted/20 transition-colors duration-200",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:`text-lg font-bold ${l.rank<=3?"text-primary":"text-foreground"}`,children:l.rank})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:l.team}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground",children:l.captain}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-lg font-bold text-primary",children:l.points})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:l.lastActivity}),u.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground max-w-xs truncate",children:l.challenge})]},l.rank))})]})})})]})]})}),u.jsx("section",{id:"platform-leaderboard",className:"py-16 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx(Gn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Global ",u.jsx("span",{className:"text-primary",children:"Leaderboard"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Top performers this month"})]}),u.jsxs(bt,{className:"max-w-4xl mx-auto border-border",children:[u.jsx(In,{children:u.jsxs(Cn,{className:"flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-primary"}),"Top Platform Hackers"]})}),u.jsx(Tt,{children:r.length===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(Gn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No platform rankings available yet"})]}):u.jsx("div",{className:"space-y-3",children:r.map(l=>u.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-300 ${l.rank<=3?"bg-primary/10 border-2 border-primary/30 hover:border-primary/50":"bg-muted/30 border border-border hover:border-primary/30"}`,children:[u.jsx("div",{className:`text-2xl font-bold w-12 text-center ${l.rank<=3?"text-primary":"text-muted-foreground"}`,children:l.badge||`#${l.rank}`}),u.jsx(wA,{className:"w-12 h-12 border-2 border-primary/30",children:u.jsx(_A,{className:"bg-primary/20 text-primary font-bold",children:l.name.substring(0,2).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-lg",children:l.name}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.solved," challenges solved"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:l.points.toLocaleString()}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]},l.rank))})})]})]})}),u.jsx(Lt,{})]})};function i8(){return u.jsxs(bI,{children:[" ",u.jsxs(N6,{children:[" ",u.jsx(wP,{basename:"/ZedCTF",children:u.jsxs(hP,{children:[u.jsx(dn,{path:"/",element:u.jsx(q5,{})}),u.jsx(dn,{path:"/login",element:u.jsx(G5,{})}),u.jsx(dn,{path:"/signup",element:u.jsx(K5,{})}),u.jsx(dn,{path:"/auth/github/callback",element:u.jsx(X5,{})}),u.jsx(dn,{path:"/dashboard",element:u.jsx(Fi,{children:u.jsx(nF,{})})}),u.jsx(dn,{path:"/practice",element:u.jsx(Fi,{children:u.jsx(MB,{})})}),u.jsx(dn,{path:"/live",element:u.jsx(Fi,{children:u.jsx(VB,{})})}),u.jsx(dn,{path:"/leaderboard",element:u.jsx(Fi,{children:u.jsx(s8,{})})}),u.jsx(dn,{path:"/writeups",element:u.jsx(Fi,{children:u.jsx(Q5,{})})}),u.jsx(dn,{path:"/writeups/create",element:u.jsx(Fi,{children:u.jsx(Y5,{})})}),u.jsx(dn,{path:"*",element:u.jsx(J5,{})})]})})]})]})}X1(document.getElementById("root")).render(u.jsx(bI,{children:u.jsx(i8,{})}));
