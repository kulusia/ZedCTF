function pA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Sb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cb={exports:{}},Xd={},Ib={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),mA=Symbol.for("react.portal"),gA=Symbol.for("react.fragment"),yA=Symbol.for("react.strict_mode"),vA=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),wA=Symbol.for("react.context"),_A=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),EA=Symbol.for("react.memo"),TA=Symbol.for("react.lazy"),Ax=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ab=Object.assign,kb={};function aa(t,e,n){this.props=t,this.context=e,this.refs=kb,this.updater=n||jb}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rb(){}Rb.prototype=aa.prototype;function ug(t,e,n){this.props=t,this.context=e,this.refs=kb,this.updater=n||jb}var dg=ug.prototype=new Rb;dg.constructor=ug;Ab(dg,aa.prototype);dg.isPureReactComponent=!0;var kx=Array.isArray,Pb=Object.prototype.hasOwnProperty,hg={current:null},Db={key:!0,ref:!0,__self:!0,__source:!0};function Lb(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Pb.call(e,r)&&!Db.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:cc,type:t,key:i,ref:a,props:s,_owner:hg.current}}function SA(t,e){return{$$typeof:cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===cc}function CA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rx=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CA(""+t.key):e.toString(36)}function bu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cc:case mA:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+bf(a,0):r,kx(s)?(n="",t!=null&&(n=t.replace(Rx,"$&/")+"/"),bu(s,e,n,"",function(d){return d})):s!=null&&(fg(s)&&(s=SA(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Rx,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",kx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+bf(i,l);a+=bu(i,e,n,c,s)}else if(c=NA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+bf(i,l++),a+=bu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zc(t,e,n){if(t==null)return t;var r=[],s=0;return bu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function IA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Eu={transition:null},jA={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:hg};function Ob(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=aa;ve.Fragment=gA;ve.Profiler=vA;ve.PureComponent=ug;ve.StrictMode=yA;ve.Suspense=bA;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;ve.act=Ob;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ab({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=hg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Pb.call(e,c)&&!Db.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:cc,type:t.type,key:s,ref:i,props:r,_owner:a}};ve.createContext=function(t){return t={$$typeof:wA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xA,_context:t},t.Consumer=t};ve.createElement=Lb;ve.createFactory=function(t){var e=Lb.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:_A,render:t}};ve.isValidElement=fg;ve.lazy=function(t){return{$$typeof:TA,_payload:{_status:-1,_result:t},_init:IA}};ve.memo=function(t,e){return{$$typeof:EA,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Eu.transition;Eu.transition={};try{t()}finally{Eu.transition=e}};ve.unstable_act=Ob;ve.useCallback=function(t,e){return rn.current.useCallback(t,e)};ve.useContext=function(t){return rn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return rn.current.useEffect(t,e)};ve.useId=function(){return rn.current.useId()};ve.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return rn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};ve.useRef=function(t){return rn.current.useRef(t)};ve.useState=function(t){return rn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return rn.current.useTransition()};ve.version="18.3.1";Ib.exports=ve;var g=Ib.exports;const ys=Sb(g),Jd=pA({__proto__:null,default:ys},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=g,kA=Symbol.for("react.element"),RA=Symbol.for("react.fragment"),PA=Object.prototype.hasOwnProperty,DA=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LA={key:!0,ref:!0,__self:!0,__source:!0};function Mb(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)PA.call(e,r)&&!LA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:kA,type:t,key:i,ref:a,props:s,_owner:DA.current}}Xd.Fragment=RA;Xd.jsx=Mb;Xd.jsxs=Mb;Cb.exports=Xd;var o=Cb.exports,Vb={exports:{}},Cn={},Fb={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var te=M.length;M.push(W);e:for(;0<te;){var O=te-1>>>1,U=M[O];if(0<s(U,W))M[O]=W,M[te]=U,te=O;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],te=M.pop();if(te!==W){M[0]=te;e:for(var O=0,U=M.length,ne=U>>>1;O<ne;){var ae=2*(O+1)-1,Ae=M[ae],be=ae+1,ie=M[be];if(0>s(Ae,te))be<U&&0>s(ie,Ae)?(M[O]=ie,M[be]=te,O=be):(M[O]=Ae,M[ae]=te,O=ae);else if(be<U&&0>s(ie,te))M[O]=ie,M[be]=te,O=be;else break e}}return W}function s(M,W){var te=M.sortIndex-W.sortIndex;return te!==0?te:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,p=3,v=!1,C=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=M)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function A(M){if(_=!1,S(M),!C)if(n(c)!==null)C=!0,Y(L);else{var W=n(d);W!==null&&ce(A,W.startTime-M)}}function L(M,W){C=!1,_&&(_=!1,E(x),x=-1),v=!0;var te=p;try{for(S(W),f=n(c);f!==null&&(!(f.expirationTime>W)||M&&!j());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var U=O(f.expirationTime<=W);W=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),S(W)}else r(c);f=n(c)}if(f!==null)var ne=!0;else{var ae=n(d);ae!==null&&ce(A,ae.startTime-W),ne=!1}return ne}finally{f=null,p=te,v=!1}}var k=!1,y=null,x=-1,I=5,T=-1;function j(){return!(t.unstable_now()-T<I)}function D(){if(y!==null){var M=t.unstable_now();T=M;var W=!0;try{W=y(!0,M)}finally{W?P():(k=!1,y=null)}}else k=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=D,P=function(){oe.postMessage(null)}}else P=function(){N(D,0)};function Y(M){y=M,k||(k=!0,P())}function ce(M,W){x=N(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,Y(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var te=p;p=W;try{return M()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var te=p;p=M;try{return W()}finally{p=te}},t.unstable_scheduleCallback=function(M,W,te){var O=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,M={id:h++,callback:W,priorityLevel:M,startTime:te,expirationTime:U,sortIndex:-1},te>O?(M.sortIndex=te,e(d,M),n(c)===null&&M===n(d)&&(_?(E(x),x=-1):_=!0,ce(A,te-O))):(M.sortIndex=U,e(c,M),C||v||(C=!0,Y(L))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var W=p;return function(){var te=p;p=W;try{return M.apply(this,arguments)}finally{p=te}}}})(Ub);Fb.exports=Ub;var OA=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=g,Sn=OA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bb=new Set,jl={};function Xi(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(jl[t]=e,t=0;t<e.length;t++)Bb.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=Object.prototype.hasOwnProperty,VA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Px={},Dx={};function FA(t){return Cp.call(Dx,t)?!0:Cp.call(Px,t)?!1:VA.test(t)?Dx[t]=!0:(Px[t]=!0,!1)}function UA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BA(t,e,n,r){if(e===null||typeof e>"u"||UA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pg=/[\-:]([a-z])/g;function mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pg,mg);Dt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pg,mg);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pg,mg);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gg(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BA(e,n,s,r)&&(n=null),r||s===null?FA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),$b=Symbol.for("react.provider"),zb=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Hb=Symbol.for("react.offscreen"),Lx=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=Lx&&t[Lx]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Ef;function tl(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var Tf=!1;function Nf(t,e){if(!t||Tf)return"";Tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function $A(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case Ip:return"Profiler";case yg:return"StrictMode";case jp:return"Suspense";case Ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zb:return(t.displayName||"Context")+".Consumer";case $b:return(t._context.displayName||"Context")+".Provider";case vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function zA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HA(t){var e=Wb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wc(t){t._valueTracker||(t._valueTracker=HA(t))}function qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rp(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ox(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gb(t,e){e=e.checked,e!=null&&gg(t,"checked",e,!1)}function Pp(t,e){Gb(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(nl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function Kb(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,Yb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WA=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){WA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function Xb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function Jb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var qA=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(t,e){if(e){if(qA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,Co=null,Io=null;function Ux(t){if(t=hc(t)){if(typeof Up!="function")throw Error(z(280));var e=t.stateNode;e&&(e=rh(e),Up(t.stateNode,t.type,e))}}function Zb(t){Co?Io?Io.push(t):Io=[t]:Co=t}function e1(){if(Co){var t=Co,e=Io;if(Io=Co=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function t1(t,e){return t(e)}function n1(){}var Sf=!1;function r1(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return t1(t,e,n)}finally{Sf=!1,(Co!==null||Io!==null)&&(n1(),e1())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Bp=!1;if(Hr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Bp=!1}function GA(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var fl=!1,Ku=null,Qu=!1,$p=null,KA={onError:function(t){fl=!0,Ku=t}};function QA(t,e,n,r,s,i,a,l,c){fl=!1,Ku=null,GA.apply(KA,arguments)}function YA(t,e,n,r,s,i,a,l,c){if(QA.apply(this,arguments),fl){if(fl){var d=Ku;fl=!1,Ku=null}else throw Error(z(198));Qu||(Qu=!0,$p=d)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bx(t){if(Ji(t)!==t)throw Error(z(188))}function XA(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bx(s),t;if(i===r)return Bx(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function i1(t){return t=XA(t),t!==null?o1(t):null}function o1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o1(t);if(e!==null)return e;t=t.sibling}return null}var a1=Sn.unstable_scheduleCallback,$x=Sn.unstable_cancelCallback,JA=Sn.unstable_shouldYield,ZA=Sn.unstable_requestPaint,lt=Sn.unstable_now,e2=Sn.unstable_getCurrentPriorityLevel,_g=Sn.unstable_ImmediatePriority,l1=Sn.unstable_UserBlockingPriority,Yu=Sn.unstable_NormalPriority,t2=Sn.unstable_LowPriority,c1=Sn.unstable_IdlePriority,Zd=null,gr=null;function n2(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Zd,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:i2,r2=Math.log,s2=Math.LN2;function i2(t){return t>>>=0,t===0?32:31-(r2(t)/s2|0)|0}var Gc=64,Kc=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=rl(l):(i&=a,i!==0&&(r=rl(i)))}else a=n&~s,a!==0?r=rl(a):i!==0&&(r=rl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),s=1<<n,r|=t[n],e&=~s;return r}function o2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Yn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=o2(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function zp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u1(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function l2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function d1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h1,Eg,f1,p1,m1,Hp=!1,Qc=[],Ps=null,Ds=null,Ls=null,Rl=new Map,Pl=new Map,_s=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zx(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function qa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hc(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function u2(t,e,n,r,s){switch(e){case"focusin":return Ps=qa(Ps,t,e,n,r,s),!0;case"dragenter":return Ds=qa(Ds,t,e,n,r,s),!0;case"mouseover":return Ls=qa(Ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rl.set(i,qa(Rl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pl.set(i,qa(Pl.get(i)||null,t,e,n,r,s)),!0}return!1}function g1(t){var e=Ni(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=s1(n),e!==null){t.blockedOn=e,m1(t.priority,function(){f1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fp=r,n.target.dispatchEvent(r),Fp=null}else return e=hc(n),e!==null&&Eg(e),t.blockedOn=n,!1;e.shift()}return!0}function Hx(t,e,n){Tu(t)&&n.delete(e)}function d2(){Hp=!1,Ps!==null&&Tu(Ps)&&(Ps=null),Ds!==null&&Tu(Ds)&&(Ds=null),Ls!==null&&Tu(Ls)&&(Ls=null),Rl.forEach(Hx),Pl.forEach(Hx)}function Ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Hp||(Hp=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,d2)))}function Dl(t){function e(s){return Ga(s,t)}if(0<Qc.length){Ga(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ps!==null&&Ga(Ps,t),Ds!==null&&Ga(Ds,t),Ls!==null&&Ga(Ls,t),Rl.forEach(e),Pl.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&_s.shift()}var jo=ns.ReactCurrentBatchConfig,Ju=!0;function h2(t,e,n,r){var s=De,i=jo.transition;jo.transition=null;try{De=1,Tg(t,e,n,r)}finally{De=s,jo.transition=i}}function f2(t,e,n,r){var s=De,i=jo.transition;jo.transition=null;try{De=4,Tg(t,e,n,r)}finally{De=s,jo.transition=i}}function Tg(t,e,n,r){if(Ju){var s=Wp(t,e,n,r);if(s===null)Mf(t,e,r,Zu,n),zx(t,r);else if(u2(s,t,e,n,r))r.stopPropagation();else if(zx(t,r),e&4&&-1<c2.indexOf(t)){for(;s!==null;){var i=hc(s);if(i!==null&&h1(i),i=Wp(t,e,n,r),i===null&&Mf(t,e,r,Zu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var Zu=null;function Wp(t,e,n,r){if(Zu=null,t=wg(r),t=Ni(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zu=t,null}function y1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e2()){case _g:return 1;case l1:return 4;case Yu:case t2:return 16;case c1:return 536870912;default:return 16}default:return 16}}var Is=null,Ng=null,Nu=null;function v1(){if(Nu)return Nu;var t,e=Ng,n=e.length,r,s="value"in Is?Is.value:Is.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Nu=s.slice(t,1<r?1-r:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Wx(){return!1}function In(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Wx,this.isPropagationStopped=Wx,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=In(la),dc=Je({},la,{view:0,detail:0}),p2=In(dc),If,jf,Ka,eh=Je({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(If=t.screenX-Ka.screenX,jf=t.screenY-Ka.screenY):jf=If=0,Ka=t),If)},movementY:function(t){return"movementY"in t?t.movementY:jf}}),qx=In(eh),m2=Je({},eh,{dataTransfer:0}),g2=In(m2),y2=Je({},dc,{relatedTarget:0}),Af=In(y2),v2=Je({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=In(v2),w2=Je({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_2=In(w2),b2=Je({},la,{data:0}),Gx=In(b2),E2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N2[t])?!!e[t]:!1}function Cg(){return S2}var C2=Je({},dc,{key:function(t){if(t.key){var e=E2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I2=In(C2),j2=Je({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kx=In(j2),A2=Je({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),k2=In(A2),R2=Je({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),P2=In(R2),D2=Je({},eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L2=In(D2),O2=[9,13,27,32],Ig=Hr&&"CompositionEvent"in window,pl=null;Hr&&"documentMode"in document&&(pl=document.documentMode);var M2=Hr&&"TextEvent"in window&&!pl,x1=Hr&&(!Ig||pl&&8<pl&&11>=pl),Qx=" ",Yx=!1;function w1(t,e){switch(t){case"keyup":return O2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function V2(t,e){switch(t){case"compositionend":return _1(e);case"keypress":return e.which!==32?null:(Yx=!0,Qx);case"textInput":return t=e.data,t===Qx&&Yx?null:t;default:return null}}function F2(t,e){if(go)return t==="compositionend"||!Ig&&w1(t,e)?(t=v1(),Nu=Ng=Is=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x1&&e.locale!=="ko"?null:e.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U2[t.type]:e==="textarea"}function b1(t,e,n,r){Zb(r),e=ed(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ml=null,Ll=null;function B2(t){P1(t,0)}function th(t){var e=xo(t);if(qb(e))return t}function $2(t,e){if(t==="change")return e}var E1=!1;if(Hr){var kf;if(Hr){var Rf="oninput"in document;if(!Rf){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),Rf=typeof Jx.oninput=="function"}kf=Rf}else kf=!1;E1=kf&&(!document.documentMode||9<document.documentMode)}function Zx(){ml&&(ml.detachEvent("onpropertychange",T1),Ll=ml=null)}function T1(t){if(t.propertyName==="value"&&th(Ll)){var e=[];b1(e,Ll,t,wg(t)),r1(B2,e)}}function z2(t,e,n){t==="focusin"?(Zx(),ml=e,Ll=n,ml.attachEvent("onpropertychange",T1)):t==="focusout"&&Zx()}function H2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return th(Ll)}function W2(t,e){if(t==="click")return th(e)}function q2(t,e){if(t==="input"||t==="change")return th(e)}function G2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:G2;function Ol(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cp.call(e,s)||!er(t[s],e[s]))return!1}return!0}function ew(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tw(t,e){var n=ew(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ew(n)}}function N1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S1(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K2(t){var e=S1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N1(n.ownerDocument.documentElement,n)){if(r!==null&&jg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=tw(n,i);var a=tw(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q2=Hr&&"documentMode"in document&&11>=document.documentMode,yo=null,qp=null,gl=null,Gp=!1;function nw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||yo==null||yo!==Gu(r)||(r=yo,"selectionStart"in r&&jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Ol(gl,r)||(gl=r,r=ed(qp,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yo)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Pf={},C1={};Hr&&(C1=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function nh(t){if(Pf[t])return Pf[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C1)return Pf[t]=e[n];return t}var I1=nh("animationend"),j1=nh("animationiteration"),A1=nh("animationstart"),k1=nh("transitionend"),R1=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){R1.set(t,e),Xi(e,[t])}for(var Df=0;Df<rw.length;Df++){var Lf=rw[Df],Y2=Lf.toLowerCase(),X2=Lf[0].toUpperCase()+Lf.slice(1);si(Y2,"on"+X2)}si(I1,"onAnimationEnd");si(j1,"onAnimationIteration");si(A1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(k1,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function sw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YA(r,e,void 0,t),t.currentTarget=null}function P1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;sw(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;sw(s,l,d),i=c}}}if(Qu)throw t=$p,Qu=!1,$p=null,t}function We(t,e){var n=e[Jp];n===void 0&&(n=e[Jp]=new Set);var r=t+"__bubble";n.has(r)||(D1(e,t,2,!1),n.add(r))}function Of(t,e,n){var r=0;e&&(r|=4),D1(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[Jc]){t[Jc]=!0,Bb.forEach(function(n){n!=="selectionchange"&&(J2.has(n)||Of(n,!1,t),Of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Of("selectionchange",!1,e))}}function D1(t,e,n,r){switch(y1(e)){case 1:var s=h2;break;case 4:s=f2;break;default:s=Tg}n=s.bind(null,e,n,t),s=void 0,!Bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ni(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}r1(function(){var d=i,h=wg(n),f=[];e:{var p=R1.get(t);if(p!==void 0){var v=Sg,C=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":v=I2;break;case"focusin":C="focus",v=Af;break;case"focusout":C="blur",v=Af;break;case"beforeblur":case"afterblur":v=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=g2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=k2;break;case I1:case j1:case A1:v=x2;break;case k1:v=P2;break;case"scroll":v=p2;break;case"wheel":v=L2;break;case"copy":case"cut":case"paste":v=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Kx}var _=(e&4)!==0,N=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var b=d,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,E!==null&&(A=kl(b,E),A!=null&&_.push(Vl(b,A,S)))),N)break;b=b.return}0<_.length&&(p=new v(p,C,null,n,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Fp&&(C=n.relatedTarget||n.fromElement)&&(Ni(C)||C[Wr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=d,C=C?Ni(C):null,C!==null&&(N=Ji(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=d),v!==C)){if(_=qx,A="onMouseLeave",E="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=Kx,A="onPointerLeave",E="onPointerEnter",b="pointer"),N=v==null?p:xo(v),S=C==null?p:xo(C),p=new _(A,b+"leave",v,n,h),p.target=N,p.relatedTarget=S,A=null,Ni(h)===d&&(_=new _(E,b+"enter",C,n,h),_.target=S,_.relatedTarget=N,A=_),N=A,v&&C)t:{for(_=v,E=C,b=0,S=_;S;S=oo(S))b++;for(S=0,A=E;A;A=oo(A))S++;for(;0<b-S;)_=oo(_),b--;for(;0<S-b;)E=oo(E),S--;for(;b--;){if(_===E||E!==null&&_===E.alternate)break t;_=oo(_),E=oo(E)}_=null}else _=null;v!==null&&iw(f,p,v,_,!1),C!==null&&N!==null&&iw(f,N,C,_,!0)}}e:{if(p=d?xo(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var L=$2;else if(Xx(p))if(E1)L=q2;else{L=H2;var k=z2}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=W2);if(L&&(L=L(t,d))){b1(f,L,n,h);break e}k&&k(t,p,d),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Dp(p,"number",p.value)}switch(k=d?xo(d):window,t){case"focusin":(Xx(k)||k.contentEditable==="true")&&(yo=k,qp=d,gl=null);break;case"focusout":gl=qp=yo=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,nw(f,n,h);break;case"selectionchange":if(Q2)break;case"keydown":case"keyup":nw(f,n,h)}var y;if(Ig)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else go?w1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(x1&&n.locale!=="ko"&&(go||x!=="onCompositionStart"?x==="onCompositionEnd"&&go&&(y=v1()):(Is=h,Ng="value"in Is?Is.value:Is.textContent,go=!0)),k=ed(d,x),0<k.length&&(x=new Gx(x,t,null,n,h),f.push({event:x,listeners:k}),y?x.data=y:(y=_1(n),y!==null&&(x.data=y)))),(y=M2?V2(t,n):F2(t,n))&&(d=ed(d,"onBeforeInput"),0<d.length&&(h=new Gx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=y))}P1(f,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kl(t,n),i!=null&&r.unshift(Vl(t,i,s)),i=kl(t,e),i!=null&&r.push(Vl(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=kl(n,i),c!=null&&a.unshift(Vl(n,c,l))):s||(c=kl(n,i),c!=null&&a.push(Vl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Z2=/\r\n?/g,ek=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(Z2,`
`).replace(ek,"")}function Zc(t,e,n){if(e=ow(e),ow(t)!==e&&n)throw Error(z(425))}function td(){}var Kp=null,Qp=null;function Yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,tk=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(rk)}:Xp;function rk(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dl(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),hr="__reactFiber$"+ca,Fl="__reactProps$"+ca,Wr="__reactContainer$"+ca,Jp="__reactEvents$"+ca,sk="__reactListeners$"+ca,ik="__reactHandles$"+ca;function Ni(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lw(t);t!==null;){if(n=t[hr])return n;t=lw(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[hr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function rh(t){return t[Fl]||null}var Zp=[],wo=-1;function ii(t){return{current:t}}function Ge(t){0>wo||(t.current=Zp[wo],Zp[wo]=null,wo--)}function $e(t,e){wo++,Zp[wo]=t.current,t.current=e}var Ks={},Wt=ii(Ks),hn=ii(!1),Oi=Ks;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function nd(){Ge(hn),Ge(Wt)}function cw(t,e,n){if(Wt.current!==Ks)throw Error(z(168));$e(Wt,e),$e(hn,n)}function L1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,zA(t)||"Unknown",s));return Je({},n,r)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Oi=Wt.current,$e(Wt,t),$e(hn,hn.current),!0}function uw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=L1(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ge(hn),Ge(Wt),$e(Wt,t)):Ge(hn),$e(hn,n)}var Dr=null,sh=!1,Ff=!1;function O1(t){Dr===null?Dr=[t]:Dr.push(t)}function ok(t){sh=!0,O1(t)}function oi(){if(!Ff&&Dr!==null){Ff=!0;var t=0,e=De;try{var n=Dr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,sh=!1}catch(s){throw Dr!==null&&(Dr=Dr.slice(t+1)),a1(_g,oi),s}finally{De=e,Ff=!1}}return null}var _o=[],bo=0,sd=null,id=0,jn=[],An=0,Mi=null,Or=1,Mr="";function bi(t,e){_o[bo++]=id,_o[bo++]=sd,sd=t,id=e}function M1(t,e,n){jn[An++]=Or,jn[An++]=Mr,jn[An++]=Mi,Mi=t;var r=Or;t=Mr;var s=32-Yn(r)-1;r&=~(1<<s),n+=1;var i=32-Yn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Or=1<<32-Yn(e)+s|n<<s|r,Mr=i+t}else Or=1<<i|n<<s|r,Mr=t}function Ag(t){t.return!==null&&(bi(t,1),M1(t,1,0))}function kg(t){for(;t===sd;)sd=_o[--bo],_o[bo]=null,id=_o[--bo],_o[bo]=null;for(;t===Mi;)Mi=jn[--An],jn[An]=null,Mr=jn[--An],jn[An]=null,Or=jn[--An],jn[An]=null}var En=null,wn=null,Ke=!1,Gn=null;function V1(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Or,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tm(t){if(Ke){var e=wn;if(e){var n=e;if(!dw(t,e)){if(em(t))throw Error(z(418));e=Os(n.nextSibling);var r=En;e&&dw(t,e)?V1(r,n):(t.flags=t.flags&-4097|2,Ke=!1,En=t)}}else{if(em(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,En=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function eu(t){if(t!==En)return!1;if(!Ke)return hw(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yp(t.type,t.memoizedProps)),e&&(e=wn)){if(em(t))throw F1(),Error(z(418));for(;e;)V1(t,e),e=Os(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?Os(t.stateNode.nextSibling):null;return!0}function F1(){for(var t=wn;t;)t=Os(t.nextSibling)}function $o(){wn=En=null,Ke=!1}function Rg(t){Gn===null?Gn=[t]:Gn.push(t)}var ak=ns.ReactCurrentBatchConfig;function Qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fw(t){var e=t._init;return e(t._payload)}function U1(t){function e(E,b){if(t){var S=E.deletions;S===null?(E.deletions=[b],E.flags|=16):S.push(b)}}function n(E,b){if(!t)return null;for(;b!==null;)e(E,b),b=b.sibling;return null}function r(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function s(E,b){return E=Us(E,b),E.index=0,E.sibling=null,E}function i(E,b,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<b?(E.flags|=2,b):S):(E.flags|=2,b)):(E.flags|=1048576,b)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,b,S,A){return b===null||b.tag!==6?(b=qf(S,E.mode,A),b.return=E,b):(b=s(b,S),b.return=E,b)}function c(E,b,S,A){var L=S.type;return L===mo?h(E,b,S.props.children,A,S.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xs&&fw(L)===b.type)?(A=s(b,S.props),A.ref=Qa(E,b,S),A.return=E,A):(A=Pu(S.type,S.key,S.props,null,E.mode,A),A.ref=Qa(E,b,S),A.return=E,A)}function d(E,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Gf(S,E.mode,A),b.return=E,b):(b=s(b,S.children||[]),b.return=E,b)}function h(E,b,S,A,L){return b===null||b.tag!==7?(b=Ri(S,E.mode,A,L),b.return=E,b):(b=s(b,S),b.return=E,b)}function f(E,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qf(""+b,E.mode,S),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hc:return S=Pu(b.type,b.key,b.props,null,E.mode,S),S.ref=Qa(E,null,b),S.return=E,S;case po:return b=Gf(b,E.mode,S),b.return=E,b;case xs:var A=b._init;return f(E,A(b._payload),S)}if(nl(b)||Ha(b))return b=Ri(b,E.mode,S,null),b.return=E,b;tu(E,b)}return null}function p(E,b,S,A){var L=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:l(E,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return S.key===L?c(E,b,S,A):null;case po:return S.key===L?d(E,b,S,A):null;case xs:return L=S._init,p(E,b,L(S._payload),A)}if(nl(S)||Ha(S))return L!==null?null:h(E,b,S,A,null);tu(E,S)}return null}function v(E,b,S,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(S)||null,l(b,E,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hc:return E=E.get(A.key===null?S:A.key)||null,c(b,E,A,L);case po:return E=E.get(A.key===null?S:A.key)||null,d(b,E,A,L);case xs:var k=A._init;return v(E,b,S,k(A._payload),L)}if(nl(A)||Ha(A))return E=E.get(S)||null,h(b,E,A,L,null);tu(b,A)}return null}function C(E,b,S,A){for(var L=null,k=null,y=b,x=b=0,I=null;y!==null&&x<S.length;x++){y.index>x?(I=y,y=null):I=y.sibling;var T=p(E,y,S[x],A);if(T===null){y===null&&(y=I);break}t&&y&&T.alternate===null&&e(E,y),b=i(T,b,x),k===null?L=T:k.sibling=T,k=T,y=I}if(x===S.length)return n(E,y),Ke&&bi(E,x),L;if(y===null){for(;x<S.length;x++)y=f(E,S[x],A),y!==null&&(b=i(y,b,x),k===null?L=y:k.sibling=y,k=y);return Ke&&bi(E,x),L}for(y=r(E,y);x<S.length;x++)I=v(y,E,x,S[x],A),I!==null&&(t&&I.alternate!==null&&y.delete(I.key===null?x:I.key),b=i(I,b,x),k===null?L=I:k.sibling=I,k=I);return t&&y.forEach(function(j){return e(E,j)}),Ke&&bi(E,x),L}function _(E,b,S,A){var L=Ha(S);if(typeof L!="function")throw Error(z(150));if(S=L.call(S),S==null)throw Error(z(151));for(var k=L=null,y=b,x=b=0,I=null,T=S.next();y!==null&&!T.done;x++,T=S.next()){y.index>x?(I=y,y=null):I=y.sibling;var j=p(E,y,T.value,A);if(j===null){y===null&&(y=I);break}t&&y&&j.alternate===null&&e(E,y),b=i(j,b,x),k===null?L=j:k.sibling=j,k=j,y=I}if(T.done)return n(E,y),Ke&&bi(E,x),L;if(y===null){for(;!T.done;x++,T=S.next())T=f(E,T.value,A),T!==null&&(b=i(T,b,x),k===null?L=T:k.sibling=T,k=T);return Ke&&bi(E,x),L}for(y=r(E,y);!T.done;x++,T=S.next())T=v(y,E,x,T.value,A),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?x:T.key),b=i(T,b,x),k===null?L=T:k.sibling=T,k=T);return t&&y.forEach(function(D){return e(E,D)}),Ke&&bi(E,x),L}function N(E,b,S,A){if(typeof S=="object"&&S!==null&&S.type===mo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:e:{for(var L=S.key,k=b;k!==null;){if(k.key===L){if(L=S.type,L===mo){if(k.tag===7){n(E,k.sibling),b=s(k,S.props.children),b.return=E,E=b;break e}}else if(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xs&&fw(L)===k.type){n(E,k.sibling),b=s(k,S.props),b.ref=Qa(E,k,S),b.return=E,E=b;break e}n(E,k);break}else e(E,k);k=k.sibling}S.type===mo?(b=Ri(S.props.children,E.mode,A,S.key),b.return=E,E=b):(A=Pu(S.type,S.key,S.props,null,E.mode,A),A.ref=Qa(E,b,S),A.return=E,E=A)}return a(E);case po:e:{for(k=S.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(E,b.sibling),b=s(b,S.children||[]),b.return=E,E=b;break e}else{n(E,b);break}else e(E,b);b=b.sibling}b=Gf(S,E.mode,A),b.return=E,E=b}return a(E);case xs:return k=S._init,N(E,b,k(S._payload),A)}if(nl(S))return C(E,b,S,A);if(Ha(S))return _(E,b,S,A);tu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(E,b.sibling),b=s(b,S),b.return=E,E=b):(n(E,b),b=qf(S,E.mode,A),b.return=E,E=b),a(E)):n(E,b)}return N}var zo=U1(!0),B1=U1(!1),od=ii(null),ad=null,Eo=null,Pg=null;function Dg(){Pg=Eo=ad=null}function Lg(t){var e=od.current;Ge(od),t._currentValue=e}function nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){ad=t,Pg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Pg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(ad===null)throw Error(z(308));Eo=t,ad.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Si=null;function Og(t){Si===null?Si=[t]:Si.push(t)}function $1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Og(e)):(n.next=s.next,s.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qr(t,n)}return s=r.interleaved,s===null?(e.next=e,Og(r)):(e.next=s.next,s.next=e),r.interleaved=e,qr(t,n)}function Cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bg(t,n)}}function pw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ld(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,_=l;switch(p=e,v=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){f=C.call(v,f,p);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,p=typeof C=="function"?C.call(v,f,p):C,p==null)break e;f=Je({},f,p);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fi|=a,t.lanes=a,t.memoizedState=f}}function mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var fc={},yr=ii(fc),Ul=ii(fc),Bl=ii(fc);function Ci(t){if(t===fc)throw Error(z(174));return t}function Vg(t,e){switch($e(Bl,e),$e(Ul,t),$e(yr,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Ge(yr),$e(yr,e)}function Ho(){Ge(yr),Ge(Ul),Ge(Bl)}function H1(t){Ci(Bl.current);var e=Ci(yr.current),n=Op(e,t.type);e!==n&&($e(Ul,t),$e(yr,n))}function Fg(t){Ul.current===t&&(Ge(yr),Ge(Ul))}var Qe=ii(0);function cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function Ug(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Iu=ns.ReactCurrentDispatcher,Bf=ns.ReactCurrentBatchConfig,Vi=0,Xe=null,xt=null,Nt=null,ud=!1,yl=!1,$l=0,lk=0;function Ot(){throw Error(z(321))}function Bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function $g(t,e,n,r,s,i){if(Vi=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?hk:fk,t=n(r,s),yl){i=0;do{if(yl=!1,$l=0,25<=i)throw Error(z(301));i+=1,Nt=xt=null,e.updateQueue=null,Iu.current=pk,t=n(r,s)}while(yl)}if(Iu.current=dd,e=xt!==null&&xt.next!==null,Vi=0,Nt=xt=Xe=null,ud=!1,e)throw Error(z(300));return t}function zg(){var t=$l!==0;return $l=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Xe.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Vn(){if(xt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Nt===null?Xe.memoizedState:Nt.next;if(e!==null)Nt=e,xt=t;else{if(t===null)throw Error(z(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Nt===null?Xe.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function zl(t,e){return typeof e=="function"?e(t):e}function $f(t){var e=Vn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Vi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Xe.lanes|=h,Fi|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,er(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,Fi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);er(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function W1(){}function q1(t,e){var n=Xe,r=Vn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,Hg(Q1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,K1.bind(null,n,r,s,e),void 0,null),St===null)throw Error(z(349));Vi&30||G1(n,e,s)}return s}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K1(t,e,n,r){e.value=n,e.getSnapshot=r,Y1(e)&&X1(t)}function Q1(t,e,n){return n(function(){Y1(e)&&X1(t)})}function Y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function X1(t){var e=qr(t,1);e!==null&&Xn(e,t,1,-1)}function gw(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=dk.bind(null,Xe,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J1(){return Vn().memoizedState}function ju(t,e,n,r){var s=cr();Xe.flags|=t,s.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function ih(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var a=xt.memoizedState;if(i=a.destroy,r!==null&&Bg(r,a.deps)){s.memoizedState=Hl(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Hl(1|e,n,i,r)}function yw(t,e){return ju(8390656,8,t,e)}function Hg(t,e){return ih(2048,8,t,e)}function Z1(t,e){return ih(4,2,t,e)}function eE(t,e){return ih(4,4,t,e)}function tE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nE(t,e,n){return n=n!=null?n.concat([t]):null,ih(4,4,tE.bind(null,e,t),n)}function Wg(){}function rE(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sE(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iE(t,e,n){return Vi&21?(er(n,e)||(n=u1(),Xe.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function ck(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{De=n,Bf.transition=r}}function oE(){return Vn().memoizedState}function uk(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aE(t))lE(e,n);else if(n=$1(t,e,n,r),n!==null){var s=Zt();Xn(n,t,r,s),cE(n,e,r)}}function dk(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aE(t))lE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=e.interleaved;c===null?(s.next=s,Og(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=$1(t,e,s,r),n!==null&&(s=Zt(),Xn(n,t,r,s),cE(n,e,r))}}function aE(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function lE(t,e){yl=ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bg(t,n)}}var dd={readContext:Mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},hk={readContext:Mn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ju(4194308,4,tE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return ju(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uk.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:gw,useDebugValue:Wg,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=gw(!1),e=t[0];return t=ck.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=cr();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),St===null)throw Error(z(349));Vi&30||G1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yw(Q1.bind(null,r,i,t),[t]),r.flags|=2048,Hl(9,K1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cr(),e=St.identifierPrefix;if(Ke){var n=Mr,r=Or;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fk={readContext:Mn,useCallback:rE,useContext:Mn,useEffect:Hg,useImperativeHandle:nE,useInsertionEffect:Z1,useLayoutEffect:eE,useMemo:sE,useReducer:$f,useRef:J1,useState:function(){return $f(zl)},useDebugValue:Wg,useDeferredValue:function(t){var e=Vn();return iE(e,xt.memoizedState,t)},useTransition:function(){var t=$f(zl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:W1,useSyncExternalStore:q1,useId:oE,unstable_isNewReconciler:!1},pk={readContext:Mn,useCallback:rE,useContext:Mn,useEffect:Hg,useImperativeHandle:nE,useInsertionEffect:Z1,useLayoutEffect:eE,useMemo:sE,useReducer:zf,useRef:J1,useState:function(){return zf(zl)},useDebugValue:Wg,useDeferredValue:function(t){var e=Vn();return xt===null?e.memoizedState=t:iE(e,xt.memoizedState,t)},useTransition:function(){var t=zf(zl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:W1,useSyncExternalStore:q1,useId:oE,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Fs(t),i=Br(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ms(t,i,s),e!==null&&(Xn(e,t,s,r),Cu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Fs(t),i=Br(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ms(t,i,s),e!==null&&(Xn(e,t,s,r),Cu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Fs(t),s=Br(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ms(t,s,r),e!==null&&(Xn(e,t,r,n),Cu(e,t,r))}};function vw(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(s,i):!0}function uE(t,e,n){var r=!1,s=Ks,i=e.contextType;return typeof i=="object"&&i!==null?i=Mn(i):(s=fn(e)?Oi:Wt.current,r=e.contextTypes,i=(r=r!=null)?Bo(t,s):Ks),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mn(i):(i=fn(e)?Oi:Wt.current,s.context=Bo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oh.enqueueReplaceState(s,s.state,null),ld(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e){try{var n="",r=e;do n+=$A(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function dE(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fd||(fd=!0,mm=r),im(t,e)},n}function hE(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){im(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){im(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=jk.bind(null,t,e,n),e.then(t,t))}function _w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Ms(n,e,1))),n.lanes|=1),t)}var gk=ns.ReactCurrentOwner,dn=!1;function Yt(t,e,n,r){e.child=t===null?B1(e,null,n,r):zo(e,t.child,n,r)}function Ew(t,e,n,r,s){n=n.render;var i=e.ref;return Ao(e,s),r=$g(t,e,n,r,i,s),n=zg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(Ke&&n&&Ag(e),e.flags|=1,Yt(t,e,r,s),e.child)}function Tw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fE(t,e,i,r,s)):(t=Pu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(a,r)&&t.ref===e.ref)return Gr(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function fE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ol(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Gr(t,e,s)}return om(t,e,n,r,s)}function pE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(No,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(No,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(No,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(No,vn),vn|=r;return Yt(t,e,s,n),e.child}function mE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function om(t,e,n,r,s){var i=fn(n)?Oi:Wt.current;return i=Bo(e,i),Ao(e,s),n=$g(t,e,n,r,i,s),r=zg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(Ke&&r&&Ag(e),e.flags|=1,Yt(t,e,n,s),e.child)}function Nw(t,e,n,r,s){if(fn(n)){var i=!0;rd(e)}else i=!1;if(Ao(e,s),e.stateNode===null)Au(t,e),uE(e,n,r),sm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=fn(n)?Oi:Wt.current,d=Bo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&xw(e,a,r,d),ws=!1;var p=e.memoizedState;a.state=p,ld(e,r,a,s),c=e.memoizedState,l!==r||p!==c||hn.current||ws?(typeof h=="function"&&(rm(e,n,h,r),c=e.memoizedState),(l=ws||vw(e,n,l,r,p,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,z1(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Wn(e.type,l),a.props=d,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=fn(n)?Oi:Wt.current,c=Bo(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&xw(e,a,r,c),ws=!1,p=e.memoizedState,a.state=p,ld(e,r,a,s);var C=e.memoizedState;l!==f||p!==C||hn.current||ws?(typeof v=="function"&&(rm(e,n,v,r),C=e.memoizedState),(d=ws||vw(e,n,d,r,p,C,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return am(t,e,n,r,i,s)}function am(t,e,n,r,s,i){mE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&uw(e,n,!1),Gr(t,e,i);r=e.stateNode,gk.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=zo(e,t.child,null,i),e.child=zo(e,null,l,i)):Yt(t,e,l,i),e.memoizedState=r.state,s&&uw(e,n,!0),e.child}function gE(t){var e=t.stateNode;e.pendingContext?cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cw(t,e.context,!1),Vg(t,e.containerInfo)}function Sw(t,e,n,r,s){return $o(),Rg(s),e.flags|=256,Yt(t,e,n,r),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function yE(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(Qe,s&1),t===null)return tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ch(a,r,0,null),t=Ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cm(n),e.memoizedState=lm,t):qg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yk(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Us(l,i):(i=Ri(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=lm,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qg(t,e){return e=ch({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&Rg(r),zo(e,t.child,null,n),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yk(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(z(422))),nu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ch({mode:"visible",children:r.children},s,0,null),i=Ri(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zo(e,t.child,null,a),e.child.memoizedState=cm(a),e.memoizedState=lm,i);if(!(e.mode&1))return nu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=Hf(i,r,void 0),nu(t,e,a,r)}if(l=(a&t.childLanes)!==0,dn||l){if(r=St,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qr(t,s),Xn(r,t,s,-1))}return Jg(),r=Hf(Error(z(421))),nu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ak.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=Os(s.nextSibling),En=e,Ke=!0,Gn=null,t!==null&&(jn[An++]=Or,jn[An++]=Mr,jn[An++]=Mi,Or=t.id,Mr=t.overflow,Mi=e),e=qg(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nm(t.return,e,n)}function Wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wf(e,!0,n,null,i);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vk(t,e,n){switch(e.tag){case 3:gE(e),$o();break;case 5:H1(e);break;case 1:fn(e.type)&&rd(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(od,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?yE(t,e,n):($e(Qe,Qe.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,pE(t,e,n)}return Gr(t,e,n)}var xE,um,wE,_E;xE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};um=function(){};wE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(yr.current);var i=null;switch(n){case"input":s=Rp(t,s),r=Rp(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=Lp(t,s),r=Lp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=td)}Mp(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&We("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};_E=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xk(t,e,n){var r=e.pendingProps;switch(kg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return fn(e.type)&&nd(),Mt(e),null;case 3:return r=e.stateNode,Ho(),Ge(hn),Ge(Wt),Ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(vm(Gn),Gn=null))),um(t,e),Mt(e),null;case 5:Fg(e);var s=Ci(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)wE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Mt(e),null}if(t=Ci(yr.current),eu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[Fl]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<sl.length;s++)We(sl[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Ox(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":Vx(r,i),We("invalid",r)}Mp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zc(r.textContent,l,t),s=["children",""+l]):jl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&We("scroll",r)}switch(n){case"input":Wc(r),Mx(r,i,!0);break;case"textarea":Wc(r),Fx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=td)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hr]=e,t[Fl]=r,xE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vp(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<sl.length;s++)We(sl[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":Ox(t,r),s=Rp(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),We("invalid",t);break;case"textarea":Vx(t,r),s=Lp(t,r),We("invalid",t);break;default:s=r}Mp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Al(t,c):typeof c=="number"&&Al(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&We("scroll",t):c!=null&&gg(t,i,c,a))}switch(n){case"input":Wc(t),Mx(t,r,!1);break;case"textarea":Wc(t),Fx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)_E(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ci(Bl.current),Ci(yr.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ge(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&wn!==null&&e.mode&1&&!(e.flags&128))F1(),$o(),e.flags|=98560,i=!1;else if(i=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[hr]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Gn!==null&&(vm(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?wt===0&&(wt=3):Jg())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Ho(),um(t,e),t===null&&Ml(e.stateNode.containerInfo),Mt(e),null;case 10:return Lg(e.type._context),Mt(e),null;case 17:return fn(e.type)&&nd(),Mt(e),null;case 19:if(Ge(Qe),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ya(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=cd(t),a!==null){for(e.flags|=128,Ya(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>qo&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304)}else{if(!r)if(t=cd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ke)return Mt(e),null}else 2*lt()-i.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,Ya(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=Qe.current,$e(Qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return Xg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function wk(t,e){switch(kg(e),e.tag){case 1:return fn(e.type)&&nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ho(),Ge(hn),Ge(Wt),Ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fg(e),null;case 13:if(Ge(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Qe),null;case 4:return Ho(),null;case 10:return Lg(e.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var ru=!1,Ut=!1,_k=typeof WeakSet=="function"?WeakSet:Set,J=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function dm(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Iw=!1;function bk(t,e){if(Kp=Ju,t=S1(),jg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=a),p===i&&++h===r&&(c=a),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qp={focusedElem:t,selectionRange:n},Ju=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,N=C.memoizedState,E=e.stateNode,b=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:Wn(e.type,_),N);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){tt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return C=Iw,Iw=!1,C}function vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&dm(e,n,i)}s=s.next}while(s!==r)}}function ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bE(t){var e=t.alternate;e!==null&&(t.alternate=null,bE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Fl],delete e[Jp],delete e[sk],delete e[ik])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EE(t){return t.tag===5||t.tag===3||t.tag===4}function jw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=td));else if(r!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}var It=null,qn=!1;function hs(t,e,n){for(n=n.child;n!==null;)TE(t,e,n),n=n.sibling}function TE(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 5:Ut||To(n,e);case 6:var r=It,s=qn;It=null,hs(t,e,n),It=r,qn=s,It!==null&&(qn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(qn?(t=It,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Dl(t)):Vf(It,n.stateNode));break;case 4:r=It,s=qn,It=n.stateNode.containerInfo,qn=!0,hs(t,e,n),It=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dm(n,e,a),s=s.next}while(s!==r)}hs(t,e,n);break;case 1:if(!Ut&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,e,l)}hs(t,e,n);break;case 21:hs(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,hs(t,e,n),Ut=r):hs(t,e,n);break;default:hs(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _k),e.forEach(function(r){var s=kk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,qn=!1;break e;case 3:It=l.stateNode.containerInfo,qn=!0;break e;case 4:It=l.stateNode.containerInfo,qn=!0;break e}l=l.return}if(It===null)throw Error(z(160));TE(i,a,s),It=null,qn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){tt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NE(e,t),e=e.sibling}function NE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),lr(t),r&4){try{vl(3,t,t.return),ah(3,t)}catch(_){tt(t,t.return,_)}try{vl(5,t,t.return)}catch(_){tt(t,t.return,_)}}break;case 1:zn(e,t),lr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(zn(e,t),lr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Al(s,"")}catch(_){tt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Gb(s,i),Vp(l,a);var d=Vp(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?Jb(s,f):h==="dangerouslySetInnerHTML"?Yb(s,f):h==="children"?Al(s,f):gg(s,h,f,d)}switch(l){case"input":Pp(s,i);break;case"textarea":Kb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?So(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fl]=i}catch(_){tt(t,t.return,_)}}break;case 6:if(zn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){tt(t,t.return,_)}}break;case 3:if(zn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(_){tt(t,t.return,_)}break;case 4:zn(e,t),lr(t);break;case 13:zn(e,t),lr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qg=lt())),r&4&&Aw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(d=Ut)||h,zn(e,t),Ut=d):zn(e,t),lr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(f=J=h;J!==null;){switch(p=J,v=p.child,p.tag){case 0:case 11:case 14:case 15:vl(4,p,p.return);break;case 1:To(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){tt(r,n,_)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){Rw(f);continue}}v!==null?(v.return=p,J=v):Rw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xb("display",a))}catch(_){tt(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){tt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),lr(t),r&4&&Aw(t);break;case 21:break;default:zn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Al(s,""),r.flags&=-33);var i=jw(t);pm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=jw(t);fm(t,l,a);break;default:throw Error(z(161))}}catch(c){tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ek(t,e,n){J=t,SE(t)}function SE(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ru;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=ru;var d=Ut;if(ru=a,(Ut=c)&&!d)for(J=s;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?Pw(s):c!==null?(c.return=a,J=c):Pw(s);for(;i!==null;)J=i,SE(i),i=i.sibling;J=s,ru=l,Ut=d}kw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):kw(t)}}function kw(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mw(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mw(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Dl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ut||e.flags&512&&hm(e)}catch(p){tt(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Rw(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Pw(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ah(4,e)}catch(c){tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){tt(e,s,c)}}var i=e.return;try{hm(e)}catch(c){tt(e,i,c)}break;case 5:var a=e.return;try{hm(e)}catch(c){tt(e,a,c)}}}catch(c){tt(e,e.return,c)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var Tk=Math.ceil,hd=ns.ReactCurrentDispatcher,Gg=ns.ReactCurrentOwner,Dn=ns.ReactCurrentBatchConfig,Se=0,St=null,ht=null,Pt=0,vn=0,No=ii(0),wt=0,Wl=null,Fi=0,lh=0,Kg=0,xl=null,ln=null,Qg=0,qo=1/0,Pr=null,fd=!1,mm=null,Vs=null,su=!1,js=null,pd=0,wl=0,gm=null,ku=-1,Ru=0;function Zt(){return Se&6?lt():ku!==-1?ku:ku=lt()}function Fs(t){return t.mode&1?Se&2&&Pt!==0?Pt&-Pt:ak.transition!==null?(Ru===0&&(Ru=u1()),Ru):(t=De,t!==0||(t=window.event,t=t===void 0?16:y1(t.type)),t):1}function Xn(t,e,n,r){if(50<wl)throw wl=0,gm=null,Error(z(185));uc(t,n,r),(!(Se&2)||t!==St)&&(t===St&&(!(Se&2)&&(lh|=n),wt===4&&bs(t,Pt)),pn(t,r),n===1&&Se===0&&!(e.mode&1)&&(qo=lt()+500,sh&&oi()))}function pn(t,e){var n=t.callbackNode;a2(t,e);var r=Xu(t,t===St?Pt:0);if(r===0)n!==null&&$x(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$x(n),e===1)t.tag===0?ok(Dw.bind(null,t)):O1(Dw.bind(null,t)),nk(function(){!(Se&6)&&oi()}),n=null;else{switch(d1(r)){case 1:n=_g;break;case 4:n=l1;break;case 16:n=Yu;break;case 536870912:n=c1;break;default:n=Yu}n=DE(n,CE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CE(t,e){if(ku=-1,Ru=0,Se&6)throw Error(z(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Xu(t,t===St?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var s=Se;Se|=2;var i=jE();(St!==t||Pt!==e)&&(Pr=null,qo=lt()+500,ki(t,e));do try{Ck();break}catch(l){IE(t,l)}while(!0);Dg(),hd.current=i,Se=s,ht!==null?e=0:(St=null,Pt=0,e=wt)}if(e!==0){if(e===2&&(s=zp(t),s!==0&&(r=s,e=ym(t,s))),e===1)throw n=Wl,ki(t,0),bs(t,r),pn(t,lt()),n;if(e===6)bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!Nk(s)&&(e=md(t,r),e===2&&(i=zp(t),i!==0&&(r=i,e=ym(t,i))),e===1))throw n=Wl,ki(t,0),bs(t,r),pn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ei(t,ln,Pr);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=Qg+500-lt(),10<e)){if(Xu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xp(Ei.bind(null,t,ln,Pr),e);break}Ei(t,ln,Pr);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Yn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tk(r/1960))-r,10<r){t.timeoutHandle=Xp(Ei.bind(null,t,ln,Pr),r);break}Ei(t,ln,Pr);break;case 5:Ei(t,ln,Pr);break;default:throw Error(z(329))}}}return pn(t,lt()),t.callbackNode===n?CE.bind(null,t):null}function ym(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=md(t,e),t!==2&&(e=ln,ln=n,e!==null&&vm(e)),t}function vm(t){ln===null?ln=t:ln.push.apply(ln,t)}function Nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~Kg,e&=~lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function Dw(t){if(Se&6)throw Error(z(327));ko();var e=Xu(t,0);if(!(e&1))return pn(t,lt()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=zp(t);r!==0&&(e=r,n=ym(t,r))}if(n===1)throw n=Wl,ki(t,0),bs(t,e),pn(t,lt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,ln,Pr),pn(t,lt()),null}function Yg(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(qo=lt()+500,sh&&oi())}}function Ui(t){js!==null&&js.tag===0&&!(Se&6)&&ko();var e=Se;Se|=1;var n=Dn.transition,r=De;try{if(Dn.transition=null,De=1,t)return t()}finally{De=r,Dn.transition=n,Se=e,!(Se&6)&&oi()}}function Xg(){vn=No.current,Ge(No)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tk(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(kg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Ho(),Ge(hn),Ge(Wt),Ug();break;case 5:Fg(r);break;case 4:Ho();break;case 13:Ge(Qe);break;case 19:Ge(Qe);break;case 10:Lg(r.type._context);break;case 22:case 23:Xg()}n=n.return}if(St=t,ht=t=Us(t.current,null),Pt=vn=e,wt=0,Wl=null,Kg=lh=Fi=0,ln=xl=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Si=null}return t}function IE(t,e){do{var n=ht;try{if(Dg(),Iu.current=dd,ud){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ud=!1}if(Vi=0,Nt=xt=Xe=null,yl=!1,$l=0,Gg.current=null,n===null||n.return===null){wt=1,Wl=e,ht=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=_w(a);if(v!==null){v.flags&=-257,bw(v,a,l,i,e),v.mode&1&&ww(i,d,e),e=v,c=d;var C=e.updateQueue;if(C===null){var _=new Set;_.add(c),e.updateQueue=_}else C.add(c);break e}else{if(!(e&1)){ww(i,d,e),Jg();break e}c=Error(z(426))}}else if(Ke&&l.mode&1){var N=_w(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),bw(N,a,l,i,e),Rg(Wo(c,l));break e}}i=c=Wo(c,l),wt!==4&&(wt=2),xl===null?xl=[i]:xl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=dE(i,c,e);pw(i,E);break e;case 1:l=c;var b=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Vs===null||!Vs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=hE(i,l,e);pw(i,A);break e}}i=i.return}while(i!==null)}kE(n)}catch(L){e=L,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function jE(){var t=hd.current;return hd.current=dd,t===null?dd:t}function Jg(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||!(Fi&268435455)&&!(lh&268435455)||bs(St,Pt)}function md(t,e){var n=Se;Se|=2;var r=jE();(St!==t||Pt!==e)&&(Pr=null,ki(t,e));do try{Sk();break}catch(s){IE(t,s)}while(!0);if(Dg(),Se=n,hd.current=r,ht!==null)throw Error(z(261));return St=null,Pt=0,wt}function Sk(){for(;ht!==null;)AE(ht)}function Ck(){for(;ht!==null&&!JA();)AE(ht)}function AE(t){var e=PE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?kE(t):ht=e,Gg.current=null}function kE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wk(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=xk(n,e,vn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function Ei(t,e,n){var r=De,s=Dn.transition;try{Dn.transition=null,De=1,Ik(t,e,n,r)}finally{Dn.transition=s,De=r}return null}function Ik(t,e,n,r){do ko();while(js!==null);if(Se&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(l2(t,i),t===St&&(ht=St=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,DE(Yu,function(){return ko(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var a=De;De=1;var l=Se;Se|=4,Gg.current=null,bk(t,n),NE(n,t),K2(Qp),Ju=!!Kp,Qp=Kp=null,t.current=n,Ek(n),ZA(),Se=l,De=a,Dn.transition=i}else t.current=n;if(su&&(su=!1,js=t,pd=s),i=t.pendingLanes,i===0&&(Vs=null),n2(n.stateNode),pn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fd)throw fd=!1,t=mm,mm=null,t;return pd&1&&t.tag!==0&&ko(),i=t.pendingLanes,i&1?t===gm?wl++:(wl=0,gm=t):wl=0,oi(),null}function ko(){if(js!==null){var t=d1(pd),e=Dn.transition,n=De;try{if(Dn.transition=null,De=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,pd=0,Se&6)throw Error(z(331));var s=Se;for(Se|=4,J=t.current;J!==null;){var i=J,a=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(J=d;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:vl(8,h,i)}var f=h.child;if(f!==null)f.return=h,J=f;else for(;J!==null;){h=J;var p=h.sibling,v=h.return;if(bE(h),h===d){J=null;break}if(p!==null){p.return=v,J=p;break}J=v}}}var C=i.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}J=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,J=a;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,J=E;break e}J=i.return}}var b=t.current;for(J=b;J!==null;){a=J;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,J=S;else e:for(a=b;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ah(9,l)}}catch(L){tt(l,l.return,L)}if(l===a){J=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,J=A;break e}J=l.return}}if(Se=s,oi(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Zd,t)}catch{}r=!0}return r}finally{De=n,Dn.transition=e}}return!1}function Lw(t,e,n){e=Wo(n,e),e=dE(t,e,1),t=Ms(t,e,1),e=Zt(),t!==null&&(uc(t,1,e),pn(t,e))}function tt(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=Wo(n,t),t=hE(e,t,1),e=Ms(e,t,1),t=Zt(),e!==null&&(uc(e,1,t),pn(e,t));break}}e=e.return}}function jk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>lt()-Qg?ki(t,0):Kg|=n),pn(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=Zt();t=qr(t,e),t!==null&&(uc(t,e,n),pn(t,n))}function Ak(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function kk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),RE(t,n)}var PE;PE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,vk(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ke&&e.flags&1048576&&M1(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var s=Bo(e,Wt.current);Ao(e,n),s=$g(null,e,r,t,s,n);var i=zg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(i=!0,rd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mg(e),s.updater=oh,e.stateNode=s,s._reactInternals=e,sm(e,r,t,n),e=am(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&Ag(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Pk(r),t=Wn(r,t),s){case 0:e=om(null,e,r,t,n);break e;case 1:e=Nw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=Tw(null,e,r,Wn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),om(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Nw(t,e,r,s,n);case 3:e:{if(gE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,z1(t,e),ld(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wo(Error(z(423)),e),e=Sw(t,e,r,n,s);break e}else if(r!==s){s=Wo(Error(z(424)),e),e=Sw(t,e,r,n,s);break e}else for(wn=Os(e.stateNode.containerInfo.firstChild),En=e,Ke=!0,Gn=null,n=B1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===s){e=Gr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return H1(e),t===null&&tm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Yp(r,s)?a=null:i!==null&&Yp(r,i)&&(e.flags|=32),mE(t,e),Yt(t,e,a,n),e.child;case 6:return t===null&&tm(e),null;case 13:return yE(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Ew(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,$e(od,r._currentValue),r._currentValue=a,i!==null)if(er(i.value,a)){if(i.children===s.children&&!hn.current){e=Gr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Br(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ao(e,n),s=Mn(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Wn(r,e.pendingProps),s=Wn(r.type,s),Tw(t,e,r,s,n);case 15:return fE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Au(t,e),e.tag=1,fn(r)?(t=!0,rd(e)):t=!1,Ao(e,n),uE(e,r,s),sm(e,r,s,n),am(null,e,r,!0,t,n);case 19:return vE(t,e,n);case 22:return pE(t,e,n)}throw Error(z(156,e.tag))};function DE(t,e){return a1(t,e)}function Rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new Rk(t,e,n,r)}function Zg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pk(t){if(typeof t=="function")return Zg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vg)return 11;if(t===xg)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pu(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Zg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case mo:return Ri(n.children,s,i,e);case yg:a=8,s|=8;break;case Ip:return t=Pn(12,n,e,s|2),t.elementType=Ip,t.lanes=i,t;case jp:return t=Pn(13,n,e,s),t.elementType=jp,t.lanes=i,t;case Ap:return t=Pn(19,n,e,s),t.elementType=Ap,t.lanes=i,t;case Hb:return ch(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $b:a=10;break e;case zb:a=9;break e;case vg:a=11;break e;case xg:a=14;break e;case xs:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Pn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ri(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function ch(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=Hb,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ey(t,e,n,r,s,i,a,l,c){return t=new Dk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(i),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LE(t){if(!t)return Ks;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(fn(n))return L1(t,n,e)}return e}function OE(t,e,n,r,s,i,a,l,c){return t=ey(n,r,!0,t,s,i,a,l,c),t.context=LE(null),n=t.current,r=Zt(),s=Fs(n),i=Br(r,s),i.callback=e??null,Ms(n,i,s),t.current.lanes=s,uc(t,s,r),pn(t,r),t}function uh(t,e,n,r){var s=e.current,i=Zt(),a=Fs(s);return n=LE(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ms(s,e,a),t!==null&&(Xn(t,s,a,i),Cu(t,s,a)),a}function gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){Ow(t,e),(t=t.alternate)&&Ow(t,e)}function Ok(){return null}var ME=typeof reportError=="function"?reportError:function(t){console.error(t)};function ny(t){this._internalRoot=t}dh.prototype.render=ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));uh(t,e,null,null)};dh.prototype.unmount=ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ui(function(){uh(null,t,null,null)}),e[Wr]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=p1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&g1(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mw(){}function Mk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=gd(a);i.call(d)}}var a=OE(e,r,t,0,null,!1,!1,"",Mw);return t._reactRootContainer=a,t[Wr]=a.current,Ml(t.nodeType===8?t.parentNode:t),Ui(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=gd(c);l.call(d)}}var c=ey(t,0,!1,null,null,!1,!1,"",Mw);return t._reactRootContainer=c,t[Wr]=c.current,Ml(t.nodeType===8?t.parentNode:t),Ui(function(){uh(e,c,n,r)}),c}function fh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=gd(a);l.call(c)}}uh(e,a,t,s)}else a=Mk(n,e,t,s,r);return gd(a)}h1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(bg(e,n|1),pn(e,lt()),!(Se&6)&&(qo=lt()+500,oi()))}break;case 13:Ui(function(){var r=qr(t,1);if(r!==null){var s=Zt();Xn(r,t,1,s)}}),ty(t,1)}};Eg=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=Zt();Xn(e,t,134217728,n)}ty(t,134217728)}};f1=function(t){if(t.tag===13){var e=Fs(t),n=qr(t,e);if(n!==null){var r=Zt();Xn(n,t,e,r)}ty(t,e)}};p1=function(){return De};m1=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Up=function(t,e,n){switch(e){case"input":if(Pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rh(r);if(!s)throw Error(z(90));qb(r),Pp(r,s)}}}break;case"textarea":Kb(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};t1=Yg;n1=Ui;var Vk={usingClientEntryPoint:!1,Events:[hc,xo,rh,Zb,e1,Yg]},Xa={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fk={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i1(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||Ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Zd=iu.inject(Fk),gr=iu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vk;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(z(200));return Lk(t,e,null,n)};Cn.createRoot=function(t,e){if(!ry(t))throw Error(z(299));var n=!1,r="",s=ME;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ey(t,1,!1,null,null,n,!1,r,s),t[Wr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new ny(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=i1(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Ui(t)};Cn.hydrate=function(t,e,n){if(!hh(e))throw Error(z(200));return fh(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!ry(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ME;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=OE(e,null,t,1,n??null,s,!1,i,a),t[Wr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dh(e)};Cn.render=function(t,e,n){if(!hh(e))throw Error(z(200));return fh(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!hh(t))throw Error(z(40));return t._reactRootContainer?(Ui(function(){fh(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Yg;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return fh(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(t){console.error(t)}}VE(),Vb.exports=Cn;var ua=Vb.exports;const Uk=Sb(ua);var FE,Vw=ua;FE=Vw.createRoot,Vw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var As;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(As||(As={}));const Fw="popstate";function Bk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return xm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yd(s)}return zk(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function Uw(t,e){return{usr:t.state,key:t.key,idx:e}}function xm(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||$k()})}function yd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=As.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(ql({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=As.Pop;let N=h(),E=N==null?null:N-d;d=N,c&&c({action:l,location:_.location,delta:E})}function p(N,E){l=As.Push;let b=xm(_.location,N,E);d=h()+1;let S=Uw(b,d),A=_.createHref(b);try{a.pushState(S,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(A)}i&&c&&c({action:l,location:_.location,delta:1})}function v(N,E){l=As.Replace;let b=xm(_.location,N,E);d=h();let S=Uw(b,d),A=_.createHref(b);a.replaceState(S,"",A),i&&c&&c({action:l,location:_.location,delta:0})}function C(N){let E=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof N=="string"?N:yd(N);return b=b.replace(/ $/,"%20"),ct(E,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,E)}let _={get action(){return l},get location(){return t(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fw,f),c=N,()=>{s.removeEventListener(Fw,f),c=null}},createHref(N){return e(s,N)},createURL:C,encodeLocation(N){let E=C(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:v,go(N){return a.go(N)}};return _}var Bw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bw||(Bw={}));function Hk(t,e,n){return n===void 0&&(n="/"),Wk(t,e,n)}function Wk(t,e,n,r){let s=typeof e=="string"?da(e):e,i=iy(s.pathname||"/",n);if(i==null)return null;let a=UE(t);qk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=sR(i);l=tR(a[c],d)}return l}function UE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Bs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),UE(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Zk(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of BE(i.path))s(i,a,c)}),e}function BE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=BE(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gk=/^:[\w-]+$/,Kk=3,Qk=2,Yk=1,Xk=10,Jk=-2,$w=t=>t==="*";function Zk(t,e){let n=t.split("/"),r=n.length;return n.some($w)&&(r+=Jk),e&&(r+=Qk),n.filter(s=>!$w(s)).reduce((s,i)=>s+(Gk.test(i)?Kk:i===""?Yk:Xk),r)}function eR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tR(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=nR({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Bs([i,f.pathname]),pathnameBase:cR(Bs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Bs([i,f.pathnameBase]))}return a}function nR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let _=l[f]||"";a=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const C=l[f];return v&&!C?d[p]=void 0:d[p]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function rR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oR=t=>iR.test(t);function aR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?da(t):t,i;if(n)if(oR(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),sy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=zw(n.substring(1),"/"):i=zw(n,e)}else i=e;return{pathname:i,search:uR(r),hash:dR(s)}}function zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oy(t,e){let n=lR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ay(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=da(t):(s=ql({},t),ct(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=aR(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Bs=t=>t.join("/").replace(/\/\/+/g,"/"),cR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $E=["post","put","patch","delete"];new Set($E);const fR=["get",...$E];new Set(fR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const ly=g.createContext(null),pR=g.createContext(null),ai=g.createContext(null),ph=g.createContext(null),rs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),zE=g.createContext(null);function mR(t,e){let{relative:n}=e===void 0?{}:e;ha()||ct(!1);let{basename:r,navigator:s}=g.useContext(ai),{hash:i,pathname:a,search:l}=WE(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Bs([r,a])),s.createHref({pathname:c,search:l,hash:i})}function ha(){return g.useContext(ph)!=null}function fa(){return ha()||ct(!1),g.useContext(ph).location}function HE(t){g.useContext(ai).static||g.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=g.useContext(rs);return t?jR():gR()}function gR(){ha()||ct(!1);let t=g.useContext(ly),{basename:e,future:n,navigator:r}=g.useContext(ai),{matches:s}=g.useContext(rs),{pathname:i}=fa(),a=JSON.stringify(oy(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return HE(()=>{l.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=ay(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Bs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function yR(){let{matches:t}=g.useContext(rs),e=t[t.length-1];return e?e.params:{}}function WE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(ai),{matches:s}=g.useContext(rs),{pathname:i}=fa(),a=JSON.stringify(oy(s,r.v7_relativeSplatPath));return g.useMemo(()=>ay(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function vR(t,e){return xR(t,e)}function xR(t,e,n,r){ha()||ct(!1);let{navigator:s}=g.useContext(ai),{matches:i}=g.useContext(rs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=fa(),h;if(e){var f;let N=typeof e=="string"?da(e):e;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||ct(!1),h=N}else h=d;let p=h.pathname||"/",v=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=Hk(t,{pathname:v}),_=TR(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Bs([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Bs([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return e&&_?g.createElement(ph.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:As.Pop}},_):_}function wR(){let t=IR(),e=hR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const _R=g.createElement(wR,null);class bR extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(rs.Provider,{value:this.props.routeContext},g.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(ly);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(rs.Provider,{value:e},r)}function TR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ct(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:v}=n,C=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||C){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let v,C=!1,_=null,N=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||_R,c&&(d<0&&p===0?(AR("route-fallback"),C=!0,N=null):d===p&&(C=!0,N=f.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,p+1)),b=()=>{let S;return v?S=_:C?S=N:f.route.Component?S=g.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,g.createElement(ER,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement(bR,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:b(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):b()},null)}var qE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qE||{}),GE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GE||{});function NR(t){let e=g.useContext(ly);return e||ct(!1),e}function SR(t){let e=g.useContext(pR);return e||ct(!1),e}function CR(t){let e=g.useContext(rs);return e||ct(!1),e}function KE(t){let e=CR(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function IR(){var t;let e=g.useContext(zE),n=SR(),r=KE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jR(){let{router:t}=NR(qE.UseNavigateStable),e=KE(GE.UseNavigateStable),n=g.useRef(!1);return HE(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gl({fromRouteId:e},i)))},[t,e])}const Hw={};function AR(t,e,n){Hw[t]||(Hw[t]=!0)}function kR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function RR(t){let{to:e,replace:n,state:r,relative:s}=t;ha()||ct(!1);let{future:i,static:a}=g.useContext(ai),{matches:l}=g.useContext(rs),{pathname:c}=fa(),d=ir(),h=ay(e,oy(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function on(t){ct(!1)}function PR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=As.Pop,navigator:i,static:a=!1,future:l}=t;ha()&&ct(!1);let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:a,future:Gl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=da(r));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:C="default"}=r,_=g.useMemo(()=>{let N=iy(h,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:v,key:C},navigationType:s}},[c,h,f,p,v,C,s]);return _==null?null:g.createElement(ai.Provider,{value:d},g.createElement(ph.Provider,{children:n,value:_}))}function DR(t){let{children:e,location:n}=t;return vR(wm(e),n)}new Promise(()=>{});function wm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,wm(r.props.children,i));return}r.type!==on&&ct(!1),!r.props.index||!r.props.children||ct(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function LR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function OR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MR(t,e){return t.button===0&&(!e||e==="_self")&&!OR(t)}const VR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FR="6";try{window.__reactRouterVersion=FR}catch{}const UR="startTransition",Ww=Jd[UR];function BR(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=Bk({window:s,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=g.useCallback(f=>{d&&Ww?Ww(()=>c(f)):c(f)},[c,d]);return g.useLayoutEffect(()=>a.listen(h),[a,h]),g.useEffect(()=>kR(r),[r]),g.createElement(PR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=LR(e,VR),{basename:v}=g.useContext(ai),C,_=!1;if(typeof d=="string"&&zR.test(d)&&(C=d,$R))try{let S=new URL(window.location.href),A=d.startsWith("//")?new URL(S.protocol+d):new URL(d),L=iy(A.pathname,v);A.origin===S.origin&&L!=null?d=L+A.search+A.hash:_=!0}catch{}let N=mR(d,{relative:s}),E=HR(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function b(S){r&&r(S),S.defaultPrevented||E(S)}return g.createElement("a",_m({},p,{href:C||N,onClick:_||i?r:b,ref:n,target:c}))});var qw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qw||(qw={}));var Gw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function HR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=ir(),d=fa(),h=WE(t,{relative:a});return g.useCallback(f=>{if(MR(f,n)){f.preventDefault();let p=r!==void 0?r:yd(d)===yd(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,s,n,t,i,a,l])}const WR=()=>{};var Kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,a||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new GR;const p=i<<2|l>>4;if(r.push(p),d!==64){const v=l<<4&240|d>>2;if(r.push(v),f!==64){const C=d<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(t){const e=QE(t);return YE.encodeByteArray(e,!0)},vd=function(t){return KR(t).replace(/\./g,"")},XE=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>QR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof Kw>"u")return;const t=Kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XE(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return WR()||YR()||XR()||JR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JE=t=>{var e,n;return(n=(e=mh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZE=t=>{const e=JE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eT=()=>{var t;return(t=mh())==null?void 0:t.config},tT=t=>{var e;return(e=mh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vd(JSON.stringify(n)),vd(JSON.stringify(a)),""].join(".")}const _l={};function eP(){const t={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?t.emulator.push(e):t.prod.push(e);return t}function tP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qw=!1;function uy(t,e){if(typeof window>"u"||typeof document>"u"||!li(window.location.host)||_l[t]===e||_l[t]||Qw)return;_l[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=eP().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Qw=!0,a()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=tP(r),v=n("text"),C=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),N=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),b=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;l(S),h(N,_);const A=d();c(b,E),S.append(b,C,N,A),document.body.appendChild(S)}i?(C.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function rP(){var e;const t=(e=mh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oP(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aP(){return!rP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function lP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cP,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?uP(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Bn(s,l,r)}}function uP(t,e){return t.replace(dP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dP=/\{\$([^}]+)}/g;function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Yw(i)&&Yw(a)){if(!Kr(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fP(t,e){const n=new pP(t,e);return n.subscribe.bind(n)}class pP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qf),s.error===void 0&&(s.error=Qf),s.complete===void 0&&(s.complete=Qf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e3,yP=2,vP=4*60*60*1e3,xP=.5;function Xw(t,e=gP,n=yP){const r=e*Math.pow(n,t),s=Math.round(xP*r*(Math.random()-.5)*2);return Math.min(vP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bP(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_P(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _P(t){return t===Ti?void 0:t}function bP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const TP={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},NP=xe.INFO,SP={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},CP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gh{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=CP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const IP=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function jP(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,bm=new WeakMap,aT=new WeakMap,Yf=new WeakMap,dy=new WeakMap;function kP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n($s(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&oT.set(n,t)}).catch(()=>{}),dy.set(e,t),e}function RP(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});bm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PP(t){Em=t(Em)}function DP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return aT.set(r,e.sort?e.sort():[e]),$s(r)}:AP().includes(t)?function(...e){return t.apply(Xf(this),e),$s(oT.get(this))}:function(...e){return $s(t.apply(Xf(this),e))}}function LP(t){return typeof t=="function"?DP(t):(t instanceof IDBTransaction&&RP(t),IP(t,jP())?new Proxy(t,Em):t)}function $s(t){if(t instanceof IDBRequest)return kP(t);if(Yf.has(t))return Yf.get(t);const e=LP(t);return e!==t&&(Yf.set(t,e),dy.set(e,t)),e}const Xf=t=>dy.get(t);function lT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=$s(a);return r&&a.addEventListener("upgradeneeded",c=>{r($s(a.result),c.oldVersion,c.newVersion,$s(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const OP=["get","getKey","getAll","getAllKeys","count"],MP=["put","add","delete","clear"],Jf=new Map;function e0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OP.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Jf.set(e,i),i}PP(t=>({...t,get:(e,n,r)=>e0(e,n)||t.get(e,n,r),has:(e,n)=>!!e0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",t0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new gh("@firebase/app"),UP="@firebase/app-compat",BP="@firebase/analytics-compat",$P="@firebase/analytics",zP="@firebase/app-check-compat",HP="@firebase/app-check",WP="@firebase/auth",qP="@firebase/auth-compat",GP="@firebase/database",KP="@firebase/data-connect",QP="@firebase/database-compat",YP="@firebase/functions",XP="@firebase/functions-compat",JP="@firebase/installations",ZP="@firebase/installations-compat",e4="@firebase/messaging",t4="@firebase/messaging-compat",n4="@firebase/performance",r4="@firebase/performance-compat",s4="@firebase/remote-config",i4="@firebase/remote-config-compat",o4="@firebase/storage",a4="@firebase/storage-compat",l4="@firebase/firestore",c4="@firebase/ai",u4="@firebase/firestore-compat",d4="firebase",h4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",f4={[Tm]:"fire-core",[UP]:"fire-core-compat",[$P]:"fire-analytics",[BP]:"fire-analytics-compat",[HP]:"fire-app-check",[zP]:"fire-app-check-compat",[WP]:"fire-auth",[qP]:"fire-auth-compat",[GP]:"fire-rtdb",[KP]:"fire-data-connect",[QP]:"fire-rtdb-compat",[YP]:"fire-fn",[XP]:"fire-fn-compat",[JP]:"fire-iid",[ZP]:"fire-iid-compat",[e4]:"fire-fcm",[t4]:"fire-fcm-compat",[n4]:"fire-perf",[r4]:"fire-perf-compat",[s4]:"fire-rc",[i4]:"fire-rc-compat",[o4]:"fire-gcs",[a4]:"fire-gcs-compat",[l4]:"fire-fst",[u4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[d4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,p4=new Map,Sm=new Map;function n0(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tr(t){const e=t.name;if(Sm.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,t);for(const n of xd.values())n0(n,t);for(const n of p4.values())n0(n,t);return!0}function ci(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Zi("app","Firebase",m4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=h4;function cT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zs.create("bad-app-name",{appName:String(s)});if(n||(n=eT()),!n)throw zs.create("no-options");const i=xd.get(s);if(i){if(Kr(n,i.options)&&Kr(r,i.config))return i;throw zs.create("duplicate-app",{appName:s})}const a=new EP(s);for(const c of Sm.values())a.addComponent(c);const l=new g4(n,r,a);return xd.set(s,l),l}function yh(t=Nm){const e=xd.get(t);if(!e&&t===Nm&&eT())return cT();if(!e)throw zs.create("no-app",{appName:t});return e}function mn(t,e,n){let r=f4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}tr(new Fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-heartbeat-database",v4=1,Kl="firebase-heartbeat-store";let Zf=null;function uT(){return Zf||(Zf=lT(y4,v4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function x4(t){try{const n=(await uT()).transaction(Kl),r=await n.objectStore(Kl).get(dT(t));return await n.done,r}catch(e){if(e instanceof Bn)Qr.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function r0(t,e){try{const r=(await uT()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,dT(t)),await r.done}catch(n){if(n instanceof Bn)Qr.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function dT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1024,_4=30;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>_4){const a=N4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s0(),{heartbeatsToSend:r,unsentEntries:s}=E4(this._heartbeatsCache.heartbeats),i=vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qr.warn(n),""}}}function s0(){return new Date().toISOString().substring(0,10)}function E4(t,e=w4){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),i0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i0(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}function N4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){tr(new Fn("platform-logger",e=>new VP(e),"PRIVATE")),tr(new Fn("heartbeat",e=>new b4(e),"PRIVATE")),mn(Tm,t0,t),mn(Tm,t0,"esm2020"),mn("fire-js","")}S4("");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=hT,fT=new Zi("auth","Firebase",hT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new gh("@firebase/auth");function I4(t,...e){wd.logLevel<=xe.WARN&&wd.warn(`Auth (${eo}): ${t}`,...e)}function Du(t,...e){wd.logLevel<=xe.ERROR&&wd.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw fy(t,...e)}function Jn(t,...e){return fy(t,...e)}function hy(t,e,n){const r={...C4(),[e]:n};return new Zi("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fT.create(t,...e)}function ue(t,e,...n){if(!t)throw fy(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Du(e),new Error(e)}function Yr(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function A4(){return o0()==="http:"||o0()==="https:"}function o0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||rT()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=nP()||iP()}get(){return k4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L4=new mc(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ss(t,e,n,r,s={}){return mT(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=pc({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return sP()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&li(t.emulatorConfig.host)&&(d.credentials="include"),pT.fetch()(await gT(t,t.config.apiHost,n,l),d)})}async function mT(t,e,n){t._canInitEmulator=!1;const r={...P4,...e};try{const s=new M4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ou(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hy(t,h,d);Un(t,h)}}catch(s){if(s instanceof Bn)throw s;Un(t,"network-request-failed",{message:String(s)})}}async function gc(t,e,n,r,s={}){const i=await ss(t,e,n,r,s);return"mfaPendingCredential"in i&&Un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?py(t.config,s):`${t.config.apiScheme}://${s}`;return D4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function O4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),L4.get())})}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jn(t,e,r);return s.customData._tokenResponse=n,s}function a0(t){return t!==void 0&&t.enterprise!==void 0}class V4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F4(t,e){return ss(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function _d(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B4(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),s=my(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bl(ep(s.auth_time)),issuedAtTime:bl(ep(s.iat)),expirationTime:bl(ep(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ep(t){return Number(t)*1e3}function my(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const s=XE(n);return s?JSON.parse(s):(Du("Failed to decode base64 JWT payload"),null)}catch(s){return Du("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function l0(t){const e=my(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&$4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Go(t,_d(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?yT(s.providerUserInfo):[],a=W4(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function H4(t){const e=Fe(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e){const n=await mT(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await gT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&li(t.emulatorConfig.host)&&(c.credentials="include"),pT.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G4(t,e){return ss(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=l0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await q4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ro;return r&&(ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Im(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B4(this,e)}reload(){return H4(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Go(this,U4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:C,stsTokenManager:_}=n;ue(f&&_,e,"internal-error");const N=Ro.fromJSON(this.name,_);ue(typeof f=="string",e,"internal-error"),fs(r,e.name),fs(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof v=="boolean",e,"internal-error"),fs(i,e.name),fs(a,e.name),fs(l,e.name),fs(c,e.name),fs(d,e.name),fs(h,e.name);const E=new Kn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:N,createdAt:d,lastLoginAt:h});return C&&Array.isArray(C)&&(E.providerData=C.map(b=>({...b}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ro;s.updateFromServerResponse(n);const i=new Kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?yT(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ro;l.updateFromIdToken(r);const c=new Kn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function Fr(t){Yr(t instanceof Function,"Expected a class definition");let e=c0.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vT.type="NONE";const u0=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _d(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Fr(u0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Fr(u0);const a=Lu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let f;if(typeof h=="string"){const p=await _d(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Kn._fromGetAccountInfoResponse(e,p,h)}else f=Kn._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Po(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Po(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(NT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xT(t=qt()){return/firefox\//i.test(t)}function wT(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(t=qt()){return/crios\//i.test(t)}function bT(t=qt()){return/iemobile/i.test(t)}function ET(t=qt()){return/android/i.test(t)}function TT(t=qt()){return/blackberry/i.test(t)}function NT(t=qt()){return/webos/i.test(t)}function gy(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K4(t=qt()){var e;return gy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q4(){return oP()&&document.documentMode===10}function ST(t=qt()){return gy(t)||ET(t)||NT(t)||TT(t)||/windows phone/i.test(t)||bT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e=[]){let n;switch(t){case"Browser":n=d0(qt());break;case"Worker":n=`${d0(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e={}){return ss(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=6;class Z4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new Y4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _d(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject($r(this));const n=e?Fe(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X4(this),n=new Z4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&I4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function di(t){return Fe(t)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fP(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tD(t){vh=t}function IT(t){return vh.loadJS(t)}function nD(){return vh.recaptchaEnterpriseScript}function rD(){return vh.gapiScript}function sD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iD{constructor(){this.enterprise=new oD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aD="recaptcha-enterprise",jT="NO_RECAPTCHA";class lD{constructor(e){this.type=aD,this.auth=di(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{F4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new V4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;a0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(jT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iD().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&a0(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nD();c.length!==0&&(c+=l),IT(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function f0(t,e,n,r=!1,s=!1){const i=new lD(t);let a;if(s)a=jT;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function jm(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await f0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await f0(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){const n=ci(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Kr(i,e??{}))return s;Un(s,"already-initialized")}return n.initialize({options:e})}function uD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dD(t,e,n){const r=di(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=AT(e),{host:a,port:l}=hD(e),c=l===null?"":`:${l}`,d={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Kr(d,r.config.emulator)&&Kr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,li(a)?(cy(`${i}//${a}${c}`),uy("Auth",!0)):fD()}function AT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hD(t){const e=AT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:p0(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:p0(a)}}}function p0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function pD(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e){return gc(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function yD(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends yy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",mD);case"emailLink":return gD(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,r,"signUpPassword",pD);case"emailLink":return yD(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return gc(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class Bi extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Bi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wD(t){const e=il(ol(t)).link,n=e?il(ol(e)).deep_link_id:null,r=il(ol(t)).deep_link_id;return(r?il(ol(r)).link:null)||r||n||e||t}class vy{constructor(e){const n=il(ol(e)),r=n.apiKey??null,s=n.oobCode??null,i=xD(n.mode??null);ue(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wD(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vy.parseLink(n);return ue(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends yc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends yc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends yc{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return gc(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Kn._fromIdTokenResponse(e,r,s),a=m0(r);return new $i({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=m0(r);return new $i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function m0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Bn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ed(e,n,r,s)}}function kT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,i,e,r):i})}async function bD(t,e,n=!1){const r=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject($r(r));const s="reauthenticate";try{const i=await Go(t,kT(r,s,e,t),n);ue(i.idToken,r,"internal-error");const a=my(i.idToken);ue(a,r,"internal-error");const{sub:l}=a;return ue(t.uid===l,r,"user-mismatch"),$i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(t,e,n=!1){if(cn(t.app))return Promise.reject($r(t));const r="signIn",s=await kT(t,r,e),i=await $i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function TD(t,e){return RT(di(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(t){const e=di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ND(t,e,n){if(cn(t.app))return Promise.reject($r(t));const r=di(t),a=await jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_D).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&PT(t),c}),l=await $i._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function SD(t,e,n){return cn(t.app)?Promise.reject($r(t)):TD(Fe(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){return ss(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Fe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Go(r,CD(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function ID(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function jD(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function AD(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function kD(t){return Fe(t).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=1e3,PD=10;class OT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Q4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const DD=OT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MT.type="SESSION";const VT=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await LD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=wy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function MD(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function VD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function UD(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",BD=1,Nd="firebaseLocalStorage",BT="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function $D(){const t=indexedDB.deleteDatabase(UT);return new vc(t).toPromise()}function Am(){const t=indexedDB.open(UT,BD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nd,{keyPath:BT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nd)?e(r):(r.close(),await $D(),e(await Am()))})})}async function g0(t,e,n){const r=wh(t,!0).put({[BT]:e,value:n});return new vc(r).toPromise()}async function zD(t,e){const n=wh(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function y0(t,e){const n=wh(t,!0).delete(e);return new vc(n).toPromise()}const HD=800,WD=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(UD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await VD(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await g0(e,Td,"1"),await y0(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wh(s,!1).getAll();return new vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const qD=$T;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e){return e?Fr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GD(t){return RT(t.auth,new _y(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),ED(n,new _y(t),t.bypassAuthState)}async function QD(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),bD(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GD;case"linkViaPopup":case"linkViaRedirect":return QD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:Un(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new mc(2e3,1e4);async function XD(t,e,n){if(cn(t.app))return Promise.reject(Jn(t,"operation-not-supported-in-this-environment"));const r=di(t);j4(t,e,xy);const s=zT(r,n);return new Ii(r,"signInViaPopup",e,s).executeNotNull()}class Ii extends HT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YD.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="pendingRedirect",Ou=new Map;class ZD extends HT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const r=await eL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eL(t,e){const n=rL(e),r=nL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tL(t,e){Ou.set(t._key(),e)}function nL(t){return Fr(t._redirectPersistence)}function rL(t){return Lu(JD,t.config.apiKey,t.name)}async function sL(t,e,n=!1){if(cn(t.app))return Promise.reject($r(t));const r=di(t),s=zT(r,e),a=await new ZD(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=10*60*1e3;class oL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iL&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uL=/^https?/;async function dL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lL(t);for(const n of e)try{if(hL(n))return}catch{}Un(t,"unauthorized-domain")}function hL(t){const e=Cm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!uL.test(n))return!1;if(cL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new mc(3e4,6e4);function x0(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pL(t){return new Promise((e,n)=>{var s,i,a;function r(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(Jn(t,"network-request-failed"))},timeout:fL.get()})}if((i=(s=vr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=vr().gapi)!=null&&a.load)r();else{const l=sD("iframefcb");return vr()[l]=()=>{gapi.load?r():n(Jn(t,"network-request-failed"))},IT(`${rD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function mL(t){return Mu=Mu||pL(t),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new mc(5e3,15e3),yL="__/auth/iframe",vL="emulator/auth/iframe",xL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,vL):`https://${t.config.authDomain}/${yL}`,r={apiKey:e.apiKey,appName:t.name,v:eo},s=wL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pc(r).slice(1)}`}async function bL(t){const e=await mL(t),n=vr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:_L(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Jn(t,"network-request-failed"),l=vr().setTimeout(()=>{i(a)},gL.get());function c(){vr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,NL=600,SL="_blank",CL="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IL(t,e,n,r=TL,s=NL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...EL,width:r.toString(),height:s.toString(),top:i,left:a},d=qt().toLowerCase();n&&(l=_T(d)?SL:n),xT(d)&&(e=e||CL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,C])=>`${p}${v}=${C},`,"");if(K4(d)&&l!=="_self")return jL(e||"",l),new w0(null);const f=window.open(e||"",l,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new w0(f)}function jL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="__/auth/handler",kL="emulator/auth/handler",RL=encodeURIComponent("fac");async function _0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:s};if(e instanceof xy){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",hP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof yc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${RL}=${encodeURIComponent(c)}`:"";return`${PL(t)}?${pc(l).slice(1)}${d}`}function PL({config:t}){return t.emulator?py(t,kL):`https://${t.authDomain}/${AL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class DL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=sL,this._overrideRedirectResult=tL}async _openPopup(e,n,r,s){var a;Yr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await _0(e,n,r,Cm(),s);return IL(e,i,wy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _0(e,n,r,Cm(),s);return MD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bL(e),r=new oL(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tp,{type:tp},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[tp];i!==void 0&&n(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ST()||wT()||gy()}}const LL=DL;var b0="@firebase/auth",E0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VL(t){tr(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(t)},d=new eD(r,s,i,c);return uD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tr(new Fn("auth-internal",e=>{const n=di(e.getProvider("auth").getImmediate());return(r=>new OL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(b0,E0,ML(t)),mn(b0,E0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=5*60,UL=tT("authIdTokenMaxAge")||FL;let T0=null;const BL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UL)return;const s=n==null?void 0:n.token;T0!==s&&(T0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $L(t=yh()){const e=ci(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cD(t,{popupRedirectResolver:LL,persistence:[qD,DD,VT]}),r=tT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=BL(i.toString());jD(n,a,()=>a(n.currentUser)),ID(n,l=>a(l))}}const s=JE("auth");return s&&dD(n,`http://${s}`),n}function zL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}tD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",zL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VL("Browser");var HL="firebase",WL="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(HL,WL,"app");const qT="@firebase/installations",by="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,KT=`w:${by}`,QT="FIS_v2",qL="https://firebaseinstallations.googleapis.com/v1",GL=60*60*1e3,KL="installations",QL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zi=new Zi(KL,QL,YL);function YT(t){return t instanceof Bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT({projectId:t}){return`${qL}/projects/${t}/installations`}function JT(t){return{token:t.token,requestStatus:2,expiresIn:JL(t.expiresIn),creationTime:Date.now()}}async function ZT(t,e){const r=(await e.json()).error;return zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function XL(t,{refreshToken:e}){const n=eN(t);return n.append("Authorization",ZL(e)),n}async function tN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function JL(t){return Number(t.replace("s","000"))}function ZL(t){return`${QT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=XT(t),s=eN(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:QT,appId:t.appId,sdkVersion:KT},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await tN(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:JT(d.authToken)}}else throw await ZT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^[cdef][\w-]{21}$/,km="";function rO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=sO(t);return nO.test(n)?n:km}catch{return km}}function sO(t){return tO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Map;function sN(t,e){const n=_h(t);iN(n,e),iO(n,e)}function iN(t,e){const n=rN.get(t);if(n)for(const r of n)r(e)}function iO(t,e){const n=oO();n&&n.postMessage({key:t,fid:e}),aO()}let ji=null;function oO(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=t=>{iN(t.data.key,t.data.fid)}),ji}function aO(){rN.size===0&&ji&&(ji.close(),ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-installations-database",cO=1,Hi="firebase-installations-store";let np=null;function Ey(){return np||(np=lT(lO,cO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),np}async function Sd(t,e){const n=_h(t),s=(await Ey()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&sN(t,e.fid),e}async function oN(t){const e=_h(t),r=(await Ey()).transaction(Hi,"readwrite");await r.objectStore(Hi).delete(e),await r.done}async function bh(t,e){const n=_h(t),s=(await Ey()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&sN(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){let e;const n=await bh(t.appConfig,r=>{const s=uO(r),i=dO(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===km?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uO(t){const e=t||{fid:rO(),registrationStatus:0};return aN(e)}function dO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(zi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=hO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fO(t)}:{installationEntry:e}}async function hO(t,e){try{const n=await eO(t,e);return Sd(t.appConfig,n)}catch(n){throw YT(n)&&n.customData.serverCode===409?await oN(t.appConfig):await Sd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function fO(t){let e=await N0(t.appConfig);for(;e.registrationStatus===1;)await nN(100),e=await N0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ty(t);return r||n}return e}function N0(t){return bh(t,e=>{if(!e)throw zi.create("installation-not-found");return aN(e)})}function aN(t){return pO(t)?{fid:t.fid,registrationStatus:0}:t}function pO(t){return t.registrationStatus===1&&t.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO({appConfig:t,heartbeatServiceProvider:e},n){const r=gO(t,n),s=XL(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:KT,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await tN(()=>fetch(r,l));if(c.ok){const d=await c.json();return JT(d)}else throw await ZT("Generate Auth Token",c)}function gO(t,{fid:e}){return`${XT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t,e=!1){let n;const r=await bh(t.appConfig,i=>{if(!lN(i))throw zi.create("not-registered");const a=i.authToken;if(!e&&xO(a))return i;if(a.requestStatus===1)return n=yO(t,e),i;{if(!navigator.onLine)throw zi.create("app-offline");const l=_O(i);return n=vO(t,l),l}});return n?await n:r.authToken}async function yO(t,e){let n=await S0(t.appConfig);for(;n.authToken.requestStatus===1;)await nN(100),n=await S0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ny(t,e):r}function S0(t){return bh(t,e=>{if(!lN(e))throw zi.create("not-registered");const n=e.authToken;return bO(n)?{...e,authToken:{requestStatus:0}}:e})}async function vO(t,e){try{const n=await mO(t,e),r={...e,authToken:n};return await Sd(t.appConfig,r),n}catch(n){if(YT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sd(t.appConfig,r)}throw n}}function lN(t){return t!==void 0&&t.registrationStatus===2}function xO(t){return t.requestStatus===2&&!wO(t)}function wO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+GL}function _O(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function bO(t){return t.requestStatus===1&&t.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ty(e);return r?r.catch(console.error):Ny(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e=!1){const n=t;return await NO(n),(await Ny(n,e)).token}async function NO(t){const{registrationPromise:e}=await Ty(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){if(!t||!t.options)throw rp("App Configuration");if(!t.name)throw rp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function rp(t){return zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="installations",CO="installations-internal",IO=t=>{const e=t.getProvider("app").getImmediate(),n=SO(e),r=ci(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jO=t=>{const e=t.getProvider("app").getImmediate(),n=ci(e,cN).getImmediate();return{getId:()=>EO(n),getToken:s=>TO(n,s)}};function AO(){tr(new Fn(cN,IO,"PUBLIC")),tr(new Fn(CO,jO,"PRIVATE"))}AO();mn(qT,by);mn(qT,by,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="analytics",kO="firebase_id",RO="origin",PO=60*1e3,DO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Zi("analytics","Analytics",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){if(!t.startsWith(Sy)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return en.warn(e.message),""}return t}function uN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VO(t,e){const n=MO("firebase-js-sdk-policy",{createScriptURL:OO}),r=document.createElement("script"),s=`${Sy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function FO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function UO(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await uN(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){en.error(l)}t("config",s,i)}async function BO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await uN(n);for(const c of a){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){en.error(i)}}function $O(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await BO(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await UO(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,d]=a;t("get",l,c,d)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){en.error(l)}}return s}function zO(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=$O(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function HO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=30,qO=1e3;class GO{constructor(e={},n=qO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dN=new GO;function KO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function QO(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:KO(n)},s=DO.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function YO(t,e=dN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Tn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new ZO;return setTimeout(async()=>{l.abort()},PO),hN({appId:r,apiKey:s,measurementId:i},a,l,e)}async function hN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=dN){var l;const{appId:i,measurementId:a}=t;try{await XO(r,e)}catch(c){if(a)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await QO(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!JO(d)){if(s.deleteThrottleMetadata(i),a)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:a};throw c}const h=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?Xw(n,s.intervalMillis,WO):Xw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),en.debug(`Calling attemptFetch again in ${h} millis`),hN(t,f,r,s)}}function XO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JO(t){if(!(t instanceof Bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ZO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eM(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function tM(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(){if(sT())try{await iT()}catch(t){return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rM(t,e,n,r,s,i,a){const l=YO(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>en.error(p)),e.push(l);const c=nM().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([l,c]);HO(i)||VO(i,d.measurementId),s("js",new Date);const f=(a==null?void 0:a.config)??{};return f[RO]="firebase",f.update=!0,h!=null&&(f[kO]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},C0=[];const I0={};let sp="dataLayer",iM="gtag",j0,Cy,A0=!1;function oM(){const t=[];if(rT()&&t.push("This is a browser extension environment."),lP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}function aM(t,e,n){oM();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Lo[r]!=null)throw Tn.create("already-exists",{id:r});if(!A0){FO(sp);const{wrappedGtag:i,gtagCore:a}=zO(Lo,C0,I0,sp,iM);Cy=i,j0=a,A0=!0}return Lo[r]=rM(t,C0,I0,e,j0,sp,n),new sM(t)}function lM(t=yh()){t=Fe(t);const e=ci(t,Cd);return e.isInitialized()?e.getImmediate():cM(t)}function cM(t,e={}){const n=ci(t,Cd);if(n.isInitialized()){const s=n.getImmediate();if(Kr(e,n.getOptions()))return s;throw Tn.create("already-initialized")}return n.initialize({options:e})}function uM(t,e,n){t=Fe(t),tM(Cy,Lo[t.app.options.appId],e,n).catch(r=>en.error(r))}function dM(t,e,n,r){t=Fe(t),eM(Cy,Lo[t.app.options.appId],e,n,r).catch(s=>en.error(s))}const k0="@firebase/analytics",R0="0.10.19";function hM(){tr(new Fn(Cd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aM(r,s,n)},"PUBLIC")),tr(new Fn("analytics-internal",t,"PRIVATE")),mn(k0,R0),mn(k0,R0,"esm2020");function t(e){try{const n=e.getProvider(Cd).getImmediate();return{logEvent:(r,s,i)=>dM(n,r,s,i),setUserProperties:(r,s)=>uM(n,r,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}hM();var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,fN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,x){function I(){}I.prototype=x.prototype,y.F=x.prototype,y.prototype=new I,y.prototype.constructor=y,y.D=function(T,j,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return x.prototype[j].apply(T,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,x,I){I||(I=0);const T=Array(16);if(typeof x=="string")for(var j=0;j<16;++j)T[j]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(j=0;j<16;++j)T[j]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=y.g[0],I=y.g[1],j=y.g[2];let D=y.g[3],P;P=x+(D^I&(j^D))+T[0]+3614090360&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(j^x&(I^j))+T[1]+3905402710&4294967295,D=x+(P<<12&4294967295|P>>>20),P=j+(I^D&(x^I))+T[2]+606105819&4294967295,j=D+(P<<17&4294967295|P>>>15),P=I+(x^j&(D^x))+T[3]+3250441966&4294967295,I=j+(P<<22&4294967295|P>>>10),P=x+(D^I&(j^D))+T[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(j^x&(I^j))+T[5]+1200080426&4294967295,D=x+(P<<12&4294967295|P>>>20),P=j+(I^D&(x^I))+T[6]+2821735955&4294967295,j=D+(P<<17&4294967295|P>>>15),P=I+(x^j&(D^x))+T[7]+4249261313&4294967295,I=j+(P<<22&4294967295|P>>>10),P=x+(D^I&(j^D))+T[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(j^x&(I^j))+T[9]+2336552879&4294967295,D=x+(P<<12&4294967295|P>>>20),P=j+(I^D&(x^I))+T[10]+4294925233&4294967295,j=D+(P<<17&4294967295|P>>>15),P=I+(x^j&(D^x))+T[11]+2304563134&4294967295,I=j+(P<<22&4294967295|P>>>10),P=x+(D^I&(j^D))+T[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=D+(j^x&(I^j))+T[13]+4254626195&4294967295,D=x+(P<<12&4294967295|P>>>20),P=j+(I^D&(x^I))+T[14]+2792965006&4294967295,j=D+(P<<17&4294967295|P>>>15),P=I+(x^j&(D^x))+T[15]+1236535329&4294967295,I=j+(P<<22&4294967295|P>>>10),P=x+(j^D&(I^j))+T[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^j&(x^I))+T[6]+3225465664&4294967295,D=x+(P<<9&4294967295|P>>>23),P=j+(x^I&(D^x))+T[11]+643717713&4294967295,j=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(j^D))+T[0]+3921069994&4294967295,I=j+(P<<20&4294967295|P>>>12),P=x+(j^D&(I^j))+T[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^j&(x^I))+T[10]+38016083&4294967295,D=x+(P<<9&4294967295|P>>>23),P=j+(x^I&(D^x))+T[15]+3634488961&4294967295,j=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(j^D))+T[4]+3889429448&4294967295,I=j+(P<<20&4294967295|P>>>12),P=x+(j^D&(I^j))+T[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^j&(x^I))+T[14]+3275163606&4294967295,D=x+(P<<9&4294967295|P>>>23),P=j+(x^I&(D^x))+T[3]+4107603335&4294967295,j=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(j^D))+T[8]+1163531501&4294967295,I=j+(P<<20&4294967295|P>>>12),P=x+(j^D&(I^j))+T[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=D+(I^j&(x^I))+T[2]+4243563512&4294967295,D=x+(P<<9&4294967295|P>>>23),P=j+(x^I&(D^x))+T[7]+1735328473&4294967295,j=D+(P<<14&4294967295|P>>>18),P=I+(D^x&(j^D))+T[12]+2368359562&4294967295,I=j+(P<<20&4294967295|P>>>12),P=x+(I^j^D)+T[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^j)+T[8]+2272392833&4294967295,D=x+(P<<11&4294967295|P>>>21),P=j+(D^x^I)+T[11]+1839030562&4294967295,j=D+(P<<16&4294967295|P>>>16),P=I+(j^D^x)+T[14]+4259657740&4294967295,I=j+(P<<23&4294967295|P>>>9),P=x+(I^j^D)+T[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^j)+T[4]+1272893353&4294967295,D=x+(P<<11&4294967295|P>>>21),P=j+(D^x^I)+T[7]+4139469664&4294967295,j=D+(P<<16&4294967295|P>>>16),P=I+(j^D^x)+T[10]+3200236656&4294967295,I=j+(P<<23&4294967295|P>>>9),P=x+(I^j^D)+T[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^j)+T[0]+3936430074&4294967295,D=x+(P<<11&4294967295|P>>>21),P=j+(D^x^I)+T[3]+3572445317&4294967295,j=D+(P<<16&4294967295|P>>>16),P=I+(j^D^x)+T[6]+76029189&4294967295,I=j+(P<<23&4294967295|P>>>9),P=x+(I^j^D)+T[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=D+(x^I^j)+T[12]+3873151461&4294967295,D=x+(P<<11&4294967295|P>>>21),P=j+(D^x^I)+T[15]+530742520&4294967295,j=D+(P<<16&4294967295|P>>>16),P=I+(j^D^x)+T[2]+3299628645&4294967295,I=j+(P<<23&4294967295|P>>>9),P=x+(j^(I|~D))+T[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~j))+T[7]+1126891415&4294967295,D=x+(P<<10&4294967295|P>>>22),P=j+(x^(D|~I))+T[14]+2878612391&4294967295,j=D+(P<<15&4294967295|P>>>17),P=I+(D^(j|~x))+T[5]+4237533241&4294967295,I=j+(P<<21&4294967295|P>>>11),P=x+(j^(I|~D))+T[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~j))+T[3]+2399980690&4294967295,D=x+(P<<10&4294967295|P>>>22),P=j+(x^(D|~I))+T[10]+4293915773&4294967295,j=D+(P<<15&4294967295|P>>>17),P=I+(D^(j|~x))+T[1]+2240044497&4294967295,I=j+(P<<21&4294967295|P>>>11),P=x+(j^(I|~D))+T[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~j))+T[15]+4264355552&4294967295,D=x+(P<<10&4294967295|P>>>22),P=j+(x^(D|~I))+T[6]+2734768916&4294967295,j=D+(P<<15&4294967295|P>>>17),P=I+(D^(j|~x))+T[13]+1309151649&4294967295,I=j+(P<<21&4294967295|P>>>11),P=x+(j^(I|~D))+T[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=D+(I^(x|~j))+T[11]+3174756917&4294967295,D=x+(P<<10&4294967295|P>>>22),P=j+(x^(D|~I))+T[2]+718787259&4294967295,j=D+(P<<15&4294967295|P>>>17),P=I+(D^(j|~x))+T[9]+3951481745&4294967295,y.g[0]=y.g[0]+x&4294967295,y.g[1]=y.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,y.g[2]=y.g[2]+j&4294967295,y.g[3]=y.g[3]+D&4294967295}r.prototype.v=function(y,x){x===void 0&&(x=y.length);const I=x-this.blockSize,T=this.C;let j=this.h,D=0;for(;D<x;){if(j==0)for(;D<=I;)s(this,y,D),D+=this.blockSize;if(typeof y=="string"){for(;D<x;)if(T[j++]=y.charCodeAt(D++),j==this.blockSize){s(this,T),j=0;break}}else for(;D<x;)if(T[j++]=y[D++],j==this.blockSize){s(this,T),j=0;break}}this.h=j,this.o+=x},r.prototype.A=function(){var y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);y[0]=128;for(var x=1;x<y.length-8;++x)y[x]=0;x=this.o*8;for(var I=y.length-8;I<y.length;++I)y[I]=x&255,x/=256;for(this.v(y),y=Array(16),x=0,I=0;I<4;++I)for(let T=0;T<32;T+=8)y[x++]=this.g[I]>>>T&255;return y};function i(y,x){var I=l;return Object.prototype.hasOwnProperty.call(I,y)?I[y]:I[y]=x(y)}function a(y,x){this.h=x;const I=[];let T=!0;for(let j=y.length-1;j>=0;j--){const D=y[j]|0;T&&D==x||(I[j]=D,T=!1)}this.g=I}var l={};function c(y){return-128<=y&&y<128?i(y,function(x){return new a([x|0],x<0?-1:0)}):new a([y|0],y<0?-1:0)}function d(y){if(isNaN(y)||!isFinite(y))return f;if(y<0)return N(d(-y));const x=[];let I=1;for(let T=0;y>=I;T++)x[T]=y/I|0,I*=4294967296;return new a(x,0)}function h(y,x){if(y.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(y.charAt(0)=="-")return N(h(y.substring(1),x));if(y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(x,8));let T=f;for(let D=0;D<y.length;D+=8){var j=Math.min(8,y.length-D);const P=parseInt(y.substring(D,D+j),x);j<8?(j=d(Math.pow(x,j)),T=T.j(j).add(d(P))):(T=T.j(I),T=T.add(d(P)))}return T}var f=c(0),p=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(_(this))return-N(this).m();let y=0,x=1;for(let I=0;I<this.g.length;I++){const T=this.i(I);y+=(T>=0?T:4294967296+T)*x,x*=4294967296}return y},t.toString=function(y){if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(C(this))return"0";if(_(this))return"-"+N(this).toString(y);const x=d(Math.pow(y,6));var I=this;let T="";for(;;){const j=A(I,x).g;I=E(I,j.j(x));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(y);if(I=j,C(I))return D+T;for(;D.length<6;)D="0"+D;T=D+T}},t.i=function(y){return y<0?0:y<this.g.length?this.g[y]:this.h};function C(y){if(y.h!=0)return!1;for(let x=0;x<y.g.length;x++)if(y.g[x]!=0)return!1;return!0}function _(y){return y.h==-1}t.l=function(y){return y=E(this,y),_(y)?-1:C(y)?0:1};function N(y){const x=y.g.length,I=[];for(let T=0;T<x;T++)I[T]=~y.g[T];return new a(I,~y.h).add(p)}t.abs=function(){return _(this)?N(this):this},t.add=function(y){const x=Math.max(this.g.length,y.g.length),I=[];let T=0;for(let j=0;j<=x;j++){let D=T+(this.i(j)&65535)+(y.i(j)&65535),P=(D>>>16)+(this.i(j)>>>16)+(y.i(j)>>>16);T=P>>>16,D&=65535,P&=65535,I[j]=P<<16|D}return new a(I,I[I.length-1]&-2147483648?-1:0)};function E(y,x){return y.add(N(x))}t.j=function(y){if(C(this)||C(y))return f;if(_(this))return _(y)?N(this).j(N(y)):N(N(this).j(y));if(_(y))return N(this.j(N(y)));if(this.l(v)<0&&y.l(v)<0)return d(this.m()*y.m());const x=this.g.length+y.g.length,I=[];for(var T=0;T<2*x;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(let j=0;j<y.g.length;j++){const D=this.i(T)>>>16,P=this.i(T)&65535,H=y.i(j)>>>16,oe=y.i(j)&65535;I[2*T+2*j]+=P*oe,b(I,2*T+2*j),I[2*T+2*j+1]+=D*oe,b(I,2*T+2*j+1),I[2*T+2*j+1]+=P*H,b(I,2*T+2*j+1),I[2*T+2*j+2]+=D*H,b(I,2*T+2*j+2)}for(y=0;y<x;y++)I[y]=I[2*y+1]<<16|I[2*y];for(y=x;y<2*x;y++)I[y]=0;return new a(I,0)};function b(y,x){for(;(y[x]&65535)!=y[x];)y[x+1]+=y[x]>>>16,y[x]&=65535,x++}function S(y,x){this.g=y,this.h=x}function A(y,x){if(C(x))throw Error("division by zero");if(C(y))return new S(f,f);if(_(y))return x=A(N(y),x),new S(N(x.g),N(x.h));if(_(x))return x=A(y,N(x)),new S(N(x.g),x.h);if(y.g.length>30){if(_(y)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var I=p,T=x;T.l(y)<=0;)I=L(I),T=L(T);var j=k(I,1),D=k(T,1);for(T=k(T,2),I=k(I,2);!C(T);){var P=D.add(T);P.l(y)<=0&&(j=j.add(I),D=P),T=k(T,1),I=k(I,1)}return x=E(y,j.j(x)),new S(j,x)}for(j=f;y.l(x)>=0;){for(I=Math.max(1,Math.floor(y.m()/x.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),D=d(I),P=D.j(x);_(P)||P.l(y)>0;)I-=T,D=d(I),P=D.j(x);C(D)&&(D=p),j=j.add(D),y=E(y,P)}return new S(j,y)}t.B=function(y){return A(this,y).h},t.and=function(y){const x=Math.max(this.g.length,y.g.length),I=[];for(let T=0;T<x;T++)I[T]=this.i(T)&y.i(T);return new a(I,this.h&y.h)},t.or=function(y){const x=Math.max(this.g.length,y.g.length),I=[];for(let T=0;T<x;T++)I[T]=this.i(T)|y.i(T);return new a(I,this.h|y.h)},t.xor=function(y){const x=Math.max(this.g.length,y.g.length),I=[];for(let T=0;T<x;T++)I[T]=this.i(T)^y.i(T);return new a(I,this.h^y.h)};function L(y){const x=y.g.length+1,I=[];for(let T=0;T<x;T++)I[T]=y.i(T)<<1|y.i(T-1)>>>31;return new a(I,y.h)}function k(y,x){const I=x>>5;x%=32;const T=y.g.length-I,j=[];for(let D=0;D<T;D++)j[D]=x>0?y.i(D+I)>>>x|y.i(D+I+1)<<32-x:y.i(D+I);return new a(j,y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Hs=a}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pN,al,mN,Vu,Rm,gN,yN,vN;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var m=0;m<u.length;++m){var w=u[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var w=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var V=u[R];if(!(V in w))break e;w=w[V]}u=u[u.length-1],R=w[u],m=m(R),m!=R&&m!=null&&e(w,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var w=[],R;for(R in m)Object.prototype.hasOwnProperty.call(m,R)&&w.push([R,m[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,w){return u.call.apply(u.bind,arguments)}function d(u,m,w){return d=c,d.apply(null,arguments)}function h(u,m){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function f(u,m){function w(){}w.prototype=m.prototype,u.Z=m.prototype,u.prototype=new w,u.prototype.constructor=u,u.Ob=function(R,V,F){for(var G=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)G[ge-2]=arguments[ge];return m.prototype[V].apply(R,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const m=u.length;if(m>0){const w=Array(m);for(let R=0;R<m;R++)w[R]=u[R];return w}return[]}function C(u,m){for(let R=1;R<arguments.length;R++){const V=arguments[R];var w=typeof V;if(w=w!="object"?w:V?Array.isArray(V)?"array":w:"null",w=="array"||w=="object"&&typeof V.length=="number"){w=u.length||0;const F=V.length||0;u.length=w+F;for(let G=0;G<F;G++)u[w+G]=V[G]}else u.push(V)}}class _{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function N(u){a.setTimeout(()=>{throw u},0)}function E(){var u=y;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class b{constructor(){this.h=this.g=null}add(m,w){const R=S.get();R.set(m,w),this.h?this.h.next=R:this.g=R,this.h=R}}var S=new _(()=>new A,u=>u.reset());class A{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let L,k=!1,y=new b,x=()=>{const u=Promise.resolve(void 0);L=()=>{u.then(I)}};function I(){for(var u;u=E();){try{u.h.call(u.g)}catch(w){N(w)}var m=S;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}k=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function H(u,m){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(H,j),H.prototype.init=function(u,m){const w=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(w=="mouseover"?m=u.fromElement:w=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ce(u,m,w,R,V){this.listener=u,this.proxy=null,this.src=m,this.type=w,this.capture=!!R,this.ha=V,this.key=++Y,this.da=this.fa=!1}function M(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u,m,w){for(const R in u)m.call(w,u[R],R,u)}function te(u,m){for(const w in u)m.call(void 0,u[w],w,u)}function O(u){const m={};for(const w in u)m[w]=u[w];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let w,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(w in R)u[w]=R[w];for(let F=0;F<U.length;F++)w=U[F],Object.prototype.hasOwnProperty.call(R,w)&&(u[w]=R[w])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,w,R,V){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const G=be(u,m,R,V);return G>-1?(m=u[G],w||(m.fa=!1)):(m=new ce(m,this.src,F,!!R,V),m.fa=w,u.push(m)),m};function Ae(u,m){const w=m.type;if(w in u.g){var R=u.g[w],V=Array.prototype.indexOf.call(R,m,void 0),F;(F=V>=0)&&Array.prototype.splice.call(R,V,1),F&&(M(m),u.g[w].length==0&&(delete u.g[w],u.h--))}}function be(u,m,w,R){for(let V=0;V<u.length;++V){const F=u[V];if(!F.da&&F.listener==m&&F.capture==!!w&&F.ha==R)return V}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),Ce={};function yt(u,m,w,R,V){if(Array.isArray(m)){for(let F=0;F<m.length;F++)yt(u,m[F],w,R,V);return null}return w=Ac(w),u&&u[oe]?u.J(m,w,l(R)?!!R.capture:!1,V):Oe(u,m,w,!1,R,V)}function Oe(u,m,w,R,V,F){if(!m)throw Error("Invalid event type");const G=l(V)?!!V.capture:!!V;let ge=Ar(u);if(ge||(u[ie]=ge=new ae(u)),w=ge.add(m,w,R,G,F),w.proxy)return w;if(R=ke(),w.proxy=R,R.src=u,R.listener=w,u.addEventListener)D||(V=G),V===void 0&&(V=!1),u.addEventListener(m.toString(),R,V);else if(u.attachEvent)u.attachEvent(gn(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ke(){function u(w){return m.call(u.src,u.listener,w)}const m=gi;return u}function Ie(u,m,w,R,V){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ie(u,m[F],w,R,V);else R=l(R)?!!R.capture:!!R,w=Ac(w),u&&u[oe]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],w=be(m,w,R,V),w>-1&&(M(m[w]),Array.prototype.splice.call(m,w,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=Ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,w,R,V)),(w=u>-1?m[u]:null)&&Ct(w))}function Ct(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])Ae(m.i,u);else{var w=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(w,R,u.capture):m.detachEvent?m.detachEvent(gn(w),R):m.addListener&&m.removeListener&&m.removeListener(R),(w=Ar(m))?(Ae(w,u),w.h==0&&(w.src=null,m[ie]=null)):M(u)}}}function gn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function gi(u,m){if(u.da)u=!0;else{m=new H(m,this);const w=u.listener,R=u.ha||u.src;u.fa&&Ct(u),u=w.call(R,m)}return u}function Ar(u){return u=u[ie],u instanceof ae?u:null}var kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ac(u){return typeof u=="function"?u:(u[kr]||(u[kr]=function(m){return u.handleEvent(m)}),u[kr])}function ot(){T.call(this),this.i=new ae(this),this.M=this,this.G=null}f(ot,T),ot.prototype[oe]=!0,ot.prototype.removeEventListener=function(u,m,w,R){Ie(this,u,m,w,R)};function Gt(u,m){var w,R=u.G;if(R)for(w=[];R;R=R.G)w.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new j(m,u);else if(m instanceof j)m.target=m.target||u;else{var V=m;m=new j(R,u),ne(m,V)}V=!0;let F,G;if(w)for(G=w.length-1;G>=0;G--)F=m.g=w[G],V=kc(F,R,!0,m)&&V;if(F=m.g=u,V=kc(F,R,!0,m)&&V,V=kc(F,R,!1,m)&&V,w)for(G=0;G<w.length;G++)F=m.g=w[G],V=kc(F,R,!1,m)&&V}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const w=u.g[m];for(let R=0;R<w.length;R++)M(w[R]);delete u.g[m],u.h--}}this.G=null},ot.prototype.J=function(u,m,w,R){return this.i.add(String(u),m,!1,w,R)},ot.prototype.K=function(u,m,w,R){return this.i.add(String(u),m,!0,w,R)};function kc(u,m,w,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let V=!0;for(let F=0;F<m.length;++F){const G=m[F];if(G&&!G.da&&G.capture==w){const ge=G.listener,vt=G.ha||G.src;G.fa&&Ae(u.i,G),V=ge.call(vt,R)!==!1&&V}}return V&&!R.defaultPrevented}function $j(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(u,m||0)}function Ov(u){u.g=$j(()=>{u.g=null,u.i&&(u.i=!1,Ov(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zj extends T{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ov(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(u){T.call(this),this.h=u,this.g={}}f(Ia,T);var Mv=[];function Vv(u){W(u.g,function(m,w){this.g.hasOwnProperty(w)&&Ct(m)},u),u.g={}}Ia.prototype.N=function(){Ia.Z.N.call(this),Vv(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sf=a.JSON.stringify,Hj=a.JSON.parse,Wj=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Fv(){}function Uv(){}var ja={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function of(){j.call(this,"d")}f(of,j);function af(){j.call(this,"c")}f(af,j);var yi={},Bv=null;function Rc(){return Bv=Bv||new ot}yi.Ia="serverreachability";function $v(u){j.call(this,yi.Ia,u)}f($v,j);function Aa(u){const m=Rc();Gt(m,new $v(m))}yi.STAT_EVENT="statevent";function zv(u,m){j.call(this,yi.STAT_EVENT,u),this.stat=m}f(zv,j);function Kt(u){const m=Rc();Gt(m,new zv(m,u))}yi.Ja="timingevent";function Hv(u,m){j.call(this,yi.Ja,u),this.size=m}f(Hv,j);function ka(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ra(){this.g=!0}Ra.prototype.ua=function(){this.g=!1};function qj(u,m,w,R,V,F){u.info(function(){if(u.g)if(F){var G="",ge=F.split("&");for(let Me=0;Me<ge.length;Me++){var vt=ge[Me].split("=");if(vt.length>1){const Et=vt[0];vt=vt[1];const ar=Et.split("_");G=ar.length>=2&&ar[1]=="type"?G+(Et+"="+vt+"&"):G+(Et+"=redacted&")}}}else G=null;else G=F;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+m+`
`+w+`
`+G})}function Gj(u,m,w,R,V,F,G){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+m+`
`+w+`
`+F+" "+G})}function ro(u,m,w,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qj(u,w)+(R?" "+R:"")})}function Kj(u,m){u.info(function(){return"TIMEOUT: "+m})}Ra.prototype.info=function(){};function Qj(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var w=F[u];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var V=R[0];if(V!="noop"&&V!="stop"&&V!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return sf(F)}catch{return m}}var Pc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qv;function lf(){}f(lf,Fv),lf.prototype.g=function(){return new XMLHttpRequest},qv=new lf;function Pa(u){return encodeURIComponent(String(u))}function Yj(u){var m=1;u=u.split(":");const w=[];for(;m>0&&u.length;)w.push(u.shift()),m--;return u.length&&w.push(u.join(":")),w}function os(u,m,w,R){this.j=u,this.i=m,this.l=w,this.S=R||1,this.V=new Ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gv}function Gv(){this.i=null,this.g="",this.h=!1}var Kv={},cf={};function uf(u,m,w){u.M=1,u.A=Lc(or(m)),u.u=w,u.R=!0,Qv(u,null)}function Qv(u,m){u.F=Date.now(),Dc(u),u.B=or(u.A);var w=u.B,R=u.S;Array.isArray(R)||(R=[String(R)]),lx(w.i,"t",R),u.C=0,w=u.j.L,u.h=new Gv,u.g=Sx(u.j,w?m:null,!u.u),u.P>0&&(u.O=new zj(d(u.Y,u,u.g),u.P)),m=u.V,w=u.g,R=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Mv[0]=V.toString()),V=Mv);for(let F=0;F<V.length;F++){const G=yt(w,V[F],R||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Aa(),qj(u.i,u.v,u.B,u.l,u.S,u.u)}os.prototype.ba=function(u){u=u.target;const m=this.O;m&&cs(u)==3?m.j():this.Y(u)},os.prototype.Y=function(u){try{if(u==this.g)e:{const ge=cs(this.g),vt=this.g.ya(),Me=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||mx(this.g)))){this.K||ge!=4||vt==7||(vt==8||Me<=0?Aa(3):Aa(2)),df(this);var m=this.g.ca();this.X=m;var w=Xj(this);if(this.o=m==200,Gj(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var R,V=this.g;if((R=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var F=R;break t}}F=null}if(u=F)ro(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hf(this,u);else{this.o=!1,this.m=3,Kt(12),vi(this),Da(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<w.length;)if(Et=Jj(this,w),Et==cf){ge==4&&(this.m=4,Kt(14),u=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Kv){this.m=4,Kt(15),ro(this.i,this.l,w,"[Invalid Chunk]"),u=!1;break}else ro(this.i,this.l,Et,null),hf(this,Et);if(Yv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||w.length!=0||this.h.h||(this.m=1,Kt(16),u=!1),this.o=this.o&&u,!u)ro(this.i,this.l,w,"[Invalid Chunked Response]"),vi(this),Da(this);else if(w.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),wf(G),G.P=!0,Kt(11))}}else ro(this.i,this.l,w,null),hf(this,w);ge==4&&vi(this),this.o&&!this.K&&(ge==4?bx(this.j,this):(this.o=!1,Dc(this)))}else hA(this.g),m==400&&w.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),vi(this),Da(this)}}}catch{}finally{}};function Xj(u){if(!Yv(u))return u.g.la();const m=mx(u.g);if(m==="")return"";let w="";const R=m.length,V=cs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vi(u),Da(u),"";u.h.i=new a.TextDecoder}for(let F=0;F<R;F++)u.h.h=!0,w+=u.h.i.decode(m[F],{stream:!(V&&F==R-1)});return m.length=0,u.h.g+=w,u.C=0,u.h.g}function Yv(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jj(u,m){var w=u.C,R=m.indexOf(`
`,w);return R==-1?cf:(w=Number(m.substring(w,R)),isNaN(w)?Kv:(R+=1,R+w>m.length?cf:(m=m.slice(R,R+w),u.C=R+w,m)))}os.prototype.cancel=function(){this.K=!0,vi(this)};function Dc(u){u.T=Date.now()+u.H,Xv(u,u.H)}function Xv(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ka(d(u.aa,u),m)}function df(u){u.D&&(a.clearTimeout(u.D),u.D=null)}os.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Kj(this.i,this.B),this.M!=2&&(Aa(),Kt(17)),vi(this),this.m=2,Da(this)):Xv(this,this.T-u)};function Da(u){u.j.I==0||u.K||bx(u.j,u)}function vi(u){df(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Vv(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hf(u,m){try{var w=u.j;if(w.I!=0&&(w.g==u||ff(w.h,u))){if(!u.L&&ff(w.h,u)&&w.I==3){try{var R=w.Ba.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<u.F)Uc(w),Vc(w);else break e;xf(w),Kt(18)}}else w.xa=V[1],0<w.xa-w.K&&V[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ka(d(w.Va,w),6e3));ex(w.h)<=1&&w.ta&&(w.ta=void 0)}else wi(w,11)}else if((u.L||w.g==u)&&Uc(w),!P(m))for(V=w.Ba.g.parse(m),m=0;m<V.length;m++){let Me=V[m];const Et=Me[0];if(!(Et<=w.K))if(w.K=Et,Me=Me[1],w.I==2)if(Me[0]=="c"){w.M=Me[1],w.ba=Me[2];const ar=Me[3];ar!=null&&(w.ka=ar,w.j.info("VER="+w.ka));const _i=Me[4];_i!=null&&(w.za=_i,w.j.info("SVER="+w.za));const us=Me[5];us!=null&&typeof us=="number"&&us>0&&(R=1.5*us,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const ds=u.g;if(ds){const $c=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var F=R.h;F.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pf(F,F.h),F.h=null))}if(R.G){const _f=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;_f&&(R.wa=_f,ze(R.J,R.G,_f))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-u.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var G=u;if(R.na=Nx(R,R.L?R.ba:null,R.W),G.L){tx(R.h,G);var ge=G,vt=R.O;vt&&(ge.H=vt),ge.D&&(df(ge),Dc(ge)),R.g=G}else wx(R);w.i.length>0&&Fc(w)}else Me[0]!="stop"&&Me[0]!="close"||wi(w,7);else w.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?wi(w,7):vf(w):Me[0]!="noop"&&w.l&&w.l.qa(Me),w.A=0)}}Aa(4)}catch{}}var Zj=class{constructor(u,m){this.g=u,this.map=m}};function Jv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ex(u){return u.h?1:u.g?u.g.size:0}function ff(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pf(u,m){u.g?u.g.add(m):u.h=m}function tx(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Jv.prototype.cancel=function(){if(this.i=nx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nx(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const w of u.g.values())m=m.concat(w.G);return m}return v(u.i)}var rx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eA(u,m){if(u){u=u.split("&");for(let w=0;w<u.length;w++){const R=u[w].indexOf("=");let V,F=null;R>=0?(V=u[w].substring(0,R),F=u[w].substring(R+1)):V=u[w],m(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function as(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof as?(this.l=u.l,La(this,u.j),this.o=u.o,this.g=u.g,Oa(this,u.u),this.h=u.h,mf(this,cx(u.i)),this.m=u.m):u&&(m=String(u).match(rx))?(this.l=!1,La(this,m[1]||"",!0),this.o=Ma(m[2]||""),this.g=Ma(m[3]||"",!0),Oa(this,m[4]),this.h=Ma(m[5]||"",!0),mf(this,m[6]||"",!0),this.m=Ma(m[7]||"")):(this.l=!1,this.i=new Fa(null,this.l))}as.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Va(m,sx,!0),":");var w=this.g;return(w||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Va(m,sx,!0),"@"),u.push(Pa(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&u.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Va(w,w.charAt(0)=="/"?rA:nA,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Va(w,iA)),u.join("")},as.prototype.resolve=function(u){const m=or(this);let w=!!u.j;w?La(m,u.j):w=!!u.o,w?m.o=u.o:w=!!u.g,w?m.g=u.g:w=u.u!=null;var R=u.h;if(w)Oa(m,u.u);else if(w=!!u.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var V=m.h.lastIndexOf("/");V!=-1&&(R=m.h.slice(0,V+1)+R)}if(V=R,V==".."||V==".")R="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){R=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let G=0;G<V.length;){const ge=V[G++];ge=="."?R&&G==V.length&&F.push(""):ge==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),R&&G==V.length&&F.push("")):(F.push(ge),R=!0)}R=F.join("/")}else R=V}return w?m.h=R:w=u.i.toString()!=="",w?mf(m,cx(u.i)):w=!!u.m,w&&(m.m=u.m),m};function or(u){return new as(u)}function La(u,m,w){u.j=w?Ma(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Oa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function mf(u,m,w){m instanceof Fa?(u.i=m,oA(u.i,u.l)):(w||(m=Va(m,sA)),u.i=new Fa(m,u.l))}function ze(u,m,w){u.i.set(m,w)}function Lc(u){return ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ma(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Va(u,m,w){return typeof u=="string"?(u=encodeURI(u).replace(m,tA),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sx=/[#\/\?@]/g,nA=/[#\?:]/g,rA=/[#\?]/g,sA=/[#\?@]/g,iA=/#/g;function Fa(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&eA(u.i,function(m,w){u.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Fa.prototype,t.add=function(u,m){xi(this),this.i=null,u=so(this,u);let w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(m),this.h+=1,this};function ix(u,m){xi(u),m=so(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ox(u,m){return xi(u),m=so(u,m),u.g.has(m)}t.forEach=function(u,m){xi(this),this.g.forEach(function(w,R){w.forEach(function(V){u.call(m,V,R,this)},this)},this)};function ax(u,m){xi(u);let w=[];if(typeof m=="string")ox(u,m)&&(w=w.concat(u.g.get(so(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)w=w.concat(u[m]);return w}t.set=function(u,m){return xi(this),this.i=null,u=so(this,u),ox(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=ax(this,u),u.length>0?String(u[0]):m):m};function lx(u,m,w){ix(u,m),w.length>0&&(u.i=null,u.g.set(so(u,m),v(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let R=0;R<m.length;R++){var w=m[R];const V=Pa(w);w=ax(this,w);for(let F=0;F<w.length;F++){let G=V;w[F]!==""&&(G+="="+Pa(w[F])),u.push(G)}}return this.i=u.join("&")};function cx(u){const m=new Fa;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function so(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oA(u,m){m&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(w,R){const V=R.toLowerCase();R!=V&&(ix(this,R),lx(this,V,w))},u)),u.j=m}function aA(u,m){const w=new Ra;if(a.Image){const R=new Image;R.onload=h(ls,w,"TestLoadImage: loaded",!0,m,R),R.onerror=h(ls,w,"TestLoadImage: error",!1,m,R),R.onabort=h(ls,w,"TestLoadImage: abort",!1,m,R),R.ontimeout=h(ls,w,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function lA(u,m){const w=new Ra,R=new AbortController,V=setTimeout(()=>{R.abort(),ls(w,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(F=>{clearTimeout(V),F.ok?ls(w,"TestPingServer: ok",!0,m):ls(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),ls(w,"TestPingServer: error",!1,m)})}function ls(u,m,w,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(w)}catch{}}function cA(){this.g=new Wj}function gf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(gf,Fv),gf.prototype.g=function(){return new Oc(this.i,this.h)};function Oc(u,m){ot.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Oc,ot),t=Oc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ba(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ux(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ux(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ua(this):Ba(this),this.readyState==3&&ux(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ua(this))},t.Na=function(u){this.g&&(this.response=u,Ua(this))},t.ga=function(){this.g&&Ua(this)};function Ua(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ba(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=m.next();return u.join(`\r
`)};function Ba(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function dx(u){let m="";return W(u,function(w,R){m+=R,m+=":",m+=w,m+=`\r
`}),m}function yf(u,m,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=dx(w),typeof u=="string"?w!=null&&Pa(w):ze(u,m,w))}function et(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(et,ot);var uA=/^https?$/i,dA=["POST","PUT"];t=et.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qv.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){hx(this,F);return}if(u=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)w.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())w.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(dA,m,void 0)>=0)||R||V||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of w)this.g.setRequestHeader(F,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){hx(this,F)}};function hx(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,fx(u),Mc(u)}function fx(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Gt(this,"complete"),Gt(this,"abort"),Mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?px(this):this.Xa())},t.Xa=function(){px(this)};function px(u){if(u.h&&typeof i<"u"){if(u.v&&cs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Gt(u,"readystatechange"),cs(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var R;if(R=F===0){let G=String(u.D).match(rx)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),R=!uA.test(G?G.toLowerCase():"")}w=R}if(w)Gt(u,"complete"),Gt(u,"success");else{u.o=6;try{var V=cs(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",fx(u)}}finally{Mc(u)}}}}function Mc(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const w=u.g;u.g=null,m||Gt(u,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function cs(u){return u.g?u.g.readyState:0}t.ca=function(){try{return cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hj(m)}};function mx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hA(u){const m={};u=(u.g&&cs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(P(u[R]))continue;var w=Yj(u[R]);const V=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=m[V]||[];m[V]=F,F.push(w)}te(m,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(u,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||m}function gx(u){this.za=0,this.i=[],this.j=new Ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,u),this.Za=$a("retryDelaySeedMs",1e4,u),this.Ta=$a("forwardChannelMaxRetries",2,u),this.va=$a("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jv(u&&u.concurrentRequestLimit),this.Ba=new cA,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gx.prototype,t.ka=8,t.I=1,t.connect=function(u,m,w,R){Kt(0),this.W=u,this.H=m||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Nx(this,null,this.W),Fc(this)};function vf(u){if(yx(u),u.I==3){var m=u.V++,w=or(u.J);if(ze(w,"SID",u.M),ze(w,"RID",m),ze(w,"TYPE","terminate"),za(u,w),m=new os(u,u.j,m),m.M=2,m.A=Lc(or(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.A,w=!0),w||(m.g=Sx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Dc(m)}Tx(u)}function Vc(u){u.g&&(wf(u),u.g.cancel(),u.g=null)}function yx(u){Vc(u),u.v&&(a.clearTimeout(u.v),u.v=null),Uc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Fc(u){if(!Zv(u.h)&&!u.m){u.m=!0;var m=u.Ea;L||x(),k||(L(),k=!0),y.add(m,u),u.D=0}}function fA(u,m){return ex(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ka(d(u.Ea,u,m),Ex(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new os(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),ne(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,m>4096){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=xx(this,V,m),w=or(this.J),ze(w,"RID",u),ze(w,"CVER",22),this.G&&ze(w,"X-HTTP-Session-Id",this.G),za(this,w),F&&(this.R?m="headers="+Pa(dx(F))+"&"+m:this.u&&yf(w,this.u,F)),pf(this.h,V),this.Ra&&ze(w,"TYPE","init"),this.S?(ze(w,"$req",m),ze(w,"SID","null"),V.U=!0,uf(V,w,null)):uf(V,w,m),this.I=2}}else this.I==3&&(u?vx(this,u):this.i.length==0||Zv(this.h)||vx(this))};function vx(u,m){var w;m?w=m.l:w=u.V++;const R=or(u.J);ze(R,"SID",u.M),ze(R,"RID",w),ze(R,"AID",u.K),za(u,R),u.u&&u.o&&yf(R,u.u,u.o),w=new os(u,u.j,w,u.D+1),u.u===null&&(w.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xx(u,w,1e3),w.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),pf(u.h,w),uf(w,R,m)}function za(u,m){u.H&&W(u.H,function(w,R){ze(m,R,w)}),u.l&&W({},function(w,R){ze(m,R,w)})}function xx(u,m,w){w=Math.min(u.i.length,w);const R=u.l?d(u.l.Ka,u.l,u):null;e:{var V=u.i;let ge=-1;for(;;){const vt=["count="+w];ge==-1?w>0?(ge=V[0].g,vt.push("ofs="+ge)):ge=0:vt.push("ofs="+ge);let Me=!0;for(let Et=0;Et<w;Et++){var F=V[Et].g;const ar=V[Et].map;if(F-=ge,F<0)ge=Math.max(0,V[Et].g-100),Me=!1;else try{F="req"+F+"_"||"";try{var G=ar instanceof Map?ar:Object.entries(ar);for(const[_i,us]of G){let ds=us;l(us)&&(ds=sf(us)),vt.push(F+_i+"="+encodeURIComponent(ds))}}catch(_i){throw vt.push(F+"type="+encodeURIComponent("_badmap")),_i}}catch{R&&R(ar)}}if(Me){G=vt.join("&");break e}}G=void 0}return u=u.i.splice(0,w),m.G=u,G}function wx(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;L||x(),k||(L(),k=!0),y.add(m,u),u.A=0}}function xf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ka(d(u.Da,u),Ex(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,_x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ka(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Vc(this),_x(this))};function wf(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function _x(u){u.g=new os(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=or(u.na);ze(m,"RID","rpc"),ze(m,"SID",u.M),ze(m,"AID",u.K),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ze(m,"TO",u.ia),ze(m,"TYPE","xmlhttp"),za(u,m),u.u&&u.o&&yf(m,u.u,u.o),u.O&&(u.g.H=u.O);var w=u.g;u=u.ba,w.M=1,w.A=Lc(or(m)),w.u=null,w.R=!0,Qv(w,u)}t.Va=function(){this.C!=null&&(this.C=null,Vc(this),xf(this),Kt(19))};function Uc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function bx(u,m){var w=null;if(u.g==m){Uc(u),wf(u),u.g=null;var R=2}else if(ff(u.h,m))w=m.G,tx(u.h,m),R=1;else return;if(u.I!=0){if(m.o)if(R==1){w=m.u?m.u.length:0,m=Date.now()-m.F;var V=u.D;R=Rc(),Gt(R,new Hv(R,w)),Fc(u)}else wx(u);else if(V=m.m,V==3||V==0&&m.X>0||!(R==1&&fA(u,m)||R==2&&xf(u)))switch(w&&w.length>0&&(m=u.h,m.i=m.i.concat(w)),V){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Ex(u,m){let w=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(w*=2),w*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var w=d(u.bb,u),R=u.Ua;const V=!R;R=new as(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||La(R,"https"),Lc(R),V?aA(R.toString(),w):lA(R.toString(),w)}else Kt(2);u.I=0,u.l&&u.l.pa(m),Tx(u),yx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Tx(u){if(u.I=0,u.ja=[],u.l){const m=nx(u.h);(m.length!=0||u.i.length!=0)&&(C(u.ja,m),C(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function Nx(u,m,w){var R=w instanceof as?or(w):new as(w);if(R.g!="")m&&(R.g=m+"."+R.g),Oa(R,R.u);else{var V=a.location;R=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;const F=new as(null);R&&La(F,R),m&&(F.g=m),V&&Oa(F,V),w&&(F.h=w),R=F}return w=u.G,m=u.wa,w&&m&&ze(R,w,m),ze(R,"VER",u.ka),za(u,R),R}function Sx(u,m,w){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new gf({ab:w})):new et(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cx(){}t=Cx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bc(){}Bc.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){ot.call(this),this.g=new gx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!P(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new io(this)}f(yn,ot),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){vf(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.v&&(w={},w.__data__=sf(u),u=w);m.i.push(new Zj(m.Ya++,u)),m.I==3&&Fc(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,yn.Z.N.call(this)};function Ix(u){of.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const w in m){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(Ix,of);function jx(){af.call(this),this.status=1}f(jx,af);function io(u){this.g=u}f(io,Cx),io.prototype.ra=function(){Gt(this.g,"a")},io.prototype.qa=function(u){Gt(this.g,new Ix(u))},io.prototype.pa=function(u){Gt(this.g,new jx)},io.prototype.oa=function(){Gt(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,vN=function(){return new Bc},yN=function(){return Rc()},gN=yi,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pc.NO_ERROR=0,Pc.TIMEOUT=8,Pc.HTTP_ERROR=6,Vu=Pc,Wv.COMPLETE="complete",mN=Wv,Uv.EventType=ja,ja.OPEN="a",ja.CLOSE="b",ja.ERROR="c",ja.MESSAGE="d",ot.prototype.listen=ot.prototype.J,al=Uv,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,pN=et}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",L0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new gh("@firebase/firestore");function uo(){return Wi.logLevel}function X(t,...e){if(Wi.logLevel<=xe.DEBUG){const n=e.map(Iy);Wi.debug(`Firestore (${ma}): ${t}`,...n)}}function Xr(t,...e){if(Wi.logLevel<=xe.ERROR){const n=e.map(Iy);Wi.error(`Firestore (${ma}): ${t}`,...n)}}function Ko(t,...e){if(Wi.logLevel<=xe.WARN){const n=e.map(Iy);Wi.warn(`Firestore (${ma}): ${t}`,...n)}}function Iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xN(t,r,n)}function xN(t,e,n){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||xN(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class pM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mM{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new wN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class gM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=xM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Pm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ip(s)===ip(i)?we(s,i):ip(s)?1:-1}return we(t.length,e.length)}const wM=55296,_M=57343;function ip(t){const e=t.charCodeAt(0);return e>=wM&&e<=_M}function Qo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ur.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=ur.isNumericId(e),s=ur.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ur.extractNumericId(e).compare(ur.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class Be extends ur{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ur{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new At([M0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Be.fromString(e))}static fromName(e){return new le(Be.fromString(e).popFirst(5))}static empty(){return new le(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EM(t,e,n,r){if(e===!0&&r===!0)throw new Q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V0(t){if(!le.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F0(t){if(le.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new Q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TM(t,e){if(e<=0)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xc(t,e){if(!bN(t))throw new Q(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,B0=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*B0);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U0)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:pt("string",qe._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new qe(0,0))}static max(){return new pe(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function NM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Qs(s,le.empty(),e)}function SM(t){return new Qs(t.readTime,t.key,Yl)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(pe.min(),le.empty(),Yl)}static max(){return new Qs(pe.max(),le.empty(),Yl)}}function CM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==IM)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function AM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function Nh(t){return t==null}function Id(t){return t===0&&1/t==-1/0}function kM(t){return typeof t=="number"&&Number.isInteger(t)&&!Id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="";function RM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$0(e)),e=PM(t.get(n),e);return $0(e)}function PM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case EN:n+="";break;default:n+=i}}return n}function $0(t){return t+EN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DM(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function TN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new _n([])}unionWith(e){let n=new _t(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NN("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=LM.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="server_timestamp",CN="__type__",IN="__previous_value__",jN="__local_write_time__";function ky(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CN])==null?void 0:r.stringValue)===SN}function Sh(t){const e=t.mapValue.fields[IN];return ky(e)?Sh(e):e}function Xl(t){const e=Ys(t.mapValue.fields[jN].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,s,i,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const jd="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__type__",MM="__max__",cu={mapValue:{}},kN="__vector__",Ad="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:FM(t)?9007199254740991:VM(t)?10:11:de(28295,{value:t})}function Sr(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ys(s.timestampValue),l=Ys(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xs(s.bytesValue).isEqual(Xs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=at(s.doubleValue),l=at(i.doubleValue);return a===l?Id(a)===Id(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(z0(a)!==z0(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Sr(a[c],l[c])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=at(i.integerValue||i.doubleValue),c=at(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return W0(t.timestampValue,e.timestampValue);case 4:return W0(Xl(t),Xl(e));case 5:return Pm(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Xs(i),c=Xs(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=we(l[d],c[d]);if(h!==0)return h}return we(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=we(at(i.latitude),at(a.latitude));return l!==0?l:we(at(i.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q0(t.arrayValue,e.arrayValue);case 10:return function(i,a){var p,v,C,_;const l=i.fields||{},c=a.fields||{},d=(p=l[Ad])==null?void 0:p.arrayValue,h=(v=c[Ad])==null?void 0:v.arrayValue,f=we(((C=d==null?void 0:d.values)==null?void 0:C.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:q0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===cu.mapValue&&a===cu.mapValue)return 0;if(i===cu.mapValue)return 1;if(a===cu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Pm(c[f],h[f]);if(p!==0)return p;const v=Yo(l[c[f]],d[h[f]]);if(v!==0)return v}return we(c.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function W0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Ys(t),r=Ys(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function q0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Yo(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function Xo(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Dm(n.fields[a])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function Fu(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return hi(r.fields,(i,a)=>{s+=i.length+Fu(a)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function G0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lm(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function K0(t){return!!t&&"nullValue"in t}function Q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function VM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AN])==null?void 0:r.stringValue)===kN}function El(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return{...t}}function FM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=El(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(El(this.value))}}function RN(t){const e=[];return hi(t.fields,(n,r)=>{const s=new At([n]);if(Uu(r)){const i=RN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bt(e,0,pe.min(),pe.min(),pe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,pe.min(),pe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,pe.min(),pe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.position=e,this.inclusive=n}}function Y0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=Yo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function UM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{}class ft extends PN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $M(e,n,r):n==="array-contains"?new WM(e,r):n==="in"?new qM(e,r):n==="not-in"?new GM(e,r):n==="array-contains-any"?new KM(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zM(e,r):new HM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends PN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function LN(t){return BM(t)&&DN(t)}function BM(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Om(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(LN(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function ON(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Sr(r.value,s.value)}(t,e):t instanceof nr?function(r,s){return s instanceof nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&ON(a,s.filters[l]),!0):!1}(t,e):void de(19439)}function MN(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(MN).join(" ,")+"}"}(t):"Filter"}class $M extends ft{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class zM extends ft{constructor(e,n){super(e,"in",n),this.keys=VN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HM extends ft{constructor(e,n){super(e,"not-in",n),this.keys=VN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class WM extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Zl(n.arrayValue,this.value)}}class qM extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class GM extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class KM extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function J0(t,e=null,n=[],r=[],s=null,i=null,a=null){return new QM(t,e,n,r,s,i,a)}function Py(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.Te=n}return e.Te}function Dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ON(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}function Mm(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YM(t,e,n,r,s,i,a,l){return new va(t,e,n,r,s,i,a,l)}function Ch(t){return new va(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FN(t){return t.collectionGroup!==null}function Tl(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new _t(At.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ec(i,r))}),n.has(At.keyField().canonicalString())||e.Ie.push(new ec(At.keyField(),r))}return e.Ie}function wr(t){const e=fe(t);return e.Ee||(e.Ee=UN(e,Tl(t))),e.Ee}function XM(t){const e=fe(t);return e.de||(e.de=UN(e,t.explicitOrderBy)),e.de}function UN(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ec(s.field,i)});const n=t.endAt?new kd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kd(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vm(t,e){const n=t.filters.concat([e]);return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rd(t,e,n){return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return Dy(wr(t),wr(e))&&t.limitType===e.limitType}function BN(t){return`${Py(wr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>MN(s)).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xo(s)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Tl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=Y0(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Tl(r),s)||r.endAt&&!function(a,l,c){const d=Y0(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Tl(r),s))}(t,e)}function JM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $N(t){return(e,n)=>{let r=!1;for(const s of Tl(t)){const i=ZM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ZM(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Yo(c,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Ze(le.comparator);function Jr(){return eV}const zN=new Ze(le.comparator);function ll(...t){let e=zN;for(const n of t)e=e.insert(n.key,n);return e}function HN(t){let e=zN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Nl()}function WN(){return Nl()}function Nl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const tV=new Ze(le.comparator),nV=new _t(le.comparator);function _e(...t){let e=nV;for(const n of t)e=e.add(n);return e}const rV=new _t(we);function sV(){return rV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function qN(t){return{integerValue:""+t}}function iV(t,e){return kM(e)?qN(e):Ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function oV(t,e,n){return t instanceof Pd?function(s,i){const a={fields:{[CN]:{stringValue:SN},[jN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ky(i)&&(i=Sh(i)),i&&(a.fields[IN]=i),{mapValue:a}}(n,e):t instanceof Jo?KN(t,e):t instanceof tc?QN(t,e):function(s,i){const a=GN(s,i),l=e_(a)+e_(s.Ae);return Lm(a)&&Lm(s.Ae)?qN(l):Ly(s.serializer,l)}(t,e)}function aV(t,e,n){return t instanceof Jo?KN(t,e):t instanceof tc?QN(t,e):n}function GN(t,e){return t instanceof Dd?function(r){return Lm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pd extends Ah{}class Jo extends Ah{constructor(e){super(),this.elements=e}}function KN(t,e){const n=YN(e);for(const r of t.elements)n.some(s=>Sr(s,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends Ah{constructor(e){super(),this.elements=e}}function QN(t,e){let n=YN(e);for(const r of t.elements)n=n.filter(s=>!Sr(s,r));return{arrayValue:{values:n}}}class Dd extends Ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e_(t){return at(t.integerValue||t.doubleValue)}function YN(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.field=e,this.transform=n}}function cV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Jo&&s instanceof Jo||r instanceof tc&&s instanceof tc?Qo(r.elements,s.elements,Sr):r instanceof Dd&&s instanceof Dd?Sr(r.Ae,s.Ae):r instanceof Pd&&s instanceof Pd}(t.transform,e.transform)}class uV{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function XN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,Ln.none()):new wc(t.key,t.data,Ln.none());{const n=t.data,r=un.empty();let s=new _t(At.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new fi(t.key,r,new _n(s.toArray()),Ln.none())}}function dV(t,e,n){t instanceof wc?function(s,i,a){const l=s.value.clone(),c=n_(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(s,i,a){if(!Bu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=n_(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(JN(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof wc?function(i,a,l,c){if(!Bu(i.precondition,a))return l;const d=i.value.clone(),h=r_(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(i,a,l,c){if(!Bu(i.precondition,a))return l;const d=r_(i.fieldTransforms,c,a),h=a.data;return h.setAll(JN(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Bu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function hV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GN(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qo(r,s,(i,a)=>cV(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends kh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fi extends kh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,aV(a,l,n[s]))}return r}function r_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,oV(i,a,e))}return r}class Oy extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fV extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WN();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=XN(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>t_(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class My{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return tV}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new My(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ee;function vV(t){switch(t){case B.OK:return de(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function ZN(t){if(t===void 0)return Xr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return de(39323,{code:t})}}(Ee=dt||(dt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new Hs([4294967295,4294967295],0);function s_(t){const e=xV().encode(t),n=new fN;return n.update(e),new Uint8Array(n.digest())}function i_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([s,i],0)]}class Vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hs.fromNumber(r)));return s.compare(wV)===1&&(s=new Hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=s_(e),[r,s]=i_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Vy(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=s_(e),[r,s]=i_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(pe.min(),s,new Ze(we),Jr(),_e())}}class _c{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _c(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eS{constructor(e,n){this.targetId=e,this.Ce=n}}class tS{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o_{constructor(){this.ve=0,this.Fe=a_(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new _c(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _V{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=uu(),this.He=uu(),this.Ye=new Ze(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Mm(i))if(r===0){const a=new le(i.path);this.et(n,a,Bt.newNoDocument(a,pe.min()))}else je(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Xs(r).toUint8Array()}catch(c){if(c instanceof NN)return Ko("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Vy(a,s,i)}catch(c){return Ko(c instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Mm(l.target)){const c=new le(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Bt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=_e();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Rh(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=uu(),this.He=uu(),this.Ye=new Ze(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new o_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uu(){return new Ze(le.comparator)}function a_(){return new Ze(le.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},EV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TV={and:"AND",or:"OR"};class NV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Nh(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SV(t,e){return Ld(t,e.toTimestamp())}function _r(t){return je(!!t,49232),pe.fromTimestamp(function(n){const r=Ys(n);return new qe(r.seconds,r.nanos)}(t))}function Fy(t,e){return Um(t,e).canonicalString()}function Um(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rS(t){const e=Be.fromString(t);return je(cS(e),10190,{key:e.toString()}),e}function Bm(t,e){return Fy(t.databaseId,e.path)}function op(t,e){const n=rS(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(iS(n))}function sS(t,e){return Fy(t.databaseId,e)}function CV(t){const e=rS(t);return e.length===4?Be.emptyPath():iS(e)}function $m(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iS(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l_(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function IV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?B.UNKNOWN:ZN(d.code);return new Q(h,d.message||"")}(a);n=new tS(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=op(t,r.document.name),i=_r(r.document.updateTime),a=r.document.createTime?_r(r.document.createTime):pe.min(),l=new un({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new $u(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=op(t,r.document),i=r.readTime?_r(r.readTime):pe.min(),a=Bt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new $u([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=op(t,r.document),i=r.removedTargetIds||[];n=new $u([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new yV(s,i),l=r.targetId;n=new eS(l,a)}}return n}function jV(t,e){let n;if(e instanceof wc)n={update:l_(t,e.key,e.value)};else if(e instanceof Oy)n={delete:Bm(t,e.key)};else if(e instanceof fi)n={update:l_(t,e.key,e.data),updateMask:VV(e.fieldMask)};else{if(!(e instanceof fV))return de(16599,{Vt:e.type});n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Pd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dd)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw de(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:SV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function AV(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?_r(s.updateTime):_r(i);return a.isEqual(pe.min())&&(a=_r(i)),new uV(a,s.transformResults||[])}(n,e))):[]}function kV(t,e){return{documents:[sS(t,e.path)]}}function oS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sS(t,s);const i=function(d){if(d.length!==0)return lS(nr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ss(p.field),direction:LV(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function RV(t,e,n,r){const{ft:s,parent:i}=oS(t,e),a={},l=[];let c=0;return n.forEach(d=>{const h="aggregate_"+c++;a[h]=d.alias,d.aggregateType==="count"?l.push({alias:h,count:{}}):d.aggregateType==="avg"?l.push({alias:h,avg:{field:Ss(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:h,sum:{field:Ss(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},gt:a,parent:i}}function PV(t){let e=CV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=aS(f);return p instanceof nr&&LN(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(C){return new ec(fo(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Nh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new kd(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new kd(v,p)}(n.endAt)),YM(e,s,a,i,l,"F",c,d)}function DV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fo(n.unaryFilter.field);return ft.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(fo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>aS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function LV(t){return bV[t]}function OV(t){return EV[t]}function MV(t){return TV[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function fo(t){return At.fromServerFormat(t.fieldPath)}function lS(t){return t instanceof ft?function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:OV(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(s=>lS(s));return r.length===1?r[0]:{compositeFilter:{op:MV(n.op),filters:r}}}(t):de(54877,{filter:t})}function VV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,i=pe.min(),a=pe.min(),l=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.yt=e}}function UV(t){const e=PV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Cn=new $V}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Qs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class $V{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(uS,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",zV=1048576;function d_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class HV{constructor(e){this.Ir=e,this.buffer=new _t(d_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?X(u_,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Vr(3e5)})}}class qV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Th.ce);const r=new HV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(c_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),uo()<=xe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function GV(t,e){return new qV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,_n.empty(),qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=ll();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Jr();const a=Nl(),l=function(){return Nl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof fi)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Sl(h.mutation,d,h.mutation.getFieldMask(),qe.now())):a.set(d.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new QV(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Nl();let s=new Ze((a,l)=>a-l),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||_n.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||_e()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=WN();h.forEach(p=>{if(!i.has(p)){const v=XN(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ai());let l=Yl,c=i;return a.next(d=>$.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,_e())).next(h=>({batchId:l,changes:HN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=ll();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=ll();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,c=>{const d=function(f,p){return new va(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Bt.newInvalidDocument(h)))});let l=ll();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Sl(h.mutation,d,_n.empty(),qe.now()),jh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:UV(s.bundledQuery),readTime:_r(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.overlays=new Ze(le.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,a=new le(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ze((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ai(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Ai(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return $.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new mV(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Qr=new _t(Tt.$r),this.Ur=new _t(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new le(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new le(new Be([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return le.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(Tt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pV(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ay:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(we);return n.forEach(s=>{const i=new Tt(s,0),a=new Tt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const a=new Tt(new le(i),0);let l=new _t(we);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},a),$.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.ri=e,this.docs=function(){return new Ze(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const a=n.path,l=new le(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||CM(SM(h),r)<=0||(s.has(h.key)||jh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n3(this)}getSize(e){return $.resolve(this.size)}}class n3 extends KV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.persistence=e,this.si=new to(n=>Py(n),Dy),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Uy,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new ZV,this.referenceDelegate=e(this),this.Pi=new r3(this),this.indexManager=new BV,this.remoteDocumentCache=function(s){return new t3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new FV(n),this.Ii=new XV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new e3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new s3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class s3 extends jM{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Ri=new Uy,this.Vi=null}static mi(e){return new By(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=le.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Od{constructor(e,n){this.persistence=e,this.pi=new to(r=>RM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=GV(this,n)}static mi(e,n){return new Od(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $y(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return aP()?8:AM(qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new i3;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(uo()<=xe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(uo()<=xe.DEBUG&&X("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(uo()<=xe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):$.resolve())}ys(e,n){if(Z0(n))return $.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rd(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=_e(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,Rd(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Z0(n)||s.isEqual(pe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?$.resolve(null):(uo()<=xe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.vs(e,a,n,NM(s,Yl)).next(l=>l))})}Ds(e,n){let r=new _t($N(e));return n.forEach((s,i)=>{jh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return uo()<=xe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",a3=3e8;class l3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ze(we),this.xs=new to(i=>Py(i),Dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function c3(t,e,n,r){return new l3(t,e,n,r)}async function hS(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=_e();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function u3(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let v=$.resolve();return p.forEach(C=>{v=v.next(()=>h.getEntry(c,C)).next(_=>{const N=d.docVersions.get(C);je(N!==null,48541),_.version.compareTo(N)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=_e();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fS(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function d3(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Lt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(_,N,E){return _.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=a3?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,h)&&l.push(n.Pi.updateTargetData(i,v))});let c=Jr(),d=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(h3(i,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(pe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return $.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function h3(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Jr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):X(zy,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:s}})}function f3(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p3(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new ks(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function zm(t,e,n){const r=fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ya(a))throw a;X(zy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function h_(t,e,n){const r=fe(t);let s=pe.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=fe(c),p=f.xs.get(h);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,a,wr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:pe.min(),n?i:_e())).next(l=>(m3(r,JM(e),l),{documents:l,Qs:i})))}function m3(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class f_{constructor(){this.activeTargetIds=sV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g3{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class m_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Hm(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",v3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Hm(),l=this.zo(e,n.toUriEncodedString());X(ap,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=li(d);return this.Jo(e,l,c,r,h).then(f=>(X(ap,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Ko(ap,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=v3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class _3 extends x3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Hm();return new Promise((l,c)=>{const d=new pN;d.setWithCredentials(!0),d.listenOnce(mN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Vu.NO_ERROR:const f=d.getResponseJson();X(Vt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Vu.TIMEOUT:X(Vt,`RPC '${e}' ${a} timed out`),c(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const p=d.getStatus();if(X(Vt,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const _=function(E){const b=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(C.status);c(new Q(_,C.message))}else c(new Q(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Q(B.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{X(Vt,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);X(Vt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Hm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vN(),l=yN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");X(Vt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const C=new w3({Yo:N=>{v?X(Vt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(p||(X(Vt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),X(Vt,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},Zo:()=>f.close()}),_=(N,E,b)=>{N.listen(E,S=>{try{b(S)}catch(A){setTimeout(()=>{throw A},0)}})};return _(f,al.EventType.OPEN,()=>{v||(X(Vt,`RPC '${e}' stream ${s} transport opened.`),C.o_())}),_(f,al.EventType.CLOSE,()=>{v||(v=!0,X(Vt,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(f))}),_(f,al.EventType.ERROR,N=>{v||(v=!0,Ko(Vt,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),C.a_(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),_(f,al.EventType.MESSAGE,N=>{var E;if(!v){const b=N.data[0];je(!!b,16349);const S=b,A=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(A){X(Vt,`RPC '${e}' stream ${s} received error:`,A);const L=A.status;let k=function(I){const T=dt[I];if(T!==void 0)return ZN(T)}(L),y=A.message;k===void 0&&(k=B.INTERNAL,y="Unknown error status: "+L+" with message "+A.message),v=!0,C.a_(new Q(k,y)),f.close()}else X(Vt,`RPC '${e}' stream ${s} received:`,b),C.u_(b)}}),_(l,gN.STAT_EVENT,N=>{N.stat===Rm.PROXY?X(Vt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Rm.NOPROXY&&X(Vt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new NV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class mS{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b3 extends mS{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IV(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?pe.min():a.readTime?_r(a.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Mm(c)?{documents:kV(i,c)}:{query:oS(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=nS(i,a.resumeToken);const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(pe.min())>0){l.readTime=Ld(i,a.snapshotVersion.toTimestamp());const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=DV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class E3 extends mS{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AV(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{}class N3 extends T3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Um(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Um(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(B.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class S3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class C3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{no(this)&&(X(qi,"Restarting streams for network reachability change."),await async function(c){const d=fe(c);d.Ea.add(4),await bc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Dh(d)}(this))})}),this.Ra=new S3(r,s)}}async function Dh(t){if(no(t))for(const e of t.da)await e(!0)}async function bc(t){for(const e of t.da)await e(!1)}function gS(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gy(n)?qy(n):xa(n).O_()&&Wy(n,e))}function Hy(t,e){const n=fe(t),r=xa(n);n.Ia.delete(e),r.O_()&&yS(n,e),n.Ia.size===0&&(r.O_()?r.L_():no(n)&&n.Ra.set("Unknown"))}function Wy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).Y_(e)}function yS(t,e){t.Va.Ue(e),xa(t).Z_(e)}function qy(t){t.Va=new _V({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.Ra.ua()}function Gy(t){return no(t)&&!xa(t).x_()&&t.Ia.size>0}function no(t){return fe(t).Ea.size===0}function vS(t){t.Va=void 0}async function I3(t){t.Ra.set("Online")}async function j3(t){t.Ia.forEach((e,n)=>{Wy(t,e)})}async function A3(t,e){vS(t),Gy(t)?(t.Ra.ha(e),qy(t)):t.Ra.set("Unknown")}async function k3(t,e,n){if(t.Ra.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){X(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(t,r)}else if(e instanceof $u?t.Va.Ze(e):e instanceof eS?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await fS(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),yS(i,c);const f=new ks(h.target,c,d,h.sequenceNumber);Wy(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X(qi,"Failed to raise snapshot:",r),await Md(t,r)}}async function Md(t,e,n){if(!ya(e))throw e;t.Ea.add(1),await bc(t),t.Ra.set("Offline"),n||(n=()=>fS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dh(t)})}function xS(t,e){return e().catch(n=>Md(t,n,e))}async function Lh(t){const e=fe(t),n=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;R3(e);)try{const s=await f3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,P3(e,s)}catch(s){await Md(e,s)}wS(e)&&_S(e)}function R3(t){return no(t)&&t.Ta.length<10}function P3(t,e){t.Ta.push(e);const n=Zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wS(t){return no(t)&&!Zs(t).x_()&&t.Ta.length>0}function _S(t){Zs(t).start()}async function D3(t){Zs(t).ra()}async function L3(t){const e=Zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function O3(t,e,n){const r=t.Ta.shift(),s=My.from(r,e,n);await xS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lh(t)}async function M3(t,e){e&&Zs(t).X_&&await async function(r,s){if(function(a){return vV(a)&&a!==B.ABORTED}(s.code)){const i=r.Ta.shift();Zs(r).B_(),await xS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lh(r)}}(t,e),wS(t)&&_S(t)}async function y_(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),X(qi,"RemoteStore received new credentials");const r=no(n);n.Ea.add(3),await bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function V3(t,e){const n=fe(t);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await bc(n),n.Ra.set("Unknown"))}function xa(t){return t.ma||(t.ma=function(n,r,s){const i=fe(n);return i.sa(),new b3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:I3.bind(null,t),t_:j3.bind(null,t),r_:A3.bind(null,t),H_:k3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Gy(t)?qy(t):t.Ra.set("Unknown")):(await t.ma.stop(),vS(t))})),t.ma}function Zs(t){return t.fa||(t.fa=function(n,r,s){const i=fe(n);return i.sa(),new E3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:D3.bind(null,t),r_:M3.bind(null,t),ta:L3.bind(null,t),na:O3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Lh(t)):(await t.fa.stop(),t.Ta.length>0&&(X(qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Ky(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),ya(t))return new Q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=ll(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new Ze(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ea(e,n,Oo.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class U3{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=x_(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Q(B.ABORTED,"Firestore shutting down"))}}function x_(){return new to(t=>BN(t),Ih)}async function Yy(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new F3,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Qy(a,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Jy(n)}async function Xy(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B3(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&Jy(n)}function $3(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Jy(t){t.Ca.forEach(e=>{e.next()})}var Wm,w_;(w_=Wm||(Wm={})).Ma="default",w_.Cache="cache";class Zy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class z3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=$N(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new v_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=jh(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let N=!1;p&&v?p.data.isEqual(v.data)?C!==_&&(r.track({type:3,doc:v}),N=!0):this.su(p,v)||(r.track({type:2,doc:v}),N=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),N=!0):p&&!v&&(r.track({type:1,doc:p}),N=!0,(c||d)&&(l=!0)),N&&(v?(a=a.add(v),i=_?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(v,C){const _=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:N})}};return _(v)-_(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new ea(this.query,e.tu,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ES(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new bS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ev="SyncEngine";class H3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W3{constructor(e){this.key=e,this.hu=!1}}class q3{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new to(l=>BN(l),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new Ze(le.comparator),this.Au=new Map,this.Ru=new Uy,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G3(t,e,n=!0){const r=jS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await TS(r,e,n,!0),s}async function K3(t,e){const n=jS(t);await TS(n,e,!0,!1)}async function TS(t,e,n,r){const s=await p3(t.localStore,wr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Q3(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&gS(t.remoteStore,s),l}async function Q3(t,e,n,r,s){t.pu=(f,p,v)=>async function(_,N,E,b){let S=N.view.ru(E);S.Cs&&(S=await h_(_.localStore,N.query,!1).then(({documents:y})=>N.view.ru(y,S)));const A=b&&b.targetChanges.get(N.targetId),L=b&&b.targetMismatches.get(N.targetId)!=null,k=N.view.applyChanges(S,_.isPrimaryClient,A,L);return b_(_,N.targetId,k.au),k.snapshot}(t,f,p,v);const i=await h_(t.localStore,e,!0),a=new z3(e,i.Qs),l=a.ru(i.documents),c=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);b_(t,n,d.au);const h=new H3(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Y3(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!Ih(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hy(r.remoteStore,s.targetId),qm(r,s.targetId)}).catch(ga)):(qm(r,s.targetId),await zm(r.localStore,s.targetId,!0))}async function X3(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hy(n.remoteStore,r.targetId))}async function J3(t,e,n){const r=iF(t);try{const s=await function(a,l){const c=fe(a),d=qe.now(),h=l.reduce((v,C)=>v.add(C.key),_e());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Jr(),_=_e();return c.Ns.getEntries(v,h).next(N=>{C=N,C.forEach((E,b)=>{b.isValidDocument()||(_=_.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,C)).next(N=>{f=N;const E=[];for(const b of l){const S=hV(b,f.get(b.key).overlayedDocument);S!=null&&E.push(new fi(b.key,S,RN(S.value.mapValue),Ln.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,E,l)}).next(N=>{p=N;const E=N.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(v,N.batchId,E)})}).then(()=>({batchId:p.batchId,changes:HN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new Ze(we)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d}(r,s.batchId,n),await Ec(r,s.changes),await Lh(r.remoteStore)}catch(s){const i=Qy(s,"Failed to persist write");n.reject(i)}}async function NS(t,e){const n=fe(t);try{const r=await d3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?je(a.hu,14607):s.removedDocuments.size>0&&(je(a.hu,42227),a.hu=!1))}),await Ec(n,r,e)}catch(r){await ga(r)}}function __(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=fe(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&Jy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z3(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Ze(le.comparator);a=a.insert(i,Bt.newNoDocument(i,pe.min()));const l=_e().add(i),c=new Rh(pe.min(),new Map,new Ze(we),a,l);await NS(r,c),r.du=r.du.remove(i),r.Au.delete(e),tv(r)}else await zm(r.localStore,e,!1).then(()=>qm(r,e,n)).catch(ga)}async function eF(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await u3(n.localStore,e);CS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,s)}catch(s){await ga(s)}}async function tF(t,e,n){const r=fe(t);try{const s=await function(a,l){const c=fe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(je(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);CS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,s)}catch(s){await ga(s)}}function SS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CS(t,e,n){const r=fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IS(t,r)})}function IS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tv(t))}function b_(t,e,n){for(const r of n)r instanceof bS?(t.Ru.addReference(r.key,e),nF(t,r)):r instanceof ES?(X(ev,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IS(t,r.key)):de(19791,{wu:r})}function nF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(ev,"New document in limbo: "+n),t.Eu.add(r),tv(t))}function tv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new W3(n)),t.du=t.du.insert(n,r),gS(t.remoteStore,new ks(wr(Ch(n.path)),r,"TargetPurposeLimboResolution",Th.ce))}}async function Ec(t,e,n){const r=fe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=$y.As(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,d){const h=fe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>$.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!ya(f))throw f;X(zy,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),C=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(p,_)}}}(r.localStore,i))}async function rF(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){X(ev,"User change. New user:",e.toKey());const r=await hS(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Q(B.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.Ls)}}function sF(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function jS(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z3.bind(null,e),e.Pu.H_=B3.bind(null,e.eventManager),e.Pu.yu=$3.bind(null,e.eventManager),e}function iF(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tF.bind(null,e),e}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return c3(this.persistence,new o3,e.initialUser,this.serializer)}Cu(e){return new dS(By.mi,this.serializer)}Du(e){return new g3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class oF extends Vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new dS(r=>Od.mi(r,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rF.bind(null,this.syncEngine),await V3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U3}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(i){return new _3(i)}(e.databaseInfo);return function(i,a,l,c){return new N3(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new C3(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>__(this.syncEngine,n,0),function(){return m_.v()?new m_:new y3}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new q3(s,i,a,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);X(qi,"RemoteStore shutting down."),i.Ea.add(5),await bc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="FirestoreClient";class aF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{X(ei,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X(ei,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),X(ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lF(t);X(ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>y_(e.remoteStore,s)),t._onlineComponents=e}async function lF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(ei,"Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new Vd)}}else X(ei,"Using default OfflineComponentProvider"),await cp(t,new oF(void 0));return t._offlineComponents}async function rv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(ei,"Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(X(ei,"Using default OnlineComponentProvider"),await E_(t,new Gm))),t._onlineComponents}function cF(t){return rv(t).then(e=>e.syncEngine)}function uF(t){return rv(t).then(e=>e.datastore)}async function Fd(t){const e=await rv(t),n=e.eventManager;return n.onListen=G3.bind(null,e.syncEngine),n.onUnlisten=Y3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X3.bind(null,e.syncEngine),n}function dF(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new nv({next:p=>{h.Nu(),a.enqueueAndForget(()=>Xy(i,f));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new Q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Zy(Ch(l.path),h,{includeMetadataChanges:!0,qa:!0});return Yy(i,f)}(await Fd(t),t.asyncQueue,e,n,r)),r.promise}function hF(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new nv({next:p=>{h.Nu(),a.enqueueAndForget(()=>Xy(i,f)),p.fromCache&&c.source==="server"?d.reject(new Q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Zy(l,h,{includeMetadataChanges:!0,qa:!0});return Yy(i,f)}(await Fd(t),t.asyncQueue,e,n,r)),r.promise}function fF(t,e,n){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await uF(t);r.resolve(async function(a,l,c){var _;const d=fe(a),{request:h,gt:f,parent:p}=RV(d.serializer,XM(l),c);d.connection.$o||delete h.parent;const v=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,p,h,1)).filter(N=>!!N.result);je(v.length===1,64727);const C=(_=v[0].result)==null?void 0:_.aggregateFields;return Object.keys(C).reduce((N,E)=>(N[f[E]]=C[E],N),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",N_=!0;class S_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zV)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fM;switch(r.type){case"firstParty":return new yM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T_.get(n);r&&(X("ComponentProvider","Removing Datastore"),T_.delete(n),r.terminate())}(this),Promise.resolve()}}function pF(t,e,n,r={}){var d;t=tn(t,Oh);const s=li(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(cy(`https://${l}`),uy("Firestore",!0)),i.host!==kS&&i.host!==l&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Kr(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ft.MOCK_USER;else{h=nT(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(p)}t._authCredentials=new pM(new wN(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xc(n,rt._jsonSchema))return new rt(e,r||null,new le(Be.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:pt("string",rt._jsonSchemaVersion),referencePath:pt("string")};class Ws extends is{constructor(e,n,r){super(e,n,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new le(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=Fe(t),_N("collection","path",e),t instanceof Oh){const r=Be.fromString(e,...n);return F0(r),new Ws(t,null,r)}{if(!(t instanceof rt||t instanceof Ws))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return F0(r),new Ws(t.firestore,null,r)}}function nt(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=jy.newId()),_N("doc","path",e),t instanceof Oh){const r=Be.fromString(e,...n);return V0(r),new rt(t,null,new le(r))}{if(!(t instanceof rt||t instanceof Ws))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return V0(r),new rt(t.firestore,t instanceof Ws?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pS(this,"async_queue_retry"),this._c=()=>{const r=lp();r&&X(C_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ya(e))throw e;X(C_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",j_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ky.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Cr extends Oh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new I_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function mF(t,e){const n=typeof t=="object"?t:yh(),r=typeof t=="string"?t:jd,s=ci(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ZE("firestore");i&&pF(s,...i)}return s}function Tc(t){if(t._terminated)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gF(t),t._firestoreClient}function gF(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new OM(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class vF{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Lt.fromBase64String(e))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:pt("string",kn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(xc(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:pt("string",br._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Er(e.vectorValues);throw new Q(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:pt("string",Er._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=/^__.*__$/;class wF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Fh{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PS(this.Ac)&&xF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _F{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Cc(e,n,r,s=!1){return new Fh({Ac:e,methodName:n,Dc:r,path:At.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new _F(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DS(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);iv("Data must be an object, but it was:",a,r);const l=LS(r,a);let c,d;if(i.merge)c=new _n(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Km(e,f,n);if(!a.contains(p))throw new Q(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);MS(h,p)||h.push(p)}c=new _n(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new wF(new un(l),c,d)}class Bh extends Vh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function bF(t,e,n){return new Fh({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sv extends Vh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=bF(this,e,!0),r=this.vc.map(i=>wa(i,n)),s=new Jo(r);return new lV(e.path,s)}isEqual(e){return e instanceof sv&&Kr(this.vc,e.vc)}}function EF(t,e,n,r){const s=t.Cc(1,e,n);iv("Data must be an object, but it was:",s,r);const i=[],a=un.empty();hi(r,(c,d)=>{const h=ov(e,c,n);d=Fe(d);const f=s.yc(h);if(d instanceof Bh)i.push(h);else{const p=wa(d,f);p!=null&&(i.push(h),a.set(h,p))}});const l=new _n(i);return new RS(a,l,s.fieldTransforms)}function TF(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[Km(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Km(e,i[p])),c.push(i[p+1]);const d=[],h=un.empty();for(let p=l.length-1;p>=0;--p)if(!MS(d,l[p])){const v=l[p];let C=c[p];C=Fe(C);const _=a.yc(v);if(C instanceof Bh)d.push(v);else{const N=wa(C,_);N!=null&&(d.push(v),h.set(v,N))}}const f=new _n(d);return new RS(h,f,a.fieldTransforms)}function NF(t,e,n,r=!1){return wa(n,t.Cc(r?4:3,e))}function wa(t,e){if(OS(t=Fe(t)))return iv("Unsupported field value:",e,t),LS(t,e);if(t instanceof Vh)return function(r,s){if(!PS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=wa(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qe.fromDate(r);return{timestampValue:Ld(s.serializer,i)}}if(r instanceof qe){const i=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(s.serializer,i)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:nS(s.serializer,r._byteString)};if(r instanceof rt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Er)return function(a,l){return{mapValue:{fields:{[AN]:{stringValue:kN},[Ad]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Ly(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Eh(r)}`)}(t,e)}function LS(t,e){const n={};return TN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(t,(r,s)=>{const i=wa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function OS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof br||t instanceof kn||t instanceof rt||t instanceof Vh||t instanceof Er)}function iv(t,e,n){if(!OS(n)||!bN(n)){const r=Eh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Km(t,e,n){if((e=Fe(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return ov(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const SF=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(SF)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Q(B.INVALID_ARGUMENT,l+t+c)}function MS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($h("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CF extends VS{data(){return super.data()}}function $h(t,e){return typeof e=="string"?ov(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class av{}class lv extends av{}function zr(t,e,...n){let r=[];e instanceof av&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof cv).length,l=i.filter(c=>c instanceof zh).length;if(a>1||a>0&&l>0)throw new Q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zh extends lv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return US(e._query,n),new is(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=Uh(e.firestore);return function(i,a,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){R_(f,h);const C=[];for(const _ of f)C.push(k_(c,i,_));p={arrayValue:{values:C}}}else p=k_(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||R_(f,h),p=NF(l,a,f,h==="in"||h==="not-in");return ft.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(t,e,n){const r=e,s=$h("where",t);return zh._create(s,r,n)}class cv extends av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)US(a,c),a=Vm(a,c)}(e._query,n),new is(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uv extends lv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Q(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(i,a)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new va(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function qs(t,e="asc"){const n=e,r=$h("orderBy",t);return uv._create(r,n)}class dv extends lv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dv(e,n,r)}_apply(e){return new is(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}function up(t){return TM("limit",t),dv._create("limit",t,"F")}function k_(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new Q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FN(e)&&n.indexOf("/")!==-1)throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!le.isDocumentKey(r))throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(t,new le(r))}if(n instanceof rt)return G0(t,n._key);throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(n)}.`)}function R_(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function US(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IF{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ad].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>at(a.doubleValue));return new Er(n)}convertGeoPoint(e){return new br(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);je(cS(r),9688,{name:e});const s=new Jl(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||Xr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function jF(){return new yF("count")}class ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pi extends VS{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($h("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pi._jsonSchema={type:pt("string",Pi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class zu extends Pi{data(e={}){return super.data(e)}}class Di{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ul(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new zu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ul(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new zu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ul(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:AF(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){t=tn(t,rt);const e=tn(t.firestore,Cr);return dF(Tc(e),t._key).then(n=>HS(e,t,n))}Di._jsonSchemaVersion="firestore/querySnapshot/1.0",Di._jsonSchema={type:pt("string",Di._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class Hh extends IF{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function Zn(t){t=tn(t,is);const e=tn(t.firestore,Cr),n=Tc(e),r=new Hh(e);return FS(t._query),hF(n,t._query).then(s=>new Di(e,r,t,s))}function $S(t,e,n){t=tn(t,rt);const r=tn(t.firestore,Cr),s=BS(t.converter,e);return Wh(r,[DS(Uh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function Rn(t,e,n,...r){t=tn(t,rt);const s=tn(t.firestore,Cr),i=Uh(s);let a;return a=typeof(e=Fe(e))=="string"||e instanceof Mh?TF(i,"updateDoc",t._key,e,n,r):EF(i,"updateDoc",t._key,e),Wh(s,[a.toMutation(t._key,Ln.exists(!0))])}function kF(t){return Wh(tn(t.firestore,Cr),[new Oy(t._key,Ln.none())])}function zS(t,e){const n=tn(t.firestore,Cr),r=nt(t),s=BS(t.converter,e);return Wh(n,[DS(Uh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function RF(t,...e){var c,d,h;t=Fe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||A_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(A_(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,a,l;if(t instanceof rt)a=tn(t.firestore,Cr),l=Ch(t._key.path),i={next:f=>{e[r]&&e[r](HS(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=tn(t,is);a=tn(f.firestore,Cr),l=f._query;const p=new Hh(a);i={next:v=>{e[r]&&e[r](new Di(a,p,f,v))},error:e[r+1],complete:e[r+2]},FS(t._query)}return function(p,v,C,_){const N=new nv(_),E=new Zy(v,N,C);return p.asyncQueue.enqueueAndForget(async()=>Yy(await Fd(p),E)),()=>{N.Nu(),p.asyncQueue.enqueueAndForget(async()=>Xy(await Fd(p),E))}}(Tc(a),l,s,i)}function Wh(t,e){return function(r,s){const i=new xr;return r.asyncQueue.enqueueAndForget(async()=>J3(await cF(r),s,i)),i.promise}(Tc(t),e)}function HS(t,e,n){const r=n.docs.get(e._key),s=new Hh(t);return new Pi(t,s,e._key,r,new ul(n.hasPendingWrites,n.fromCache),e.converter)}function hu(t){return PF(t,{count:jF()})}function PF(t,e){const n=tn(t.firestore,Cr),r=Tc(n),s=DM(e,(i,a)=>new gV(a,i.aggregateType,i._internalFieldPath));return fF(r,t._query,s).then(i=>function(l,c,d){const h=new Hh(l);return new vF(c,h,d)}(n,t,i))}function DF(...t){return new sv("arrayUnion",t)}(function(e,n=!0){(function(s){ma=s})(eo),tr(new Fn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Cr(new mM(r.getProvider("auth-internal")),new vM(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(d.options.projectId,h)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),mn(D0,L0,e),mn(D0,L0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebasestorage.googleapis.com",qS="storageBucket",LF=2*60*1e3,OF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Bn{constructor(e,n,r=0){super(dp(e),`Firebase Storage: ${n} (${dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function dp(t){return"storage/"+t}function hv(){const t="An unknown error occurred, please check the error payload for server response.";return new it(st.UNKNOWN,t)}function MF(t){return new it(st.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function VF(t){return new it(st.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it(st.UNAUTHENTICATED,t)}function UF(){return new it(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BF(t){return new it(st.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $F(){return new it(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zF(){return new it(st.CANCELED,"User canceled the upload/download.")}function HF(t){return new it(st.INVALID_URL,"Invalid URL '"+t+"'.")}function WF(t){return new it(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qF(){return new it(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qS+"' property when initializing the app?")}function GF(){return new it(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KF(){return new it(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QF(t){return new it(st.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qm(t){return new it(st.INVALID_ARGUMENT,t)}function GS(){return new it(st.APP_DELETED,"The Firebase app was deleted.")}function YF(t){return new it(st.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new it(st.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ja(t){throw new it(st.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw WF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),C={bucket:1,path:3},_=n===WS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",E=new RegExp(`^https?://${_}/${s}/${N}`,"i"),S=[{regex:l,indices:c,postModify:i},{regex:v,indices:C,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let A=0;A<S.length;A++){const L=S[A],k=L.regex.exec(e);if(k){const y=k[L.indices.bucket];let x=k[L.indices.path];x||(x=""),r=new bn(y,x),L.postModify(r);break}}if(r==null)throw HF(e);return r}}class XF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...N){d||(d=!0,e.apply(null,N))}function f(N){s=setTimeout(()=>{s=null,t(v,c())},N)}function p(){i&&clearTimeout(i)}function v(N,...E){if(d){p();return}if(N){p(),h.call(null,N,...E);return}if(c()||a){p(),h.call(null,N,...E);return}r<64&&(r*=2);let S;l===1?(l=2,S=0):S=(r+Math.random())*1e3,f(S)}let C=!1;function _(N){C||(C=!0,p(),!d&&(s!==null?(N||(l=2),clearTimeout(s),f(0)):N||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,_(!0)},n),_}function ZF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){return t!==void 0}function t6(t){return typeof t=="object"&&!Array.isArray(t)}function fv(t){return typeof t=="string"||t instanceof String}function P_(t){return pv()&&t instanceof Blob}function pv(){return typeof Blob<"u"}function D_(t,e,n,r){if(r<e)throw Qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,s,i,a,l,c,d,h,f,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,_)=>{this.resolve_=C,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Li.NO_ERROR,c=i.getStatus();if(!l||n6(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Li.ABORT;r(!1,new fu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new fu(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());e6(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=hv();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?GS():zF();a(c)}else{const c=$F();a(c)}};this.canceled_?n(!1,new fu(!1,null,!0)):this.backoffId_=JF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function s6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function a6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function l6(t,e,n,r,s,i,a=!0,l=!1){const c=KS(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return o6(h,e),s6(h,n),i6(h,i),a6(h,r),new r6(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u6(...t){const e=c6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pv())return new Blob(t);throw new it(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function d6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){if(typeof atob>"u")throw QF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,n){this.data=e,this.contentType=n||null}}function f6(t,e){switch(t){case pr.RAW:return new hp(QS(e));case pr.BASE64:case pr.BASE64URL:return new hp(YS(t,e));case pr.DATA_URL:return new hp(m6(e),g6(e))}throw hv()}function QS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function p6(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl(pr.DATA_URL,"Malformed data URL.")}return QS(e)}function YS(t,e){switch(t){case pr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=h6(e)}catch(s){throw s.message.includes("polyfill")?s:Cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class XS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=y6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function m6(t){const e=new XS(t);return e.base64?YS(pr.BASE64,e.rest):p6(e.rest)}function g6(t){return new XS(t).contentType}function y6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){let r=0,s="";P_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(P_(this.data_)){const r=this.data_,s=d6(r,e,n);return s===null?null:new Cs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cs(r,!0)}}static getBlob(...e){if(pv()){const n=e.map(r=>r instanceof Cs?r.data_:r);return new Cs(u6.apply(null,n))}else{const n=e.map(a=>fv(a)?f6(pr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Cs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){let e;try{e=JSON.parse(t)}catch{return null}return t6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t,e){return e}class Qt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||w6}}let pu=null;function _6(t){return!fv(t)||t.length<2?t:ZS(t)}function eC(){if(pu)return pu;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(i,a){return _6(a)}const n=new Qt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Qt("size");return s.xform=r,t.push(s),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),pu=t,pu}function b6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function E6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return b6(r,t),r}function tC(t,e,n){const r=JS(e);return r===null?null:E6(t,r,n)}function T6(t,e,n,r){const s=JS(e);if(s===null||!fv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,p="/b/"+a(h)+"/o/"+a(f),v=mv(p,n,r),C=KS({alt:"media",token:d});return v+C})[0]}function N6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class nC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){if(!t)throw hv()}function S6(t,e){function n(r,s){const i=tC(t,s,e);return rC(i!==null),i}return n}function C6(t,e){function n(r,s){const i=tC(t,s,e);return rC(i!==null),T6(i,s,t.host,t._protocol)}return n}function sC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=UF():s=FF():n.getStatus()===402?s=VF(t.bucket):n.getStatus()===403?s=BF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function I6(t){const e=sC(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=MF(t.path)),i.serverResponse=s.serverResponse,i}return n}function j6(t,e,n){const r=e.fullServerUrl(),s=mv(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new nC(s,i,C6(t,n),a);return l.errorHandler=I6(e),l}function A6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function k6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=A6(null,e)),r}function R6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=k6(e,r,s),h=N6(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",v=Cs.getBlob(f,r,p);if(v===null)throw GF();const C={name:d.fullPath},_=mv(i,t.host,t._protocol),N="POST",E=t.maxUploadRetryTime,b=new nC(_,N,S6(t,n),E);return b.urlParams=C,b.headers=a,b.body=v.uploadData(),b.errorHandler=sC(e),b}class P6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Ja("cannot .send() more than once");if(li(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class D6 extends P6{initXhr(){this.xhr_.responseType="text"}}function iC(){return new D6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gi(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZS(this._location.path)}get storage(){return this._service}get parent(){const e=v6(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Gi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YF(e)}}function L6(t,e,n){t._throwIfRoot("uploadBytes");const r=R6(t.storage,t._location,eC(),new Cs(e,!0),n);return t.storage.makeRequestWithTokens(r,iC).then(s=>({metadata:s,ref:t}))}function O6(t){t._throwIfRoot("getDownloadURL");const e=j6(t.storage,t._location,eC());return t.storage.makeRequestWithTokens(e,iC).then(n=>{if(n===null)throw KF();return n})}function M6(t,e){const n=x6(t._location.path,e),r=new bn(t._location.bucket,n);return new Gi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){return/^[A-Za-z]+:\/\//.test(t)}function F6(t,e){return new Gi(t,e)}function oC(t,e){if(t instanceof gv){const n=t;if(n._bucket==null)throw qF();const r=new Gi(n,n._bucket);return e!=null?oC(r,e):r}else return e!==void 0?M6(t,e):t}function U6(t,e){if(e&&V6(e)){if(t instanceof gv)return F6(t,e);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return oC(t,e)}function L_(t,e){const n=e==null?void 0:e[qS];return n==null?null:bn.makeFromBucketSpec(n,t)}function B6(t,e,n,r={}){t.host=`${e}:${n}`;const s=li(e);s&&(cy(`https://${t.host}/b`),uy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nT(i,t.app.options.projectId))}class gv{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=WS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LF,this._maxUploadRetryTime=OF,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=L_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=L_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new XF(GS());{const a=l6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const O_="@firebase/storage",M_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="storage";function $6(t,e,n){return t=Fe(t),L6(t,e,n)}function z6(t){return t=Fe(t),O6(t)}function H6(t,e){return t=Fe(t),U6(t,e)}function W6(t=yh(),e){t=Fe(t);const r=ci(t,aC).getImmediate({identifier:e}),s=ZE("storage");return s&&q6(r,...s),r}function q6(t,e,n,r={}){B6(t,e,n,r)}function G6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new gv(n,r,s,e,eo)}function K6(){tr(new Fn(aC,G6,"PUBLIC").setMultipleInstances(!0)),mn(O_,M_,""),mn(O_,M_,"esm2020")}K6();const Q6={apiKey:"AIzaSyAVk3CIK5hyAmjwVPh1p4i01vq-0Z5IsEA",authDomain:"zedctf.firebaseapp.com",projectId:"zedctf",storageBucket:"zedctf.firebasestorage.app",messagingSenderId:"574551910114",appId:"1:574551910114:web:8bcce937be224e1575a0bb",measurementId:"G-MEYRJGR69W"},qh=cT(Q6);lM(qh);const nc=$L(qh),ye=mF(qh),Y6=W6(qh),lC=g.createContext({user:null,loading:!0}),cC=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0);return g.useEffect(()=>AD(nc,a=>{n(a),s(!1)}),[]),o.jsx(lC.Provider,{value:{user:e,loading:r},children:t})},$n=()=>{const t=g.useContext(lC);if(!t)throw new Error("useAuthContext must be used within an AuthProvider");return t},uC=g.createContext({isAdmin:!1,isModerator:!1,permissions:[],loading:!0}),X6=({children:t})=>{const{user:e}=$n(),[n,r]=g.useState({isAdmin:!1,isModerator:!1,permissions:[],loading:!0});return g.useEffect(()=>{if(!e){console.log(" AdminProvider: No user found"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1});return}return console.log(" AdminProvider: Checking user role for UID:",e.uid),RF(nt(ye,"users",e.uid),i=>{if(i.exists()){const a=i.data();console.log(" User document found:",a);const l=a.role||"user",c=a.permissions||["read"];console.log(" User role:",l),console.log(" User permissions:",c),r({isAdmin:l==="admin",isModerator:l==="moderator"||l==="admin",permissions:c,loading:!1})}else console.log(" No user document found in Firestore"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})},i=>{console.error(" Firestore error in AdminContext:",i),console.error("Error details:",i.code,i.message),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})})},[e]),o.jsx(uC.Provider,{value:n,children:t})},dC=()=>{const t=g.useContext(uC);if(!t)throw new Error("useAdminContext must be used within an AdminProvider");return t},J6=({children:t})=>{const{loading:e}=$n();return e?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsx(o.Fragment,{children:t})},ps=({children:t})=>{const{user:e,loading:n}=$n();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(RR,{to:"/login",replace:!0})};function V_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Sc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=V_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():V_(t[s],null)}}}}function ut(...t){return g.useCallback(Sc(...t),t)}var Z6=Symbol.for("react.lazy"),Bd=Jd[" use ".trim().toString()];function e5(t){return typeof t=="object"&&t!==null&&"then"in t}function hC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Z6&&"_payload"in t&&e5(t._payload)}function yv(t){const e=n5(t),n=g.forwardRef((r,s)=>{let{children:i,...a}=r;hC(i)&&typeof Bd=="function"&&(i=Bd(i._payload));const l=g.Children.toArray(i),c=l.find(s5);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var t5=yv("Slot");function n5(t){const e=g.forwardRef((n,r)=>{let{children:s,...i}=n;if(hC(s)&&typeof Bd=="function"&&(s=Bd(s._payload)),g.isValidElement(s)){const a=o5(s),l=i5(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Sc(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var r5=Symbol("radix.slottable");function s5(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===r5}function i5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function o5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fC(t))&&(r&&(r+=" "),r+=e);return r}const F_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U_=pC,Gh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=F_(h)||F_(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(C=>{let[_,N]=C;return Array.isArray(N)?N.includes({...i,...l}[_]):{...i,...l}[_]===N})?[...d,f,p]:d},[]);return U_(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},vv="-",a5=t=>{const e=c5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(vv);return l[0]===""&&l.length!==1&&l.shift(),mC(l,e)||l5(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},mC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(vv);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},B_=/^\[(.+)\]$/,l5=t=>{if(B_.test(t)){const e=B_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},c5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return d5(Object.entries(t.classGroups),n).forEach(([i,a])=>{Ym(a,r,i,e)}),r},Ym=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(u5(s)){Ym(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Ym(a,$_(e,i),n,r)})})},$_=(t,e)=>{let n=t;return e.split(vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},u5=t=>t.isThemeGetter,d5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,h5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},gC="!",f5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let d=0,h=0,f;for(let N=0;N<l.length;N++){let E=l[N];if(d===0){if(E===s&&(r||l.slice(N,N+i)===e)){c.push(l.slice(h,N)),h=N+i;continue}if(E==="/"){f=N;continue}}E==="["?d++:E==="]"&&d--}const p=c.length===0?l:l.substring(h),v=p.startsWith(gC),C=v?p.substring(1):p,_=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:a}):a},p5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},m5=t=>({cache:h5(t.cacheSize),parseClassName:f5(t),...a5(t)}),g5=/\s+/,y5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(g5);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let C=!!v,_=r(C?p.substring(0,v):p);if(!_){if(!C){l=d+(l.length>0?" "+l:l);continue}if(_=r(p),!_){l=d+(l.length>0?" "+l:l);continue}C=!1}const N=p5(h).join(":"),E=f?N+gC:N,b=E+_;if(i.includes(b))continue;i.push(b);const S=s(_,C);for(let A=0;A<S.length;++A){const L=S[A];i.push(E+L)}l=d+(l.length>0?" "+l:l)}return l};function v5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yC(e))&&(r&&(r+=" "),r+=n);return r}const yC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yC(t[r]))&&(n&&(n+=" "),n+=e);return n};function x5(t,...e){let n,r,s,i=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return n=m5(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=y5(c,n);return s(c,h),h}return function(){return i(v5.apply(null,arguments))}}const He=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vC=/^\[(?:([a-z-]+):)?(.+)\]$/i,w5=/^\d+\/\d+$/,_5=new Set(["px","full","screen"]),b5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rr=t=>Mo(t)||_5.has(t)||w5.test(t),ms=t=>_a(t,"length",D5),Mo=t=>!!t&&!Number.isNaN(Number(t)),fp=t=>_a(t,"number",Mo),Za=t=>!!t&&Number.isInteger(Number(t)),C5=t=>t.endsWith("%")&&Mo(t.slice(0,-1)),me=t=>vC.test(t),gs=t=>b5.test(t),I5=new Set(["length","size","percentage"]),j5=t=>_a(t,I5,xC),A5=t=>_a(t,"position",xC),k5=new Set(["image","url"]),R5=t=>_a(t,k5,O5),P5=t=>_a(t,"",L5),el=()=>!0,_a=(t,e,n)=>{const r=vC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D5=t=>E5.test(t)&&!T5.test(t),xC=()=>!1,L5=t=>N5.test(t),O5=t=>S5.test(t),M5=()=>{const t=He("colors"),e=He("spacing"),n=He("blur"),r=He("brightness"),s=He("borderColor"),i=He("borderRadius"),a=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),d=He("grayscale"),h=He("hueRotate"),f=He("invert"),p=He("gap"),v=He("gradientColorStops"),C=He("gradientColorStopPositions"),_=He("inset"),N=He("margin"),E=He("opacity"),b=He("padding"),S=He("saturate"),A=He("scale"),L=He("sepia"),k=He("skew"),y=He("space"),x=He("translate"),I=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",me,e],D=()=>[me,e],P=()=>["",Rr,ms],H=()=>["auto",Mo,me],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",me],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Mo,me];return{cacheSize:500,separator:":",theme:{colors:[el],spacing:[Rr,ms],blur:["none","",gs,me],brightness:O(),borderColor:[t],borderRadius:["none","","full",gs,me],borderSpacing:D(),borderWidth:P(),contrast:O(),grayscale:W(),hueRotate:O(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[C5,ms],inset:j(),margin:j(),opacity:O(),padding:D(),saturate:O(),scale:O(),sepia:W(),skew:O(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),me]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Za,me]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Za,me]}],"grid-cols":[{"grid-cols":[el]}],"col-start-end":[{col:["auto",{span:["full",Za,me]},me]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[el]}],"row-start-end":[{row:["auto",{span:[Za,me]},me]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fp]}],"font-family":[{font:[el]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Mo,fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rr,ms]}],"underline-offset":[{"underline-offset":["auto",Rr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),A5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",j5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Rr,me]}],"outline-w":[{outline:[Rr,ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Rr,ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gs,P5]}],"shadow-color":[{shadow:[el]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gs,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Za,me]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rr,ms,fp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V5=x5(M5);function Pe(...t){return V5(pC(t))}const F5=Gh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.6)]",terminal:"bg-card border border-primary/30 text-primary hover:border-primary hover:bg-primary/10 font-mono"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?t5:"button";return o.jsx(a,{className:Pe(F5({variant:e,size:n,className:t})),ref:i,...s})});K.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...B5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wC("lucide",s),...l},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement($5,{ref:i,iconNode:e,className:wC(`lucide-${U5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ee("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ee("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=ee("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=ee("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=ee("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ee("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dU="/ZedCTF/favicon.png",mt=()=>{var d;const[t,e]=g.useState(!1),{user:n}=$n(),{isAdmin:r,isModerator:s}=dC(),i=ir(),[a,l]=g.useState(!1),c=async()=>{l(!0);try{await kD(nc),i("/"),e(!1)}catch(h){console.error("Error signing out:",h)}finally{l(!1)}};return o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:dU,alt:"ZedCTF",className:"w-8 h-8"}),o.jsx("span",{className:"text-2xl font-bold text-green-600 animate-pulse-glow",children:"ZedCTF"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(K_,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Home"]}),o.jsxs(Ve,{to:"/dashboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx($d,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Dashboard"]}),o.jsxs(Ve,{to:"/practice",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(Qn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Practice"]}),o.jsxs(Ve,{to:"/live",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsx(G_,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"LIVE CTF"]}),o.jsxs(Ve,{to:"/leaderboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(nn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Leaderboard"]}),o.jsxs(Ve,{to:"/writeups",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(zd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Writeups"]}),(r||s)&&o.jsxs(Ve,{to:"/admin",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(Ye,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Admin"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(K,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:o.jsx(sa,{className:"w-5 h-5"})}),o.jsxs(K,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(H5,{className:"w-5 h-5"}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),o.jsx(K,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:o.jsx(iU,{className:"w-5 h-5"})}),n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-foreground/80 hidden sm:block",children:n.displayName||((d=n.email)==null?void 0:d.split("@")[0])}),o.jsxs(K,{variant:"default",size:"sm",className:"bg-red-500 hover:bg-red-600 text-white gap-2",onClick:c,disabled:a,children:[a?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(Y_,{className:"w-4 h-4"}),a?"...":"Logout"]})]}):o.jsx(Ve,{to:"/login",children:o.jsxs(K,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 text-white animate-glow gap-2",children:[o.jsx(On,{className:"w-4 h-4"}),"Sign In"]})})]})]}),t&&o.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-lg animate-fade-in",children:o.jsxs("div",{className:"py-4 space-y-4",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(K_,{className:"w-5 h-5"}),"Home"]}),o.jsxs(Ve,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx($d,{className:"w-5 h-5"}),"Dashboard"]}),o.jsxs(Ve,{to:"/practice",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(Qn,{className:"w-5 h-5"}),"Practice"]}),o.jsxs(Ve,{to:"/live",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsx(G_,{className:"w-5 h-5"}),"LIVE CTF"]}),o.jsxs(Ve,{to:"/leaderboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(nn,{className:"w-5 h-5"}),"Leaderboard"]}),o.jsxs(Ve,{to:"/writeups",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(zd,{className:"w-5 h-5"}),"Writeups"]}),(r||s)&&o.jsxs(Ve,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(Ye,{className:"w-5 h-5"}),"Admin"]}),o.jsx("div",{className:"px-4 pt-2 border-t border-border",children:n?o.jsxs(K,{variant:"default",className:"w-full justify-start gap-2 bg-red-500 hover:bg-red-600",onClick:c,disabled:a,children:[a?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(Y_,{className:"w-4 h-4"}),a?"Signing out...":"Logout"]}):o.jsx(Ve,{to:"/login",onClick:()=>e(!1),children:o.jsxs(K,{variant:"default",className:"w-full justify-start gap-2 bg-green-500 hover:bg-green-600",children:[o.jsx(On,{className:"w-4 h-4"}),"Sign In"]})})})]})})]})})},hU="/ZedCTF/assets/hero-bg-x4dJ88o_.jpg",fU=()=>{const[t,e]=g.useState({totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0}),[n,r]=g.useState(!0),s=ir(),i=async()=>{try{const c={totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0},d=["users","user","members","profiles"];for(const v of d)try{const _=(await hu(kt(ye,v))).data().count;if(_>0){c.totalUsers=_;break}}catch{continue}const h=["challenges","challenge","ctfChallenges","practice"];for(const v of h)try{const _=(await hu(kt(ye,v))).data().count;if(_>0){c.totalChallenges=_;break}}catch{continue}const f=["events","event","liveEvents","competitions"];for(const v of f)try{const _=(await hu(kt(ye,v))).data().count;if(_>0){c.liveEvents=_;break}}catch{continue}const p=["submissions","submission","solves","completions"];for(const v of p)try{const _=(await hu(kt(ye,v))).data().count;if(_>0){c.totalCompletions=_;break}}catch{continue}if(c.totalCompletions===0&&c.totalUsers>0)try{const v=await Zn(kt(ye,"users"));let C=0;v.forEach(_=>{const N=_.data();C+=N.challengesSolved||N.solvedChallenges||N.totalSolved||0}),c.totalCompletions=C}catch{}e(c)}catch{console.log("Stats loading completed")}finally{r(!1)}};g.useEffect(()=>{i()},[]);const a=()=>{s("/practice")},l=()=>{s("/live")};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${hU})`}}),o.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),o.jsx("div",{className:"container relative z-10 px-4 py-32",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-primary/30 bg-primary/5 mb-4",children:[o.jsx(TC,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm text-primary font-mono",children:"Zambia's Premier CTF Platform"})]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Master Cybersecurity",o.jsx("br",{}),o.jsx("span",{className:"neon-text animate-pulse-glow",children:"Capture The Flag"})]}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sharpen your hacking skills, compete in real-time challenges, and climb the leaderboard. From beginner to expert, ZedCTF is your gateway to cybersecurity mastery."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[o.jsxs(K,{onClick:a,variant:"neon",size:"lg",className:"group",children:["Start Practicing",o.jsx(z5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(K,{onClick:l,variant:"terminal",size:"lg",children:[o.jsx(Y5,{className:"w-5 h-5"}),"Join LIVE Event"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-12 max-w-3xl mx-auto",children:[o.jsx(mu,{loading:n,value:t.totalUsers,label:"Registered Users",icon:o.jsx(nn,{className:"w-5 h-5"})}),o.jsx(mu,{loading:n,value:t.totalChallenges,label:"Challenges",icon:o.jsx(Ye,{className:"w-5 h-5"})}),o.jsx(mu,{loading:n,value:t.liveEvents,label:"Live Events",icon:o.jsx(ba,{className:"w-5 h-5"})}),o.jsx(mu,{loading:n,value:t.totalCompletions,label:"Completions",icon:o.jsx(Qn,{className:"w-5 h-5"})})]}),!n&&o.jsx("div",{className:"mt-4",children:o.jsx(K,{variant:"outline",size:"sm",onClick:i,children:"Refresh Stats"})})]})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"})]})},mu=({loading:t,value:e,label:n,icon:r})=>t?o.jsxs("div",{className:"text-center animate-pulse",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),o.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):o.jsxs("div",{className:"text-center group",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl md:text-3xl font-bold text-primary mb-1",children:[r,e.toLocaleString()]}),o.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:n})]}),gt=()=>o.jsx("footer",{className:"border-t border-border bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ye,{className:"w-8 h-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold neon-text",children:"ZedCTF"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Zambia's premier platform for cybersecurity challenges and training."}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"An initiative by IT Society of Kapasa Makasa University"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Platform"}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("li",{children:o.jsx(Ve,{to:"/dashboard",className:"hover:text-primary transition-colors",children:"Dashboard"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/practice",className:"hover:text-primary transition-colors",children:"Practice"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/live",className:"hover:text-primary transition-colors",children:"LIVE Events"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/leaderboard",className:"hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Resources"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.jsx("li",{children:o.jsx(Ve,{to:"/writeups",className:"hover:text-primary transition-colors",children:"Walkthroughs"})})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Connect"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx("a",{href:"https://github.com/ZedCTF/ZedCTF",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(Z5,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(cU,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(rU,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(SC,{className:"w-5 h-5"})})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-sm mb-2 text-primary flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),"Contributors"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[o.jsx("a",{href:"https://github.com/SokoJames",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"James Soko"}),o.jsx("a",{href:"https://github.com/abbymwale24",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Abby Mwale"}),o.jsx("a",{href:"https://github.com/Joylad-Jangazya",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Joylad Jangazya"}),o.jsx("a",{href:"https://github.com/Kono-hub",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Mary Chanda"}),o.jsx("a",{href:"https://github.com/ronny-brawn",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Aaron Nyakapanda"}),o.jsx("a",{href:"https://github.com/threat23",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Humphery Chileshe"})]})]})]})]}),o.jsxs("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:" 2025 ZedCTF. All rights reserved. Made with  in Zambia"}),o.jsx("p",{className:"mt-1",children:"IT Society of Kapasa Makasa University"})]})]})}),pU=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(mt,{}),o.jsx(fU,{}),o.jsx(gt,{})]}),mU=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState({email:"",password:"",rememberMe:!1}),h=ir(),f=new Lr;f.addScope("read:user"),f.addScope("user:email");const p=async N=>{N.preventDefault(),l(""),i(!0);try{await SD(nc,c.email,c.password),h("/dashboard")}catch(E){console.error("Login error:",E),l(C(E.code))}finally{i(!1)}},v=async()=>{var N,E,b;r(!0),l("");try{const A=(await XD(nc,f)).user;(await Nc(nt(ye,"users",A.uid))).exists()||await $S(nt(ye,"users",A.uid),{uid:A.uid,firstName:((N=A.displayName)==null?void 0:N.split(" ")[0])||"GitHub",lastName:((E=A.displayName)==null?void 0:E.split(" ").slice(1).join(" "))||"User",username:((b=A.email)==null?void 0:b.split("@")[0])||`github_${A.uid.slice(0,8)}`,email:A.email,displayName:A.displayName||"GitHub User",photoURL:A.photoURL,provider:"github",createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(S){console.error("GitHub login error:",S),S.code==="auth/account-exists-with-different-credential"?l("An account already exists with the same email address but different sign-in credentials."):S.code==="auth/popup-closed-by-user"?console.log("GitHub login popup closed by user"):l("GitHub login failed. Please try again.")}finally{r(!1)}},C=N=>{switch(N){case"auth/invalid-email":return"Invalid email address format.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials.";default:return"Login failed. Please try again."}},_=N=>{const{name:E,value:b,type:S,checked:A}=N.target;d(L=>({...L,[E]:S==="checkbox"?A:b}))};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx(Ye,{className:"w-10 h-10 text-primary"}),o.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-muted-foreground",children:"Access your cybersecurity dashboard"})]}),a&&o.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:a}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),o.jsx("div",{className:"relative",children:o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all pr-12",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?o.jsx(Xm,{className:"w-5 h-5"}):o.jsx(rc,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{name:"rememberMe",type:"checkbox",checked:c.rememberMe,onChange:_,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2",disabled:s}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),o.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),o.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?o.jsx(Wd,{className:"w-5 h-5 animate-spin"}):o.jsx(sU,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),s?"Signing in...":"Access Dashboard"]})]}),o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-border"}),o.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or continue with"}),o.jsx("div",{className:"flex-1 border-t border-border"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("button",{onClick:v,disabled:n||s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-muted/50 border border-border rounded-lg text-foreground hover:bg-muted transition-colors hover:border-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:[n?o.jsx(Wd,{className:"w-5 h-5 animate-spin"}):o.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),n?"Signing in with GitHub...":"Continue with GitHub"]})}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-muted-foreground",children:["New to ZedCTF?"," ",o.jsx(Ve,{to:"/signup",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Create an account"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),o.jsx(gt,{})]})},gU=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:"",agreeToTerms:!1}),h=ir(),f=async C=>{if(C.preventDefault(),l(""),c.password!==c.confirmPassword){l("Passwords don't match!");return}if(c.password.length<6){l("Password should be at least 6 characters");return}if(!c.agreeToTerms){l("Please agree to the terms and conditions");return}i(!0);try{const N=(await ND(nc,c.email,c.password)).user;await DT(N,{displayName:`${c.firstName} ${c.lastName}`.trim()}),await $S(nt(ye,"users",N.uid),{uid:N.uid,firstName:c.firstName,lastName:c.lastName,username:c.username,email:c.email,displayName:`${c.firstName} ${c.lastName}`.trim(),createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(_){console.error("Registration error:",_),l(p(_.code))}finally{i(!1)}},p=C=>{switch(C){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/invalid-email":return"Invalid email address format.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak.";default:return"Registration failed. Please try again."}},v=C=>{const{name:_,value:N,type:E,checked:b}=C.target;d(S=>({...S,[_]:E==="checkbox"?b:N}))};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx(Ye,{className:"w-10 h-10 text-primary"}),o.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Join the Community"}),o.jsx("p",{className:"text-muted-foreground",children:"Start your cybersecurity journey today"})]}),a&&o.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:a}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:c.firstName,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-2",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:c.lastName,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Doe",disabled:s})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(SC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-2",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:c.username,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"cyber_hacker",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Q_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:v,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?o.jsx(Xm,{className:"w-5 h-5"}):o.jsx(rc,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Q_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:c.confirmPassword,onChange:v,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:n?o.jsx(Xm,{className:"w-5 h-5"}):o.jsx(rc,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"flex items-start",children:o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{name:"agreeToTerms",type:"checkbox",checked:c.agreeToTerms,onChange:v,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2 mt-1",disabled:s}),o.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Privacy Policy"})]})]})}),o.jsxs("button",{type:"submit",disabled:s||!c.agreeToTerms,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?o.jsx(Wd,{className:"w-5 h-5 animate-spin"}):o.jsx(uU,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s?"Creating Account...":"Create Account"]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",o.jsx(Ve,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Sign in"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),o.jsx(gt,{})]})},yU=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(""),[h,f]=g.useState("all"),[p,v]=g.useState("all"),[C,_]=g.useState("all"),[N,E]=g.useState(!0),[b]=g.useState(!1),S=async()=>{try{E(!0);const y=await fetch("/api/writeups");if(y.ok){const x=await y.json();e(x),r(x);const I=Array.from(new Set(x.map(j=>j.category))).filter(Boolean),T=Array.from(new Set(x.map(j=>j.difficulty))).filter(Boolean);i(I),l(T)}else e([]),r([]),i([]),l([])}catch{e([]),r([]),i([]),l([])}finally{E(!1)}};g.useEffect(()=>{S()},[]),g.useEffect(()=>{let k=t;c&&(k=k.filter(y=>y.title.toLowerCase().includes(c.toLowerCase())||y.description.toLowerCase().includes(c.toLowerCase())||y.tags.some(x=>x.toLowerCase().includes(c.toLowerCase())))),h!=="all"&&(k=k.filter(y=>y.category===h)),p!=="all"&&(k=k.filter(y=>y.difficulty===p)),C!=="all"&&(k=k.filter(y=>y.status===C)),r(k)},[c,h,p,C,t]);const A=k=>{switch(k){case"approved":return o.jsx(Ur,{className:"w-4 h-4 text-green-400"});case"rejected":return o.jsx(na,{className:"w-4 h-4 text-red-400"});default:return o.jsx(ba,{className:"w-4 h-4 text-yellow-400"})}},L=k=>{switch(k.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"insane":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"expert":return"bg-red-500/20 text-red-500 border-red-500/30";case"beginner":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return N?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading writeups..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(Ye,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Community ",o.jsx("span",{className:"text-primary",children:"Writeups"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Learn from other players' solutions and share your own approaches"})]}),o.jsxs("div",{className:"bg-muted/20 border border-border rounded-lg p-6 mb-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search writeups, tags, challenges...",value:c,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})}),o.jsx("div",{children:o.jsxs("select",{value:h,onChange:k=>f(k.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Categories"}),s.map(k=>o.jsx("option",{value:k,children:k},k))]})}),o.jsx("div",{children:o.jsxs("select",{value:p,onChange:k=>v(k.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Difficulties"}),a.map(k=>o.jsx("option",{value:k,children:k},k))]})})]}),b&&o.jsx("div",{className:"mt-4",children:o.jsxs("select",{value:C,onChange:k=>_(k.target.value),className:"w-full md:w-auto px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs(Ve,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[o.jsx(ti,{className:"w-5 h-5"}),"New Writeup"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(k=>o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${L(k.difficulty)}`,children:k.difficulty}),o.jsxs("div",{className:"flex items-center gap-1",children:[A(k.status),o.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:k.status})]})]}),o.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded border border-primary/20 mb-3",children:k.category}),o.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:k.title}),o.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:k.description}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[o.jsx(zd,{className:"w-4 h-4"}),o.jsxs("span",{children:["Challenge: ",k.challenge]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[k.tags.slice(0,3).map((y,x)=>o.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["#",y]},x)),k.tags.length>3&&o.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["+",k.tags.length-3]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center",children:o.jsx(On,{className:"w-3 h-3 text-primary"})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:k.author.name})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(rc,{className:"w-4 h-4"}),o.jsx("span",{children:k.views})]}),o.jsx("span",{children:new Date(k.createdAt).toLocaleDateString()})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Ve,{to:`/writeups/${k.id}`,className:"flex-1 bg-primary/10 text-primary border border-primary/20 py-2 px-4 rounded-lg text-center hover:bg-primary/20 transition-colors",children:"Read"}),b&&k.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"flex-1 bg-green-500/10 text-green-500 border border-green-500/20 py-2 px-4 rounded-lg hover:bg-green-500/20 transition-colors",children:"Approve"}),o.jsx("button",{className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 py-2 px-4 rounded-lg hover:bg-red-500/20 transition-colors",children:"Reject"})]})]})]},k.id))}),n.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zd,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No writeups found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"No writeups have been submitted yet. Be the first to share your solution!":"Try adjusting your search or filters"}),o.jsxs(Ve,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 inline-flex items-center gap-2",children:[o.jsx(ti,{className:"w-5 h-5"}),"Create First Writeup"]})]})]})}),o.jsx(gt,{})]})},vU=()=>{const t=ir(),[e,n]=g.useState(""),[r,s]=g.useState(""),[i,a]=g.useState(""),[l,c]=g.useState(""),[d,h]=g.useState(""),[f,p]=g.useState(""),[v,C]=g.useState(""),[_,N]=g.useState(!1),[E,b]=g.useState([]),[S,A]=g.useState([]),[L,k]=g.useState([]),[y,x]=g.useState(!0),I=async()=>{try{x(!0);const D="/api/challenges/available",P="/api/categories",H="/api/difficulties",[oe,Y,ce]=await Promise.all([fetch(D),fetch(P),fetch(H)]);if(oe.ok){const M=await oe.json();b(M)}else b([]);if(Y.ok){const M=await Y.json();A(M),M.length>0&&h(M[0])}else A([]);if(ce.ok){const M=await ce.json();k(M),M.length>0&&p(M[0])}else k([])}catch{b([]),A([]),k([])}finally{x(!1)}},T=async D=>{D.preventDefault(),N(!0);try{(await fetch("/api/writeups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:r,content:i,challengeId:l,category:d,difficulty:f,tags:v.split(",").map(H=>H.trim()).filter(H=>H)})})).ok?t("/writeups"):console.error("Failed to create writeup")}catch(P){console.error("Error creating writeup:",P)}finally{N(!1)}},j=(D,P)=>{document.execCommand(D,!1,P)};return g.useEffect(()=>{if(l){const D=E.find(P=>P.id===l);D&&(h(D.category),p(D.difficulty))}},[l,E]),g.useEffect(()=>{I()},[]),y?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading form data..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(Ye,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Create ",o.jsx("span",{className:"text-primary",children:"Writeup"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Share your solution and help others learn from your approach"})]}),o.jsxs("form",{id:"writeup-form",onSubmit:T,className:"space-y-8",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Basic Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Writeup Title *"}),o.jsx("input",{type:"text",required:!0,value:e,onChange:D=>n(D.target.value),placeholder:"Enter a compelling title for your writeup...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-lg font-semibold"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),o.jsx("textarea",{required:!0,value:r,onChange:D=>s(D.target.value),placeholder:"Brief description of your writeup...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Challenge *"}),o.jsxs("select",{required:!0,value:l,onChange:D=>c(D.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"",children:"Select a challenge"}),E.map(D=>o.jsx("option",{value:D.id,children:D.title},D.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category *"}),o.jsx("select",{required:!0,value:d,onChange:D=>h(D.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:S.map(D=>o.jsx("option",{value:D,children:D},D))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty *"}),o.jsx("select",{required:!0,value:f,onChange:D=>p(D.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:L.map(D=>o.jsx("option",{value:D,children:D},D))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),o.jsx("input",{type:"text",value:v,onChange:D=>C(D.target.value),placeholder:"Comma-separated tags (e.g., sql-injection, web, bypass)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Writeup Content"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 p-3 bg-muted/20 rounded-lg border border-border",children:[o.jsx("button",{type:"button",onClick:()=>j("bold"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bold",children:o.jsx(W5,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>j("italic"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Italic",children:o.jsx(tU,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>j("insertUnorderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bullet List",children:o.jsx(Jm,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>j("insertOrderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Numbered List",children:o.jsx(Jm,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>{const D=prompt("Enter URL:");D&&j("createLink",D)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Link",children:o.jsx(ra,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>j("formatBlock","<pre>"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Code Block",children:o.jsx(X5,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>{const D=prompt("Enter image URL:");D&&j("insertImage",D)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Image",children:o.jsx(eU,{className:"w-4 h-4 text-foreground"})})]}),o.jsx("div",{contentEditable:!0,onInput:D=>a(D.currentTarget.innerHTML),className:"min-h-[400px] px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all prose prose-invert max-w-none",style:{fontFamily:"Georgia, serif",fontSize:"16px",lineHeight:"1.6"},"data-placeholder":"Start writing your amazing writeup here... You can include code snippets, images, and formatted text."}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Pro tips:"})]}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Use the toolbar above to format your text"}),o.jsx("li",{children:"Include code snippets using the code block button"}),o.jsx("li",{children:"Add images to illustrate your steps"}),o.jsx("li",{children:"Break down complex solutions into clear steps"}),o.jsx("li",{children:"Share your thought process and learning moments"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",onClick:()=>t("/writeups"),children:[o.jsx(rc,{className:"w-4 h-4"}),"Cancel"]}),o.jsxs("button",{type:"submit",disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[_?o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):o.jsx(CC,{className:"w-4 h-4"}),_?"Publishing...":"Publish Writeup"]})]})]})]})}),o.jsx(gt,{})]})},J_=()=>new Promise(t=>{setTimeout(()=>{const e={id:"github-"+Date.now(),username:"zedctf_user",email:"user@zedctf.com",name:"ZedCTF User",avatar:"https://github.com/github.png",provider:"github"};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true"),t(e)},1500)}),xU=()=>{const[t,e]=g.useState("loading"),[n,r]=g.useState(""),s=ir();return g.useEffect(()=>{(async()=>{const a=new URLSearchParams(window.location.search),l=a.get("code");if(a.get("error")){e("error"),r("GitHub authentication failed. Please try again.");return}try{if(await new Promise(d=>setTimeout(d,2e3)),l){const d=await J_();e("success"),r(`Welcome, ${d.username}! Successfully authenticated with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}else{const d=await J_();e("success"),r(`Welcome, ${d.username}! Successfully signed in with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}}catch(d){e("error"),r("Authentication failed. Please try again."),console.error("GitHub callback error:",d)}})()},[s]),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsx(Ye,{className:"w-10 h-10 text-green-400"}),o.jsx("span",{className:"text-3xl font-bold text-white",children:"ZedCTF"})]}),o.jsxs("div",{className:"space-y-4",children:[t==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx(Wd,{className:"w-12 h-12 text-green-400 animate-spin mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connecting to GitHub..."}),o.jsx("p",{className:"text-gray-300",children:"Please wait while we authenticate your account."})]}),t==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"w-12 h-12 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Successful!"}),o.jsx("p",{className:"text-gray-300",children:n}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting to homepage..."})]}),t==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(na,{className:"w-12 h-12 text-red-400 mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-300",children:n}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Login"}),o.jsx("button",{onClick:()=>s("/signup"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Sign Up"})]})]})]})]})})},wU=()=>{const t=fa();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},re=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));re.displayName="Card";const Te=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",t),...e}));Te.displayName="CardHeader";const Ne=g.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const Ht=g.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));Ht.displayName="CardDescription";const se=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("p-6 pt-0",t),...e}));se.displayName="CardContent";const _U=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",t),...e}));_U.displayName="CardFooter";const bU=({isOpen:t,onClose:e})=>{const{user:n}=$n(),[r,s]=g.useState(!1),[i,a]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[h,f]=g.useState({displayName:"",bio:"",role:"student",institution:""}),[p,v]=g.useState(null),[C,_]=g.useState("");g.useEffect(()=>{t&&n&&(async()=>{try{const y=await Nc(nt(ye,"users",n.uid));if(y.exists()){const x=y.data();f({displayName:x.displayName||n.displayName||"",bio:x.bio||"",role:x.role||"student",institution:x.institution||""}),_(x.photoURL||n.photoURL||"")}else f({displayName:n.displayName||"",bio:"",role:"student",institution:""}),_(n.photoURL||"")}catch(y){console.error("Error fetching user data:",y)}})()},[t,n]);const N=k=>{const{name:y,value:x}=k.target;f(I=>({...I,[y]:x}))},E=async k=>{var x;const y=(x=k.target.files)==null?void 0:x[0];if(y){if(!y.type.startsWith("image/")){alert("Please select an image file");return}if(y.size>2*1024*1024){alert("Image size should be less than 2MB for faster upload");return}v(y);const I=URL.createObjectURL(y);_(I)}},b=(k,y=800,x=.8)=>new Promise((I,T)=>{const j=document.createElement("canvas"),D=j.getContext("2d"),P=new Image;P.onload=()=>{let H=P.width,oe=P.height;H>y&&(oe=oe*y/H,H=y),j.width=H,j.height=oe,D==null||D.drawImage(P,0,0,H,oe),j.toBlob(Y=>{if(Y){const ce=new File([Y],k.name,{type:"image/jpeg",lastModified:Date.now()});I(ce)}else T(new Error("Image compression failed"))},"image/jpeg",x)},P.onerror=T,P.src=URL.createObjectURL(k)}),S=async(k,y)=>{const x=await b(k),T=`profile_${Date.now()}.jpg`,j=H6(Y6,`profile-pictures/${y}/${T}`),D=await $6(j,x);return await z6(D.ref)},A=async k=>{if(k.preventDefault(),!!n){s(!0),c(!1);try{let y=n.photoURL;if(p){a(!0);try{y=await S(p,n.uid),console.log("Profile image uploaded successfully")}catch(I){console.error("Error uploading image:",I)}finally{a(!1)}}const x=[];(h.displayName!==n.displayName||y!==n.photoURL)&&x.push(DT(n,{displayName:h.displayName,photoURL:y})),x.push(Rn(nt(ye,"users",n.uid),{displayName:h.displayName,bio:h.bio,role:h.role,institution:h.institution,photoURL:y,updatedAt:new Date})),await Promise.all(x),console.log("Profile updated successfully"),c(!0),setTimeout(()=>{e(),window.location.reload()},1e3)}catch(y){console.error("Error updating profile:",y),alert("Failed to update profile. Please try again.")}finally{s(!1)}}},L=()=>{var k;(k=d.current)==null||k.click()};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Edit Profile"}),o.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",disabled:r,children:o.jsx(ic,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[l&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5"}),"Profile updated successfully!"]}),o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-muted/50 border-2 border-border flex items-center justify-center overflow-hidden",children:C?o.jsx("img",{src:C,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx(On,{className:"w-12 h-12 text-muted-foreground"})}),o.jsx("button",{type:"button",onClick:L,disabled:i||r,className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 hover:bg-primary/90 transition-colors disabled:opacity-50",children:i?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(q5,{className:"w-4 h-4"})}),o.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:i||r})]}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:i?"Uploading image...":"Click the camera icon to upload a profile picture (max 2MB)"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-2",children:"Display Name"}),o.jsx("input",{id:"displayName",name:"displayName",type:"text",value:h.displayName,onChange:N,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Enter your display name",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-foreground mb-2",children:"Bio"}),o.jsx("textarea",{id:"bio",name:"bio",rows:3,value:h.bio,onChange:N,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",placeholder:"Tell us about yourself...",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"I am a"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"student",label:"Student",icon:NC},{value:"lecturer",label:"Lecturer",icon:nn},{value:"expert",label:"Expert",icon:_C},{value:"general",label:"General User",icon:On}].map(({value:k,label:y,icon:x})=>o.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-all ${h.role===k?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 text-foreground"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:k,checked:h.role===k,onChange:N,className:"hidden",disabled:r}),o.jsx(x,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:y})]},k))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-foreground mb-2",children:"Institution"}),o.jsx("input",{id:"institution",name:"institution",type:"text",value:h.institution,onChange:N,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Your school, university, or organization",disabled:r})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,disabled:r,className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r||i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Saving..."]}):"Save Changes"})]})]})]})}):null},EU=()=>{var b,S;const{user:t}=$n();ir();const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState([]),[d,h]=g.useState(!0),[f,p]=g.useState(!1),[v,C]=g.useState(null),_=A=>{switch(A){case"student":return o.jsx(NC,{className:"w-4 h-4"});case"lecturer":return o.jsx(nn,{className:"w-4 h-4"});case"expert":return o.jsx(_C,{className:"w-4 h-4"});default:return o.jsx(On,{className:"w-4 h-4"})}},N=A=>{switch(A){case"student":return"Student";case"lecturer":return"Lecturer";case"expert":return"Expert";default:return"General User"}},E=async()=>{var A,L,k;if(t)try{h(!0),console.log("Fetching real dashboard data for user:",t.uid);const y=await Nc(nt(ye,"users",t.uid));if(y.exists()){const x=y.data();console.log("Real user data from Firestore:",x),C(x),n({totalPoints:x.totalPoints||0,challengesSolved:x.challengesSolved||0,currentRank:x.currentRank||0,timeSpent:x.timeSpent||"0h 0m",username:x.username||((A=t==null?void 0:t.email)==null?void 0:A.split("@")[0])||"Hacker",joinDate:x.createdAt||(t==null?void 0:t.metadata.creationTime)||new Date().toISOString(),firstName:x.firstName,lastName:x.lastName,displayName:x.displayName,bio:x.bio,role:x.role,institution:x.institution,photoURL:x.photoURL})}else console.log("No user document found in Firestore"),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((L=t==null?void 0:t.email)==null?void 0:L.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()});try{const x=zr(kt(ye,"challenges"),Tr("solvedBy","array-contains",t.uid),qs("solvedAt","desc"),up(5)),T=(await Zn(x)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real solved challenges:",T),s(T)}catch{console.log("No challenges collection or no solved challenges yet"),s([])}try{const x=zr(kt(ye,"events"),Tr("participants","array-contains",t.uid),qs("date","desc"),up(5)),T=(await Zn(x)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real events participated:",T),a(T)}catch{console.log("No events collection or no events participated yet"),a([])}try{const x=zr(kt(ye,"activity"),Tr("userId","==",t.uid),qs("timestamp","desc"),up(10)),T=(await Zn(x)).docs.map(j=>({id:j.id,...j.data()}));console.log("Real user activity:",T),c(T)}catch{console.log("No activity collection yet, creating default activity");const I={id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date,userId:t.uid};c([I])}}catch(y){console.error("Error fetching real dashboard data:",y),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((k=t==null?void 0:t.email)==null?void 0:k.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}),s([]),a([]),c([{id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date}])}finally{h(!1)}};return g.useEffect(()=>{t&&E()},[t]),d?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center overflow-hidden border-2 border-primary/30",children:t!=null&&t.photoURL||v!=null&&v.photoURL?o.jsx("img",{src:(t==null?void 0:t.photoURL)||(v==null?void 0:v.photoURL),alt:"Profile",className:"w-full h-full object-cover"}):o.jsx(On,{className:"w-8 h-8 text-primary"})}),o.jsx("button",{onClick:()=>p(!0),className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/90 transition-colors",title:"Edit Profile",children:o.jsx(IC,{className:"w-3 h-3"})})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-4xl font-bold",children:["Welcome back,"," ",o.jsx("span",{className:"text-primary",children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||(e==null?void 0:e.username)||((b=t==null?void 0:t.email)==null?void 0:b.split("@")[0])||"Hacker"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("span",{children:t==null?void 0:t.email}),(v==null?void 0:v.role)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[_(v.role),o.jsx("span",{children:N(v.role)})]})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Member since"," ",e!=null&&e.joinDate?new Date(e.joinDate).toLocaleDateString():"recently"]})]}),(v==null?void 0:v.institution)&&o.jsx("p",{className:"text-sm text-muted-foreground",children:v.institution}),(v==null?void 0:v.bio)&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-md",children:v.bio})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(re,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Total Points"}),o.jsx(Qn,{className:"w-5 h-5 text-primary"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:((S=e==null?void 0:e.totalPoints)==null?void 0:S.toLocaleString())||"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime points earned"})]})]}),o.jsxs(re,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Challenges Solved"}),o.jsx(mp,{className:"w-5 h-5 text-secondary"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.challengesSolved)||"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total challenges completed"})]})]}),o.jsxs(re,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Current Rank"}),o.jsx(lU,{className:"w-5 h-5 text-primary"})]}),o.jsxs(se,{children:[o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["#",(e==null?void 0:e.currentRank)||"0"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Global leaderboard position"})]})]}),o.jsxs(re,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),o.jsx(ba,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.timeSpent)||"0h 0m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total practice time"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(re,{className:"border-border",children:[o.jsx(Te,{children:o.jsxs(Ne,{className:"flex items-center gap-2",children:[o.jsx(mp,{className:"w-5 h-5 text-primary"}),"Recently Solved Challenges"]})}),o.jsx(se,{children:r.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(mp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No challenges solved yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Start practicing to see your progress here"})]}):o.jsx("div",{className:"space-y-4",children:r.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.title}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:A.category}),o.jsx("span",{children:""}),o.jsx("span",{children:A.difficulty}),o.jsx("span",{children:""}),o.jsx("span",{children:A.solvedAt?new Date(A.solvedAt.toDate?A.solvedAt.toDate():A.solvedAt).toLocaleDateString():"Recently"})]})]}),o.jsxs("div",{className:"text-primary font-bold",children:["+",A.points]})]},A.id))})})]}),o.jsxs(re,{className:"border-border",children:[o.jsx(Te,{children:o.jsxs(Ne,{className:"flex items-center gap-2",children:[o.jsx(ta,{className:"w-5 h-5 text-primary"}),"Events Participated In"]})}),o.jsx(se,{children:i.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ta,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No events participated yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Join live events to appear here"})]}):o.jsx("div",{className:"space-y-4",children:i.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:A.date}),A.position&&o.jsxs("span",{children:[" Position: #",A.position]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-secondary font-bold",children:A.prize}),A.pointsEarned>0&&o.jsxs("div",{className:"text-xs text-primary",children:["+",A.pointsEarned," pts"]})]})]},A.id))})})]}),o.jsxs(re,{className:"border-border lg:col-span-2",children:[o.jsx(Te,{children:o.jsxs(Ne,{className:"flex items-center gap-2",children:[o.jsx($d,{className:"w-5 h-5 text-primary"}),"Recent Activity"]})}),o.jsx(se,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($d,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No recent activity"}),o.jsx("p",{className:"text-sm mt-2",children:"Your activity will appear here"})]}):o.jsx("div",{className:"space-y-3",children:l.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.action}),o.jsx("div",{className:"text-sm text-muted-foreground",children:A.description})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:A.timestamp?new Date(A.timestamp.toDate?A.timestamp.toDate():A.timestamp).toLocaleDateString():"Recently"}),A.points&&o.jsxs("div",{className:"text-sm text-primary font-bold",children:["+",A.points]})]})]},A.id))})})]})]})]})}),o.jsx(gt,{}),o.jsx(bU,{isOpen:f,onClose:()=>p(!1)})]})},TU=Gh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:t,variant:e,...n}){return o.jsx("div",{className:Pe(TU({variant:e}),t),...n})}const he=g.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));he.displayName="Input";const NU=()=>{const{user:t}=$n(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState(!0),[d,h]=g.useState(""),[f,p]=g.useState(null),[v,C]=g.useState(""),_="/ZedCTF";g.useEffect(()=>{N()},[]),g.useEffect(()=>{b()},[d,f,e]);const N=async()=>{try{c(!0),C("");const I=zr(kt(ye,"challenges"),Tr("isActive","==",!0),Tr("availableInPractice","==",!0)),j=(await Zn(I)).docs.map(D=>({id:D.id,...D.data()}));n(j),E(j)}catch(I){console.error("Error fetching practice challenges:",I),C("Failed to load challenges. Please check your permissions.")}finally{c(!1)}},E=I=>{const T=new Map;I.forEach(P=>{const H=P.finalCategory||P.category;T.set(H,(T.get(H)||0)+1)});const j={web:{color:"from-blue-500 to-cyan-500",icon:"",description:"Web application security, SQL injection, XSS, and more"},crypto:{color:"from-purple-500 to-pink-500",icon:"",description:"Cryptography, encryption, and cryptographic attacks"},forensics:{color:"from-orange-500 to-red-500",icon:"",description:"Digital forensics, file analysis, and data recovery"},pwn:{color:"from-red-500 to-rose-500",icon:"",description:"Binary exploitation, memory corruption, and reverse engineering"},reversing:{color:"from-indigo-500 to-purple-500",icon:"",description:"Reverse engineering and malware analysis"},misc:{color:"from-gray-500 to-slate-500",icon:"",description:"Miscellaneous challenges and various security topics"}},D=Array.from(T.entries()).map(([P,H])=>{const oe=j[P.toLowerCase()]||{color:"from-gray-500 to-slate-500",icon:"",description:"Various security challenges"};return{name:P,count:H,icon:oe.icon,color:oe.color,description:oe.description}});D.sort((P,H)=>H.count-P.count),s(D)},b=()=>{let I=[...e];d&&(I=I.filter(T=>T.title.toLowerCase().includes(d.toLowerCase())||T.description.toLowerCase().includes(d.toLowerCase()))),f&&(I=I.filter(T=>(T.finalCategory||T.category)===f)),I=I.sort((T,j)=>(j.totalPoints||j.points)-(T.totalPoints||T.points)),a(I)},S=I=>{switch(I){case"easy":return"bg-green-500/20 text-green-600 border-green-200";case"medium":return"bg-yellow-500/20 text-yellow-600 border-yellow-200";case"hard":return"bg-red-500/20 text-red-600 border-red-200";case"expert":return"bg-purple-500/20 text-purple-600 border-purple-200";default:return"bg-gray-500/20 text-gray-600 border-gray-200"}},A=I=>{switch(I){case"easy":return"Easy";case"medium":return"Medium";case"hard":return"Hard";case"expert":return"Expert";default:return I}},L=I=>{window.location.href=`${_}/challenge/${I}`},k=()=>{window.location.href=`${_}/live-events`},y=()=>{N()},x=()=>{h(""),p(null)};return l?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading practice challenges..."})]})})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Ye,{className:"w-12 h-12 text-primary"})}),o.jsx("h1",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Practice Challenges"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-6",children:"Master your cybersecurity skills with hands-on challenges across different categories"}),v&&o.jsx(re,{className:"max-w-2xl mx-auto mb-6 border-red-200 bg-red-50",children:o.jsx(se,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Q5,{className:"w-5 h-5 text-red-600"}),o.jsx("p",{className:"text-red-800",children:v})]})})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-md mx-auto mb-6",children:[o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-3",children:[o.jsx("div",{className:"text-lg font-bold text-primary",children:e.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Challenges"})]})}),o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-3",children:[o.jsx("div",{className:"text-lg font-bold text-green-600",children:e.reduce((I,T)=>{var j;return I+(((j=T.solvedBy)==null?void 0:j.length)||0)},0)}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Solves"})]})}),o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-3",children:[o.jsx("div",{className:"text-lg font-bold text-blue-600",children:r.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Categories"})]})})]}),o.jsx(re,{className:"max-w-4xl mx-auto mb-6 border bg-gradient-to-r from-primary/5 to-primary/10",children:o.jsx(se,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rs,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-bold text-sm",children:"Ready for Live Competition?"}),o.jsx("p",{className:"text-muted-foreground text-xs",children:"Test your skills in real-time events!"})]})]}),o.jsxs(K,{variant:"terminal",onClick:k,size:"sm",children:[o.jsx(Rs,{className:"w-3 h-3 mr-1"}),"Live Events"]})]})})})]}),o.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(sa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(he,{placeholder:"Search challenges...",value:d,onChange:I=>h(I.target.value),className:"pl-10 h-10 text-sm border"})]})}),!f&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Categories"}),o.jsxs(K,{variant:"outline",onClick:y,size:"sm",children:[o.jsx(pp,{className:"w-3 h-3 mr-1"}),"Refresh"]})]}),r.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(I=>o.jsx(re,{className:"border hover:border-primary/50 hover:shadow-md transition-all cursor-pointer group",onClick:()=>p(I.name),children:o.jsxs(se,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:`text-xl bg-gradient-to-r ${I.color} rounded-lg p-2`,children:I.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-base group-hover:text-primary transition-colors truncate",children:I.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.count," challenge",I.count!==1?"s":""]})]}),o.jsx(H_,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors flex-shrink-0"})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:I.description})]})},I.name))}):o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-8",children:[o.jsx(J5,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"No Categories Available"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"No practice challenges available. Check back later!"})]})})]}),f&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(K,{variant:"outline",onClick:()=>p(null),className:"flex items-center gap-1",size:"sm",children:[o.jsx(H_,{className:"w-3 h-3 rotate-180"}),"Back"]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:f}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:[i.length," challenge",i.length!==1?"s":""]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(K,{variant:"outline",onClick:x,size:"sm",children:"Clear"}),o.jsxs(K,{variant:"outline",onClick:y,size:"sm",children:[o.jsx(pp,{className:"w-3 h-3 mr-1"}),"Refresh"]})]})]}),i.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:i.map(I=>{var T,j,D,P;return o.jsx(re,{className:"border hover:border-primary/50 hover:shadow-md transition-all cursor-pointer group",onClick:()=>L(I.id),children:o.jsxs(se,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-sm group-hover:text-primary transition-colors line-clamp-2 flex-1 mr-2",children:I.title}),o.jsx(Ue,{className:`${S(I.difficulty)} text-xs`,children:A(I.difficulty)})]}),o.jsx("p",{className:"text-muted-foreground text-xs mb-3 line-clamp-2",children:I.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nn,{className:"w-3 h-3"}),o.jsx("span",{children:((T=I.solvedBy)==null?void 0:T.length)||0})]}),o.jsxs(Ue,{variant:"outline",className:"font-mono font-bold text-xs",children:[I.totalPoints||I.points," pts"]})]}),I.createdAt&&o.jsx("div",{className:"text-muted-foreground text-xs",children:((P=(D=(j=I.createdAt)==null?void 0:j.toDate)==null?void 0:D.call(j))==null?void 0:P.toLocaleDateString())||new Date(I.createdAt).toLocaleDateString()})]})]})},I.id)})}):o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-8",children:[o.jsx(sa,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"No Challenges Found"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:d?`No challenges match "${d}" in ${f}`:`No challenges available in ${f}`}),o.jsx(K,{variant:"outline",onClick:x,size:"sm",children:"Clear Search"})]})})]}),e.length===0&&!l&&!f&&o.jsx(re,{className:"text-center border",children:o.jsxs(se,{className:"p-8",children:[o.jsx(Ye,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"No Practice Challenges Available"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Check back later for new practice challenges."}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsxs(K,{variant:"terminal",onClick:y,size:"sm",children:[o.jsx(pp,{className:"w-3 h-3 mr-1"}),"Refresh"]}),o.jsxs(K,{variant:"outline",onClick:k,size:"sm",children:[o.jsx(Rs,{className:"w-3 h-3 mr-1"}),"Live Events"]})]})]})})]})}),o.jsx(gt,{})]})},Z_="/ZedCTF",SU=()=>{const{user:t}=$n(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),l=async()=>{try{const p=zr(kt(ye,"events"),Tr("status","in",["LIVE","STARTING_SOON"]),qs("startTime","asc")),v=zr(kt(ye,"events"),Tr("status","==","UPCOMING"),qs("startTime","asc")),[C,_]=await Promise.all([Zn(p),Zn(v)]),N=C.docs.map(b=>({id:b.id,...b.data()})),E=_.docs.map(b=>{var S;return{id:b.id,...b.data(),registered:t&&((S=b.data().registeredUsers)==null?void 0:S.includes(t.uid))||!1}});n(N),s(E)}catch(p){console.error("Error fetching events:",p),n([]),s([])}finally{a(!1)}},c=async p=>{var v;if(!t){alert("Please log in to register for events");return}try{const C=nt(ye,"events",p);await Rn(C,{registeredUsers:DF(t.uid),participants:(((v=r.find(_=>_.id===p))==null?void 0:v.participants)||0)+1}),l()}catch(C){console.error("Failed to register for event:",C),alert("Failed to register for event. Please try again.")}},d=async p=>{var v;if(!t){alert("Please log in to join events");return}try{const C=nt(ye,"events",p);await Rn(C,{participants:(((v=e.find(_=>_.id===p))==null?void 0:v.participants)||0)+1}),window.location.href=`${Z_}/competition/${p}`}catch(C){console.error("Failed to join live event:",C),alert("Failed to join event. Please try again.")}},h=()=>{window.location.href=`${Z_}/practice`};if(g.useEffect(()=>{l();const p=setInterval(l,1e4);return()=>clearInterval(p)},[t]),i)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading events..."})]})}),o.jsx(gt,{})]});const f=e[0];return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx(Rs,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[o.jsx("span",{className:"text-primary",children:"LIVE"})," Events"]}),o.jsx("p",{className:"text-muted-foreground",children:"Compete in real-time for prizes"})]}),f?o.jsxs(re,{className:"max-w-4xl mx-auto border-primary/50 bg-gradient-to-br from-primary/5 to-transparent mb-8 animate-glow",children:[o.jsx(Te,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ne,{className:"text-2xl flex items-center gap-2",children:[o.jsxs("span",{className:"relative flex h-3 w-3",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),f.title]}),o.jsx(Ue,{className:"bg-primary text-primary-foreground font-bold px-4 py-1",children:f.status==="LIVE"?"LIVE NOW":"STARTING SOON"})]})}),o.jsxs(se,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(ba,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold font-mono",children:f.timeLeft}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Time Left"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(nn,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.participants}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Players"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Qn,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.prize}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Prize Pool"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Rs,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.difficulty}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Difficulty"})]})]}),o.jsxs(K,{variant:"neon",size:"lg",className:"w-full",onClick:()=>d(f.id),children:[o.jsx(Rs,{className:"w-5 h-5"}),f.status==="LIVE"?"Join Event Now":"Prepare for Event"]})]})]}):o.jsx(re,{className:"max-w-4xl mx-auto border-border mb-8",children:o.jsxs(se,{className:"p-12 text-center",children:[o.jsx(Rs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Live Events"}),o.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming competitions"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[o.jsx(Ye,{className:"w-12 h-12 text-primary mx-auto mb-3"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Want to Practice?"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Sharpen your skills with our practice challenges while you wait for the next live event."}),o.jsxs(K,{variant:"terminal",onClick:h,children:[o.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Explore Practice Challenges"]})]})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Upcoming Events"}),r.length===0?o.jsx(re,{className:"border-border",children:o.jsxs(se,{className:"p-8 text-center",children:[o.jsx(ta,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled"})]})}):o.jsx("div",{className:"space-y-4",children:r.map(p=>o.jsx(re,{className:"border-border hover:border-primary/30 transition-all",children:o.jsx(se,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("h4",{className:"font-bold text-xl",children:p.title}),o.jsx(Ue,{variant:"outline",className:"border-primary/30 text-primary",children:p.difficulty})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ta,{className:"w-4 h-4"}),p.date]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),p.participants," registered",p.maxParticipants&&` / ${p.maxParticipants} max`]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qn,{className:"w-4 h-4"}),"Prize: ",p.prize]})]}),p.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:p.description})]}),o.jsx(K,{variant:p.registered?"outline":"terminal",className:"md:ml-4",onClick:()=>!p.registered&&c(p.id),disabled:p.registered,children:p.registered?"Registered ":"Register"})]})})},p.id))})]}),o.jsx("div",{className:"max-w-4xl mx-auto mt-16",children:o.jsx(re,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:o.jsxs(se,{className:"p-8 text-center",children:[o.jsx(Ye,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to Practice?"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Access our extensive library of practice challenges covering web security, cryptography, forensics, and more. Perfect for beginners and experts alike."}),o.jsxs(K,{variant:"terminal",size:"lg",onClick:h,children:[o.jsx(Ye,{className:"w-5 h-5 mr-2"}),"Explore Practice Challenges"]})]})})})]})}),o.jsx(gt,{})]})};function CU(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a);l.displayName=i+"Context";const c=n.length;n=[...n,a];const d=f=>{var E;const{scope:p,children:v,...C}=f,_=((E=p==null?void 0:p[t])==null?void 0:E[c])||l,N=g.useMemo(()=>C,Object.values(C));return o.jsx(_.Provider,{value:N,children:v})};d.displayName=i+"Provider";function h(f,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,C=g.useContext(v);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,IU(s,...e)]}function IU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Zr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var bt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},jU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wv=jU.reduce((t,e)=>{const n=yv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),AC={exports:{}},kC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=g;function AU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kU=typeof Object.is=="function"?Object.is:AU,RU=ia.useState,PU=ia.useEffect,DU=ia.useLayoutEffect,LU=ia.useDebugValue;function OU(t,e){var n=e(),r=RU({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return DU(function(){s.value=n,s.getSnapshot=e,gp(s)&&i({inst:s})},[t,n,e]),PU(function(){return gp(s)&&i({inst:s}),t(function(){gp(s)&&i({inst:s})})},[t]),LU(n),n}function gp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kU(t,n)}catch{return!0}}function MU(t,e){return e()}var VU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MU:OU;kC.useSyncExternalStore=ia.useSyncExternalStore!==void 0?ia.useSyncExternalStore:VU;AC.exports=kC;var FU=AC.exports;function UU(){return FU.useSyncExternalStore(BU,()=>!0,()=>!1)}function BU(){return()=>{}}var _v="Avatar",[$U]=CU(_v),[zU,RC]=$U(_v),PC=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return o.jsx(zU,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(wv.span,{...r,ref:e})})});PC.displayName=_v;var DC="AvatarImage",LC=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=RC(DC,n),l=HU(r,i),c=Zr(d=>{s(d),a.onImageLoadingStatusChange(d)});return bt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(wv.img,{...i,ref:e,src:r}):null});LC.displayName=DC;var OC="AvatarFallback",MC=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=RC(OC,n),[a,l]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(wv.span,{...s,ref:e}):null});MC.displayName=OC;function eb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function HU(t,{referrerPolicy:e,crossOrigin:n}){const r=UU(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=g.useState(()=>eb(i,t));return bt(()=>{l(eb(i,t))},[i,t]),bt(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),a}var VC=PC,FC=LC,UC=MC;const BC=g.forwardRef(({className:t,...e},n)=>o.jsx(VC,{ref:n,className:Pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));BC.displayName=VC.displayName;const WU=g.forwardRef(({className:t,...e},n)=>o.jsx(FC,{ref:n,className:Pe("aspect-square h-full w-full",t),...e}));WU.displayName=FC.displayName;const $C=g.forwardRef(({className:t,...e},n)=>o.jsx(UC,{ref:n,className:Pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$C.displayName=UC.displayName;const qU=({eventName:t="CTF Competition"})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),l=async()=>{try{const c="/api/ctf/leaderboard",d="/api/platform/top-users",[h,f]=await Promise.all([fetch(c,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(d)]);if(h.ok){const p=await h.json();n(p)}else n([]);if(f.ok){const p=await f.json();s(p)}else s([])}catch{n([]),s([])}finally{a(!1)}};return g.useEffect(()=>{l();const c=setInterval(l,5e3);return()=>clearInterval(c)},[]),i?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"leaderboard",className:"pt-24 pb-16 bg-muted/20 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading leaderboard data..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"ctf-leaderboard",className:"pt-24 pb-16 bg-background min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(Qn,{className:"w-12 h-12 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t," - ",o.jsx("span",{className:"text-primary",children:"Live Scoreboard"})]})]}),o.jsxs(re,{className:"max-w-6xl mx-auto border-border",children:[o.jsx(Te,{className:"bg-muted/30",children:o.jsxs(Ne,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(X_,{className:"w-5 h-5 text-primary"}),"Live Competition Rankings"]}),o.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e.length>0?`${e.length} Teams Competing`:"No active competition"})]})}),o.jsx(se,{className:"p-0",children:e.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx(Qn,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg mb-2",children:"No scores available yet"}),o.jsx("p",{className:"text-sm",children:"Leaderboard will update when competition starts"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Team"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Captain"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Points"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Activity"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Challenge"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e.map(c=>o.jsxs("tr",{className:"hover:bg-muted/20 transition-colors duration-200",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:`text-lg font-bold ${c.rank<=3?"text-primary":"text-foreground"}`,children:c.rank})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:c.team}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground",children:c.captain}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-lg font-bold text-primary",children:c.points})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:c.lastActivity}),o.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground max-w-xs truncate",children:c.challenge})]},c.rank))})]})})})]})]})}),o.jsx("section",{id:"platform-leaderboard",className:"py-16 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx(Qn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Global ",o.jsx("span",{className:"text-primary",children:"Leaderboard"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Top performers this month"})]}),o.jsxs(re,{className:"max-w-4xl mx-auto border-border",children:[o.jsx(Te,{children:o.jsxs(Ne,{className:"flex items-center gap-2",children:[o.jsx(X_,{className:"w-5 h-5 text-primary"}),"Top Platform Hackers"]})}),o.jsx(se,{children:r.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Qn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No platform rankings available yet"})]}):o.jsx("div",{className:"space-y-3",children:r.map(c=>o.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-300 ${c.rank<=3?"bg-primary/10 border-2 border-primary/30 hover:border-primary/50":"bg-muted/30 border border-border hover:border-primary/30"}`,children:[o.jsx("div",{className:`text-2xl font-bold w-12 text-center ${c.rank<=3?"text-primary":"text-muted-foreground"}`,children:c.badge||`#${c.rank}`}),o.jsx(BC,{className:"w-12 h-12 border-2 border-primary/30",children:o.jsx($C,{className:"bg-primary/20 text-primary font-bold",children:c.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-bold text-lg",children:c.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.solved," challenges solved"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:c.points.toLocaleString()}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]},c.rank))})})]})]})}),o.jsx(gt,{})]})};function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ea(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const d=f=>{var E;const{scope:p,children:v,...C}=f,_=((E=p==null?void 0:p[t])==null?void 0:E[c])||l,N=g.useMemo(()=>C,Object.values(C));return o.jsx(_.Provider,{value:N,children:v})};d.displayName=i+"Provider";function h(f,p){var _;const v=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,C=g.useContext(v);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,GU(s,...e)]}function GU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function tb(t){const e=KU(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(YU);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function KU(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=JU(s),l=XU(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Sc(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QU=Symbol("radix.slottable");function YU(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QU}function XU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function JU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zC(t){const e=t+"CollectionProvider",[n,r]=Ea(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:N,children:E}=_,b=ys.useRef(null),S=ys.useRef(new Map).current;return o.jsx(s,{scope:N,itemMap:S,collectionRef:b,children:E})};a.displayName=e;const l=t+"CollectionSlot",c=tb(l),d=ys.forwardRef((_,N)=>{const{scope:E,children:b}=_,S=i(l,E),A=ut(N,S.collectionRef);return o.jsx(c,{ref:A,children:b})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=tb(h),v=ys.forwardRef((_,N)=>{const{scope:E,children:b,...S}=_,A=ys.useRef(null),L=ut(N,A),k=i(h,E);return ys.useEffect(()=>(k.itemMap.set(A,{ref:A,...S}),()=>void k.itemMap.delete(A))),o.jsx(p,{[f]:"",ref:L,children:b})});v.displayName=h;function C(_){const N=i(t+"CollectionConsumer",_);return ys.useCallback(()=>{const b=N.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(N.itemMap.values()).sort((k,y)=>S.indexOf(k.ref.current)-S.indexOf(y.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},C,r]}var ZU=Jd[" useId ".trim().toString()]||(()=>{}),e9=0;function Cc(t){const[e,n]=g.useState(ZU());return bt(()=>{n(r=>r??String(e9++))},[t]),e?`radix-${e}`:""}function t9(t){const e=n9(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(s9);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function n9(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=o9(s),l=i9(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Sc(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var r9=Symbol("radix.slottable");function s9(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===r9}function i9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function o9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var a9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=a9.reduce((t,e)=>{const n=t9(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function l9(t,e){t&&ua.flushSync(()=>t.dispatchEvent(e))}var c9=Jd[" useInsertionEffect ".trim().toString()]||bt;function oc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=u9({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=g.useCallback(h=>{var f;if(l){const p=d9(h)?h(t):h;p!==t&&((f=a.current)==null||f.call(a,p))}else i(h)},[l,t,i,a]);return[c,d]}function u9({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return c9(()=>{i.current=e},[e]),g.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function d9(t){return typeof t=="function"}var h9=g.createContext(void 0);function bv(t){const e=g.useContext(h9);return t||e||"ltr"}var yp="rovingFocusGroup.onEntryFocus",f9={bubbles:!1,cancelable:!0},Ic="RovingFocusGroup",[Zm,HC,p9]=zC(Ic),[m9,WC]=Ea(Ic,[p9]),[g9,y9]=m9(Ic),qC=g.forwardRef((t,e)=>o.jsx(Zm.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Zm.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(v9,{...t,ref:e})})}));qC.displayName=Ic;var v9=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),v=ut(e,p),C=bv(i),[_,N]=oc({prop:a,defaultProp:l??null,onChange:c,caller:Ic}),[E,b]=g.useState(!1),S=Zr(d),A=HC(n),L=g.useRef(!1),[k,y]=g.useState(0);return g.useEffect(()=>{const x=p.current;if(x)return x.addEventListener(yp,S),()=>x.removeEventListener(yp,S)},[S]),o.jsx(g9,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:_,onItemFocus:g.useCallback(x=>N(x),[N]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>y(x=>x+1),[]),onFocusableItemRemove:g.useCallback(()=>y(x=>x-1),[]),children:o.jsx(Le.div,{tabIndex:E||k===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{L.current=!0}),onFocus:Re(t.onFocus,x=>{const I=!L.current;if(x.target===x.currentTarget&&I&&!E){const T=new CustomEvent(yp,f9);if(x.currentTarget.dispatchEvent(T),!T.defaultPrevented){const j=A().filter(Y=>Y.focusable),D=j.find(Y=>Y.active),P=j.find(Y=>Y.id===_),oe=[D,P,...j].filter(Boolean).map(Y=>Y.ref.current);QC(oe,h)}}L.current=!1}),onBlur:Re(t.onBlur,()=>b(!1))})})}),GC="RovingFocusGroupItem",KC=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Cc(),d=i||c,h=y9(GC,n),f=h.currentTabStopId===d,p=HC(n),{onFocusableItemAdd:v,onFocusableItemRemove:C,currentTabStopId:_}=h;return g.useEffect(()=>{if(r)return v(),()=>C()},[r,v,C]),o.jsx(Zm.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:o.jsx(Le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Re(t.onMouseDown,N=>{r?h.onItemFocus(d):N.preventDefault()}),onFocus:Re(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Re(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=_9(N,h.orientation,h.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let S=p().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")S.reverse();else if(E==="prev"||E==="next"){E==="prev"&&S.reverse();const A=S.indexOf(N.currentTarget);S=h.loop?b9(S,A+1):S.slice(A+1)}setTimeout(()=>QC(S))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:_!=null}):a})})});KC.displayName=GC;var x9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _9(t,e,n){const r=w9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x9[r]}function QC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var E9=qC,T9=KC;function N9(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var YC=t=>{const{present:e,children:n}=t,r=S9(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ut(r.ref,C9(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};YC.displayName="Presence";function S9(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=N9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=gu(r.current);i.current=l==="mounted"?d:"none"},[l]),bt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=gu(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),bt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const _=gu(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&_&&(c("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},p=v=>{v.target===e&&(i.current=gu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function gu(t){return(t==null?void 0:t.animationName)||"none"}function C9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kh="Tabs",[I9]=Ea(Kh,[WC]),XC=WC(),[j9,Ev]=I9(Kh),JC=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=bv(l),[f,p]=oc({prop:r,onChange:s,defaultProp:i??"",caller:Kh});return o.jsx(j9,{scope:n,baseId:Cc(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:c,children:o.jsx(Le.div,{dir:h,"data-orientation":a,...d,ref:e})})});JC.displayName=Kh;var ZC="TabsList",eI=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Ev(ZC,n),a=XC(n);return o.jsx(E9,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});eI.displayName=ZC;var tI="TabsTrigger",nI=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Ev(tI,n),l=XC(n),c=iI(a.baseId,r),d=oI(a.baseId,r),h=r===a.value;return o.jsx(T9,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});nI.displayName=tI;var rI="TabsContent",sI=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Ev(rI,n),c=iI(l.baseId,r),d=oI(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(YC,{present:s||h,children:({present:p})=>o.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});sI.displayName=rI;function iI(t,e){return`${t}-trigger-${e}`}function oI(t,e){return`${t}-content-${e}`}var A9=JC,aI=eI,lI=nI,cI=sI;const uI=A9,Tv=g.forwardRef(({className:t,...e},n)=>o.jsx(aI,{ref:n,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Tv.displayName=aI.displayName;const dr=g.forwardRef(({className:t,...e},n)=>o.jsx(lI,{ref:n,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));dr.displayName=lI.displayName;const Il=g.forwardRef(({className:t,...e},n)=>o.jsx(cI,{ref:n,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Il.displayName=cI.displayName;const k9=Gh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nv=g.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Pe(k9({variant:e}),t),...n}));Nv.displayName="Alert";const R9=g.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...e}));R9.displayName="AlertTitle";const Sv=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("text-sm [&_p]:leading-relaxed",t),...e}));Sv.displayName="AlertDescription";const P9=({onBack:t})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState(!0),[d,h]=g.useState(""),[f,p]=g.useState("all"),[v,C]=g.useState(null);g.useEffect(()=>{_()},[]),g.useEffect(()=>{N()},[d,e,f]);const _=async()=>{try{const x=(await Zn(kt(ye,"users"))).docs.map(T=>({id:T.id,...T.data()}));n(x);const I=x.filter(T=>T.requestedHostRole===!0);a(I)}catch(y){console.error("Error fetching users:",y),C({type:"error",text:"Failed to load users"})}finally{c(!1)}},N=()=>{let y=[...e];f==="admins"?y=y.filter(x=>x.role==="admin"):f==="moderators"?y=y.filter(x=>x.role==="moderator"):f==="pending"?y=y.filter(x=>x.requestedHostRole===!0):f==="active"?y=y.filter(x=>x.isActive!==!1):f==="suspended"&&(y=y.filter(x=>x.isActive===!1)),d&&(y=y.filter(x=>{var I,T,j;return((I=x.displayName)==null?void 0:I.toLowerCase().includes(d.toLowerCase()))||((T=x.email)==null?void 0:T.toLowerCase().includes(d.toLowerCase()))||((j=x.role)==null?void 0:j.toLowerCase().includes(d.toLowerCase()))})),s(y)},E=async(y,x)=>{try{const I={role:x};(x==="admin"||x==="moderator")&&(I.requestedHostRole=!1,I.hostRequestReason=null),await Rn(nt(ye,"users",y),I),n(e.map(T=>T.id===y?{...T,...I}:T)),C({type:"success",text:`User role updated to ${x}`}),setTimeout(()=>C(null),3e3)}catch(I){console.error("Error updating user role:",I),C({type:"error",text:"Failed to update user role"})}},b=async(y,x)=>{try{const I={requestedHostRole:!1,hostRequestReason:null};x&&(I.role="moderator"),await Rn(nt(ye,"users",y),I),n(e.map(j=>j.id===y?{...j,...I}:j)),C({type:"success",text:`Host request ${x?"approved":"rejected"}`}),setTimeout(()=>C(null),3e3)}catch(I){console.error("Error handling host request:",I),C({type:"error",text:"Failed to process host request"})}},S=async(y,x)=>{try{await Rn(nt(ye,"users",y),{isActive:!x}),n(e.map(T=>T.id===y?{...T,isActive:!x}:T)),C({type:"success",text:`User ${x?"suspended":"activated"}`}),setTimeout(()=>C(null),3e3)}catch(I){console.error("Error updating user status:",I),C({type:"error",text:"Failed to update user status"})}},A=y=>{switch(y){case"admin":return"destructive";case"moderator":return"default";default:return"secondary"}},L=y=>y.requestedHostRole?"default":y.isActive===!1?"secondary":"default",k=y=>y.requestedHostRole?"Pending Host":y.isActive===!1?"Suspended":"Active";return l?o.jsx(re,{children:o.jsx(se,{className:"pt-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading users..."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(K,{variant:"ghost",onClick:t,className:"mb-2 -ml-3",children:" Back to Admin"}),o.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage user roles, permissions, and host requests"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:e.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]}),v&&o.jsxs(Nv,{className:v.type==="success"?"bg-green-500/10 border-green-200":"bg-red-500/10 border-red-200",children:[v.type==="success"?o.jsx(Ur,{className:"w-4 h-4 text-green-600"}):o.jsx(na,{className:"w-4 h-4 text-red-600"}),o.jsx(Sv,{className:v.type==="success"?"text-green-600":"text-red-600",children:v.text})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(re,{children:o.jsxs(se,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:e.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})}),o.jsx(re,{children:o.jsxs(se,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(y=>y.role==="admin").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Admins"})]})}),o.jsx(re,{children:o.jsxs(se,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(y=>y.role==="moderator").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Moderators"})]})}),o.jsx(re,{children:o.jsxs(se,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending Hosts"})]})}),o.jsx(re,{children:o.jsxs(se,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(y=>y.isActive===!1).length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Suspended"})]})})]}),o.jsxs(uI,{value:f,onValueChange:p,className:"w-full",children:[o.jsxs(Tv,{className:"grid w-full grid-cols-6",children:[o.jsx(dr,{value:"all",className:"text-xs",children:"All Users"}),o.jsx(dr,{value:"admins",className:"text-xs",children:"Admins"}),o.jsx(dr,{value:"moderators",className:"text-xs",children:"Moderators"}),o.jsxs(dr,{value:"pending",className:"text-xs",children:["Pending Hosts ",i.length>0&&`(${i.length})`]}),o.jsx(dr,{value:"active",className:"text-xs",children:"Active"}),o.jsx(dr,{value:"suspended",className:"text-xs",children:"Suspended"})]}),o.jsx(Il,{value:f,className:"mt-6",children:o.jsxs(re,{children:[o.jsx(Te,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Ne,{children:[f==="all"&&"All Users",f==="admins"&&"Administrators",f==="moderators"&&"Moderators",f==="pending"&&"Pending Host Requests",f==="active"&&"Active Users",f==="suspended"&&"Suspended Users"]}),o.jsxs(Ht,{children:[r.length," user",r.length!==1?"s":""," found"]})]}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(sa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(he,{placeholder:"Search users...",value:d,onChange:y=>h(y.target.value),className:"pl-10"})]})]})}),o.jsx(se,{children:o.jsxs("div",{className:"space-y-4",children:[r.map(y=>{var x,I;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:y.role==="admin"?o.jsx(q_,{className:"w-5 h-5 text-primary"}):o.jsx("span",{className:"font-medium text-sm",children:((x=y.displayName)==null?void 0:x.charAt(0).toUpperCase())||((I=y.email)==null?void 0:I.charAt(0).toUpperCase())})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium truncate",children:y.displayName||"No Name"}),y.role==="admin"&&o.jsx(q_,{className:"w-4 h-4 text-yellow-600"})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:y.email}),y.requestedHostRole&&y.hostRequestReason&&o.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs",children:[o.jsx("strong",{children:"Host Request:"})," ",y.hostRequestReason]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[o.jsx(Ue,{variant:A(y.role),children:y.role}),o.jsx(Ue,{variant:L(y),children:k(y)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[o.jsxs("select",{value:y.role,onChange:T=>E(y.id,T.target.value),className:"p-2 border rounded text-sm",children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"moderator",children:"Moderator"}),o.jsx("option",{value:"admin",children:"Admin"})]}),y.requestedHostRole&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx(K,{variant:"outline",size:"sm",onClick:()=>b(y.id,!0),className:"text-green-600 border-green-200 hover:bg-green-50",children:o.jsx(Ur,{className:"w-4 h-4"})}),o.jsx(K,{variant:"outline",size:"sm",onClick:()=>b(y.id,!1),className:"text-red-600 border-red-200 hover:bg-red-50",children:o.jsx(na,{className:"w-4 h-4"})})]}),!y.requestedHostRole&&o.jsx(K,{variant:"outline",size:"sm",onClick:()=>S(y.id,y.isActive||!0),className:y.isActive===!1?"text-green-600":"text-red-600",children:y.isActive===!1?"Activate":"Suspend"})]})]},y.id)}),r.length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(nn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No users found matching your criteria."})]})]})})]})})]})]})},Ta=g.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ta.displayName="Textarea";var D9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L9=D9.reduce((t,e)=>{const n=yv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),O9="Label",dI=g.forwardRef((t,e)=>o.jsx(L9.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dI.displayName=O9;var hI=dI;const M9=Gh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=g.forwardRef(({className:t,...e},n)=>o.jsx(hI,{ref:n,className:Pe(M9(),t),...e}));q.displayName=hI.displayName;function nb(t,[e,n]){return Math.min(n,Math.max(e,t))}function V9(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var F9="DismissableLayer",eg="dismissableLayer.update",U9="dismissableLayer.pointerDownOutside",B9="dismissableLayer.focusOutside",rb,fI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pI=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,d=g.useContext(fI),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),C=ut(e,y=>f(y)),_=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(N),b=h?_.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,A=b>=E,L=H9(y=>{const x=y.target,I=[...d.branches].some(T=>T.contains(x));!A||I||(s==null||s(y),a==null||a(y),y.defaultPrevented||l==null||l())},p),k=W9(y=>{const x=y.target;[...d.branches].some(T=>T.contains(x))||(i==null||i(y),a==null||a(y),y.defaultPrevented||l==null||l())},p);return V9(y=>{b===d.layers.size-1&&(r==null||r(y),!y.defaultPrevented&&l&&(y.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rb=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),sb(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=rb)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),sb())},[h,d]),g.useEffect(()=>{const y=()=>v({});return document.addEventListener(eg,y),()=>document.removeEventListener(eg,y)},[]),o.jsx(Le.div,{...c,ref:C,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,L.onPointerDownCapture)})});pI.displayName=F9;var $9="DismissableLayerBranch",z9=g.forwardRef((t,e)=>{const n=g.useContext(fI),r=g.useRef(null),s=ut(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Le.div,{...t,ref:s})});z9.displayName=$9;function H9(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mI(U9,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W9(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&mI(B9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sb(){const t=new CustomEvent(eg);document.dispatchEvent(t)}function mI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?l9(s,i):s.dispatchEvent(i)}var vp=0;function q9(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ib()),document.body.insertAdjacentElement("beforeend",t[1]??ib()),vp++,()=>{vp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vp--}},[])}function ib(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xp="focusScope.autoFocusOnMount",wp="focusScope.autoFocusOnUnmount",ob={bubbles:!1,cancelable:!0},G9="FocusScope",gI=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=g.useState(null),d=Zr(s),h=Zr(i),f=g.useRef(null),p=ut(e,_=>c(_)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(S){if(v.paused||!l)return;const A=S.target;l.contains(A)?f.current=A:vs(f.current,{select:!0})},N=function(S){if(v.paused||!l)return;const A=S.relatedTarget;A!==null&&(l.contains(A)||vs(f.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const L of S)L.removedNodes.length>0&&vs(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const b=new MutationObserver(E);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),b.disconnect()}}},[r,l,v.paused]),g.useEffect(()=>{if(l){lb.add(v);const _=document.activeElement;if(!l.contains(_)){const E=new CustomEvent(xp,ob);l.addEventListener(xp,d),l.dispatchEvent(E),E.defaultPrevented||(K9(Z9(yI(l)),{select:!0}),document.activeElement===_&&vs(l))}return()=>{l.removeEventListener(xp,d),setTimeout(()=>{const E=new CustomEvent(wp,ob);l.addEventListener(wp,h),l.dispatchEvent(E),E.defaultPrevented||vs(_??document.body,{select:!0}),l.removeEventListener(wp,h),lb.remove(v)},0)}}},[l,d,h,v]);const C=g.useCallback(_=>{if(!n&&!r||v.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(N&&E){const b=_.currentTarget,[S,A]=Q9(b);S&&A?!_.shiftKey&&E===A?(_.preventDefault(),n&&vs(S,{select:!0})):_.shiftKey&&E===S&&(_.preventDefault(),n&&vs(A,{select:!0})):E===b&&_.preventDefault()}},[n,r,v.paused]);return o.jsx(Le.div,{tabIndex:-1,...a,ref:p,onKeyDown:C})});gI.displayName=G9;function K9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vs(r,{select:e}),document.activeElement!==n)return}function Q9(t){const e=yI(t),n=ab(e,t),r=ab(e.reverse(),t);return[n,r]}function yI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ab(t,e){for(const n of t)if(!Y9(n,{upTo:e}))return n}function Y9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X9(t){return t instanceof HTMLInputElement&&"select"in t}function vs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X9(t)&&e&&t.select()}}var lb=J9();function J9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cb(t,e),t.unshift(e)},remove(e){var n;t=cb(t,e),(n=t[0])==null||n.resume()}}}function cb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Z9(t){return t.filter(e=>e.tagName!=="A")}const e8=["top","right","bottom","left"],ni=Math.min,xn=Math.max,qd=Math.round,yu=Math.floor,Nr=t=>({x:t,y:t}),t8={left:"right",right:"left",bottom:"top",top:"bottom"},n8={start:"end",end:"start"};function tg(t,e,n){return xn(t,ni(e,n))}function es(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function Na(t){return t.split("-")[1]}function Cv(t){return t==="x"?"y":"x"}function Iv(t){return t==="y"?"height":"width"}const r8=new Set(["top","bottom"]);function mr(t){return r8.has(ts(t))?"y":"x"}function jv(t){return Cv(mr(t))}function s8(t,e,n){n===void 0&&(n=!1);const r=Na(t),s=jv(t),i=Iv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Gd(a)),[a,Gd(a)]}function i8(t){const e=Gd(t);return[ng(t),e,ng(e)]}function ng(t){return t.replace(/start|end/g,e=>n8[e])}const ub=["left","right"],db=["right","left"],o8=["top","bottom"],a8=["bottom","top"];function l8(t,e,n){switch(t){case"top":case"bottom":return n?e?db:ub:e?ub:db;case"left":case"right":return e?o8:a8;default:return[]}}function c8(t,e,n,r){const s=Na(t);let i=l8(ts(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(ng)))),i}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>t8[e])}function u8(t){return{top:0,right:0,bottom:0,left:0,...t}}function vI(t){return typeof t!="number"?u8(t):{top:t,right:t,bottom:t,left:t}}function Kd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hb(t,e,n){let{reference:r,floating:s}=t;const i=mr(e),a=jv(e),l=Iv(a),c=ts(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Na(e)){case"start":v[a]-=p*(n&&d?-1:1);break;case"end":v[a]+=p*(n&&d?-1:1);break}return v}const d8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=hb(d,r,c),p=r,v={},C=0;for(let _=0;_<l.length;_++){const{name:N,fn:E}=l[_],{x:b,y:S,data:A,reset:L}=await E({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=b??h,f=S??f,v={...v,[N]:{...v[N],...A}},L&&C<=50&&(C++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(d=L.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:h,y:f}=hb(d,p,c)),_=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function ac(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=es(e,t),C=vI(v),N=l[p?f==="floating"?"reference":"floating":f],E=Kd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),b=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},L=Kd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:S,strategy:c}):b);return{top:(E.top-L.top+C.top)/A.y,bottom:(L.bottom-E.bottom+C.bottom)/A.y,left:(E.left-L.left+C.left)/A.x,right:(L.right-E.right+C.right)/A.x}}const h8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=es(t,e)||{};if(d==null)return{};const f=vI(h),p={x:n,y:r},v=jv(s),C=Iv(v),_=await a.getDimensions(d),N=v==="y",E=N?"top":"left",b=N?"bottom":"right",S=N?"clientHeight":"clientWidth",A=i.reference[C]+i.reference[v]-p[v]-i.floating[C],L=p[v]-i.reference[v],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let y=k?k[S]:0;(!y||!await(a.isElement==null?void 0:a.isElement(k)))&&(y=l.floating[S]||i.floating[C]);const x=A/2-L/2,I=y/2-_[C]/2-1,T=ni(f[E],I),j=ni(f[b],I),D=T,P=y-_[C]-j,H=y/2-_[C]/2+x,oe=tg(D,H,P),Y=!c.arrow&&Na(s)!=null&&H!==oe&&i.reference[C]/2-(H<D?T:j)-_[C]/2<0,ce=Y?H<D?H-D:H-P:0;return{[v]:p[v]+ce,data:{[v]:oe,centerOffset:H-oe-ce,...Y&&{alignmentOffset:ce}},reset:Y}}}),f8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...N}=es(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=ts(s),b=mr(l),S=ts(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),L=p||(S||!_?[Gd(l)]:i8(l)),k=C!=="none";!p&&k&&L.push(...c8(l,_,C,A));const y=[l,...L],x=await ac(e,N),I=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(x[E]),f){const H=s8(s,a,A);I.push(x[H[0]],x[H[1]])}if(T=[...T,{placement:s,overflows:I}],!I.every(H=>H<=0)){var j,D;const H=(((j=i.flip)==null?void 0:j.index)||0)+1,oe=y[H];if(oe&&(!(f==="alignment"?b!==mr(oe):!1)||T.every(M=>mr(M.placement)===b?M.overflows[0]>0:!0)))return{data:{index:H,overflows:T},reset:{placement:oe}};let Y=(D=T.filter(ce=>ce.overflows[0]<=0).sort((ce,M)=>ce.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(v){case"bestFit":{var P;const ce=(P=T.filter(M=>{if(k){const W=mr(M.placement);return W===b||W==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(W=>W>0).reduce((W,te)=>W+te,0)]).sort((M,W)=>M[1]-W[1])[0])==null?void 0:P[0];ce&&(Y=ce);break}case"initialPlacement":Y=l;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function fb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pb(t){return e8.some(e=>t[e]>=0)}const p8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=es(t,e);switch(r){case"referenceHidden":{const i=await ac(e,{...s,elementContext:"reference"}),a=fb(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:pb(a)}}}case"escaped":{const i=await ac(e,{...s,altBoundary:!0}),a=fb(i,n.floating);return{data:{escapedOffsets:a,escaped:pb(a)}}}default:return{}}}}},xI=new Set(["left","top"]);async function m8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ts(n),l=Na(n),c=mr(n)==="y",d=xI.has(a)?-1:1,h=i&&c?-1:1,f=es(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof C=="number"&&(v=l==="end"?C*-1:C),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const g8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await m8(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},y8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:N=>{let{x:E,y:b}=N;return{x:E,y:b}}},...c}=es(t,e),d={x:n,y:r},h=await ac(e,c),f=mr(ts(s)),p=Cv(f);let v=d[p],C=d[f];if(i){const N=p==="y"?"top":"left",E=p==="y"?"bottom":"right",b=v+h[N],S=v-h[E];v=tg(b,v,S)}if(a){const N=f==="y"?"top":"left",E=f==="y"?"bottom":"right",b=C+h[N],S=C-h[E];C=tg(b,C,S)}const _=l.fn({...e,[p]:v,[f]:C});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[f]:a}}}}}},v8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=es(t,e),h={x:n,y:r},f=mr(s),p=Cv(f);let v=h[p],C=h[f];const _=es(l,e),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const S=p==="y"?"height":"width",A=i.reference[p]-i.floating[S]+N.mainAxis,L=i.reference[p]+i.reference[S]-N.mainAxis;v<A?v=A:v>L&&(v=L)}if(d){var E,b;const S=p==="y"?"width":"height",A=xI.has(ts(s)),L=i.reference[f]-i.floating[S]+(A&&((E=a.offset)==null?void 0:E[f])||0)+(A?0:N.crossAxis),k=i.reference[f]+i.reference[S]+(A?0:((b=a.offset)==null?void 0:b[f])||0)-(A?N.crossAxis:0);C<L?C=L:C>k&&(C=k)}return{[p]:v,[f]:C}}}},x8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...d}=es(t,e),h=await ac(e,d),f=ts(s),p=Na(s),v=mr(s)==="y",{width:C,height:_}=i.floating;let N,E;f==="top"||f==="bottom"?(N=f,E=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(E=f,N=p==="end"?"top":"bottom");const b=_-h.top-h.bottom,S=C-h.left-h.right,A=ni(_-h[N],b),L=ni(C-h[E],S),k=!e.middlewareData.shift;let y=A,x=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(y=b),k&&!p){const T=xn(h.left,0),j=xn(h.right,0),D=xn(h.top,0),P=xn(h.bottom,0);v?x=C-2*(T!==0||j!==0?T+j:xn(h.left,h.right)):y=_-2*(D!==0||P!==0?D+P:xn(h.top,h.bottom))}await c({...e,availableWidth:x,availableHeight:y});const I=await a.getDimensions(l.floating);return C!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function Sa(t){return wI(t)?(t.nodeName||"").toLowerCase():"#document"}function Nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(wI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wI(t){return Qh()?t instanceof Node||t instanceof Nn(t).Node:!1}function rr(t){return Qh()?t instanceof Element||t instanceof Nn(t).Element:!1}function Ir(t){return Qh()?t instanceof HTMLElement||t instanceof Nn(t).HTMLElement:!1}function mb(t){return!Qh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nn(t).ShadowRoot}const w8=new Set(["inline","contents"]);function jc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!w8.has(s)}const _8=new Set(["table","td","th"]);function b8(t){return _8.has(Sa(t))}const E8=[":popover-open",":modal"];function Yh(t){return E8.some(e=>{try{return t.matches(e)}catch{return!1}})}const T8=["transform","translate","scale","rotate","perspective"],N8=["transform","translate","scale","rotate","perspective","filter"],S8=["paint","layout","strict","content"];function Av(t){const e=kv(),n=rr(t)?sr(t):t;return T8.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||N8.some(r=>(n.willChange||"").includes(r))||S8.some(r=>(n.contain||"").includes(r))}function C8(t){let e=ri(t);for(;Ir(e)&&!oa(e);){if(Av(e))return e;if(Yh(e))return null;e=ri(e)}return null}function kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const I8=new Set(["html","body","#document"]);function oa(t){return I8.has(Sa(t))}function sr(t){return Nn(t).getComputedStyle(t)}function Xh(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ri(t){if(Sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mb(t)&&t.host||jr(t);return mb(e)?e.host:e}function _I(t){const e=ri(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&jc(e)?e:_I(e)}function lc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_I(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Nn(s);if(i){const l=rg(a);return e.concat(a,a.visualViewport||[],jc(s)?s:[],l&&n?lc(l):[])}return e.concat(s,lc(s,[],n))}function rg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bI(t){const e=sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=qd(n)!==i||qd(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Rv(t){return rr(t)?t:t.contextElement}function Vo(t){const e=Rv(t);if(!Ir(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=bI(e);let a=(i?qd(n.width):n.width)/r,l=(i?qd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const j8=Nr(0);function EI(t){const e=Nn(t);return!kv()||!e.visualViewport?j8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Rv(t);let a=Nr(1);e&&(r?rr(r)&&(a=Vo(r)):a=Vo(t));const l=A8(i,n,r)?EI(i):Nr(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const p=Nn(i),v=r&&rr(r)?Nn(r):r;let C=p,_=rg(C);for(;_&&r&&v!==C;){const N=Vo(_),E=_.getBoundingClientRect(),b=sr(_),S=E.left+(_.clientLeft+parseFloat(b.paddingLeft))*N.x,A=E.top+(_.clientTop+parseFloat(b.paddingTop))*N.y;c*=N.x,d*=N.y,h*=N.x,f*=N.y,c+=S,d+=A,C=Nn(_),_=rg(C)}}return Kd({width:h,height:f,x:c,y:d})}function Jh(t,e){const n=Xh(t).scrollLeft;return e?e.left+n:Ki(jr(t)).left+n}function TI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Jh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function k8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=jr(r),l=e?Yh(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Nr(1);const h=Nr(0),f=Ir(r);if((f||!f&&!i)&&((Sa(r)!=="body"||jc(a))&&(c=Xh(r)),Ir(r))){const v=Ki(r);d=Vo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=a&&!f&&!i?TI(a,c):Nr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function R8(t){return Array.from(t.getClientRects())}function P8(t){const e=jr(t),n=Xh(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Jh(t);const l=-n.scrollTop;return sr(r).direction==="rtl"&&(a+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}const gb=25;function D8(t,e){const n=Nn(t),r=jr(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const h=kv();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Jh(r);if(d<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),v=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,C=Math.abs(r.clientWidth-f.clientWidth-v);C<=gb&&(i-=C)}else d<=gb&&(i+=d);return{width:i,height:a,x:l,y:c}}const L8=new Set(["absolute","fixed"]);function O8(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ir(t)?Vo(t):Nr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function yb(t,e,n){let r;if(e==="viewport")r=D8(t,n);else if(e==="document")r=P8(jr(t));else if(rr(e))r=O8(e,n);else{const s=EI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kd(r)}function NI(t,e){const n=ri(t);return n===e||!rr(n)||oa(n)?!1:sr(n).position==="fixed"||NI(n,e)}function M8(t,e){const n=e.get(t);if(n)return n;let r=lc(t,[],!1).filter(l=>rr(l)&&Sa(l)!=="body"),s=null;const i=sr(t).position==="fixed";let a=i?ri(t):t;for(;rr(a)&&!oa(a);){const l=sr(a),c=Av(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&L8.has(s.position)||jc(a)&&!c&&NI(t,a))?r=r.filter(h=>h!==a):s=l,a=ri(a)}return e.set(t,r),r}function V8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Yh(e)?[]:M8(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,h)=>{const f=yb(e,h,s);return d.top=xn(f.top,d.top),d.right=ni(f.right,d.right),d.bottom=ni(f.bottom,d.bottom),d.left=xn(f.left,d.left),d},yb(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function F8(t){const{width:e,height:n}=bI(t);return{width:e,height:n}}function U8(t,e,n){const r=Ir(e),s=jr(e),i=n==="fixed",a=Ki(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Nr(0);function d(){c.x=Jh(s)}if(r||!r&&!i)if((Sa(e)!=="body"||jc(s))&&(l=Xh(e)),r){const v=Ki(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?TI(s,l):Nr(0),f=a.left+l.scrollLeft-c.x-h.x,p=a.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function _p(t){return sr(t).position==="static"}function vb(t,e){if(!Ir(t)||sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jr(t)===n&&(n=n.ownerDocument.body),n}function SI(t,e){const n=Nn(t);if(Yh(t))return n;if(!Ir(t)){let s=ri(t);for(;s&&!oa(s);){if(rr(s)&&!_p(s))return s;s=ri(s)}return n}let r=vb(t,e);for(;r&&b8(r)&&_p(r);)r=vb(r,e);return r&&oa(r)&&_p(r)&&!Av(r)?n:r||C8(t)||n}const B8=async function(t){const e=this.getOffsetParent||SI,n=this.getDimensions,r=await n(t.floating);return{reference:U8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $8(t){return sr(t).direction==="rtl"}const z8={convertOffsetParentRelativeRectToViewportRelativeRect:k8,getDocumentElement:jr,getClippingRect:V8,getOffsetParent:SI,getElementRects:B8,getClientRects:R8,getDimensions:F8,getScale:Vo,isElement:rr,isRTL:$8};function CI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H8(t,e){let n=null,r;const s=jr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(l||e(),!p||!v)return;const C=yu(f),_=yu(s.clientWidth-(h+p)),N=yu(s.clientHeight-(f+v)),E=yu(h),S={rootMargin:-C+"px "+-_+"px "+-N+"px "+-E+"px",threshold:xn(0,ni(1,c))||1};let A=!0;function L(k){const y=k[0].intersectionRatio;if(y!==c){if(!A)return a();y?a(!1,y):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y===1&&!CI(d,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(L,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,S)}n.observe(t)}return a(!0),i}function W8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Rv(t),h=s||i?[...d?lc(d):[],...lc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&l?H8(d,n):null;let p=-1,v=null;a&&(v=new ResizeObserver(E=>{let[b]=E;b&&b.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let C,_=c?Ki(t):null;c&&N();function N(){const E=Ki(t);_&&!CI(_,E)&&n(),_=E,C=requestAnimationFrame(N)}return n(),()=>{var E;h.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(E=v)==null||E.disconnect(),v=null,c&&cancelAnimationFrame(C)}}const q8=g8,G8=y8,K8=f8,Q8=x8,Y8=p8,xb=h8,X8=v8,J8=(t,e,n)=>{const r=new Map,s={platform:z8,...n},i={...s.platform,_c:r};return d8(t,e,{...s,platform:i})};var Z8=typeof document<"u",eB=function(){},Hu=Z8?g.useLayoutEffect:eB;function Qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function II(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wb(t,e){const n=II(t);return Math.round(e*n)/n}function bp(t){const e=g.useRef(t);return Hu(()=>{e.current=t}),e}function tB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);Qd(p,r)||v(r);const[C,_]=g.useState(null),[N,E]=g.useState(null),b=g.useCallback(M=>{M!==k.current&&(k.current=M,_(M))},[]),S=g.useCallback(M=>{M!==y.current&&(y.current=M,E(M))},[]),A=i||C,L=a||N,k=g.useRef(null),y=g.useRef(null),x=g.useRef(h),I=c!=null,T=bp(c),j=bp(s),D=bp(d),P=g.useCallback(()=>{if(!k.current||!y.current)return;const M={placement:e,strategy:n,middleware:p};j.current&&(M.platform=j.current),J8(k.current,y.current,M).then(W=>{const te={...W,isPositioned:D.current!==!1};H.current&&!Qd(x.current,te)&&(x.current=te,ua.flushSync(()=>{f(te)}))})},[p,e,n,j,D]);Hu(()=>{d===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const H=g.useRef(!1);Hu(()=>(H.current=!0,()=>{H.current=!1}),[]),Hu(()=>{if(A&&(k.current=A),L&&(y.current=L),A&&L){if(T.current)return T.current(A,L,P);P()}},[A,L,P,T,I]);const oe=g.useMemo(()=>({reference:k,floating:y,setReference:b,setFloating:S}),[b,S]),Y=g.useMemo(()=>({reference:A,floating:L}),[A,L]),ce=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!Y.floating)return M;const W=wb(Y.floating,h.x),te=wb(Y.floating,h.y);return l?{...M,transform:"translate("+W+"px, "+te+"px)",...II(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:te}},[n,l,Y.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:P,refs:oe,elements:Y,floatingStyles:ce}),[h,P,oe,Y,ce])}const nB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xb({element:r.current,padding:s}).fn(n):{}:r?xb({element:r,padding:s}).fn(n):{}}}},rB=(t,e)=>({...q8(t),options:[t,e]}),sB=(t,e)=>({...G8(t),options:[t,e]}),iB=(t,e)=>({...X8(t),options:[t,e]}),oB=(t,e)=>({...K8(t),options:[t,e]}),aB=(t,e)=>({...Q8(t),options:[t,e]}),lB=(t,e)=>({...Y8(t),options:[t,e]}),cB=(t,e)=>({...nB(t),options:[t,e]});var uB="Arrow",jI=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});jI.displayName=uB;var dB=jI;function AI(t){const[e,n]=g.useState(void 0);return bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Pv="Popper",[kI,RI]=Ea(Pv),[hB,PI]=kI(Pv),DI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return o.jsx(hB,{scope:e,anchor:r,onAnchorChange:s,children:n})};DI.displayName=Pv;var LI="PopperAnchor",OI=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=PI(LI,n),a=g.useRef(null),l=ut(e,a),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||a.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:o.jsx(Le.div,{...s,ref:l})});OI.displayName=LI;var Dv="PopperContent",[fB,pB]=kI(Dv),MI=g.forwardRef((t,e)=>{var ie,Ce,yt,Oe,ke,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:C,..._}=t,N=PI(Dv,n),[E,b]=g.useState(null),S=ut(e,Ct=>b(Ct)),[A,L]=g.useState(null),k=AI(A),y=(k==null?void 0:k.width)??0,x=(k==null?void 0:k.height)??0,I=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],D=j.length>0,P={padding:T,boundary:j.filter(gB),altBoundary:D},{refs:H,floatingStyles:oe,placement:Y,isPositioned:ce,middlewareData:M}=tB({strategy:"fixed",placement:I,whileElementsMounted:(...Ct)=>W8(...Ct,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[rB({mainAxis:s+x,alignmentAxis:a}),c&&sB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?iB():void 0,...P}),c&&oB({...P}),aB({...P,apply:({elements:Ct,rects:gn,availableWidth:gi,availableHeight:Ar})=>{const{width:kr,height:Ac}=gn.reference,ot=Ct.floating.style;ot.setProperty("--radix-popper-available-width",`${gi}px`),ot.setProperty("--radix-popper-available-height",`${Ar}px`),ot.setProperty("--radix-popper-anchor-width",`${kr}px`),ot.setProperty("--radix-popper-anchor-height",`${Ac}px`)}}),A&&cB({element:A,padding:l}),yB({arrowWidth:y,arrowHeight:x}),p&&lB({strategy:"referenceHidden",...P})]}),[W,te]=UI(Y),O=Zr(C);bt(()=>{ce&&(O==null||O())},[ce,O]);const U=(ie=M.arrow)==null?void 0:ie.x,ne=(Ce=M.arrow)==null?void 0:Ce.y,ae=((yt=M.arrow)==null?void 0:yt.centerOffset)!==0,[Ae,be]=g.useState();return bt(()=>{E&&be(window.getComputedStyle(E).zIndex)},[E]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ce?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(Oe=M.transformOrigin)==null?void 0:Oe.x,(ke=M.transformOrigin)==null?void 0:ke.y].join(" "),...((Ie=M.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(fB,{scope:n,placedSide:W,onArrowChange:L,arrowX:U,arrowY:ne,shouldHideArrow:ae,children:o.jsx(Le.div,{"data-side":W,"data-align":te,..._,ref:S,style:{..._.style,animation:ce?void 0:"none"}})})})});MI.displayName=Dv;var VI="PopperArrow",mB={top:"bottom",right:"left",bottom:"top",left:"right"},FI=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=pB(VI,r),a=mB[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(dB,{...s,ref:n,style:{...s.style,display:"block"}})})});FI.displayName=VI;function gB(t){return t!==null}var yB=t=>({name:"transformOrigin",options:t,fn(e){var N,E,b;const{placement:n,rects:r,middlewareData:s}=e,a=((N=s.arrow)==null?void 0:N.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=UI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((E=s.arrow)==null?void 0:E.x)??0)+l/2,v=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let C="",_="";return d==="bottom"?(C=a?f:`${p}px`,_=`${-c}px`):d==="top"?(C=a?f:`${p}px`,_=`${r.floating.height+c}px`):d==="right"?(C=`${-c}px`,_=a?f:`${v}px`):d==="left"&&(C=`${r.floating.width+c}px`,_=a?f:`${v}px`),{data:{x:C,y:_}}}});function UI(t){const[e,n="center"]=t.split("-");return[e,n]}var vB=DI,xB=OI,wB=MI,_B=FI,bB="Portal",BI=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);bt(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Uk.createPortal(o.jsx(Le.div,{...r,ref:e}),a):null});BI.displayName=bB;function EB(t){const e=TB(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(SB);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function TB(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=IB(s),l=CB(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Sc(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NB=Symbol("radix.slottable");function SB(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NB}function CB(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function IB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $I(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jB="VisuallyHidden",AB=g.forwardRef((t,e)=>o.jsx(Le.span,{...t,ref:e,style:{...zI,...t.style}}));AB.displayName=jB;var kB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ao=new WeakMap,vu=new WeakMap,xu={},Ep=0,HI=function(t){return t&&(t.host||HI(t.parentNode))},RB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},PB=function(t,e,n,r){var s=RB(e,Array.isArray(t)?t:[t]);xu[n]||(xu[n]=new WeakMap);var i=xu[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var v=p.getAttribute(r),C=v!==null&&v!=="false",_=(ao.get(p)||0)+1,N=(i.get(p)||0)+1;ao.set(p,_),i.set(p,N),a.push(p),_===1&&C&&vu.set(p,!0),N===1&&p.setAttribute(n,"true"),C||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),l.clear(),Ep++,function(){a.forEach(function(f){var p=ao.get(f)-1,v=i.get(f)-1;ao.set(f,p),i.set(f,v),p||(vu.has(f)||f.removeAttribute(r),vu.delete(f)),v||f.removeAttribute(n)}),Ep--,Ep||(ao=new WeakMap,ao=new WeakMap,vu=new WeakMap,xu={})}},DB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=kB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),PB(r,s,n,"aria-hidden")):function(){return null}},fr=function(){return fr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fr.apply(this,arguments)};function WI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function LB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Wu="right-scroll-bar-position",qu="width-before-scroll-bar",OB="with-scroll-bars-hidden",MB="--removed-body-scroll-bar-size";function Tp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VB(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var FB=typeof window<"u"?g.useLayoutEffect:g.useEffect,_b=new WeakMap;function UB(t,e){var n=VB(null,function(r){return t.forEach(function(s){return Tp(s,r)})});return FB(function(){var r=_b.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Tp(l,null)}),i.forEach(function(l){s.has(l)||Tp(l,a)})}_b.set(n,t)},[t]),n}function BB(t){return t}function $B(t,e){e===void 0&&(e=BB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function zB(t){t===void 0&&(t={});var e=$B(null);return e.options=fr({async:!0,ssr:!1},t),e}var qI=function(t){var e=t.sideCar,n=WI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,fr({},n))};qI.isSideCarExport=!0;function HB(t,e){return t.useMedium(e),qI}var GI=zB(),Np=function(){},Zh=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Np,onWheelCapture:Np,onTouchMoveCapture:Np}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noRelative,C=t.noIsolation,_=t.inert,N=t.allowPinchZoom,E=t.as,b=E===void 0?"div":E,S=t.gapMode,A=WI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=p,k=UB([n,e]),y=fr(fr({},A),s);return g.createElement(g.Fragment,null,h&&g.createElement(L,{sideCar:GI,removeScrollBar:d,shards:f,noRelative:v,noIsolation:C,inert:_,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:S}),a?g.cloneElement(g.Children.only(l),fr(fr({},y),{ref:k})):g.createElement(b,fr({},y,{className:c,ref:k}),l))});Zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zh.classNames={fullWidth:qu,zeroRight:Wu};var WB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=WB();return e&&t.setAttribute("nonce",e),t}function GB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function KB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=qB())&&(GB(e,n),KB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YB=function(){var t=QB();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},KI=function(){var t=YB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},XB={left:0,top:0,right:0,gap:0},Sp=function(t){return parseInt(t||"",10)||0},JB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sp(n),Sp(r),Sp(s)]},ZB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return XB;var e=JB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},e$=KI(),Fo="data-scroll-locked",t$=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(OB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fo,`] {
    `).concat(MB,": ").concat(l,`px;
  }
`)},bb=function(){var t=parseInt(document.body.getAttribute(Fo)||"0",10);return isFinite(t)?t:0},n$=function(){g.useEffect(function(){return document.body.setAttribute(Fo,(bb()+1).toString()),function(){var t=bb()-1;t<=0?document.body.removeAttribute(Fo):document.body.setAttribute(Fo,t.toString())}},[])},r$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;n$();var i=g.useMemo(function(){return ZB(s)},[s]);return g.createElement(e$,{styles:t$(i,!e,s,n?"":"!important")})},sg=!1;if(typeof window<"u")try{var wu=Object.defineProperty({},"passive",{get:function(){return sg=!0,!0}});window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{sg=!1}var lo=sg?{passive:!1}:!1,s$=function(t){return t.tagName==="TEXTAREA"},QI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!s$(t)&&n[e]==="visible")},i$=function(t){return QI(t,"overflowY")},o$=function(t){return QI(t,"overflowX")},Eb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=YI(t,r);if(s){var i=XI(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},a$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},l$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},YI=function(t,e){return t==="v"?i$(e):o$(e)},XI=function(t,e){return t==="v"?a$(e):l$(e)},c$=function(t,e){return t==="h"&&e==="rtl"?-1:1},u$=function(t,e,n,r,s){var i=c$(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),d=!1,h=a>0,f=0,p=0;do{if(!l)break;var v=XI(t,l),C=v[0],_=v[1],N=v[2],E=_-N-i*C;(C||E)&&YI(t,l)&&(f+=E,p+=C);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},_u=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Tb=function(t){return[t.deltaX,t.deltaY]},Nb=function(t){return t&&"current"in t?t.current:t},d$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},h$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},f$=0,co=[];function p$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(f$++)[0],i=g.useState(KI)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=LB([t.lockRef.current],(t.shards||[]).map(Nb),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var E=_u(_),b=n.current,S="deltaX"in _?_.deltaX:b[0]-E[0],A="deltaY"in _?_.deltaY:b[1]-E[1],L,k=_.target,y=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in _&&y==="h"&&k.type==="range")return!1;var x=Eb(y,k);if(!x)return!0;if(x?L=y:(L=y==="v"?"h":"v",x=Eb(y,k)),!x)return!1;if(!r.current&&"changedTouches"in _&&(S||A)&&(r.current=L),!L)return!0;var I=r.current||L;return u$(I,N,_,I==="h"?S:A)},[]),c=g.useCallback(function(_){var N=_;if(!(!co.length||co[co.length-1]!==i)){var E="deltaY"in N?Tb(N):_u(N),b=e.current.filter(function(L){return L.name===N.type&&(L.target===N.target||N.target===L.shadowParent)&&d$(L.delta,E)})[0];if(b&&b.should){N.cancelable&&N.preventDefault();return}if(!b){var S=(a.current.shards||[]).map(Nb).filter(Boolean).filter(function(L){return L.contains(N.target)}),A=S.length>0?l(N,S[0]):!a.current.noIsolation;A&&N.cancelable&&N.preventDefault()}}},[]),d=g.useCallback(function(_,N,E,b){var S={name:_,delta:N,target:E,should:b,shadowParent:m$(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),h=g.useCallback(function(_){n.current=_u(_),r.current=void 0},[]),f=g.useCallback(function(_){d(_.type,Tb(_),_.target,l(_,t.lockRef.current))},[]),p=g.useCallback(function(_){d(_.type,_u(_),_.target,l(_,t.lockRef.current))},[]);g.useEffect(function(){return co.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,lo),document.addEventListener("touchmove",c,lo),document.addEventListener("touchstart",h,lo),function(){co=co.filter(function(_){return _!==i}),document.removeEventListener("wheel",c,lo),document.removeEventListener("touchmove",c,lo),document.removeEventListener("touchstart",h,lo)}},[]);var v=t.removeScrollBar,C=t.inert;return g.createElement(g.Fragment,null,C?g.createElement(i,{styles:h$(s)}):null,v?g.createElement(r$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function m$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const g$=HB(GI,p$);var JI=g.forwardRef(function(t,e){return g.createElement(Zh,fr({},t,{ref:e,sideCar:g$}))});JI.classNames=Zh.classNames;var y$=[" ","Enter","ArrowUp","ArrowDown"],v$=[" ","Enter"],Qi="Select",[ef,tf,x$]=zC(Qi),[Ca]=Ea(Qi,[x$,RI]),nf=RI(),[w$,pi]=Ca(Qi),[_$,b$]=Ca(Qi),ZI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:C}=t,_=nf(e),[N,E]=g.useState(null),[b,S]=g.useState(null),[A,L]=g.useState(!1),k=bv(d),[y,x]=oc({prop:r,defaultProp:s??!1,onChange:i,caller:Qi}),[I,T]=oc({prop:a,defaultProp:l,onChange:c,caller:Qi}),j=g.useRef(null),D=N?C||!!N.closest("form"):!0,[P,H]=g.useState(new Set),oe=Array.from(P).map(Y=>Y.props.value).join(";");return o.jsx(vB,{..._,children:o.jsxs(w$,{required:v,scope:e,trigger:N,onTriggerChange:E,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:L,contentId:Cc(),value:I,onValueChange:T,open:y,onOpenChange:x,dir:k,triggerPointerDownPosRef:j,disabled:p,children:[o.jsx(ef.Provider,{scope:e,children:o.jsx(_$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Y=>{H(ce=>new Set(ce).add(Y))},[]),onNativeOptionRemove:g.useCallback(Y=>{H(ce=>{const M=new Set(ce);return M.delete(Y),M})},[]),children:n})}),D?o.jsxs(Ej,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:Y=>T(Y.target.value),disabled:p,form:C,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(P)]},oe):null]})})};ZI.displayName=Qi;var ej="SelectTrigger",tj=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=nf(n),a=pi(ej,n),l=a.disabled||r,c=ut(e,a.onTriggerChange),d=tf(n),h=g.useRef("touch"),[f,p,v]=Nj(_=>{const N=d().filter(S=>!S.disabled),E=N.find(S=>S.value===a.value),b=Sj(N,_,E);b!==void 0&&a.onValueChange(b.value)}),C=_=>{l||(a.onOpenChange(!0),v()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return o.jsx(xB,{asChild:!0,...i,children:o.jsx(Le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tj(a.value)?"":void 0,...s,ref:c,onClick:Re(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&C(_)}),onPointerDown:Re(s.onPointerDown,_=>{h.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(C(_),_.preventDefault())}),onKeyDown:Re(s.onKeyDown,_=>{const N=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&p(_.key),!(N&&_.key===" ")&&y$.includes(_.key)&&(C(),_.preventDefault())})})})});tj.displayName=ej;var nj="SelectValue",rj=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=pi(nj,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=ut(e,c.onValueNodeChange);return bt(()=>{d(h)},[d,h]),o.jsx(Le.span,{...l,ref:f,style:{pointerEvents:"none"},children:Tj(c.value)?o.jsx(o.Fragment,{children:a}):i})});rj.displayName=nj;var E$="SelectIcon",sj=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});sj.displayName=E$;var T$="SelectPortal",ij=t=>o.jsx(BI,{asChild:!0,...t});ij.displayName=T$;var Yi="SelectContent",oj=g.forwardRef((t,e)=>{const n=pi(Yi,t.__scopeSelect),[r,s]=g.useState();if(bt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ua.createPortal(o.jsx(aj,{scope:t.__scopeSelect,children:o.jsx(ef.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(lj,{...t,ref:e})});oj.displayName=Yi;var Hn=10,[aj,mi]=Ca(Yi),N$="SelectContentImpl",S$=EB("SelectContent.RemoveScroll"),lj=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:C,hideWhenDetached:_,avoidCollisions:N,...E}=t,b=pi(Yi,n),[S,A]=g.useState(null),[L,k]=g.useState(null),y=ut(e,ie=>A(ie)),[x,I]=g.useState(null),[T,j]=g.useState(null),D=tf(n),[P,H]=g.useState(!1),oe=g.useRef(!1);g.useEffect(()=>{if(S)return DB(S)},[S]),q9();const Y=g.useCallback(ie=>{const[Ce,...yt]=D().map(Ie=>Ie.ref.current),[Oe]=yt.slice(-1),ke=document.activeElement;for(const Ie of ie)if(Ie===ke||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Ce&&L&&(L.scrollTop=0),Ie===Oe&&L&&(L.scrollTop=L.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==ke))return},[D,L]),ce=g.useCallback(()=>Y([x,S]),[Y,x,S]);g.useEffect(()=>{P&&ce()},[P,ce]);const{onOpenChange:M,triggerPointerDownPosRef:W}=b;g.useEffect(()=>{if(S){let ie={x:0,y:0};const Ce=Oe=>{var ke,Ie;ie={x:Math.abs(Math.round(Oe.pageX)-(((ke=W.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ie=W.current)==null?void 0:Ie.y)??0))}},yt=Oe=>{ie.x<=10&&ie.y<=10?Oe.preventDefault():S.contains(Oe.target)||M(!1),document.removeEventListener("pointermove",Ce),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",yt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",yt,{capture:!0})}}},[S,M,W]),g.useEffect(()=>{const ie=()=>M(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[M]);const[te,O]=Nj(ie=>{const Ce=D().filter(ke=>!ke.disabled),yt=Ce.find(ke=>ke.ref.current===document.activeElement),Oe=Sj(Ce,ie,yt);Oe&&setTimeout(()=>Oe.ref.current.focus())}),U=g.useCallback((ie,Ce,yt)=>{const Oe=!oe.current&&!yt;(b.value!==void 0&&b.value===Ce||Oe)&&(I(ie),Oe&&(oe.current=!0))},[b.value]),ne=g.useCallback(()=>S==null?void 0:S.focus(),[S]),ae=g.useCallback((ie,Ce,yt)=>{const Oe=!oe.current&&!yt;(b.value!==void 0&&b.value===Ce||Oe)&&j(ie)},[b.value]),Ae=r==="popper"?ig:cj,be=Ae===ig?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:C,hideWhenDetached:_,avoidCollisions:N}:{};return o.jsx(aj,{scope:n,content:S,viewport:L,onViewportChange:k,itemRefCallback:U,selectedItem:x,onItemLeave:ne,itemTextRefCallback:ae,focusSelectedItem:ce,selectedItemText:T,position:r,isPositioned:P,searchRef:te,children:o.jsx(JI,{as:S$,allowPinchZoom:!0,children:o.jsx(gI,{asChild:!0,trapped:b.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Re(s,ie=>{var Ce;(Ce=b.trigger)==null||Ce.focus({preventScroll:!0}),ie.preventDefault()}),children:o.jsx(pI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(Ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ie=>ie.preventDefault(),...E,...be,onPlaced:()=>H(!0),ref:y,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Re(E.onKeyDown,ie=>{const Ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Ce&&ie.key.length===1&&O(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Oe=D().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const ke=ie.target,Ie=Oe.indexOf(ke);Oe=Oe.slice(Ie+1)}setTimeout(()=>Y(Oe)),ie.preventDefault()}})})})})})})});lj.displayName=N$;var C$="SelectItemAlignedPosition",cj=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=pi(Yi,n),a=mi(Yi,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=ut(e,y=>h(y)),p=tf(n),v=g.useRef(!1),C=g.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:E,focusSelectedItem:b}=a,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&_&&N&&E){const y=i.trigger.getBoundingClientRect(),x=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),T=E.getBoundingClientRect();if(i.dir!=="rtl"){const ke=T.left-x.left,Ie=I.left-ke,Ct=y.left-Ie,gn=y.width+Ct,gi=Math.max(gn,x.width),Ar=window.innerWidth-Hn,kr=nb(Ie,[Hn,Math.max(Hn,Ar-gi)]);l.style.minWidth=gn+"px",l.style.left=kr+"px"}else{const ke=x.right-T.right,Ie=window.innerWidth-I.right-ke,Ct=window.innerWidth-y.right-Ie,gn=y.width+Ct,gi=Math.max(gn,x.width),Ar=window.innerWidth-Hn,kr=nb(Ie,[Hn,Math.max(Hn,Ar-gi)]);l.style.minWidth=gn+"px",l.style.right=kr+"px"}const j=p(),D=window.innerHeight-Hn*2,P=_.scrollHeight,H=window.getComputedStyle(d),oe=parseInt(H.borderTopWidth,10),Y=parseInt(H.paddingTop,10),ce=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),W=oe+Y+P+M+ce,te=Math.min(N.offsetHeight*5,W),O=window.getComputedStyle(_),U=parseInt(O.paddingTop,10),ne=parseInt(O.paddingBottom,10),ae=y.top+y.height/2-Hn,Ae=D-ae,be=N.offsetHeight/2,ie=N.offsetTop+be,Ce=oe+Y+ie,yt=W-Ce;if(Ce<=ae){const ke=j.length>0&&N===j[j.length-1].ref.current;l.style.bottom="0px";const Ie=d.clientHeight-_.offsetTop-_.offsetHeight,Ct=Math.max(Ae,be+(ke?ne:0)+Ie+ce),gn=Ce+Ct;l.style.height=gn+"px"}else{const ke=j.length>0&&N===j[0].ref.current;l.style.top="0px";const Ct=Math.max(ae,oe+_.offsetTop+(ke?U:0)+be)+yt;l.style.height=Ct+"px",_.scrollTop=Ce-ae+_.offsetTop}l.style.margin=`${Hn}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,d,_,N,E,i.dir,r]);bt(()=>S(),[S]);const[A,L]=g.useState();bt(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const k=g.useCallback(y=>{y&&C.current===!0&&(S(),b==null||b(),C.current=!1)},[S,b]);return o.jsx(j$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:o.jsx(Le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cj.displayName=C$;var I$="SelectPopperPosition",ig=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,a=nf(n);return o.jsx(wB,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ig.displayName=I$;var[j$,Lv]=Ca(Yi,{}),og="SelectViewport",uj=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=mi(og,n),a=Lv(og,n),l=ut(e,i.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ef.Slot,{scope:n,children:o.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const C=window.innerHeight-Hn*2,_=parseFloat(f.style.minHeight),N=parseFloat(f.style.height),E=Math.max(_,N);if(E<C){const b=E+v,S=Math.min(C,b),A=b-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});uj.displayName=og;var dj="SelectGroup",[A$,k$]=Ca(dj),R$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cc();return o.jsx(A$,{scope:n,id:s,children:o.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});R$.displayName=dj;var hj="SelectLabel",fj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=k$(hj,n);return o.jsx(Le.div,{id:s.id,...r,ref:e})});fj.displayName=hj;var Yd="SelectItem",[P$,pj]=Ca(Yd),mj=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=pi(Yd,n),c=mi(Yd,n),d=l.value===r,[h,f]=g.useState(i??""),[p,v]=g.useState(!1),C=ut(e,b=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,b,r,s)}),_=Cc(),N=g.useRef("touch"),E=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(P$,{scope:n,value:r,disabled:s,textId:_,isSelected:d,onItemTextChange:g.useCallback(b=>{f(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(ef.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Le.div,{role:"option","aria-labelledby":_,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:C,onFocus:Re(a.onFocus,()=>v(!0)),onBlur:Re(a.onBlur,()=>v(!1)),onClick:Re(a.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:Re(a.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:Re(a.onPointerDown,b=>{N.current=b.pointerType}),onPointerMove:Re(a.onPointerMove,b=>{var S;N.current=b.pointerType,s?(S=c.onItemLeave)==null||S.call(c):N.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Re(a.onKeyDown,b=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&b.key===" "||(v$.includes(b.key)&&E(),b.key===" "&&b.preventDefault())})})})})});mj.displayName=Yd;var dl="SelectItemText",gj=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=pi(dl,n),l=mi(dl,n),c=pj(dl,n),d=b$(dl,n),[h,f]=g.useState(null),p=ut(e,E=>f(E),c.onItemTextChange,E=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,E,c.value,c.disabled)}),v=h==null?void 0:h.textContent,C=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=d;return bt(()=>(_(C),()=>N(C)),[_,N,C]),o.jsxs(o.Fragment,{children:[o.jsx(Le.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ua.createPortal(i.children,a.valueNode):null]})});gj.displayName=dl;var yj="SelectItemIndicator",vj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pj(yj,n).isSelected?o.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});vj.displayName=yj;var ag="SelectScrollUpButton",xj=g.forwardRef((t,e)=>{const n=mi(ag,t.__scopeSelect),r=Lv(ag,t.__scopeSelect),[s,i]=g.useState(!1),a=ut(e,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(_j,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});xj.displayName=ag;var lg="SelectScrollDownButton",wj=g.forwardRef((t,e)=>{const n=mi(lg,t.__scopeSelect),r=Lv(lg,t.__scopeSelect),[s,i]=g.useState(!1),a=ut(e,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(_j,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});wj.displayName=lg;var _j=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=mi("SelectScrollButton",n),a=g.useRef(null),l=tf(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),bt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{c()})})}),D$="SelectSeparator",bj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});bj.displayName=D$;var cg="SelectArrow",L$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nf(n),i=pi(cg,n),a=mi(cg,n);return i.open&&a.position==="popper"?o.jsx(_B,{...s,...r,ref:e}):null});L$.displayName=cg;var O$="SelectBubbleInput",Ej=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=ut(r,s),a=$I(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Le.select,{...n,style:{...zI,...n.style},ref:i,defaultValue:e})});Ej.displayName=O$;function Tj(t){return t===""||t===void 0}function Nj(t){const e=Zr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Sj(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=M$(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function M$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V$=ZI,Cj=tj,F$=rj,U$=sj,B$=ij,Ij=oj,$$=uj,jj=fj,Aj=mj,z$=gj,H$=vj,kj=xj,Rj=wj,Pj=bj;const Xt=V$,Jt=F$,$t=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Cj,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(U$,{asChild:!0,children:o.jsx(EC,{className:"h-4 w-4 opacity-50"})})]}));$t.displayName=Cj.displayName;const Dj=g.forwardRef(({className:t,...e},n)=>o.jsx(kj,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(K5,{className:"h-4 w-4"})}));Dj.displayName=kj.displayName;const Lj=g.forwardRef(({className:t,...e},n)=>o.jsx(Rj,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(EC,{className:"h-4 w-4"})}));Lj.displayName=Rj.displayName;const zt=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(B$,{children:o.jsxs(Ij,{ref:s,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(Dj,{}),o.jsx($$,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(Lj,{})]})}));zt.displayName=Ij.displayName;const W$=g.forwardRef(({className:t,...e},n)=>o.jsx(jj,{ref:n,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));W$.displayName=jj.displayName;const Z=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Aj,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(H$,{children:o.jsx(G5,{className:"h-4 w-4"})})}),o.jsx(z$,{children:e})]}));Z.displayName=Aj.displayName;const q$=g.forwardRef(({className:t,...e},n)=>o.jsx(Pj,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));q$.displayName=Pj.displayName;var rf="Switch",[G$]=Ea(rf),[K$,Q$]=G$(rf),Oj=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,v]=g.useState(null),C=ut(e,S=>v(S)),_=g.useRef(!1),N=p?h||!!p.closest("form"):!0,[E,b]=oc({prop:s,defaultProp:i??!1,onChange:d,caller:rf});return o.jsxs(K$,{scope:n,checked:E,disabled:l,children:[o.jsx(Le.button,{type:"button",role:"switch","aria-checked":E,"aria-required":a,"data-state":Uj(E),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:C,onClick:Re(t.onClick,S=>{b(A=>!A),N&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),N&&o.jsx(Fj,{control:p,bubbles:!_.current,name:r,value:c,checked:E,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Oj.displayName=rf;var Mj="SwitchThumb",Vj=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Q$(Mj,n);return o.jsx(Le.span,{"data-state":Uj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Vj.displayName=Mj;var Y$="SwitchBubbleInput",Fj=g.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=g.useRef(null),l=ut(a,i),c=$I(n),d=AI(e);return g.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const C=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(C)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fj.displayName=Y$;function Uj(t){return t?"checked":"unchecked"}var Bj=Oj,X$=Vj;const Rt=g.forwardRef(({className:t,...e},n)=>o.jsx(Bj,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(X$,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=Bj.displayName;const J$=({onBack:t})=>{const{user:e}=$n(),[n,r]=g.useState({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),[s,i]=g.useState([{id:"1",question:"",points:0,flag:""}]),[a,l]=g.useState(!1),[c,d]=g.useState(!1),h=async k=>{k.preventDefault(),l(!0);try{const y={...n,finalCategory:c?n.customCategory:n.category,questions:n.hasMultipleQuestions?s:[],createdAt:new Date,isActive:!0,solvedBy:[],hints:n.hints.filter(x=>x.trim()!==""),totalPoints:n.hasMultipleQuestions?s.reduce((x,I)=>x+I.points,0):n.points,createdBy:e==null?void 0:e.uid,createdByName:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),featuredOnPractice:n.featuredOnPractice,availableInPractice:n.availableInPractice,challengeType:n.challengeType,...n.isExternalChallenge&&{attribution:{...n.externalSource,importedBy:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),importedById:e==null?void 0:e.uid,importedAt:new Date}},...n.creator&&{originalCreator:{name:n.creator,url:n.creatorUrl}}};await zS(kt(ye,"challenges"),y),alert("Challenge created successfully!"),f()}catch(y){console.error("Error creating challenge:",y),alert("Error creating challenge. Please try again.")}finally{l(!1)}},f=()=>{r({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),i([{id:"1",question:"",points:0,flag:""}]),d(!1)},p=()=>{r({...n,hints:[...n.hints,""]})},v=(k,y)=>{const x=[...n.hints];x[k]=y,r({...n,hints:x})},C=k=>{const y=n.hints.filter((x,I)=>I!==k);r({...n,hints:y})},_=()=>{const k={id:Date.now().toString(),question:"",points:0,flag:""};i([...s,k])},N=(k,y,x)=>{i(s.map(I=>I.id===k?{...I,[y]:x}:I))},E=k=>{s.length>1&&i(s.filter(y=>y.id!==k))},b=k=>{if(k==="link"){const y=prompt("Enter the URL:");if(y){const x={id:Date.now().toString(),name:`Link - ${new Date().toLocaleDateString()}`,url:y,type:"link"};r({...n,files:[...n.files,x]})}}else{const y=document.createElement("input");y.type="file",y.onchange=x=>{var T;const I=(T=x.target.files)==null?void 0:T[0];if(I){const j={id:Date.now().toString(),name:I.name,url:URL.createObjectURL(I),type:"file"};r({...n,files:[...n.files,j]})}},y.click()}},S=k=>{r({...n,files:n.files.filter(y=>y.id!==k)})},A=k=>{k==="custom"?(d(!0),r({...n,category:"custom"})):(d(!1),r({...n,category:k}))},L=(k,y)=>{r({...n,externalSource:{...n.externalSource,[k]:y}})};return o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Create New Challenge"}),o.jsx(Ht,{children:"Add a new CTF challenge to the platform with advanced options"})]}),o.jsx(se,{children:o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"title",children:"Challenge Title *"}),o.jsx(he,{id:"title",value:n.title,onChange:k=>r({...n,title:k.target.value}),placeholder:"Enter challenge title",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"category",children:"Category"}),o.jsxs(Xt,{value:n.category,onValueChange:A,children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"web",children:"Web"}),o.jsx(Z,{value:"crypto",children:"Cryptography"}),o.jsx(Z,{value:"forensics",children:"Forensics"}),o.jsx(Z,{value:"pwn",children:"Pwn"}),o.jsx(Z,{value:"reversing",children:"Reverse Engineering"}),o.jsx(Z,{value:"misc",children:"Miscellaneous"}),o.jsx(Z,{value:"custom",children:"Custom Category"})]})]})]}),c&&o.jsxs("div",{children:[o.jsx(q,{htmlFor:"customCategory",children:"Custom Category Name *"}),o.jsx(he,{id:"customCategory",value:n.customCategory,onChange:k=>r({...n,customCategory:k.target.value}),placeholder:"Enter your custom category name",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"difficulty",children:"Difficulty"}),o.jsxs(Xt,{value:n.difficulty,onValueChange:k=>r({...n,difficulty:k}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"easy",children:"Easy (1-100 points)"}),o.jsx(Z,{value:"medium",children:"Medium (101-300 points)"}),o.jsx(Z,{value:"hard",children:"Hard (301-500 points)"})]})]})]}),!n.hasMultipleQuestions&&o.jsxs("div",{children:[o.jsx(q,{htmlFor:"points",children:"Points *"}),o.jsx(he,{id:"points",type:"number",value:n.points,onChange:k=>r({...n,points:parseInt(k.target.value)||0}),min:"1",max:"1000",required:!0})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(q,{htmlFor:"description",children:"Description *"}),o.jsx(Ta,{id:"description",value:n.description,onChange:k=>r({...n,description:k.target.value}),placeholder:"Enter detailed challenge description, requirements, and any setup instructions...",rows:8,required:!0})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ye,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"Practice Visibility"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:"availableInPractice",checked:n.availableInPractice,onCheckedChange:k=>r({...n,availableInPractice:k})}),o.jsx(q,{htmlFor:"availableInPractice",className:"text-sm",children:"Available in Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:"featuredOnPractice",checked:n.featuredOnPractice,onCheckedChange:k=>r({...n,featuredOnPractice:k})}),o.jsxs(q,{htmlFor:"featuredOnPractice",className:"text-sm",children:[o.jsx(xv,{className:"w-4 h-4 inline mr-1"}),"Featured on Practice"]})]})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"challengeType",children:"Challenge Type"}),o.jsxs(Xt,{value:n.challengeType,onValueChange:k=>r({...n,challengeType:k}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"practice",children:"Practice Challenge"}),o.jsx(Z,{value:"live",children:"Live Event Challenge"}),o.jsx(Z,{value:"past_event",children:"Past Event Challenge"})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'"Practice" challenges appear in the Practice section. "Live Event" challenges are only available during events.'})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"Creator Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"creator",children:"Original Creator (Optional)"}),o.jsx(he,{id:"creator",value:n.creator,onChange:k=>r({...n,creator:k.target.value}),placeholder:"Name of the original challenge creator"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this if the challenge was created by someone else in your community"})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"creatorUrl",children:"Creator Profile URL"}),o.jsx(he,{id:"creatorUrl",value:n.creatorUrl,onChange:k=>r({...n,creatorUrl:k.target.value}),placeholder:"https://github.com/username"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Hd,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"External CTF Challenge"})]}),o.jsx(Rt,{checked:n.isExternalChallenge,onCheckedChange:k=>r({...n,isExternalChallenge:k})})]}),n.isExternalChallenge&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide attribution for challenges downloaded from other CTF platforms"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"ctfName",children:"Original CTF Name *"}),o.jsx(he,{id:"ctfName",value:n.externalSource.ctfName,onChange:k=>L("ctfName",k.target.value),placeholder:"e.g., HackTheBox, TryHackMe, CTFtime",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"ctfUrl",children:"CTF Website URL"}),o.jsx(he,{id:"ctfUrl",value:n.externalSource.ctfUrl,onChange:k=>L("ctfUrl",k.target.value),placeholder:"https://ctf.example.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"originalAuthor",children:"Original Author *"}),o.jsx(he,{id:"originalAuthor",value:n.externalSource.originalAuthor,onChange:k=>L("originalAuthor",k.target.value),placeholder:"Name of the original challenge author",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"authorUrl",children:"Author Profile URL"}),o.jsx(he,{id:"authorUrl",value:n.externalSource.authorUrl,onChange:k=>L("authorUrl",k.target.value),placeholder:"https://github.com/original-author"})]})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"license",children:"License"}),o.jsxs(Xt,{value:n.externalSource.license,onValueChange:k=>L("license",k),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"unknown",children:"Unknown"}),o.jsx(Z,{value:"MIT",children:"MIT License"}),o.jsx(Z,{value:"apache-2.0",children:"Apache 2.0"}),o.jsx(Z,{value:"gpl-3.0",children:"GPL v3.0"}),o.jsx(Z,{value:"cc-by-4.0",children:"Creative Commons BY 4.0"}),o.jsx(Z,{value:"custom",children:"Custom License"})]})]}),n.externalSource.license==="custom"&&o.jsx(he,{placeholder:"Specify custom license",className:"mt-2",onChange:k=>L("license",k.target.value)})]}),o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Attribution Notice:"})," This challenge will be displayed with proper attribution to the original author and CTF platform."]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"multipleQuestions",className:"text-base",children:"Multiple Questions Challenge"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if this challenge contains multiple sub-questions with separate flags"})]}),o.jsx(Rt,{id:"multipleQuestions",checked:n.hasMultipleQuestions,onCheckedChange:k=>r({...n,hasMultipleQuestions:k})})]}),n.hasMultipleQuestions&&o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(q,{className:"text-base",children:"Challenge Questions"}),o.jsxs(K,{type:"button",onClick:_,variant:"outline",size:"sm",children:[o.jsx(ti,{className:"w-4 h-4 mr-1"}),"Add Question"]})]}),s.map((k,y)=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(q,{children:["Question ",y+1]}),s.length>1&&o.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(k.id),children:o.jsx(ic,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:`question-${k.id}`,children:"Question Text *"}),o.jsx(he,{id:`question-${k.id}`,value:k.question,onChange:x=>N(k.id,"question",x.target.value),placeholder:"Enter the question text",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:`points-${k.id}`,children:"Points *"}),o.jsx(he,{id:`points-${k.id}`,type:"number",value:k.points,onChange:x=>N(k.id,"points",parseInt(x.target.value)||0),min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:`flag-${k.id}`,children:"Flag *"}),o.jsx(he,{id:`flag-${k.id}`,value:k.flag,onChange:x=>N(k.id,"flag",x.target.value),placeholder:"Flag for this question",required:!0})]})]})]},k.id)),s.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Points: ",s.reduce((k,y)=>k+y.points,0)]})]}),!n.hasMultipleQuestions&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"flag",children:"Flag *"}),o.jsx(he,{id:"flag",value:n.flag,onChange:k=>r({...n,flag:k.target.value}),placeholder:"CTF{...} or any flag format",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"flagFormat",children:"Flag Format (Regex)"}),o.jsxs(Xt,{value:n.flagFormat,onValueChange:k=>r({...n,flagFormat:k}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsxs(Z,{value:"CTF{.*}",children:["CTF","{text}"]}),o.jsxs(Z,{value:"FLAG{.*}",children:["FLAG","{text}"]}),o.jsx(Z,{value:".*",children:"Any format"}),o.jsx(Z,{value:"[A-Za-z0-9]{8,}",children:"Alphanumeric (8+ chars)"}),o.jsx(Z,{value:"custom",children:"Custom Regex"})]})]}),n.flagFormat==="custom"&&o.jsx(he,{placeholder:"Enter custom regex pattern",className:"mt-2",onChange:k=>r({...n,flagFormat:k.target.value})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(q,{children:"Files & Links"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{type:"button",variant:"outline",onClick:()=>b("file"),children:[o.jsx(jC,{className:"w-4 h-4 mr-2"}),"Upload File"]}),o.jsxs(K,{type:"button",variant:"outline",onClick:()=>b("link"),children:[o.jsx(ra,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),n.files.length>0&&o.jsx("div",{className:"space-y-2",children:n.files.map(k=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[k.type==="file"?o.jsx(sc,{className:"w-4 h-4"}):o.jsx(ra,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:k.name}),k.type==="link"&&o.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs",children:"(View Link)"})]}),o.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(k.id),children:o.jsx(ic,{className:"w-4 h-4"})})]},k.id))})]}),o.jsxs("div",{children:[o.jsx(q,{children:"Hints (Optional)"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[n.hints.map((k,y)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx(he,{value:k,onChange:x=>v(y,x.target.value),placeholder:`Hint ${y+1}`}),n.hints.length>1&&o.jsx(K,{type:"button",variant:"outline",onClick:()=>C(y),children:"Remove"})]},y)),o.jsx(K,{type:"button",variant:"outline",onClick:p,children:"Add Hint"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(K,{type:"submit",disabled:a,children:a?"Creating...":"Create Challenge"}),o.jsx(K,{type:"button",variant:"outline",onClick:f,children:"Reset Form"}),o.jsx(K,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},Z$=({onBack:t,onCreateNew:e,onEditChallenge:n})=>{const{user:r}=$n(),[s,i]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(!0),[h,f]=g.useState(""),[p,v]=g.useState("all"),[C,_]=g.useState("all"),[N,E]=g.useState("all"),[b,S]=g.useState("all"),[A,L]=g.useState([]),[k,y]=g.useState(!1);g.useEffect(()=>{x(),I()},[]),g.useEffect(()=>{T()},[h,p,C,N,b,s]);const x=async()=>{try{const O=zr(kt(ye,"challenges"),qs("createdAt","desc")),ne=(await Zn(O)).docs.map(ae=>({id:ae.id,...ae.data()}));i(ne)}catch(O){console.error("Error fetching challenges:",O)}finally{d(!1)}},I=async()=>{try{y(!0);const O=zr(kt(ye,"events"),Tr("status","in",["LIVE","UPCOMING"]),qs("startTime","asc")),ne=(await Zn(O)).docs.map(ae=>({id:ae.id,...ae.data()}));L(ne)}catch(O){console.error("Error fetching events:",O),L([])}finally{y(!1)}},T=()=>{let O=s;h&&(O=O.filter(U=>U.title.toLowerCase().includes(h.toLowerCase())||U.description.toLowerCase().includes(h.toLowerCase())||(U.finalCategory||U.category).toLowerCase().includes(h.toLowerCase()))),p!=="all"&&(O=O.filter(U=>(U.finalCategory||U.category)===p)),C!=="all"&&(O=O.filter(U=>U.difficulty===C)),N!=="all"&&(O=O.filter(U=>N==="active"?U.isActive:!U.isActive)),b!=="all"&&(O=O.filter(U=>{switch(b){case"practice":return U.challengeType==="practice"||U.featuredOnPractice||U.availableInPractice;case"live":return U.challengeType==="live";case"upcoming":return U.challengeType==="upcoming";case"past":return U.challengeType==="past_event";case"featured":return U.featuredOnPractice;default:return!0}})),l(O)},j=async(O,U)=>{try{await Rn(nt(ye,"challenges",O),{isActive:!U}),i(s.map(ne=>ne.id===O?{...ne,isActive:!U}:ne))}catch(ne){console.error("Error updating challenge status:",ne)}},D=async(O,U)=>{try{await Rn(nt(ye,"challenges",O),{featuredOnPractice:!U,availableInPractice:!0,challengeType:U?void 0:"practice"}),i(s.map(ne=>ne.id===O?{...ne,featuredOnPractice:!U,availableInPractice:!0,challengeType:U?ne.challengeType:"practice"}:ne))}catch(ne){console.error("Error updating featured status:",ne)}},P=async(O,U,ne)=>{try{const ae=A.find(Ae=>Ae.id===U);await Rn(nt(ye,"challenges",O),{eventId:U,eventName:ne,challengeType:(ae==null?void 0:ae.status)==="LIVE"?"live":"upcoming",availableInPractice:!1,featuredOnPractice:!1}),i(s.map(Ae=>Ae.id===O?{...Ae,eventId:U,eventName:ne,challengeType:(ae==null?void 0:ae.status)==="LIVE"?"live":"upcoming",availableInPractice:!1,featuredOnPractice:!1}:Ae))}catch(ae){console.error("Error assigning challenge to event:",ae)}},H=async O=>{try{await Rn(nt(ye,"challenges",O),{eventId:null,eventName:null,challengeType:"practice",availableInPractice:!0,featuredOnPractice:!1}),i(s.map(U=>U.id===O?{...U,eventId:void 0,eventName:void 0,challengeType:"practice",availableInPractice:!0,featuredOnPractice:!1}:U))}catch(U){console.error("Error removing challenge from event:",U)}},oe=async(O,U)=>{try{await Rn(nt(ye,"challenges",O),{availableInPractice:U,challengeType:U?"practice":void 0,featuredOnPractice:U?!1:void 0}),i(s.map(ne=>ne.id===O?{...ne,availableInPractice:U,challengeType:U?"practice":ne.challengeType,featuredOnPractice:U?ne.featuredOnPractice:!1}:ne))}catch(ne){console.error("Error updating practice availability:",ne)}},Y=async O=>{if(confirm("Are you sure you want to delete this challenge? This action cannot be undone."))try{await kF(nt(ye,"challenges",O)),i(s.filter(U=>U.id!==O))}catch(U){console.error("Error deleting challenge:",U)}},ce=O=>{switch(O){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";case"expert":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},M=O=>({web:"bg-blue-100 text-blue-800",crypto:"bg-purple-100 text-purple-800",forensics:"bg-orange-100 text-orange-800",pwn:"bg-red-100 text-red-800",reversing:"bg-indigo-100 text-indigo-800",misc:"bg-gray-100 text-gray-800"})[O]||"bg-gray-100 text-gray-800",W=O=>O.challengeType==="live"?o.jsxs(Ue,{className:"bg-red-100 text-red-800",children:[o.jsx(Rs,{className:"w-3 h-3 mr-1"}),"Live Event"]}):O.challengeType==="upcoming"?o.jsxs(Ue,{className:"bg-yellow-100 text-yellow-800",children:[o.jsx(ta,{className:"w-3 h-3 mr-1"}),"Upcoming"]}):O.challengeType==="past_event"?o.jsx(Ue,{className:"bg-gray-100 text-gray-800",children:"Past Event"}):O.featuredOnPractice?o.jsxs(Ue,{className:"bg-purple-100 text-purple-800",children:[o.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Featured"]}):O.availableInPractice?o.jsx(Ue,{className:"bg-green-100 text-green-800",children:"Practice"}):null,te=()=>{const O=s.map(U=>U.finalCategory||U.category);return Array.from(new Set(O)).filter(Boolean)};return c?o.jsx(re,{children:o.jsx(se,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:"Loading challenges..."})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Challenge Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Manage challenges, assign to events, and feature on practice page (",s.length," total)"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{onClick:e,children:[o.jsx(ti,{className:"w-4 h-4 mr-2"}),"Create New"]}),o.jsx(K,{variant:"outline",onClick:t,children:"Back to Dashboard"})]})]}),o.jsxs(re,{children:[o.jsx(Te,{children:o.jsx(Ne,{className:"text-lg",children:"Search & Filter"})}),o.jsx(se,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(sa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(he,{placeholder:"Search challenges...",value:h,onChange:O=>f(O.target.value),className:"pl-10"})]}),o.jsx("div",{children:o.jsxs(Xt,{value:p,onValueChange:v,children:[o.jsx($t,{children:o.jsx(Jt,{placeholder:"All Categories"})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"all",children:"All Categories"}),te().map(O=>o.jsx(Z,{value:O,children:O},O))]})]})}),o.jsx("div",{children:o.jsxs(Xt,{value:C,onValueChange:_,children:[o.jsx($t,{children:o.jsx(Jt,{placeholder:"All Difficulties"})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"all",children:"All Difficulties"}),o.jsx(Z,{value:"easy",children:"Easy"}),o.jsx(Z,{value:"medium",children:"Medium"}),o.jsx(Z,{value:"hard",children:"Hard"}),o.jsx(Z,{value:"expert",children:"Expert"})]})]})}),o.jsx("div",{children:o.jsxs(Xt,{value:N,onValueChange:E,children:[o.jsx($t,{children:o.jsx(Jt,{placeholder:"All Status"})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"all",children:"All Status"}),o.jsx(Z,{value:"active",children:"Active"}),o.jsx(Z,{value:"inactive",children:"Inactive"})]})]})}),o.jsx("div",{children:o.jsxs(Xt,{value:b,onValueChange:S,children:[o.jsx($t,{children:o.jsx(Jt,{placeholder:"All Types"})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"all",children:"All Types"}),o.jsx(Z,{value:"practice",children:"Practice"}),o.jsx(Z,{value:"live",children:"Live Event"}),o.jsx(Z,{value:"upcoming",children:"Upcoming Event"}),o.jsx(Z,{value:"past",children:"Past Event"}),o.jsx(Z,{value:"featured",children:"Featured"})]})]})})]})})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Challenges"}),o.jsxs(Ht,{children:[a.length," of ",s.length," challenges shown",A.length>0&&`  ${A.length} events available`]})]}),o.jsx(se,{children:o.jsxs("div",{className:"space-y-4",children:[a.map(O=>{var U,ne,ae,Ae;return o.jsx("div",{className:"border rounded-lg p-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("h3",{className:"font-semibold text-lg",children:O.title}),o.jsx(Ue,{variant:O.isActive?"default":"secondary",children:O.isActive?"Active":"Inactive"}),o.jsx(Ue,{className:ce(O.difficulty),children:O.difficulty}),o.jsx(Ue,{className:M(O.finalCategory||O.category),children:O.finalCategory||O.category}),o.jsxs(Ue,{variant:"outline",children:[O.points," pts"]}),W(O)]}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Created by: ",O.createdByName]}),o.jsx("span",{children:""}),o.jsx("span",{children:((ae=(ne=(U=O.createdAt)==null?void 0:U.toDate)==null?void 0:ne.call(U))==null?void 0:ae.toLocaleDateString())||new Date(O.createdAt).toLocaleDateString()}),o.jsx("span",{children:""}),o.jsxs("span",{children:[((Ae=O.solvedBy)==null?void 0:Ae.length)||0," solves"]}),O.eventName&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Event: ",O.eventName]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:`featured-${O.id}`,checked:O.featuredOnPractice||!1,onCheckedChange:be=>D(O.id,O.featuredOnPractice||!1)}),o.jsx(q,{htmlFor:`featured-${O.id}`,className:"text-sm",children:"Featured on Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:`practice-${O.id}`,checked:O.availableInPractice||!1,onCheckedChange:be=>oe(O.id,be)}),o.jsx(q,{htmlFor:`practice-${O.id}`,className:"text-sm",children:"Available in Practice"})]}),!O.eventId&&A.length>0&&o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(Xt,{value:"",onValueChange:be=>{const ie=A.find(Ce=>Ce.id===be);ie&&P(O.id,be,ie.title)},children:[o.jsx($t,{className:"w-40",children:o.jsx(Jt,{placeholder:"Assign to Event"})}),o.jsx(zt,{children:A.map(be=>o.jsxs(Z,{value:be.id,children:[be.title," (",be.status,")"]},be.id))})]})}),O.eventId&&o.jsx(K,{variant:"outline",size:"sm",onClick:()=>H(O.id),children:"Remove from Event"}),A.length===0&&o.jsx(Ue,{variant:"outline",className:"text-xs",children:"No events available"})]})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(O),children:[o.jsx(oU,{className:"w-4 h-4 mr-1"}),"Edit"]}),o.jsx(K,{variant:"outline",size:"sm",onClick:()=>j(O.id,O.isActive),children:O.isActive?"Deactivate":"Activate"}),o.jsx(K,{variant:"destructive",size:"sm",onClick:()=>Y(O.id),children:o.jsx(aU,{className:"w-4 h-4"})})]})]})},O.id)}),a.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.length===0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"No challenges created yet."}),o.jsxs(K,{onClick:e,children:[o.jsx(ti,{className:"w-4 h-4 mr-2"}),"Create Your First Challenge"]})]}):"No challenges match your filters."})]})})]})]})},ez=({challengeId:t,onBack:e,onSave:n})=>{const{user:r}=$n(),[s,i]=g.useState(!0),[a,l]=g.useState(!1),[c,d]=g.useState({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,isActive:!0,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),[h,f]=g.useState([]),[p,v]=g.useState(!1);g.useEffect(()=>{C()},[t]);const C=async()=>{var T,j,D,P,H,oe,Y;try{const ce=await Nc(nt(ye,"challenges",t));if(ce.exists()){const M=ce.data();d({title:M.title||"",description:M.description||"",category:M.category||"web",customCategory:M.finalCategory||"",difficulty:M.difficulty||"easy",points:M.points||100,flag:M.flag||"",flagFormat:M.flagFormat||"CTF{.*}",hasMultipleQuestions:M.hasMultipleQuestions||!1,isExternalChallenge:!!M.attribution,isActive:M.isActive!==!1,hints:M.hints||[""],files:M.files||[],creator:((T=M.originalCreator)==null?void 0:T.name)||"",creatorUrl:((j=M.originalCreator)==null?void 0:j.url)||"",featuredOnPractice:M.featuredOnPractice||!1,availableInPractice:M.availableInPractice!==!1,challengeType:M.challengeType||"practice",externalSource:{ctfName:((D=M.attribution)==null?void 0:D.ctfName)||"",ctfUrl:((P=M.attribution)==null?void 0:P.ctfUrl)||"",originalAuthor:((H=M.attribution)==null?void 0:H.originalAuthor)||"",authorUrl:((oe=M.attribution)==null?void 0:oe.authorUrl)||"",license:((Y=M.attribution)==null?void 0:Y.license)||"unknown"}}),M.hasMultipleQuestions&&M.questions&&f(M.questions),M.finalCategory&&(v(!0),d(W=>({...W,category:"custom"})))}}catch(ce){console.error("Error loading challenge:",ce)}finally{i(!1)}},_=async T=>{T.preventDefault(),l(!0);try{const j={...c,finalCategory:p?c.customCategory:c.category,questions:c.hasMultipleQuestions?h:[],hints:c.hints.filter(D=>D.trim()!==""),totalPoints:c.hasMultipleQuestions?h.reduce((D,P)=>D+P.points,0):c.points,updatedAt:new Date,updatedBy:r==null?void 0:r.uid,updatedByName:(r==null?void 0:r.displayName)||(r==null?void 0:r.email),featuredOnPractice:c.featuredOnPractice,availableInPractice:c.availableInPractice,challengeType:c.challengeType,...c.isExternalChallenge&&{attribution:{...c.externalSource,importedBy:(r==null?void 0:r.displayName)||(r==null?void 0:r.email),importedById:r==null?void 0:r.uid,importedAt:new Date}},...c.creator&&{originalCreator:{name:c.creator,url:c.creatorUrl}}};await Rn(nt(ye,"challenges",t),j),alert("Challenge updated successfully!"),n()}catch(j){console.error("Error updating challenge:",j),alert("Error updating challenge. Please try again.")}finally{l(!1)}},N=()=>{d({...c,hints:[...c.hints,""]})},E=(T,j)=>{const D=[...c.hints];D[T]=j,d({...c,hints:D})},b=T=>{const j=c.hints.filter((D,P)=>P!==T);d({...c,hints:j})},S=()=>{const T={id:Date.now().toString(),question:"",points:0,flag:""};f([...h,T])},A=(T,j,D)=>{f(h.map(P=>P.id===T?{...P,[j]:D}:P))},L=T=>{h.length>1&&f(h.filter(j=>j.id!==T))},k=T=>{if(T==="link"){const j=prompt("Enter the URL:");if(j){const D={id:Date.now().toString(),name:`Link - ${new Date().toLocaleDateString()}`,url:j,type:"link"};d({...c,files:[...c.files,D]})}}else{const j=document.createElement("input");j.type="file",j.onchange=D=>{var H;const P=(H=D.target.files)==null?void 0:H[0];if(P){const oe={id:Date.now().toString(),name:P.name,url:URL.createObjectURL(P),type:"file"};d({...c,files:[...c.files,oe]})}},j.click()}},y=T=>{d({...c,files:c.files.filter(j=>j.id!==T)})},x=T=>{T==="custom"?(v(!0),d({...c,category:"custom"})):(v(!1),d({...c,category:T}))},I=(T,j)=>{d({...c,externalSource:{...c.externalSource,[T]:j}})};return s?o.jsx(re,{children:o.jsx(se,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:"Loading challenge..."})})}):o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Edit Challenge"}),o.jsx(Ht,{children:"Update challenge details and configuration"})]}),o.jsx(se,{children:o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(q,{className:"text-base",children:"Challenge Status"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active challenges are visible to users"})]}),o.jsx(Rt,{checked:c.isActive,onCheckedChange:T=>d({...c,isActive:T})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ye,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"Practice Visibility"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:"availableInPractice",checked:c.availableInPractice,onCheckedChange:T=>d({...c,availableInPractice:T})}),o.jsx(q,{htmlFor:"availableInPractice",className:"text-sm",children:"Available in Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{id:"featuredOnPractice",checked:c.featuredOnPractice,onCheckedChange:T=>d({...c,featuredOnPractice:T})}),o.jsxs(q,{htmlFor:"featuredOnPractice",className:"text-sm",children:[o.jsx(xv,{className:"w-4 h-4 inline mr-1"}),"Featured on Practice"]})]})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"challengeType",children:"Challenge Type"}),o.jsxs(Xt,{value:c.challengeType,onValueChange:T=>d({...c,challengeType:T}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"practice",children:"Practice Challenge"}),o.jsx(Z,{value:"live",children:"Live Event Challenge"}),o.jsx(Z,{value:"past_event",children:"Past Event Challenge"})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'"Practice" challenges appear in the Practice section. "Live Event" challenges are only available during events.'})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"title",children:"Challenge Title *"}),o.jsx(he,{id:"title",value:c.title,onChange:T=>d({...c,title:T.target.value}),placeholder:"Enter challenge title",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"category",children:"Category"}),o.jsxs(Xt,{value:c.category,onValueChange:x,children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"web",children:"Web"}),o.jsx(Z,{value:"crypto",children:"Cryptography"}),o.jsx(Z,{value:"forensics",children:"Forensics"}),o.jsx(Z,{value:"pwn",children:"Pwn"}),o.jsx(Z,{value:"reversing",children:"Reverse Engineering"}),o.jsx(Z,{value:"misc",children:"Miscellaneous"}),o.jsx(Z,{value:"custom",children:"Custom Category"})]})]})]}),p&&o.jsxs("div",{children:[o.jsx(q,{htmlFor:"customCategory",children:"Custom Category Name *"}),o.jsx(he,{id:"customCategory",value:c.customCategory,onChange:T=>d({...c,customCategory:T.target.value}),placeholder:"Enter your custom category name",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"difficulty",children:"Difficulty"}),o.jsxs(Xt,{value:c.difficulty,onValueChange:T=>d({...c,difficulty:T}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"easy",children:"Easy (1-100 points)"}),o.jsx(Z,{value:"medium",children:"Medium (101-300 points)"}),o.jsx(Z,{value:"hard",children:"Hard (301-500 points)"})]})]})]}),!c.hasMultipleQuestions&&o.jsxs("div",{children:[o.jsx(q,{htmlFor:"points",children:"Points *"}),o.jsx(he,{id:"points",type:"number",value:c.points,onChange:T=>d({...c,points:parseInt(T.target.value)||0}),min:"1",max:"1000",required:!0})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(q,{htmlFor:"description",children:"Description *"}),o.jsx(Ta,{id:"description",value:c.description,onChange:T=>d({...c,description:T.target.value}),placeholder:"Enter detailed challenge description, requirements, and any setup instructions...",rows:8,required:!0})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"Creator Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"creator",children:"Original Creator (Optional)"}),o.jsx(he,{id:"creator",value:c.creator,onChange:T=>d({...c,creator:T.target.value}),placeholder:"Name of the original challenge creator"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this if the challenge was created by someone else in your community"})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"creatorUrl",children:"Creator Profile URL"}),o.jsx(he,{id:"creatorUrl",value:c.creatorUrl,onChange:T=>d({...c,creatorUrl:T.target.value}),placeholder:"https://github.com/username"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Hd,{className:"w-5 h-5"}),o.jsx(q,{className:"text-base",children:"External CTF Challenge"})]}),o.jsx(Rt,{checked:c.isExternalChallenge,onCheckedChange:T=>d({...c,isExternalChallenge:T})})]}),c.isExternalChallenge&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide attribution for challenges downloaded from other CTF platforms"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"ctfName",children:"Original CTF Name *"}),o.jsx(he,{id:"ctfName",value:c.externalSource.ctfName,onChange:T=>I("ctfName",T.target.value),placeholder:"e.g., HackTheBox, TryHackMe, CTFtime",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"ctfUrl",children:"CTF Website URL"}),o.jsx(he,{id:"ctfUrl",value:c.externalSource.ctfUrl,onChange:T=>I("ctfUrl",T.target.value),placeholder:"https://ctf.example.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"originalAuthor",children:"Original Author *"}),o.jsx(he,{id:"originalAuthor",value:c.externalSource.originalAuthor,onChange:T=>I("originalAuthor",T.target.value),placeholder:"Name of the original challenge author",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"authorUrl",children:"Author Profile URL"}),o.jsx(he,{id:"authorUrl",value:c.externalSource.authorUrl,onChange:T=>I("authorUrl",T.target.value),placeholder:"https://github.com/original-author"})]})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"license",children:"License"}),o.jsxs(Xt,{value:c.externalSource.license,onValueChange:T=>I("license",T),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsx(Z,{value:"unknown",children:"Unknown"}),o.jsx(Z,{value:"MIT",children:"MIT License"}),o.jsx(Z,{value:"apache-2.0",children:"Apache 2.0"}),o.jsx(Z,{value:"gpl-3.0",children:"GPL v3.0"}),o.jsx(Z,{value:"cc-by-4.0",children:"Creative Commons BY 4.0"}),o.jsx(Z,{value:"custom",children:"Custom License"})]})]}),c.externalSource.license==="custom"&&o.jsx(he,{placeholder:"Specify custom license",className:"mt-2",onChange:T=>I("license",T.target.value)})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"multipleQuestions",className:"text-base",children:"Multiple Questions Challenge"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if this challenge contains multiple sub-questions with separate flags"})]}),o.jsx(Rt,{id:"multipleQuestions",checked:c.hasMultipleQuestions,onCheckedChange:T=>d({...c,hasMultipleQuestions:T})})]}),c.hasMultipleQuestions&&o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(q,{className:"text-base",children:"Challenge Questions"}),o.jsxs(K,{type:"button",onClick:S,variant:"outline",size:"sm",children:[o.jsx(ti,{className:"w-4 h-4 mr-1"}),"Add Question"]})]}),h.map((T,j)=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(q,{children:["Question ",j+1]}),h.length>1&&o.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>L(T.id),children:o.jsx(ic,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:`question-${T.id}`,children:"Question Text *"}),o.jsx(he,{id:`question-${T.id}`,value:T.question,onChange:D=>A(T.id,"question",D.target.value),placeholder:"Enter the question text",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:`points-${T.id}`,children:"Points *"}),o.jsx(he,{id:`points-${T.id}`,type:"number",value:T.points,onChange:D=>A(T.id,"points",parseInt(D.target.value)||0),min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:`flag-${T.id}`,children:"Flag *"}),o.jsx(he,{id:`flag-${T.id}`,value:T.flag,onChange:D=>A(T.id,"flag",D.target.value),placeholder:"Flag for this question",required:!0})]})]})]},T.id)),h.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Points: ",h.reduce((T,j)=>T+j.points,0)]})]}),!c.hasMultipleQuestions&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"flag",children:"Flag *"}),o.jsx(he,{id:"flag",value:c.flag,onChange:T=>d({...c,flag:T.target.value}),placeholder:"CTF{...} or any flag format",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"flagFormat",children:"Flag Format (Regex)"}),o.jsxs(Xt,{value:c.flagFormat,onValueChange:T=>d({...c,flagFormat:T}),children:[o.jsx($t,{children:o.jsx(Jt,{})}),o.jsxs(zt,{children:[o.jsxs(Z,{value:"CTF{.*}",children:["CTF","{text}"]}),o.jsxs(Z,{value:"FLAG{.*}",children:["FLAG","{text}"]}),o.jsx(Z,{value:".*",children:"Any format"}),o.jsx(Z,{value:"[A-Za-z0-9]{8,}",children:"Alphanumeric (8+ chars)"}),o.jsx(Z,{value:"custom",children:"Custom Regex"})]})]}),c.flagFormat==="custom"&&o.jsx(he,{placeholder:"Enter custom regex pattern",className:"mt-2",onChange:T=>d({...c,flagFormat:T.target.value})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(q,{children:"Files & Links"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(K,{type:"button",variant:"outline",onClick:()=>k("file"),children:[o.jsx(jC,{className:"w-4 h-4 mr-2"}),"Upload File"]}),o.jsxs(K,{type:"button",variant:"outline",onClick:()=>k("link"),children:[o.jsx(ra,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),c.files.length>0&&o.jsx("div",{className:"space-y-2",children:c.files.map(T=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[T.type==="file"?o.jsx(sc,{className:"w-4 h-4"}):o.jsx(ra,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:T.name}),T.type==="link"&&o.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs",children:"(View Link)"})]}),o.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(T.id),children:o.jsx(ic,{className:"w-4 h-4"})})]},T.id))})]}),o.jsxs("div",{children:[o.jsx(q,{children:"Hints (Optional)"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[c.hints.map((T,j)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx(he,{value:T,onChange:D=>E(j,D.target.value),placeholder:`Hint ${j+1}`}),c.hints.length>1&&o.jsx(K,{type:"button",variant:"outline",onClick:()=>b(j),children:"Remove"})]},j)),o.jsx(K,{type:"button",variant:"outline",onClick:N,children:"Add Hint"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(K,{type:"submit",disabled:a,children:[o.jsx(CC,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Changes"]}),o.jsx(K,{type:"button",variant:"outline",onClick:e,children:"Cancel"})]})]})})]})},tz=({onBack:t})=>{const[e,n]=g.useState({name:"",description:"",startDate:"",endDate:"",type:"ctf",maxParticipants:100,isPublic:!0}),r=async s=>{s.preventDefault(),console.log("Scheduling event:",e),alert("Event scheduling functionality coming soon!")};return o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Schedule New Event"}),o.jsx(Ht,{children:"Create and schedule CTF events and competitions"})]}),o.jsx(se,{children:o.jsxs("form",{onSubmit:r,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"name",children:"Event Name *"}),o.jsx(he,{id:"name",value:e.name,onChange:s=>n({...e,name:s.target.value}),placeholder:"Enter event name",required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"description",children:"Event Description"}),o.jsx(Ta,{id:"description",value:e.description,onChange:s=>n({...e,description:s.target.value}),placeholder:"Describe the event, rules, and objectives...",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"startDate",children:"Start Date & Time *"}),o.jsx(he,{id:"startDate",type:"datetime-local",value:e.startDate,onChange:s=>n({...e,startDate:s.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"endDate",children:"End Date & Time *"}),o.jsx(he,{id:"endDate",type:"datetime-local",value:e.endDate,onChange:s=>n({...e,endDate:s.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"type",children:"Event Type"}),o.jsxs("select",{id:"type",value:e.type,onChange:s=>n({...e,type:s.target.value}),className:"w-full p-2 border rounded",children:[o.jsx("option",{value:"ctf",children:"CTF Competition"}),o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"training",children:"Training Session"}),o.jsx("option",{value:"jeopardy",children:"Jeopardy Style"})]})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"maxParticipants",children:"Max Participants"}),o.jsx(he,{id:"maxParticipants",type:"number",value:e.maxParticipants,onChange:s=>n({...e,maxParticipants:parseInt(s.target.value)}),min:"1"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",checked:e.isPublic,onChange:s=>n({...e,isPublic:s.target.checked}),className:"rounded"}),o.jsx(q,{htmlFor:"isPublic",children:"Public Event (Visible to all users)"})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(K,{type:"submit",children:"Schedule Event"}),o.jsx(K,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},nz=({onBack:t})=>{const e=[{id:"1",user:"john_doe",challenge:"SQL Injection Master",submittedAt:"2024-01-15",status:"pending",content:"This is a mock write-up content...",rating:0},{id:"2",user:"jane_smith",challenge:"Crypto Challenge 1",submittedAt:"2024-01-14",status:"approved",content:"Another mock write-up...",rating:4}],n=i=>{console.log("Approving writeup:",i),alert(`Write-up ${i} approved!`)},r=i=>{console.log("Rejecting writeup:",i),alert(`Write-up ${i} rejected!`)},s=i=>{switch(i){case"pending":return o.jsx(Ue,{variant:"secondary",children:"Pending"});case"approved":return o.jsx(Ue,{variant:"default",children:"Approved"});case"rejected":return o.jsx(Ue,{variant:"destructive",children:"Rejected"});default:return o.jsx(Ue,{variant:"secondary",children:i})}};return o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Review Write-ups"}),o.jsxs(Ht,{children:["Review and approve user write-ups for challenges (",e.length," total)"]})]}),o.jsx(se,{children:o.jsxs("div",{className:"space-y-6",children:[e.map(i=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:i.challenge}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted by ",i.user," on ",i.submittedAt]})]}),s(i.status)]}),o.jsxs("div",{children:[o.jsx(q,{children:"Write-up Content"}),o.jsx("div",{className:"mt-1 p-3 border rounded bg-muted/50",children:i.content})]}),i.status==="pending"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(q,{htmlFor:`feedback-${i.id}`,children:"Feedback (Optional)"}),o.jsx(Ta,{id:`feedback-${i.id}`,placeholder:"Provide feedback for the user...",rows:3}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(K,{onClick:()=>n(i.id),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),o.jsx(K,{variant:"outline",onClick:()=>r(i.id),children:"Request Changes"}),o.jsx(K,{variant:"destructive",onClick:()=>r(i.id),children:"Reject"})]})]}),i.status!=="pending"&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Write-up has been ",i.status,". ",i.rating>0&&`Rating: ${i.rating}/5`]})]},i.id)),e.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No write-ups to review at this time."})]})})]})},rz=({onBack:t})=>{const e={totalUsers:150,activeUsers:47,totalChallenges:25,solvedChallenges:189,averageSolveTime:"2h 15m",popularCategory:"Web Security"},n=[{title:"Total Users",value:e.totalUsers,description:"Registered users",icon:nn,color:"text-blue-600"},{title:"Active Users (30d)",value:e.activeUsers,description:"Recently active users",icon:nn,color:"text-green-600"},{title:"Total Challenges",value:e.totalChallenges,description:"Available challenges",icon:Ye,color:"text-purple-600"},{title:"Challenge Solves",value:e.solvedChallenges,description:"Total solutions submitted",icon:Qn,color:"text-orange-600"},{title:"Avg Solve Time",value:e.averageSolveTime,description:"Average time to solve challenges",icon:ba,color:"text-red-600"},{title:"Popular Category",value:e.popularCategory,description:"Most solved category",icon:bC,color:"text-indigo-600"}];return o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Platform Analytics"}),o.jsx(Ht,{children:"Comprehensive overview of platform performance and user engagement"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map((r,s)=>o.jsx(re,{children:o.jsx(se,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:r.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.description})]}),o.jsx("div",{className:`p-3 rounded-full bg-muted ${r.color}`,children:o.jsx(r.icon,{className:"w-6 h-6"})})]})})},s))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{className:"text-lg",children:"User Growth"}),o.jsx(Ht,{children:"Last 30 days"})]}),o.jsx(se,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"User growth chart will be displayed here"})})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{className:"text-lg",children:"Challenge Performance"}),o.jsx(Ht,{children:"Solve rates by category"})]}),o.jsx(se,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Challenge performance chart will be displayed here"})})]})]}),o.jsxs("div",{className:"flex gap-2 mt-6",children:[o.jsx(K,{variant:"outline",onClick:t,children:"Back to Dashboard"}),o.jsx(K,{children:"Export Analytics"})]})]})]})},sz=({onBack:t})=>{const[e,n]=g.useState({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1}),[r,s]=g.useState(!1),i=async()=>{s(!0),setTimeout(()=>{alert("Settings saved successfully!"),s(!1)},1e3)},a=()=>{confirm("Are you sure you want to reset all settings to default?")&&n({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1})},l=(c,d)=>{n(h=>({...h,[c]:d}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"General Settings"}),o.jsx(Ht,{children:"Basic platform configuration"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"siteName",children:"Site Name"}),o.jsx(he,{id:"siteName",value:e.siteName,onChange:c=>l("siteName",c.target.value)})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"siteDescription",children:"Site Description"}),o.jsx(Ta,{id:"siteDescription",value:e.siteDescription,onChange:c=>l("siteDescription",c.target.value)})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"contactEmail",children:"Contact Email"}),o.jsx(he,{id:"contactEmail",type:"email",value:e.contactEmail,onChange:c=>l("contactEmail",c.target.value)})]})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Security Settings"}),o.jsx(Ht,{children:"Authentication and security configuration"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"requireEmailVerification",children:"Require Email Verification"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must verify their email address before accessing the platform"})]}),o.jsx(Rt,{id:"requireEmailVerification",checked:e.requireEmailVerification,onCheckedChange:c=>l("requireEmailVerification",c)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"allowRegistrations",children:"Allow New Registrations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register on the platform"})]}),o.jsx(Rt,{id:"allowRegistrations",checked:e.allowRegistrations,onCheckedChange:c=>l("allowRegistrations",c)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),o.jsx(he,{id:"maxLoginAttempts",type:"number",value:e.maxLoginAttempts,onChange:c=>l("maxLoginAttempts",parseInt(c.target.value)),min:"1",max:"10"})]}),o.jsxs("div",{children:[o.jsx(q,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),o.jsx(he,{id:"sessionTimeout",type:"number",value:e.sessionTimeout,onChange:c=>l("sessionTimeout",parseInt(c.target.value)),min:"1",max:"720"})]})]})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Challenge Settings"}),o.jsx(Ht,{children:"Challenge and write-up configuration"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"defaultPoints",children:"Default Points for New Challenges"}),o.jsx(he,{id:"defaultPoints",type:"number",value:e.defaultPoints,onChange:c=>l("defaultPoints",parseInt(c.target.value)),min:"1"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"allowWriteups",children:"Allow Write-ups"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users can submit write-ups for challenges"})]}),o.jsx(Rt,{id:"allowWriteups",checked:e.allowWriteups,onCheckedChange:c=>l("allowWriteups",c)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"writeupRequired",children:"Write-ups Required"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must submit a write-up to get points"})]}),o.jsx(Rt,{id:"writeupRequired",checked:e.writeupRequired,onCheckedChange:c=>l("writeupRequired",c),disabled:!e.allowWriteups})]})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Maintenance Mode"}),o.jsx(Ht,{children:"Take the platform offline for maintenance"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(q,{htmlFor:"maintenanceMode",children:"Enable Maintenance Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform will be unavailable to regular users"})]}),o.jsx(Rt,{id:"maintenanceMode",checked:e.maintenanceMode,onCheckedChange:c=>l("maintenanceMode",c)})]}),e.maintenanceMode&&o.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Maintenance mode is enabled. Only administrators can access the platform."})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(K,{onClick:i,disabled:r,children:r?"Saving...":"Save Settings"}),o.jsx(K,{variant:"outline",onClick:a,children:"Reset to Defaults"}),o.jsx(K,{variant:"outline",onClick:t,children:"Back to Dashboard"})]})]})},iz=()=>{const{isAdmin:t,isModerator:e}=dC(),n=ir(),[r,s]=g.useState("overview"),[i,a]=g.useState(null);if(!t&&!e)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen",children:o.jsx("div",{className:"container px-4 mx-auto text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx(Ye,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access the admin dashboard."}),o.jsx(K,{onClick:()=>n("/dashboard"),children:"Return to Dashboard"})]})})}),o.jsx(gt,{})]});const l=()=>{switch(r){case"users":return o.jsx(P9,{onBack:()=>s("overview")});case"challenge-management":return o.jsx(Z$,{onBack:()=>s("overview"),onCreateNew:()=>s("create-challenge"),onEditChallenge:d=>{a(d),s("edit-challenge")}});case"create-challenge":return o.jsx(J$,{onBack:()=>s("challenge-management")});case"edit-challenge":return o.jsx(ez,{challengeId:i.id,onBack:()=>s("challenge-management"),onSave:()=>s("challenge-management")});case"schedule-event":return o.jsx(tz,{onBack:()=>s("overview")});case"review-writeups":return o.jsx(nz,{onBack:()=>s("overview")});case"analytics":return o.jsx(rz,{onBack:()=>s("overview")});case"settings":return o.jsx(sz,{onBack:()=>s("overview")});default:return c()}},c=()=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(re,{children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium",children:"Total Users"}),o.jsx(nn,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"2"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium",children:"Active Challenges"}),o.jsx(Ye,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No challenges yet"})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium",children:"Live Events"}),o.jsx(ta,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No events yet"})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ne,{className:"text-sm font-medium",children:"Pending Write-ups"}),o.jsx(sc,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(se,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No write-ups yet"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"Content Management"}),o.jsx(Ht,{children:"Create and manage platform content"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs(K,{className:"w-full justify-start gap-2",onClick:()=>s("create-challenge"),children:[o.jsx(ti,{className:"w-4 h-4"}),"Create New Challenge"]}),o.jsxs(K,{className:"w-full justify-start gap-2",onClick:()=>s("challenge-management"),children:[o.jsx(Jm,{className:"w-4 h-4"}),"Manage Challenges"]}),o.jsxs(K,{className:"w-full justify-start gap-2",onClick:()=>s("schedule-event"),children:[o.jsx(ti,{className:"w-4 h-4"}),"Schedule New Event"]}),o.jsxs(K,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("review-writeups"),children:[o.jsx(sc,{className:"w-4 h-4"}),"Review Write-ups"]})]})]}),o.jsxs(re,{children:[o.jsxs(Te,{children:[o.jsx(Ne,{children:"User Management"}),o.jsx(Ht,{children:"Manage users and permissions"})]}),o.jsxs(se,{className:"space-y-4",children:[o.jsxs(K,{className:"w-full justify-start gap-2",onClick:()=>s("users"),children:[o.jsx(nn,{className:"w-4 h-4"}),"View All Users"]}),t&&o.jsxs(K,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("analytics"),children:[o.jsx(bC,{className:"w-4 h-4"}),"Platform Analytics"]}),o.jsxs(K,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("settings"),children:[o.jsx(IC,{className:"w-4 h-4"}),"System Settings"]})]})]})]})]});return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:r==="overview"?"Admin Dashboard":r==="users"?"User Management":r==="challenge-management"?"Challenge Management":r==="create-challenge"?"Create Challenge":r==="edit-challenge"?"Edit Challenge":r==="schedule-event"?"Schedule Event":r==="review-writeups"?"Review Write-ups":r==="analytics"?"Platform Analytics":r==="settings"?"System Settings":"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:r==="overview"?"Manage your CTF platform, users, challenges, and events":"Admin management panel"})]}),r!=="overview"&&o.jsx(K,{variant:"outline",onClick:()=>{s(r==="create-challenge"||r==="edit-challenge"?"challenge-management":"overview")},children:r==="create-challenge"||r==="edit-challenge"?"Back to Challenges":"Back to Dashboard"})]}),o.jsx("div",{className:"flex items-center gap-2 mt-2",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${t?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:t?"Administrator":"Moderator"})})]}),l()]})}),o.jsx(gt,{})]})},oz=()=>{var H,oe,Y,ce,M,W,te;const{challengeId:t}=yR(),e=ir(),{user:n}=$n(),[r,s]=g.useState(null),[i,a]=g.useState(!0),[l,c]=g.useState(!1),[d,h]=g.useState(""),[f,p]=g.useState(null),[v,C]=g.useState([]),[_,N]=g.useState([]),[E,b]=g.useState("description"),S="/ZedCTF";g.useEffect(()=>{t&&(A(),L())},[t]);const A=async()=>{try{a(!0);const O=await Nc(nt(ye,"challenges",t));if(O.exists()){const U={id:O.id,...O.data()};s(U),U.hints&&C(new Array(U.hints.length).fill(!1))}else p({type:"error",text:"Challenge not found"})}catch(O){console.error("Error fetching challenge:",O),p({type:"error",text:"Failed to load challenge"})}finally{a(!1)}},L=async()=>{if(!(!n||!t))try{const O=zr(kt(ye,"submissions"),Tr("challengeId","==",t),Tr("userId","==",n.uid),qs("submittedAt","desc")),ne=(await Zn(O)).docs.map(ae=>({id:ae.id,...ae.data()}));N(ne)}catch(O){console.error("Error fetching submissions:",O)}},k=async()=>{var O;if(!(!r||!n||!d.trim())){c(!0),p(null);try{let U=!1;r.hasMultipleQuestions&&r.questions?U=!!r.questions.find(Ae=>Ae.flag&&Ae.flag.trim()===d.trim()):U=((O=r.flag)==null?void 0:O.trim())===d.trim();const ne={challengeId:r.id,challengeTitle:r.title,userId:n.uid,userName:n.displayName||n.email,flag:d,isCorrect:U,submittedAt:new Date,pointsAwarded:U&&r.points||0};await zS(kt(ye,"submissions"),ne),U?(p({type:"success",text:"Congratulations! Flag is correct!"}),h(""),A(),L()):p({type:"error",text:"Incorrect flag. Please try again."})}catch(U){console.error("Error submitting flag:",U),p({type:"error",text:"Failed to submit flag. Please try again."})}finally{c(!1)}}},y=O=>{const U=[...v];U[O]=!U[O],C(U)},x=()=>{e(`${S}/practice`)},I=O=>{navigator.clipboard.writeText(O)},T=(H=r==null?void 0:r.solvedBy)==null?void 0:H.includes((n==null?void 0:n.uid)||"");if(i)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading challenge..."})]})})}),o.jsx(gt,{})]});if(!r)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(re,{className:"max-w-md mx-auto border",children:o.jsxs(se,{className:"p-6 text-center",children:[o.jsx(Ye,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Challenge Not Found"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"The challenge you're looking for doesn't exist."}),o.jsxs(K,{onClick:x,variant:"terminal",size:"sm",children:[o.jsx(z_,{className:"w-3 h-3 mr-1"}),"Back to Practice"]})]})})})}),o.jsx(gt,{})]});const j=O=>{switch(O){case"easy":return"bg-green-500/20 text-green-600 border-green-200";case"medium":return"bg-yellow-500/20 text-yellow-600 border-yellow-200";case"hard":return"bg-red-500/20 text-red-600 border-red-200";case"expert":return"bg-purple-500/20 text-purple-600 border-purple-200";default:return"bg-gray-500/20 text-gray-600 border-gray-200"}},D=O=>({web:"bg-blue-500/20 text-blue-600 border-blue-200",crypto:"bg-purple-500/20 text-purple-600 border-purple-200",forensics:"bg-orange-500/20 text-orange-600 border-orange-200",pwn:"bg-red-500/20 text-red-600 border-red-200",reversing:"bg-indigo-500/20 text-indigo-600 border-indigo-200",misc:"bg-gray-500/20 text-gray-600 border-gray-200"})[O]||"bg-gray-500/20 text-gray-600 border-gray-200",P=()=>{if(!r.description)return null;const O=r.description.split(`
`),U=[];for(let ne=0;ne<O.length;ne++){const ae=O[ne].trim();if(ae.startsWith("n =")||ae.startsWith("e =")||ae.startsWith("c =")){const[Ae,...be]=ae.split("="),ie=be.join("=").trim();U.push(o.jsxs("div",{className:"mb-3 p-3 bg-muted/30 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("span",{className:"font-mono font-semibold text-xs",children:[Ae,"="]}),o.jsx(K,{variant:"ghost",size:"sm",onClick:()=>I(ie),className:"h-6 px-2",children:o.jsx(W_,{className:"w-3 h-3"})})]}),o.jsx("div",{className:"font-mono text-xs bg-background p-2 rounded border break-all",children:ie})]},ne))}else if(ae.includes("=")&&ae.length>50){const[Ae,...be]=ae.split("="),ie=be.join("=").trim();U.push(o.jsxs("div",{className:"mb-2",children:[o.jsxs("strong",{className:"text-sm",children:[Ae,"="]}),o.jsx("div",{className:"font-mono text-xs bg-muted/30 p-2 rounded border break-all mt-1",children:ie})]},ne))}else ae?U.push(o.jsx("p",{className:"mb-2 text-sm leading-relaxed",children:ae},ne)):U.push(o.jsx("div",{className:"mb-2"},ne))}return U};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(K,{variant:"ghost",onClick:x,size:"sm",className:"-ml-3",children:[o.jsx(z_,{className:"w-3 h-3 mr-1"}),"Back to Practice"]}),o.jsx("h1",{className:"text-xl font-bold",children:r.title})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[T&&o.jsxs(Ue,{className:"bg-green-500/20 text-green-600 border-green-200",children:[o.jsx(Ur,{className:"w-3 h-3 mr-1"}),"Solved"]}),r.featuredOnPractice&&o.jsxs(Ue,{className:"bg-yellow-500/20 text-yellow-600 border-yellow-200",children:[o.jsx(xv,{className:"w-3 h-3 mr-1"}),"Featured"]})]})]}),o.jsx(re,{className:"mb-4 border",children:o.jsx(se,{className:"p-3",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[o.jsx(Ue,{className:j(r.difficulty),children:r.difficulty}),o.jsx(Ue,{className:D(r.finalCategory||r.category),children:r.finalCategory||r.category}),o.jsxs(Ue,{variant:"outline",className:"font-mono font-semibold",children:[r.totalPoints||r.points," pts"]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(nn,{className:"w-3 h-3"}),o.jsxs("span",{children:[((oe=r.solvedBy)==null?void 0:oe.length)||0," solves"]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(ba,{className:"w-3 h-3"}),o.jsx("span",{children:((M=(ce=(Y=r.createdAt)==null?void 0:Y.toDate)==null?void 0:ce.call(Y))==null?void 0:M.toLocaleDateString())||new Date(r.createdAt).toLocaleDateString()})]}),o.jsxs("div",{className:"text-muted-foreground",children:["By: ",r.createdByName||"Unknown"]}),r.originalCreator&&o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx("span",{children:"Original: "}),r.originalCreator.url?o.jsxs("a",{href:r.originalCreator.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary hover:underline",children:[r.originalCreator.name,o.jsx(Hd,{className:"w-3 h-3"})]}):o.jsx("span",{children:r.originalCreator.name})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:o.jsxs(uI,{value:E,onValueChange:b,className:"w-full",children:[o.jsxs(Tv,{className:"grid w-full grid-cols-3",children:[o.jsx(dr,{value:"description",className:"text-xs",children:"Description"}),o.jsxs(dr,{value:"hints",className:"text-xs",children:["Hints (",((W=r.hints)==null?void 0:W.length)||0,")"]}),o.jsxs(dr,{value:"files",className:"text-xs",children:["Files & Links (",((te=r.files)==null?void 0:te.length)||0,")"]})]}),o.jsx(Il,{value:"description",className:"space-y-3 mt-3",children:o.jsx(re,{className:"border",children:o.jsx(se,{className:"p-4",children:o.jsx("div",{className:"space-y-3",children:r.hasMultipleQuestions&&r.questions?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Questions"}),r.questions.map((O,U)=>{var ne;return o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("h4",{className:"font-semibold text-sm mb-1",children:["Question ",U+1]}),o.jsx("p",{className:"mb-2 text-xs text-muted-foreground",children:O.question}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:"font-mono font-semibold",children:[O.points," points"]}),((ne=r.solvedBy)==null?void 0:ne.includes((n==null?void 0:n.uid)||""))&&o.jsxs(Ue,{variant:"outline",className:"font-mono text-xs",children:["Flag: ",O.flag]})]})]},O.id)})]}):o.jsxs("div",{className:"space-y-3",children:[P(),r.flagFormat&&o.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-200 rounded text-xs",children:o.jsxs("p",{className:"text-blue-600",children:[o.jsx("strong",{children:"Flag Format:"})," ",r.flagFormat]})}),T&&r.flag&&o.jsx("div",{className:"p-3 bg-green-500/10 border border-green-200 rounded",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-xs text-green-600 font-mono break-all",children:[o.jsx("strong",{children:"Flag:"})," ",r.flag]}),o.jsx(K,{variant:"ghost",size:"sm",onClick:()=>I(r.flag),className:"h-6 px-2",children:o.jsx(W_,{className:"w-3 h-3"})})]})})]})})})})}),o.jsx(Il,{value:"hints",className:"mt-3",children:o.jsx(re,{className:"border",children:o.jsx(se,{className:"p-4",children:r.hints&&r.hints.length>0?o.jsx("div",{className:"space-y-2",children:r.hints.map((O,U)=>o.jsx(re,{className:"border",children:o.jsxs(se,{className:"p-3",children:[o.jsxs(K,{variant:"ghost",onClick:()=>y(U),className:"w-full justify-between p-0 h-auto hover:bg-transparent",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nU,{className:"w-3 h-3"}),o.jsxs("span",{className:"text-sm",children:["Hint ",U+1]})]}),o.jsx("div",{className:`transform transition-transform ${v[U]?"rotate-180":""}`,children:""})]}),v[U]&&o.jsx("p",{className:"mt-2 text-xs text-muted-foreground pl-5",children:O})]})},U))}):o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No hints available."})})})})}),o.jsx(Il,{value:"files",className:"mt-3",children:o.jsx(re,{className:"border",children:o.jsx(se,{className:"p-4",children:r.files&&r.files.length>0?o.jsx("div",{className:"space-y-2",children:r.files.map((O,U)=>o.jsxs("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 text-sm border rounded hover:bg-accent transition-colors",children:[O.type==="file"?o.jsx(sc,{className:"w-3 h-3"}):o.jsx(ra,{className:"w-3 h-3"}),o.jsx("span",{className:"flex-1 truncate",children:O.name}),o.jsx(Hd,{className:"w-3 h-3"})]},U))}):o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No files or links available."})})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(re,{className:"border sticky top-4",children:[o.jsx(Te,{className:"p-4 pb-2",children:o.jsxs(Ne,{className:"flex items-center gap-2 text-base",children:[o.jsx(TC,{className:"w-4 h-4"}),"Submit Flag"]})}),o.jsxs(se,{className:"p-4 pt-2 space-y-3",children:[f&&o.jsxs(Nv,{className:`text-sm ${f.type==="success"?"bg-green-500/10 border-green-200":"bg-red-500/10 border-red-200"}`,children:[f.type==="success"?o.jsx(Ur,{className:"w-4 h-4 text-green-600"}):o.jsx(na,{className:"w-4 h-4 text-red-600"}),o.jsx(Sv,{className:f.type==="success"?"text-green-600":"text-red-600",children:f.text})]}),T?o.jsxs("div",{className:"text-center p-3 bg-green-500/10 border border-green-200 rounded",children:[o.jsx(Ur,{className:"w-8 h-8 text-green-600 mx-auto mb-1"}),o.jsx("p",{className:"text-green-600 font-semibold text-sm",children:"Challenge Solved!"}),o.jsxs("p",{className:"text-green-600 text-xs mt-1",children:["+",r.totalPoints||r.points," points"]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(q,{htmlFor:"flag",className:"text-xs font-medium",children:"Enter Flag"}),o.jsx(he,{id:"flag",placeholder:"CTF{...} or flag content",value:d,onChange:O=>h(O.target.value),onKeyPress:O=>O.key==="Enter"&&k(),className:"font-mono text-sm h-9"})]}),o.jsx(K,{onClick:k,disabled:l||!d.trim(),className:"w-full h-9",variant:"terminal",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-3 h-3 border border-white border-t-transparent rounded-full mr-2"}),"Checking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Submit Flag"]})})]})]})]}),_.length>0&&o.jsxs(re,{className:"border",children:[o.jsx(Te,{className:"p-4 pb-2",children:o.jsx(Ne,{className:"text-base",children:"Submission History"})}),o.jsx(se,{className:"p-4 pt-2",children:o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:_.map(O=>{var U,ne,ae;return o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[O.isCorrect?o.jsx(Ur,{className:"w-3 h-3 text-green-600 flex-shrink-0"}):o.jsx(na,{className:"w-3 h-3 text-red-600 flex-shrink-0"}),o.jsx("code",{className:"truncate font-mono",children:O.flag})]}),o.jsx("span",{className:"text-muted-foreground flex-shrink-0 ml-1 text-xs",children:((ae=(ne=(U=O.submittedAt)==null?void 0:U.toDate)==null?void 0:ne.call(U))==null?void 0:ae.toLocaleTimeString())||new Date(O.submittedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},O.id)})})})]})]})]})]})}),o.jsx(gt,{})]})};function az(){return o.jsx(cC,{children:o.jsx(X6,{children:o.jsx(J6,{children:o.jsx(BR,{basename:"/ZedCTF",children:o.jsxs(DR,{children:[o.jsx(on,{path:"/",element:o.jsx(pU,{})}),o.jsx(on,{path:"/login",element:o.jsx(mU,{})}),o.jsx(on,{path:"/signup",element:o.jsx(gU,{})}),o.jsx(on,{path:"/auth/github/callback",element:o.jsx(xU,{})}),o.jsx(on,{path:"/dashboard",element:o.jsx(ps,{children:o.jsx(EU,{})})}),o.jsx(on,{path:"/practice",element:o.jsx(ps,{children:o.jsx(NU,{})})}),o.jsx(on,{path:"/live",element:o.jsx(ps,{children:o.jsx(SU,{})})}),o.jsx(on,{path:"/leaderboard",element:o.jsx(ps,{children:o.jsx(qU,{})})}),o.jsx(on,{path:"/writeups",element:o.jsx(ps,{children:o.jsx(yU,{})})}),o.jsx(on,{path:"/writeups/create",element:o.jsx(ps,{children:o.jsx(vU,{})})}),o.jsx(on,{path:"/challenge/:challengeId",element:o.jsx(ps,{children:o.jsx(oz,{})})}),o.jsx(on,{path:"/admin",element:o.jsx(ps,{children:o.jsx(iz,{})})}),o.jsx(on,{path:"*",element:o.jsx(wU,{})})]})})})})})}FE(document.getElementById("root")).render(o.jsx(cC,{children:o.jsx(az,{})}));
