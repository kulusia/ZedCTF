function _A(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sE={exports:{}},jd={},iE={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),EA=Symbol.for("react.portal"),bA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),CA=Symbol.for("react.context"),NA=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),RA=Symbol.for("react.memo"),kA=Symbol.for("react.lazy"),dx=Symbol.iterator;function PA(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var oE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aE=Object.assign,lE={};function Go(t,e,n){this.props=t,this.context=e,this.refs=lE,this.updater=n||oE}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cE(){}cE.prototype=Go.prototype;function qm(t,e,n){this.props=t,this.context=e,this.refs=lE,this.updater=n||oE}var Gm=qm.prototype=new cE;Gm.constructor=qm;aE(Gm,Go.prototype);Gm.isPureReactComponent=!0;var hx=Array.isArray,uE=Object.prototype.hasOwnProperty,Km={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uE.call(e,r)&&!dE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ql,type:t,key:i,ref:o,props:s,_owner:Km.current}}function jA(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function DA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fx=/\/+/g;function Zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DA(""+t.key):e.toString(36)}function iu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case EA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zh(o,0):r,hx(s)?(n="",t!=null&&(n=t.replace(fx,"$&/")+"/"),iu(s,e,n,"",function(d){return d})):s!=null&&(Qm(s)&&(s=jA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Zh(i,l);o+=iu(i,e,n,c,s)}else if(c=PA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Zh(i,l++),o+=iu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(t,e,n){if(t==null)return t;var r=[],s=0;return iu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function LA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},ou={transition:null},OA={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:ou,ReactCurrentOwner:Km};function fE(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Ic,forEach:function(t,e,n){Ic(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ic(t,function(){e++}),e},toArray:function(t){return Ic(t,function(e){return e})||[]},only:function(t){if(!Qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Go;ue.Fragment=bA;ue.Profiler=SA;ue.PureComponent=qm;ue.StrictMode=TA;ue.Suspense=AA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;ue.act=fE;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)uE.call(e,c)&&!dE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ql,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:CA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IA,_context:t},t.Consumer=t};ue.createElement=hE;ue.createFactory=function(t){var e=hE.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:NA,render:t}};ue.isValidElement=Qm;ue.lazy=function(t){return{$$typeof:kA,_payload:{_status:-1,_result:t},_init:LA}};ue.memo=function(t,e){return{$$typeof:RA,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ou.transition;ou.transition={};try{t()}finally{ou.transition=e}};ue.unstable_act=fE;ue.useCallback=function(t,e){return Wt.current.useCallback(t,e)};ue.useContext=function(t){return Wt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Wt.current.useEffect(t,e)};ue.useId=function(){return Wt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Wt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};ue.useRef=function(t){return Wt.current.useRef(t)};ue.useState=function(t){return Wt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Wt.current.useTransition()};ue.version="18.3.1";iE.exports=ue;var g=iE.exports;const ts=rE(g),Dd=_A({__proto__:null,default:ts},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=g,VA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),UA=Object.prototype.hasOwnProperty,BA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zA={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UA.call(e,r)&&!zA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:VA,type:t,key:i,ref:o,props:s,_owner:BA.current}}jd.Fragment=FA;jd.jsx=pE;jd.jsxs=pE;sE.exports=jd;var a=sE.exports,mE={exports:{}},xn={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var K=V.length;V.push($);e:for(;0<K;){var ae=K-1>>>1,Ne=V[ae];if(0<s(Ne,$))V[ae]=$,V[K]=Ne,K=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],K=V.pop();if(K!==$){V[0]=K;e:for(var ae=0,Ne=V.length,on=Ne>>>1;ae<on;){var Xe=2*(ae+1)-1,qt=V[Xe],at=Xe+1,J=V[at];if(0>s(qt,K))at<Ne&&0>s(J,qt)?(V[ae]=J,V[at]=K,ae=at):(V[ae]=qt,V[Xe]=K,ae=Xe);else if(at<Ne&&0>s(J,K))V[ae]=J,V[at]=K,ae=at;else break e}}return $}function s(V,$){var K=V.sortIndex-$.sortIndex;return K!==0?K:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,y=!1,S=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=V)r(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function R(V){if(x=!1,I(V),!S)if(n(c)!==null)S=!0,Q(L);else{var $=n(d);$!==null&&oe(R,$.startTime-V)}}function L(V,$){S=!1,x&&(x=!1,b(_),_=-1),y=!0;var K=m;try{for(I($),f=n(c);f!==null&&(!(f.expirationTime>$)||V&&!D());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,m=f.priorityLevel;var Ne=ae(f.expirationTime<=$);$=t.unstable_now(),typeof Ne=="function"?f.callback=Ne:f===n(c)&&r(c),I($)}else r(c);f=n(c)}if(f!==null)var on=!0;else{var Xe=n(d);Xe!==null&&oe(R,Xe.startTime-$),on=!1}return on}finally{f=null,m=K,y=!1}}var A=!1,E=null,_=-1,C=5,k=-1;function D(){return!(t.unstable_now()-k<C)}function j(){if(E!==null){var V=t.unstable_now();k=V;var $=!0;try{$=E(!0,V)}finally{$?P():(A=!1,E=null)}}else A=!1}var P;if(typeof w=="function")P=function(){w(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=j,P=function(){ne.postMessage(null)}}else P=function(){T(j,0)};function Q(V){E=V,A||(A=!0,P())}function oe(V,$){_=T(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,Q(L))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var K=m;m=$;try{return V()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=m;m=V;try{return $()}finally{m=K}},t.unstable_scheduleCallback=function(V,$,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=K+Ne,V={id:h++,callback:$,priorityLevel:V,startTime:K,expirationTime:Ne,sortIndex:-1},K>ae?(V.sortIndex=K,e(d,V),n(c)===null&&V===n(d)&&(x?(b(_),_=-1):x=!0,oe(R,K-ae))):(V.sortIndex=Ne,e(c,V),S||y||(S=!0,Q(L))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var $=m;return function(){var K=m;m=$;try{return V.apply(this,arguments)}finally{m=K}}}})(yE);gE.exports=yE;var $A=gE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA=g,vn=$A;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vE=new Set,dl={};function Bi(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(dl[t]=e,t=0;t<e.length;t++)vE.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,HA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,px={},mx={};function qA(t){return op.call(mx,t)?!0:op.call(px,t)?!1:HA.test(t)?mx[t]=!0:(px[t]=!0,!1)}function GA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KA(t,e,n,r){if(e===null||typeof e>"u"||GA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);Tt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ym,Xm);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,n,r){var s=Tt.hasOwnProperty(e)?Tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KA(e,n,s,r)&&(n=null),r||s===null?qA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=WA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),_E=Symbol.for("react.offscreen"),gx=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,ef;function Ma(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function nf(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function QA(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=nf(t.type,!1),t;case 11:return t=nf(t.type.render,!1),t;case 1:return t=nf(t.type,!0),t;default:return""}}function up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case so:return"Portal";case ap:return"Profiler";case Zm:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wE:return(t.displayName||"Context")+".Consumer";case xE:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tg:return e=t.displayName||null,e!==null?e:up(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return up(t(e))}catch{}}return null}function YA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(e);case 8:return e===Zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=EE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nc(t){t._valueTracker||(t._valueTracker=XA(t))}function bE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dp(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function hp(t,e){TE(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&fp(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fp(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Va(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function SE(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ac,CE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JA=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){JA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function NE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function AE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=NE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZA=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(t,e){if(e){if(ZA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xp=null,vo=null,xo=null;function _x(t){if(t=Ql(t)){if(typeof xp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Fd(e),xp(t.stateNode,t.type,e))}}function RE(t){vo?xo?xo.push(t):xo=[t]:vo=t}function kE(){if(vo){var t=vo,e=xo;if(xo=vo=null,_x(t),e)for(t=0;t<e.length;t++)_x(e[t])}}function PE(t,e){return t(e)}function jE(){}var rf=!1;function DE(t,e,n){if(rf)return t(e,n);rf=!0;try{return PE(t,e,n)}finally{rf=!1,(vo!==null||xo!==null)&&(jE(),kE())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var wp=!1;if(kr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){wp=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{wp=!1}function eR(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Qa=!1,ku=null,Pu=!1,_p=null,tR={onError:function(t){Qa=!0,ku=t}};function nR(t,e,n,r,s,i,o,l,c){Qa=!1,ku=null,eR.apply(tR,arguments)}function rR(t,e,n,r,s,i,o,l,c){if(nR.apply(this,arguments),Qa){if(Qa){var d=ku;Qa=!1,ku=null}else throw Error(B(198));Pu||(Pu=!0,_p=d)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ex(t){if(zi(t)!==t)throw Error(B(188))}function sR(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ex(s),t;if(i===r)return Ex(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function OE(t){return t=sR(t),t!==null?ME(t):null}function ME(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ME(t);if(e!==null)return e;t=t.sibling}return null}var VE=vn.unstable_scheduleCallback,bx=vn.unstable_cancelCallback,iR=vn.unstable_shouldYield,oR=vn.unstable_requestPaint,tt=vn.unstable_now,aR=vn.unstable_getCurrentPriorityLevel,rg=vn.unstable_ImmediatePriority,FE=vn.unstable_UserBlockingPriority,ju=vn.unstable_NormalPriority,lR=vn.unstable_LowPriority,UE=vn.unstable_IdlePriority,Ld=null,ir=null;function cR(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:hR,uR=Math.log,dR=Math.LN2;function hR(t){return t>>>=0,t===0?32:31-(uR(t)/dR|0)|0}var Rc=64,kc=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Fa(l):(i&=o,i!==0&&(r=Fa(i)))}else o=n&~s,o!==0?r=Fa(o):i!==0&&(r=Fa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),s=1<<n,r|=t[n],e&=~s;return r}function fR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=fR(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ep(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BE(){var t=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),t}function sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function mR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function sg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function zE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $E,ig,WE,HE,qE,bp=!1,Pc=[],xs=null,ws=null,_s=null,pl=new Map,ml=new Map,is=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(t,e){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function Na(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ql(e),e!==null&&ig(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yR(t,e,n,r,s){switch(e){case"focusin":return xs=Na(xs,t,e,n,r,s),!0;case"dragenter":return ws=Na(ws,t,e,n,r,s),!0;case"mouseover":return _s=Na(_s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pl.set(i,Na(pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ml.set(i,Na(ml.get(i)||null,t,e,n,r,s)),!0}return!1}function GE(t){var e=fi(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=LE(n),e!==null){t.blockedOn=e,qE(t.priority,function(){WE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return e=Ql(n),e!==null&&ig(e),t.blockedOn=n,!1;e.shift()}return!0}function Sx(t,e,n){au(t)&&n.delete(e)}function vR(){bp=!1,xs!==null&&au(xs)&&(xs=null),ws!==null&&au(ws)&&(ws=null),_s!==null&&au(_s)&&(_s=null),pl.forEach(Sx),ml.forEach(Sx)}function Aa(t,e){t.blockedOn===e&&(t.blockedOn=null,bp||(bp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,vR)))}function gl(t){function e(s){return Aa(s,t)}if(0<Pc.length){Aa(Pc[0],t);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xs!==null&&Aa(xs,t),ws!==null&&Aa(ws,t),_s!==null&&Aa(_s,t),pl.forEach(e),ml.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&is.shift()}var wo=zr.ReactCurrentBatchConfig,Lu=!0;function xR(t,e,n,r){var s=Ee,i=wo.transition;wo.transition=null;try{Ee=1,og(t,e,n,r)}finally{Ee=s,wo.transition=i}}function wR(t,e,n,r){var s=Ee,i=wo.transition;wo.transition=null;try{Ee=4,og(t,e,n,r)}finally{Ee=s,wo.transition=i}}function og(t,e,n,r){if(Lu){var s=Tp(t,e,n,r);if(s===null)mf(t,e,r,Ou,n),Tx(t,r);else if(yR(s,t,e,n,r))r.stopPropagation();else if(Tx(t,r),e&4&&-1<gR.indexOf(t)){for(;s!==null;){var i=Ql(s);if(i!==null&&$E(i),i=Tp(t,e,n,r),i===null&&mf(t,e,r,Ou,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mf(t,e,r,null,n)}}var Ou=null;function Tp(t,e,n,r){if(Ou=null,t=ng(r),t=fi(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ou=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aR()){case rg:return 1;case FE:return 4;case ju:case lR:return 16;case UE:return 536870912;default:return 16}default:return 16}}var fs=null,ag=null,lu=null;function QE(){if(lu)return lu;var t,e=ag,n=e.length,r,s="value"in fs?fs.value:fs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lu=s.slice(t,1<r?1-r:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jc(){return!0}function Ix(){return!1}function wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jc:Ix,this.isPropagationStopped=Ix,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=wn(Ko),Kl=$e({},Ko,{view:0,detail:0}),_R=wn(Kl),of,af,Ra,Od=$e({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(of=t.screenX-Ra.screenX,af=t.screenY-Ra.screenY):af=of=0,Ra=t),of)},movementY:function(t){return"movementY"in t?t.movementY:af}}),Cx=wn(Od),ER=$e({},Od,{dataTransfer:0}),bR=wn(ER),TR=$e({},Kl,{relatedTarget:0}),lf=wn(TR),SR=$e({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),IR=wn(SR),CR=$e({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NR=wn(CR),AR=$e({},Ko,{data:0}),Nx=wn(AR),RR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PR[t])?!!e[t]:!1}function cg(){return jR}var DR=$e({},Kl,{key:function(t){if(t.key){var e=RR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LR=wn(DR),OR=$e({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=wn(OR),MR=$e({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),VR=wn(MR),FR=$e({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=wn(FR),BR=$e({},Od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zR=wn(BR),$R=[9,13,27,32],ug=kr&&"CompositionEvent"in window,Ya=null;kr&&"documentMode"in document&&(Ya=document.documentMode);var WR=kr&&"TextEvent"in window&&!Ya,YE=kr&&(!ug||Ya&&8<Ya&&11>=Ya),Rx=" ",kx=!1;function XE(t,e){switch(t){case"keyup":return $R.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function HR(t,e){switch(t){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(kx=!0,Rx);case"textInput":return t=e.data,t===Rx&&kx?null:t;default:return null}}function qR(t,e){if(oo)return t==="compositionend"||!ug&&XE(t,e)?(t=QE(),lu=ag=fs=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var GR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GR[t.type]:e==="textarea"}function ZE(t,e,n,r){RE(r),e=Mu(e,"onChange"),0<e.length&&(n=new lg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,yl=null;function KR(t){ub(t,0)}function Md(t){var e=co(t);if(bE(e))return t}function QR(t,e){if(t==="change")return e}var eb=!1;if(kr){var cf;if(kr){var uf="oninput"in document;if(!uf){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),uf=typeof jx.oninput=="function"}cf=uf}else cf=!1;eb=cf&&(!document.documentMode||9<document.documentMode)}function Dx(){Xa&&(Xa.detachEvent("onpropertychange",tb),yl=Xa=null)}function tb(t){if(t.propertyName==="value"&&Md(yl)){var e=[];ZE(e,yl,t,ng(t)),DE(KR,e)}}function YR(t,e,n){t==="focusin"?(Dx(),Xa=e,yl=n,Xa.attachEvent("onpropertychange",tb)):t==="focusout"&&Dx()}function XR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(yl)}function JR(t,e){if(t==="click")return Md(e)}function ZR(t,e){if(t==="input"||t==="change")return Md(e)}function ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:ek;function vl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!op.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function Lx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ox(t,e){var n=Lx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lx(n)}}function nb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rb(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tk(t){var e=rb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nb(n.ownerDocument.documentElement,n)){if(r!==null&&dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ox(n,i);var o=Ox(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nk=kr&&"documentMode"in document&&11>=document.documentMode,ao=null,Sp=null,Ja=null,Ip=!1;function Mx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ip||ao==null||ao!==Ru(r)||(r=ao,"selectionStart"in r&&dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&vl(Ja,r)||(Ja=r,r=Mu(Sp,"onSelect"),0<r.length&&(e=new lg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},df={},sb={};kr&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Vd(t){if(df[t])return df[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sb)return df[t]=e[n];return t}var ib=Vd("animationend"),ob=Vd("animationiteration"),ab=Vd("animationstart"),lb=Vd("transitionend"),cb=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){cb.set(t,e),Bi(e,[t])}for(var hf=0;hf<Vx.length;hf++){var ff=Vx[hf],rk=ff.toLowerCase(),sk=ff[0].toUpperCase()+ff.slice(1);Ws(rk,"on"+sk)}Ws(ib,"onAnimationEnd");Ws(ob,"onAnimationIteration");Ws(ab,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(lb,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function Fx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rR(r,e,void 0,t),t.currentTarget=null}function ub(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Fx(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Fx(s,l,d),i=c}}}if(Pu)throw t=_p,Pu=!1,_p=null,t}function Oe(t,e){var n=e[kp];n===void 0&&(n=e[kp]=new Set);var r=t+"__bubble";n.has(r)||(db(e,t,2,!1),n.add(r))}function pf(t,e,n){var r=0;e&&(r|=4),db(n,t,r,e)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[Lc]){t[Lc]=!0,vE.forEach(function(n){n!=="selectionchange"&&(ik.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lc]||(e[Lc]=!0,pf("selectionchange",!1,e))}}function db(t,e,n,r){switch(KE(e)){case 1:var s=xR;break;case 4:s=wR;break;default:s=og}n=s.bind(null,e,n,t),s=void 0,!wp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=fi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}DE(function(){var d=i,h=ng(n),f=[];e:{var m=cb.get(t);if(m!==void 0){var y=lg,S=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":y=LR;break;case"focusin":S="focus",y=lf;break;case"focusout":S="blur",y=lf;break;case"beforeblur":case"afterblur":y=lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VR;break;case ib:case ob:case ab:y=IR;break;case lb:y=UR;break;case"scroll":y=_R;break;case"wheel":y=zR;break;case"copy":case"cut":case"paste":y=NR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ax}var x=(e&4)!==0,T=!x&&t==="scroll",b=x?m!==null?m+"Capture":null:m;x=[];for(var w=d,I;w!==null;){I=w;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,b!==null&&(R=fl(w,b),R!=null&&x.push(wl(w,R,I)))),T)break;w=w.return}0<x.length&&(m=new y(m,S,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==vp&&(S=n.relatedTarget||n.fromElement)&&(fi(S)||S[Pr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=d,S=S?fi(S):null,S!==null&&(T=zi(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=d),y!==S)){if(x=Cx,R="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ax,R="onPointerLeave",b="onPointerEnter",w="pointer"),T=y==null?m:co(y),I=S==null?m:co(S),m=new x(R,w+"leave",y,n,h),m.target=T,m.relatedTarget=I,R=null,fi(h)===d&&(x=new x(b,w+"enter",S,n,h),x.target=I,x.relatedTarget=T,R=x),T=R,y&&S)t:{for(x=y,b=S,w=0,I=x;I;I=Xi(I))w++;for(I=0,R=b;R;R=Xi(R))I++;for(;0<w-I;)x=Xi(x),w--;for(;0<I-w;)b=Xi(b),I--;for(;w--;){if(x===b||b!==null&&x===b.alternate)break t;x=Xi(x),b=Xi(b)}x=null}else x=null;y!==null&&Ux(f,m,y,x,!1),S!==null&&T!==null&&Ux(f,T,S,x,!0)}}e:{if(m=d?co(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=QR;else if(Px(m))if(eb)L=ZR;else{L=XR;var A=YR}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=JR);if(L&&(L=L(t,d))){ZE(f,L,n,h);break e}A&&A(t,m,d),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&fp(m,"number",m.value)}switch(A=d?co(d):window,t){case"focusin":(Px(A)||A.contentEditable==="true")&&(ao=A,Sp=d,Ja=null);break;case"focusout":Ja=Sp=ao=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Mx(f,n,h);break;case"selectionchange":if(nk)break;case"keydown":case"keyup":Mx(f,n,h)}var E;if(ug)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else oo?XE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(YE&&n.locale!=="ko"&&(oo||_!=="onCompositionStart"?_==="onCompositionEnd"&&oo&&(E=QE()):(fs=h,ag="value"in fs?fs.value:fs.textContent,oo=!0)),A=Mu(d,_),0<A.length&&(_=new Nx(_,t,null,n,h),f.push({event:_,listeners:A}),E?_.data=E:(E=JE(n),E!==null&&(_.data=E)))),(E=WR?HR(t,n):qR(t,n))&&(d=Mu(d,"onBeforeInput"),0<d.length&&(h=new Nx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=E))}ub(f,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fl(t,n),i!=null&&r.unshift(wl(t,i,s)),i=fl(t,e),i!=null&&r.push(wl(t,i,s))),t=t.return}return r}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ux(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=fl(n,i),c!=null&&o.unshift(wl(n,c,l))):s||(c=fl(n,i),c!=null&&o.push(wl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ok=/\r\n?/g,ak=/\u0000|\uFFFD/g;function Bx(t){return(typeof t=="string"?t:""+t).replace(ok,`
`).replace(ak,"")}function Oc(t,e,n){if(e=Bx(e),Bx(t)!==e&&n)throw Error(B(425))}function Vu(){}var Cp=null,Np=null;function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,lk=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(uk)}:Rp;function uk(t){setTimeout(function(){throw t})}function gf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gl(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $x(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),er="__reactFiber$"+Qo,_l="__reactProps$"+Qo,Pr="__reactContainer$"+Qo,kp="__reactEvents$"+Qo,dk="__reactListeners$"+Qo,hk="__reactHandles$"+Qo;function fi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$x(t);t!==null;){if(n=t[er])return n;t=$x(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[er]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Fd(t){return t[_l]||null}var Pp=[],uo=-1;function Hs(t){return{current:t}}function Ve(t){0>uo||(t.current=Pp[uo],Pp[uo]=null,uo--)}function je(t,e){uo++,Pp[uo]=t.current,t.current=e}var js={},Ot=Hs(js),Zt=Hs(!1),Ii=js;function Po(t,e){var n=t.type.contextTypes;if(!n)return js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function Fu(){Ve(Zt),Ve(Ot)}function Wx(t,e,n){if(Ot.current!==js)throw Error(B(168));je(Ot,e),je(Zt,n)}function hb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,YA(t)||"Unknown",s));return $e({},n,r)}function Uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||js,Ii=Ot.current,je(Ot,t),je(Zt,Zt.current),!0}function Hx(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=hb(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,Ve(Zt),Ve(Ot),je(Ot,t)):Ve(Zt),je(Zt,n)}var br=null,Ud=!1,yf=!1;function fb(t){br===null?br=[t]:br.push(t)}function fk(t){Ud=!0,fb(t)}function qs(){if(!yf&&br!==null){yf=!0;var t=0,e=Ee;try{var n=br;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,Ud=!1}catch(s){throw br!==null&&(br=br.slice(t+1)),VE(rg,qs),s}finally{Ee=e,yf=!1}}return null}var ho=[],fo=0,Bu=null,zu=0,_n=[],En=0,Ci=null,Sr=1,Ir="";function ui(t,e){ho[fo++]=zu,ho[fo++]=Bu,Bu=t,zu=e}function pb(t,e,n){_n[En++]=Sr,_n[En++]=Ir,_n[En++]=Ci,Ci=t;var r=Sr;t=Ir;var s=32-Fn(r)-1;r&=~(1<<s),n+=1;var i=32-Fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Sr=1<<32-Fn(e)+s|n<<s|r,Ir=i+t}else Sr=1<<i|n<<s|r,Ir=t}function hg(t){t.return!==null&&(ui(t,1),pb(t,1,0))}function fg(t){for(;t===Bu;)Bu=ho[--fo],ho[fo]=null,zu=ho[--fo],ho[fo]=null;for(;t===Ci;)Ci=_n[--En],_n[En]=null,Ir=_n[--En],_n[En]=null,Sr=_n[--En],_n[En]=null}var mn=null,hn=null,Fe=!1,On=null;function mb(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,hn=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Sr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,hn=null,!0):!1;default:return!1}}function jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(Fe){var e=hn;if(e){var n=e;if(!qx(t,e)){if(jp(t))throw Error(B(418));e=Es(n.nextSibling);var r=mn;e&&qx(t,e)?mb(r,n):(t.flags=t.flags&-4097|2,Fe=!1,mn=t)}}else{if(jp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Fe=!1,mn=t}}}function Gx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function Mc(t){if(t!==mn)return!1;if(!Fe)return Gx(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ap(t.type,t.memoizedProps)),e&&(e=hn)){if(jp(t))throw gb(),Error(B(418));for(;e;)mb(t,e),e=Es(e.nextSibling)}if(Gx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=mn?Es(t.stateNode.nextSibling):null;return!0}function gb(){for(var t=hn;t;)t=Es(t.nextSibling)}function jo(){hn=mn=null,Fe=!1}function pg(t){On===null?On=[t]:On.push(t)}var pk=zr.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Vc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kx(t){var e=t._init;return e(t._payload)}function yb(t){function e(b,w){if(t){var I=b.deletions;I===null?(b.deletions=[w],b.flags|=16):I.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Is(b,w),b.index=0,b.sibling=null,b}function i(b,w,I){return b.index=I,t?(I=b.alternate,I!==null?(I=I.index,I<w?(b.flags|=2,w):I):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,I,R){return w===null||w.tag!==6?(w=Tf(I,b.mode,R),w.return=b,w):(w=s(w,I),w.return=b,w)}function c(b,w,I,R){var L=I.type;return L===io?h(b,w,I.props.children,R,I.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===rs&&Kx(L)===w.type)?(R=s(w,I.props),R.ref=ka(b,w,I),R.return=b,R):(R=gu(I.type,I.key,I.props,null,b.mode,R),R.ref=ka(b,w,I),R.return=b,R)}function d(b,w,I,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=Sf(I,b.mode,R),w.return=b,w):(w=s(w,I.children||[]),w.return=b,w)}function h(b,w,I,R,L){return w===null||w.tag!==7?(w=Ei(I,b.mode,R,L),w.return=b,w):(w=s(w,I),w.return=b,w)}function f(b,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tf(""+w,b.mode,I),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cc:return I=gu(w.type,w.key,w.props,null,b.mode,I),I.ref=ka(b,null,w),I.return=b,I;case so:return w=Sf(w,b.mode,I),w.return=b,w;case rs:var R=w._init;return f(b,R(w._payload),I)}if(Va(w)||Ia(w))return w=Ei(w,b.mode,I,null),w.return=b,w;Vc(b,w)}return null}function m(b,w,I,R){var L=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return L!==null?null:l(b,w,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Cc:return I.key===L?c(b,w,I,R):null;case so:return I.key===L?d(b,w,I,R):null;case rs:return L=I._init,m(b,w,L(I._payload),R)}if(Va(I)||Ia(I))return L!==null?null:h(b,w,I,R,null);Vc(b,I)}return null}function y(b,w,I,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(I)||null,l(w,b,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Cc:return b=b.get(R.key===null?I:R.key)||null,c(w,b,R,L);case so:return b=b.get(R.key===null?I:R.key)||null,d(w,b,R,L);case rs:var A=R._init;return y(b,w,I,A(R._payload),L)}if(Va(R)||Ia(R))return b=b.get(I)||null,h(w,b,R,L,null);Vc(w,R)}return null}function S(b,w,I,R){for(var L=null,A=null,E=w,_=w=0,C=null;E!==null&&_<I.length;_++){E.index>_?(C=E,E=null):C=E.sibling;var k=m(b,E,I[_],R);if(k===null){E===null&&(E=C);break}t&&E&&k.alternate===null&&e(b,E),w=i(k,w,_),A===null?L=k:A.sibling=k,A=k,E=C}if(_===I.length)return n(b,E),Fe&&ui(b,_),L;if(E===null){for(;_<I.length;_++)E=f(b,I[_],R),E!==null&&(w=i(E,w,_),A===null?L=E:A.sibling=E,A=E);return Fe&&ui(b,_),L}for(E=r(b,E);_<I.length;_++)C=y(E,b,_,I[_],R),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?_:C.key),w=i(C,w,_),A===null?L=C:A.sibling=C,A=C);return t&&E.forEach(function(D){return e(b,D)}),Fe&&ui(b,_),L}function x(b,w,I,R){var L=Ia(I);if(typeof L!="function")throw Error(B(150));if(I=L.call(I),I==null)throw Error(B(151));for(var A=L=null,E=w,_=w=0,C=null,k=I.next();E!==null&&!k.done;_++,k=I.next()){E.index>_?(C=E,E=null):C=E.sibling;var D=m(b,E,k.value,R);if(D===null){E===null&&(E=C);break}t&&E&&D.alternate===null&&e(b,E),w=i(D,w,_),A===null?L=D:A.sibling=D,A=D,E=C}if(k.done)return n(b,E),Fe&&ui(b,_),L;if(E===null){for(;!k.done;_++,k=I.next())k=f(b,k.value,R),k!==null&&(w=i(k,w,_),A===null?L=k:A.sibling=k,A=k);return Fe&&ui(b,_),L}for(E=r(b,E);!k.done;_++,k=I.next())k=y(E,b,_,k.value,R),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?_:k.key),w=i(k,w,_),A===null?L=k:A.sibling=k,A=k);return t&&E.forEach(function(j){return e(b,j)}),Fe&&ui(b,_),L}function T(b,w,I,R){if(typeof I=="object"&&I!==null&&I.type===io&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Cc:e:{for(var L=I.key,A=w;A!==null;){if(A.key===L){if(L=I.type,L===io){if(A.tag===7){n(b,A.sibling),w=s(A,I.props.children),w.return=b,b=w;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===rs&&Kx(L)===A.type){n(b,A.sibling),w=s(A,I.props),w.ref=ka(b,A,I),w.return=b,b=w;break e}n(b,A);break}else e(b,A);A=A.sibling}I.type===io?(w=Ei(I.props.children,b.mode,R,I.key),w.return=b,b=w):(R=gu(I.type,I.key,I.props,null,b.mode,R),R.ref=ka(b,w,I),R.return=b,b=R)}return o(b);case so:e:{for(A=I.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(b,w.sibling),w=s(w,I.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Sf(I,b.mode,R),w.return=b,b=w}return o(b);case rs:return A=I._init,T(b,w,A(I._payload),R)}if(Va(I))return S(b,w,I,R);if(Ia(I))return x(b,w,I,R);Vc(b,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,I),w.return=b,b=w):(n(b,w),w=Tf(I,b.mode,R),w.return=b,b=w),o(b)):n(b,w)}return T}var Do=yb(!0),vb=yb(!1),$u=Hs(null),Wu=null,po=null,mg=null;function gg(){mg=po=Wu=null}function yg(t){var e=$u.current;Ve($u),t._currentValue=e}function Lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){Wu=t,mg=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(mg!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(Wu===null)throw Error(B(308));po=t,Wu.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var pi=null;function vg(t){pi===null?pi=[t]:pi.push(t)}function xb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vg(e)):(n.next=s.next,s.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jr(t,n)}return s=r.interleaved,s===null?(e.next=e,vg(r)):(e.next=s.next,s.next=e),r.interleaved=e,jr(t,n)}function uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}function Qx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hu(t,e,n,r){var s=t.updateQueue;ss=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,x=l;switch(m=e,y=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){f=S.call(y,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,m=typeof S=="function"?S.call(y,f,m):S,m==null)break e;f=$e({},f,m);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=f}}function Yx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Yl={},or=Hs(Yl),El=Hs(Yl),bl=Hs(Yl);function mi(t){if(t===Yl)throw Error(B(174));return t}function wg(t,e){switch(je(bl,e),je(El,t),je(or,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mp(e,t)}Ve(or),je(or,e)}function Lo(){Ve(or),Ve(El),Ve(bl)}function _b(t){mi(bl.current);var e=mi(or.current),n=mp(e,t.type);e!==n&&(je(El,t),je(or,n))}function _g(t){El.current===t&&(Ve(or),Ve(El))}var Be=Hs(0);function qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function Eg(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var du=zr.ReactCurrentDispatcher,xf=zr.ReactCurrentBatchConfig,Ni=0,ze=null,ut=null,yt=null,Gu=!1,Za=!1,Tl=0,mk=0;function At(){throw Error(B(321))}function bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function Tg(t,e,n,r,s,i){if(Ni=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,du.current=t===null||t.memoizedState===null?xk:wk,t=n(r,s),Za){i=0;do{if(Za=!1,Tl=0,25<=i)throw Error(B(301));i+=1,yt=ut=null,e.updateQueue=null,du.current=_k,t=n(r,s)}while(Za)}if(du.current=Ku,e=ut!==null&&ut.next!==null,Ni=0,yt=ut=ze=null,Gu=!1,e)throw Error(B(300));return t}function Sg(){var t=Tl!==0;return Tl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ze.memoizedState=yt=t:yt=yt.next=t,yt}function Cn(){if(ut===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=yt===null?ze.memoizedState:yt.next;if(e!==null)yt=e,ut=t;else{if(t===null)throw Error(B(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},yt===null?ze.memoizedState=yt=t:yt=yt.next=t}return yt}function Sl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((Ni&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ze.lanes|=h,Ai|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Wn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Eb(){}function bb(t,e){var n=ze,r=Cn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Ig(Ib.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Il(9,Sb.bind(null,n,r,s,e),void 0,null),vt===null)throw Error(B(349));Ni&30||Tb(n,e,s)}return s}function Tb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sb(t,e,n,r){e.value=n,e.getSnapshot=r,Cb(e)&&Nb(t)}function Ib(t,e,n){return n(function(){Cb(e)&&Nb(t)})}function Cb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function Nb(t){var e=jr(t,1);e!==null&&Un(e,t,1,-1)}function Xx(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=vk.bind(null,ze,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ab(){return Cn().memoizedState}function hu(t,e,n,r){var s=Jn();ze.flags|=t,s.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function Bd(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&bg(r,o.deps)){s.memoizedState=Il(e,n,i,r);return}}ze.flags|=t,s.memoizedState=Il(1|e,n,i,r)}function Jx(t,e){return hu(8390656,8,t,e)}function Ig(t,e){return Bd(2048,8,t,e)}function Rb(t,e){return Bd(4,2,t,e)}function kb(t,e){return Bd(4,4,t,e)}function Pb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jb(t,e,n){return n=n!=null?n.concat([t]):null,Bd(4,4,Pb.bind(null,e,t),n)}function Cg(){}function Db(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lb(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ob(t,e,n){return Ni&21?(Wn(n,e)||(n=BE(),ze.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function gk(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=xf.transition;xf.transition={};try{t(!1),e()}finally{Ee=n,xf.transition=r}}function Mb(){return Cn().memoizedState}function yk(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vb(t))Fb(e,n);else if(n=xb(t,e,n,r),n!==null){var s=zt();Un(n,t,r,s),Ub(n,e,r)}}function vk(t,e,n){var r=Ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vb(t))Fb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Wn(l,o)){var c=e.interleaved;c===null?(s.next=s,vg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=xb(t,e,s,r),n!==null&&(s=zt(),Un(n,t,r,s),Ub(n,e,r))}}function Vb(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function Fb(t,e){Za=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ub(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}var Ku={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},xk={readContext:In,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Jx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hu(4194308,4,Pb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return hu(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yk.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:Xx,useDebugValue:Cg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Xx(!1),e=t[0];return t=gk.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=Jn();if(Fe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),vt===null)throw Error(B(349));Ni&30||Tb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jx(Ib.bind(null,r,i,t),[t]),r.flags|=2048,Il(9,Sb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jn(),e=vt.identifierPrefix;if(Fe){var n=Ir,r=Sr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wk={readContext:In,useCallback:Db,useContext:In,useEffect:Ig,useImperativeHandle:jb,useInsertionEffect:Rb,useLayoutEffect:kb,useMemo:Lb,useReducer:wf,useRef:Ab,useState:function(){return wf(Sl)},useDebugValue:Cg,useDeferredValue:function(t){var e=Cn();return Ob(e,ut.memoizedState,t)},useTransition:function(){var t=wf(Sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Eb,useSyncExternalStore:bb,useId:Mb,unstable_isNewReconciler:!1},_k={readContext:In,useCallback:Db,useContext:In,useEffect:Ig,useImperativeHandle:jb,useInsertionEffect:Rb,useLayoutEffect:kb,useMemo:Lb,useReducer:_f,useRef:Ab,useState:function(){return _f(Sl)},useDebugValue:Cg,useDeferredValue:function(t){var e=Cn();return ut===null?e.memoizedState=t:Ob(e,ut.memoizedState,t)},useTransition:function(){var t=_f(Sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Eb,useSyncExternalStore:bb,useId:Mb,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zd={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),s=Ss(t),i=Ar(r,s);i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(Un(e,t,s,r),uu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),s=Ss(t),i=Ar(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(Un(e,t,s,r),uu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=Ss(t),s=Ar(n,r);s.tag=2,e!=null&&(s.callback=e),e=bs(t,s,r),e!==null&&(Un(e,t,r,n),uu(e,t,r))}};function Zx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(s,i):!0}function Bb(t,e,n){var r=!1,s=js,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=en(e)?Ii:Ot.current,r=e.contextTypes,i=(r=r!=null)?Po(t,s):js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zd.enqueueReplaceState(e,e.state,null)}function Mp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=en(e)?Ii:Ot.current,s.context=Po(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Op(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zd.enqueueReplaceState(s,s.state,null),Hu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",r=e;do n+=QA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ek=typeof WeakMap=="function"?WeakMap:Map;function zb(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,Kp=r),Vp(t,e)},n}function $b(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vp(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ek;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ok.bind(null,t,e,n),e.then(t,t))}function nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,bs(n,e,1))),n.lanes|=1),t)}var bk=zr.ReactCurrentOwner,Xt=!1;function Bt(t,e,n,r){e.child=t===null?vb(e,null,n,r):Do(e,t.child,n,r)}function sw(t,e,n,r,s){n=n.render;var i=e.ref;return _o(e,s),r=Tg(t,e,n,r,i,s),n=Sg(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(Fe&&n&&hg(e),e.flags|=1,Bt(t,e,r,s),e.child)}function iw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Wb(t,e,i,r,s)):(t=gu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return Dr(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function Wb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vl(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,Dr(t,e,s)}return Fp(t,e,n,r,s)}function Hb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(go,un),un|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(go,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(go,un),un|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(go,un),un|=r;return Bt(t,e,s,n),e.child}function qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,s){var i=en(n)?Ii:Ot.current;return i=Po(e,i),_o(e,s),n=Tg(t,e,n,r,i,s),r=Sg(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(Fe&&r&&hg(e),e.flags|=1,Bt(t,e,n,s),e.child)}function ow(t,e,n,r,s){if(en(n)){var i=!0;Uu(e)}else i=!1;if(_o(e,s),e.stateNode===null)fu(t,e),Bb(e,n,r),Mp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=In(d):(d=en(n)?Ii:Ot.current,d=Po(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ew(e,o,r,d),ss=!1;var m=e.memoizedState;o.state=m,Hu(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Zt.current||ss?(typeof h=="function"&&(Op(e,n,h,r),c=e.memoizedState),(l=ss||Zx(e,n,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Dn(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=In(c):(c=en(n)?Ii:Ot.current,c=Po(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ew(e,o,r,c),ss=!1,m=e.memoizedState,o.state=m,Hu(e,r,o,s);var S=e.memoizedState;l!==f||m!==S||Zt.current||ss?(typeof y=="function"&&(Op(e,n,y,r),S=e.memoizedState),(d=ss||Zx(e,n,d,r,m,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Up(t,e,n,r,i,s)}function Up(t,e,n,r,s,i){qb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Hx(e,n,!1),Dr(t,e,i);r=e.stateNode,bk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,i),e.child=Do(e,null,l,i)):Bt(t,e,l,i),e.memoizedState=r.state,s&&Hx(e,n,!0),e.child}function Gb(t){var e=t.stateNode;e.pendingContext?Wx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wx(t,e.context,!1),wg(t,e.containerInfo)}function aw(t,e,n,r,s){return jo(),pg(s),e.flags|=256,Bt(t,e,n,r),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kb(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Be,s&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hd(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zp(n),e.memoizedState=Bp,t):Ng(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Tk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Is(l,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bp,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ng(t,e){return e=Hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&pg(r),Do(e,t.child,null,n),t=Ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(B(422))),Fc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hd({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Do(e,t.child,null,o),e.child.memoizedState=zp(o),e.memoizedState=Bp,i);if(!(e.mode&1))return Fc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=Ef(i,r,void 0),Fc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Xt||l){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jr(t,s),Un(r,t,s,-1))}return Dg(),r=Ef(Error(B(421))),Fc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Mk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,hn=Es(s.nextSibling),mn=e,Fe=!0,On=null,t!==null&&(_n[En++]=Sr,_n[En++]=Ir,_n[En++]=Ci,Sr=t.id,Ir=t.overflow,Ci=e),e=Ng(e,r.children),e.flags|=4096,e)}function lw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lp(t.return,e,n)}function bf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Bt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lw(t,n,e);else if(t.tag===19)lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bf(e,!0,n,null,i);break;case"together":bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sk(t,e,n){switch(e.tag){case 3:Gb(e),jo();break;case 5:_b(e);break;case 1:en(e.type)&&Uu(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je($u,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Kb(t,e,n):(je(Be,Be.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);je(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,Hb(t,e,n)}return Dr(t,e,n)}var Yb,$p,Xb,Jb;Yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$p=function(){};Xb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mi(or.current);var i=null;switch(n){case"input":s=dp(t,s),r=dp(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=pp(t,s),r=pp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vu)}gp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(dl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(dl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Oe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Jb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pa(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ik(t,e,n){var r=e.pendingProps;switch(fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return en(e.type)&&Fu(),Rt(e),null;case 3:return r=e.stateNode,Lo(),Ve(Zt),Ve(Ot),Eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Xp(On),On=null))),$p(t,e),Rt(e),null;case 5:_g(e);var s=mi(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)Xb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Rt(e),null}if(t=mi(or.current),Mc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[er]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Ua.length;s++)Oe(Ua[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":yx(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":xx(r,i),Oe("invalid",r)}gp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,l,t),s=["children",""+l]):dl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Nc(r),vx(r,i,!0);break;case"textarea":Nc(r),wx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[_l]=r,Yb(t,e,!1,!1),e.stateNode=t;e:{switch(o=yp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ua.length;s++)Oe(Ua[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":yx(t,r),s=dp(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":xx(t,r),s=pp(t,r),Oe("invalid",t);break;default:s=r}gp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?AE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&CE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hl(t,c):typeof c=="number"&&hl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Oe("scroll",t):c!=null&&Jm(t,i,c,o))}switch(n){case"input":Nc(t),vx(t,r,!1);break;case"textarea":Nc(t),wx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yo(t,!!r.multiple,i,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)Jb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=mi(bl.current),mi(or.current),Mc(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(i=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:Oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Rt(e),null;case 13:if(Ve(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&hn!==null&&e.mode&1&&!(e.flags&128))gb(),jo(),e.flags|=98560,i=!1;else if(i=Mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[er]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else On!==null&&(Xp(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?ht===0&&(ht=3):Dg())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return Lo(),$p(t,e),t===null&&xl(e.stateNode.containerInfo),Rt(e),null;case 10:return yg(e.type._context),Rt(e),null;case 17:return en(e.type)&&Fu(),Rt(e),null;case 19:if(Ve(Be),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Pa(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qu(t),o!==null){for(e.flags|=128,Pa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>Mo&&(e.flags|=128,r=!0,Pa(i,!1),e.lanes=4194304)}else{if(!r)if(t=qu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return Rt(e),null}else 2*tt()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,Pa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=Be.current,je(Be,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Ck(t,e){switch(fg(e),e.tag){case 1:return en(e.type)&&Fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Ve(Zt),Ve(Ot),Eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _g(e),null;case 13:if(Ve(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Be),null;case 4:return Lo(),null;case 10:return yg(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var Uc=!1,Dt=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,G=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Wp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var cw=!1;function Ak(t,e){if(Cp=Lu,t=rb(),dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:t,selectionRange:n},Lu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,T=S.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:Dn(e.type,x),T);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){Ge(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return S=cw,cw=!1,S}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wp(e,n,i)}s=s.next}while(s!==r)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zb(t){var e=t.alternate;e!==null&&(t.alternate=null,Zb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[_l],delete e[kp],delete e[dk],delete e[hk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e1(t){return t.tag===5||t.tag===3||t.tag===4}function uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vu));else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}function Gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gp(t,e,n),t=t.sibling;t!==null;)Gp(t,e,n),t=t.sibling}var wt=null,Ln=!1;function Xr(t,e,n){for(n=n.child;n!==null;)t1(t,e,n),n=n.sibling}function t1(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:Dt||mo(n,e);case 6:var r=wt,s=Ln;wt=null,Xr(t,e,n),wt=r,Ln=s,wt!==null&&(Ln?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Ln?(t=wt,n=n.stateNode,t.nodeType===8?gf(t.parentNode,n):t.nodeType===1&&gf(t,n),gl(t)):gf(wt,n.stateNode));break;case 4:r=wt,s=Ln,wt=n.stateNode.containerInfo,Ln=!0,Xr(t,e,n),wt=r,Ln=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wp(n,e,o),s=s.next}while(s!==r)}Xr(t,e,n);break;case 1:if(!Dt&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ge(n,e,l)}Xr(t,e,n);break;case 21:Xr(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Xr(t,e,n),Dt=r):Xr(t,e,n);break;default:Xr(t,e,n)}}function dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nk),e.forEach(function(r){var s=Vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,Ln=!1;break e;case 3:wt=l.stateNode.containerInfo,Ln=!0;break e;case 4:wt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(wt===null)throw Error(B(160));t1(i,o,s),wt=null,Ln=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ge(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n1(e,t),e=e.sibling}function n1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Xn(t),r&4){try{el(3,t,t.return),$d(3,t)}catch(x){Ge(t,t.return,x)}try{el(5,t,t.return)}catch(x){Ge(t,t.return,x)}}break;case 1:Pn(e,t),Xn(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(Pn(e,t),Xn(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var s=t.stateNode;try{hl(s,"")}catch(x){Ge(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&TE(s,i),yp(l,o);var d=yp(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?AE(s,f):h==="dangerouslySetInnerHTML"?CE(s,f):h==="children"?hl(s,f):Jm(s,h,f,d)}switch(l){case"input":hp(s,i);break;case"textarea":SE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?yo(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?yo(s,!!i.multiple,i.defaultValue,!0):yo(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(x){Ge(t,t.return,x)}}break;case 6:if(Pn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Ge(t,t.return,x)}}break;case 3:if(Pn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(x){Ge(t,t.return,x)}break;case 4:Pn(e,t),Xn(t);break;case 13:Pn(e,t),Xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kg=tt())),r&4&&dw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(d=Dt)||h,Pn(e,t),Dt=d):Pn(e,t),Xn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(f=G=h;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:el(4,m,m.return);break;case 1:mo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){Ge(r,n,x)}}break;case 5:mo(m,m.return);break;case 22:if(m.memoizedState!==null){fw(f);continue}}y!==null?(y.return=m,G=y):fw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=NE("display",o))}catch(x){Ge(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Ge(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(e,t),Xn(t),r&4&&dw(t);break;case 21:break;default:Pn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var i=uw(t);Gp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uw(t);qp(t,l,o);break;default:throw Error(B(161))}}catch(c){Ge(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rk(t,e,n){G=t,r1(t)}function r1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=Uc;var d=Dt;if(Uc=o,(Dt=c)&&!d)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?pw(s):c!==null?(c.return=o,G=c):pw(s);for(;i!==null;)G=i,r1(i),i=i.sibling;G=s,Uc=l,Dt=d}hw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):hw(t)}}function hw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||$d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||e.flags&512&&Hp(e)}catch(m){Ge(e,e.return,m)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function fw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function pw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(c){Ge(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ge(e,s,c)}}var i=e.return;try{Hp(e)}catch(c){Ge(e,i,c)}break;case 5:var o=e.return;try{Hp(e)}catch(c){Ge(e,o,c)}}}catch(c){Ge(e,e.return,c)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var kk=Math.ceil,Qu=zr.ReactCurrentDispatcher,Ag=zr.ReactCurrentOwner,Sn=zr.ReactCurrentBatchConfig,ye=0,vt=null,st=null,bt=0,un=0,go=Hs(0),ht=0,Cl=null,Ai=0,Wd=0,Rg=0,tl=null,Kt=null,kg=0,Mo=1/0,Er=null,Yu=!1,Kp=null,Ts=null,Bc=!1,ps=null,Xu=0,nl=0,Qp=null,pu=-1,mu=0;function zt(){return ye&6?tt():pu!==-1?pu:pu=tt()}function Ss(t){return t.mode&1?ye&2&&bt!==0?bt&-bt:pk.transition!==null?(mu===0&&(mu=BE()),mu):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Un(t,e,n,r){if(50<nl)throw nl=0,Qp=null,Error(B(185));Gl(t,n,r),(!(ye&2)||t!==vt)&&(t===vt&&(!(ye&2)&&(Wd|=n),ht===4&&os(t,bt)),tn(t,r),n===1&&ye===0&&!(e.mode&1)&&(Mo=tt()+500,Ud&&qs()))}function tn(t,e){var n=t.callbackNode;pR(t,e);var r=Du(t,t===vt?bt:0);if(r===0)n!==null&&bx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bx(n),e===1)t.tag===0?fk(mw.bind(null,t)):fb(mw.bind(null,t)),ck(function(){!(ye&6)&&qs()}),n=null;else{switch(zE(r)){case 1:n=rg;break;case 4:n=FE;break;case 16:n=ju;break;case 536870912:n=UE;break;default:n=ju}n=d1(n,s1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s1(t,e){if(pu=-1,mu=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Du(t,t===vt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ju(t,r);else{e=r;var s=ye;ye|=2;var i=o1();(vt!==t||bt!==e)&&(Er=null,Mo=tt()+500,_i(t,e));do try{Dk();break}catch(l){i1(t,l)}while(!0);gg(),Qu.current=i,ye=s,st!==null?e=0:(vt=null,bt=0,e=ht)}if(e!==0){if(e===2&&(s=Ep(t),s!==0&&(r=s,e=Yp(t,s))),e===1)throw n=Cl,_i(t,0),os(t,r),tn(t,tt()),n;if(e===6)os(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pk(s)&&(e=Ju(t,r),e===2&&(i=Ep(t),i!==0&&(r=i,e=Yp(t,i))),e===1))throw n=Cl,_i(t,0),os(t,r),tn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:di(t,Kt,Er);break;case 3:if(os(t,r),(r&130023424)===r&&(e=kg+500-tt(),10<e)){if(Du(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rp(di.bind(null,t,Kt,Er),e);break}di(t,Kt,Er);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kk(r/1960))-r,10<r){t.timeoutHandle=Rp(di.bind(null,t,Kt,Er),r);break}di(t,Kt,Er);break;case 5:di(t,Kt,Er);break;default:throw Error(B(329))}}}return tn(t,tt()),t.callbackNode===n?s1.bind(null,t):null}function Yp(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Ju(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Xp(e)),t}function Xp(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function Pk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~Rg,e&=~Wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function mw(t){if(ye&6)throw Error(B(327));Eo();var e=Du(t,0);if(!(e&1))return tn(t,tt()),null;var n=Ju(t,e);if(t.tag!==0&&n===2){var r=Ep(t);r!==0&&(e=r,n=Yp(t,r))}if(n===1)throw n=Cl,_i(t,0),os(t,e),tn(t,tt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Kt,Er),tn(t,tt()),null}function Pg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Mo=tt()+500,Ud&&qs())}}function Ri(t){ps!==null&&ps.tag===0&&!(ye&6)&&Eo();var e=ye;ye|=1;var n=Sn.transition,r=Ee;try{if(Sn.transition=null,Ee=1,t)return t()}finally{Ee=r,Sn.transition=n,ye=e,!(ye&6)&&qs()}}function jg(){un=go.current,Ve(go)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lk(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fu();break;case 3:Lo(),Ve(Zt),Ve(Ot),Eg();break;case 5:_g(r);break;case 4:Lo();break;case 13:Ve(Be);break;case 19:Ve(Be);break;case 10:yg(r.type._context);break;case 22:case 23:jg()}n=n.return}if(vt=t,st=t=Is(t.current,null),bt=un=e,ht=0,Cl=null,Rg=Wd=Ai=0,Kt=tl=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pi=null}return t}function i1(t,e){do{var n=st;try{if(gg(),du.current=Ku,Gu){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gu=!1}if(Ni=0,yt=ut=ze=null,Za=!1,Tl=0,Ag.current=null,n===null||n.return===null){ht=1,Cl=e,st=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=nw(o);if(y!==null){y.flags&=-257,rw(y,o,l,i,e),y.mode&1&&tw(i,d,e),e=y,c=d;var S=e.updateQueue;if(S===null){var x=new Set;x.add(c),e.updateQueue=x}else S.add(c);break e}else{if(!(e&1)){tw(i,d,e),Dg();break e}c=Error(B(426))}}else if(Fe&&l.mode&1){var T=nw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),rw(T,o,l,i,e),pg(Oo(c,l));break e}}i=c=Oo(c,l),ht!==4&&(ht=2),tl===null?tl=[i]:tl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=zb(i,c,e);Qx(i,b);break e;case 1:l=c;var w=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ts===null||!Ts.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=$b(i,l,e);Qx(i,R);break e}}i=i.return}while(i!==null)}l1(n)}catch(L){e=L,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function o1(){var t=Qu.current;return Qu.current=Ku,t===null?Ku:t}function Dg(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Ai&268435455)&&!(Wd&268435455)||os(vt,bt)}function Ju(t,e){var n=ye;ye|=2;var r=o1();(vt!==t||bt!==e)&&(Er=null,_i(t,e));do try{jk();break}catch(s){i1(t,s)}while(!0);if(gg(),ye=n,Qu.current=r,st!==null)throw Error(B(261));return vt=null,bt=0,ht}function jk(){for(;st!==null;)a1(st)}function Dk(){for(;st!==null&&!iR();)a1(st)}function a1(t){var e=u1(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?l1(t):st=e,Ag.current=null}function l1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ck(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,st=null;return}}else if(n=Ik(n,e,un),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ht===0&&(ht=5)}function di(t,e,n){var r=Ee,s=Sn.transition;try{Sn.transition=null,Ee=1,Lk(t,e,n,r)}finally{Sn.transition=s,Ee=r}return null}function Lk(t,e,n,r){do Eo();while(ps!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mR(t,i),t===vt&&(st=vt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,d1(ju,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var o=Ee;Ee=1;var l=ye;ye|=4,Ag.current=null,Ak(t,n),n1(n,t),tk(Np),Lu=!!Cp,Np=Cp=null,t.current=n,Rk(n),oR(),ye=l,Ee=o,Sn.transition=i}else t.current=n;if(Bc&&(Bc=!1,ps=t,Xu=s),i=t.pendingLanes,i===0&&(Ts=null),cR(n.stateNode),tn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yu)throw Yu=!1,t=Kp,Kp=null,t;return Xu&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===Qp?nl++:(nl=0,Qp=t):nl=0,qs(),null}function Eo(){if(ps!==null){var t=zE(Xu),e=Sn.transition,n=Ee;try{if(Sn.transition=null,Ee=16>t?16:t,ps===null)var r=!1;else{if(t=ps,ps=null,Xu=0,ye&6)throw Error(B(331));var s=ye;for(ye|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:el(8,h,i)}var f=h.child;if(f!==null)f.return=h,G=f;else for(;G!==null;){h=G;var m=h.sibling,y=h.return;if(Zb(h),h===d){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var S=i.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:el(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,G=b;break e}G=i.return}}var w=t.current;for(G=w;G!==null;){o=G;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,G=I;else e:for(o=w;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$d(9,l)}}catch(L){Ge(l,l.return,L)}if(l===o){G=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,G=R;break e}G=l.return}}if(ye=s,qs(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{Ee=n,Sn.transition=e}}return!1}function gw(t,e,n){e=Oo(n,e),e=zb(t,e,1),t=bs(t,e,1),e=zt(),t!==null&&(Gl(t,1,e),tn(t,e))}function Ge(t,e,n){if(t.tag===3)gw(t,t,n);else for(;e!==null;){if(e.tag===3){gw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=Oo(n,t),t=$b(e,t,1),e=bs(e,t,1),t=zt(),e!==null&&(Gl(e,1,t),tn(e,t));break}}e=e.return}}function Ok(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(bt&n)===n&&(ht===4||ht===3&&(bt&130023424)===bt&&500>tt()-kg?_i(t,0):Rg|=n),tn(t,e)}function c1(t,e){e===0&&(t.mode&1?(e=kc,kc<<=1,!(kc&130023424)&&(kc=4194304)):e=1);var n=zt();t=jr(t,e),t!==null&&(Gl(t,e,n),tn(t,n))}function Mk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c1(t,n)}function Vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),c1(t,n)}var u1;u1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,Sk(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Fe&&e.flags&1048576&&pb(e,zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fu(t,e),t=e.pendingProps;var s=Po(e,Ot.current);_o(e,n),s=Tg(null,e,r,t,s,n);var i=Sg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,Uu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xg(e),s.updater=zd,e.stateNode=s,s._reactInternals=e,Mp(e,r,t,n),e=Up(null,e,r,!0,i,n)):(e.tag=0,Fe&&i&&hg(e),Bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Uk(r),t=Dn(r,t),s){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=ow(null,e,r,t,n);break e;case 11:e=sw(null,e,r,t,n);break e;case 14:e=iw(null,e,r,Dn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),Fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),ow(t,e,r,s,n);case 3:e:{if(Gb(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wb(t,e),Hu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oo(Error(B(423)),e),e=aw(t,e,r,n,s);break e}else if(r!==s){s=Oo(Error(B(424)),e),e=aw(t,e,r,n,s);break e}else for(hn=Es(e.stateNode.containerInfo.firstChild),mn=e,Fe=!0,On=null,n=vb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===s){e=Dr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return _b(e),t===null&&Dp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ap(r,s)?o=null:i!==null&&Ap(r,i)&&(e.flags|=32),qb(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return Kb(t,e,n);case 4:return wg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),sw(t,e,r,s,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je($u,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!Zt.current){e=Dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ar(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Lp(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_o(e,n),s=In(s),r=r(s),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,s=Dn(r,e.pendingProps),s=Dn(r.type,s),iw(t,e,r,s,n);case 15:return Wb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),fu(t,e),e.tag=1,en(r)?(t=!0,Uu(e)):t=!1,_o(e,n),Bb(e,r,s),Mp(e,r,s,n),Up(null,e,r,!0,t,n);case 19:return Qb(t,e,n);case 22:return Hb(t,e,n)}throw Error(B(156,e.tag))};function d1(t,e){return VE(t,e)}function Fk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new Fk(t,e,n,r)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uk(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===tg)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return Ei(n.children,s,i,e);case Zm:o=8,s|=8;break;case ap:return t=Tn(12,n,e,s|2),t.elementType=ap,t.lanes=i,t;case lp:return t=Tn(13,n,e,s),t.elementType=lp,t.lanes=i,t;case cp:return t=Tn(19,n,e,s),t.elementType=cp,t.lanes=i,t;case _E:return Hd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xE:o=10;break e;case wE:o=9;break e;case eg:o=11;break e;case tg:o=14;break e;case rs:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Hd(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=_E,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,s,i,o,l,c){return t=new Bk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(i),t}function zk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h1(t){if(!t)return js;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(en(n))return hb(t,n,e)}return e}function f1(t,e,n,r,s,i,o,l,c){return t=Og(n,r,!0,t,s,i,o,l,c),t.context=h1(null),n=t.current,r=zt(),s=Ss(n),i=Ar(r,s),i.callback=e??null,bs(n,i,s),t.current.lanes=s,Gl(t,s,r),tn(t,r),t}function qd(t,e,n,r){var s=e.current,i=zt(),o=Ss(s);return n=h1(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bs(s,e,o),t!==null&&(Un(t,s,o,i),uu(t,s,o)),o}function Zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mg(t,e){yw(t,e),(t=t.alternate)&&yw(t,e)}function $k(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vg(t){this._internalRoot=t}Gd.prototype.render=Vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));qd(t,e,null,null)};Gd.prototype.unmount=Vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ri(function(){qd(null,t,null,null)}),e[Pr]=null}};function Gd(t){this._internalRoot=t}Gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=HE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&GE(t)}};function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vw(){}function Wk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Zu(o);i.call(d)}}var o=f1(e,r,t,0,null,!1,!1,"",vw);return t._reactRootContainer=o,t[Pr]=o.current,xl(t.nodeType===8?t.parentNode:t),Ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Zu(c);l.call(d)}}var c=Og(t,0,!1,null,null,!1,!1,"",vw);return t._reactRootContainer=c,t[Pr]=c.current,xl(t.nodeType===8?t.parentNode:t),Ri(function(){qd(e,c,n,r)}),c}function Qd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Zu(o);l.call(c)}}qd(e,o,t,s)}else o=Wk(n,e,t,s,r);return Zu(o)}$E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(sg(e,n|1),tn(e,tt()),!(ye&6)&&(Mo=tt()+500,qs()))}break;case 13:Ri(function(){var r=jr(t,1);if(r!==null){var s=zt();Un(r,t,1,s)}}),Mg(t,1)}};ig=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=zt();Un(e,t,134217728,n)}Mg(t,134217728)}};WE=function(t){if(t.tag===13){var e=Ss(t),n=jr(t,e);if(n!==null){var r=zt();Un(n,t,e,r)}Mg(t,e)}};HE=function(){return Ee};qE=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};xp=function(t,e,n){switch(e){case"input":if(hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fd(r);if(!s)throw Error(B(90));bE(r),hp(r,s)}}}break;case"textarea":SE(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};PE=Pg;jE=Ri;var Hk={usingClientEntryPoint:!1,Events:[Ql,co,Fd,RE,kE,Pg]},ja={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qk={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OE(t),t===null?null:t.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||$k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Ld=zc.inject(qk),ir=zc}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hk;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(e))throw Error(B(200));return zk(t,e,null,n)};xn.createRoot=function(t,e){if(!Fg(t))throw Error(B(299));var n=!1,r="",s=p1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,s),t[Pr]=e.current,xl(t.nodeType===8?t.parentNode:t),new Vg(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=OE(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Ri(t)};xn.hydrate=function(t,e,n){if(!Kd(e))throw Error(B(200));return Qd(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Fg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=p1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=f1(e,null,t,1,n??null,s,!1,i,o),t[Pr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gd(e)};xn.render=function(t,e,n){if(!Kd(e))throw Error(B(200));return Qd(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Kd(t))throw Error(B(40));return t._reactRootContainer?(Ri(function(){Qd(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};xn.unstable_batchedUpdates=Pg;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Qd(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function m1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m1)}catch(t){console.error(t)}}m1(),mE.exports=xn;var Yo=mE.exports;const Gk=rE(Yo);var g1,xw=Yo;g1=xw.createRoot,xw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const ww="popstate";function Kk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Jp("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ed(s)}return Yk(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qk(){return Math.random().toString(36).substr(2,8)}function _w(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n,r){return n===void 0&&(n=null),Nl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||Qk()})}function ed(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Yk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ms.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Nl({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=ms.Pop;let T=h(),b=T==null?null:T-d;d=T,c&&c({action:l,location:x.location,delta:b})}function m(T,b){l=ms.Push;let w=Jp(x.location,T,b);d=h()+1;let I=_w(w,d),R=x.createHref(w);try{o.pushState(I,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(R)}i&&c&&c({action:l,location:x.location,delta:1})}function y(T,b){l=ms.Replace;let w=Jp(x.location,T,b);d=h();let I=_w(w,d),R=x.createHref(w);o.replaceState(I,"",R),i&&c&&c({action:l,location:x.location,delta:0})}function S(T){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof T=="string"?T:ed(T);return w=w.replace(/ $/,"%20"),nt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let x={get action(){return l},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ww,f),c=T,()=>{s.removeEventListener(ww,f),c=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let b=S(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(T){return o.go(T)}};return x}var Ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ew||(Ew={}));function Xk(t,e,n){return n===void 0&&(n="/"),Jk(t,e,n)}function Jk(t,e,n,r){let s=typeof e=="string"?Xo(e):e,i=Bg(s.pathname||"/",n);if(i==null)return null;let o=y1(t);Zk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=dP(i);l=lP(o[c],d)}return l}function y1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Cs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),y1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:oP(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of v1(i.path))s(i,o,c)}),e}function v1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=v1(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Zk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eP=/^:[\w-]+$/,tP=3,nP=2,rP=1,sP=10,iP=-2,bw=t=>t==="*";function oP(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=iP),e&&(r+=nP),n.filter(s=>!bw(s)).reduce((s,i)=>s+(eP.test(i)?tP:i===""?rP:sP),r)}function aP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function lP(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=cP({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Cs([i,f.pathname]),pathnameBase:gP(Cs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Cs([i,f.pathnameBase]))}return o}function cP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const S=l[f];return y&&!S?d[m]=void 0:d[m]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function uP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const hP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fP=t=>hP.test(t);function pP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xo(t):t,i;if(n)if(fP(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Ug(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Tw(n.substring(1),"/"):i=Tw(n,e)}else i=e;return{pathname:i,search:yP(r),hash:vP(s)}}function Tw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function If(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t,e){let n=mP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $g(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xo(t):(s=Nl({},t),nt(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=pP(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Cs=t=>t.join("/").replace(/\/\/+/g,"/"),gP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x1=["post","put","patch","delete"];new Set(x1);const wP=["get",...x1];new Set(wP);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}const Wg=g.createContext(null),_P=g.createContext(null),Gs=g.createContext(null),Yd=g.createContext(null),Ks=g.createContext({outlet:null,matches:[],isDataRoute:!1}),w1=g.createContext(null);function EP(t,e){let{relative:n}=e===void 0?{}:e;Jo()||nt(!1);let{basename:r,navigator:s}=g.useContext(Gs),{hash:i,pathname:o,search:l}=E1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Cs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Jo(){return g.useContext(Yd)!=null}function Zo(){return Jo()||nt(!1),g.useContext(Yd).location}function _1(t){g.useContext(Gs).static||g.useLayoutEffect(t)}function yr(){let{isDataRoute:t}=g.useContext(Ks);return t?LP():bP()}function bP(){Jo()||nt(!1);let t=g.useContext(Wg),{basename:e,future:n,navigator:r}=g.useContext(Gs),{matches:s}=g.useContext(Ks),{pathname:i}=Zo(),o=JSON.stringify(zg(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return _1(()=>{l.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=$g(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function E1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Gs),{matches:s}=g.useContext(Ks),{pathname:i}=Zo(),o=JSON.stringify(zg(s,r.v7_relativeSplatPath));return g.useMemo(()=>$g(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function TP(t,e){return SP(t,e)}function SP(t,e,n,r){Jo()||nt(!1);let{navigator:s}=g.useContext(Gs),{matches:i}=g.useContext(Ks),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Zo(),h;if(e){var f;let T=typeof e=="string"?Xo(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||nt(!1),h=T}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let T=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=Xk(t,{pathname:y}),x=RP(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Cs([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Cs([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&x?g.createElement(Yd.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ms.Pop}},x):x}function IP(){let t=DP(),e=xP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const CP=g.createElement(IP,null);class NP extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ks.Provider,{value:this.props.routeContext},g.createElement(w1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AP(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Wg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ks.Provider,{value:e},r)}function RP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||nt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,S=!1,x=null,T=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||CP,c&&(d<0&&m===0?(OP("route-fallback"),S=!0,T=null):d===m&&(S=!0,T=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),w=()=>{let I;return y?I=x:S?I=T:f.route.Component?I=g.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=h,g.createElement(AP,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(NP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var b1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b1||{}),T1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T1||{});function kP(t){let e=g.useContext(Wg);return e||nt(!1),e}function PP(t){let e=g.useContext(_P);return e||nt(!1),e}function jP(t){let e=g.useContext(Ks);return e||nt(!1),e}function S1(t){let e=jP(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function DP(){var t;let e=g.useContext(w1),n=PP(),r=S1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LP(){let{router:t}=kP(b1.UseNavigateStable),e=S1(T1.UseNavigateStable),n=g.useRef(!1);return _1(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Al({fromRouteId:e},i)))},[t,e])}const Sw={};function OP(t,e,n){Sw[t]||(Sw[t]=!0)}function MP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function VP(t){let{to:e,replace:n,state:r,relative:s}=t;Jo()||nt(!1);let{future:i,static:o}=g.useContext(Gs),{matches:l}=g.useContext(Ks),{pathname:c}=Zo(),d=yr(),h=$g(e,zg(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function cn(t){nt(!1)}function FP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ms.Pop,navigator:i,static:o=!1,future:l}=t;Jo()&&nt(!1);let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Al({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Xo(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:S="default"}=r,x=g.useMemo(()=>{let T=Bg(h,c);return T==null?null:{location:{pathname:T,search:f,hash:m,state:y,key:S},navigationType:s}},[c,h,f,m,y,S,s]);return x==null?null:g.createElement(Gs.Provider,{value:d},g.createElement(Yd.Provider,{children:n,value:x}))}function UP(t){let{children:e,location:n}=t;return TP(Zp(e),n)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Zp(r.props.children,i));return}r.type!==cn&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $P(t,e){return t.button===0&&(!e||e==="_self")&&!zP(t)}const WP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HP="6";try{window.__reactRouterVersion=HP}catch{}const qP="startTransition",Iw=Dd[qP];function GP(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=Kk({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=g.useCallback(f=>{d&&Iw?Iw(()=>c(f)):c(f)},[c,d]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.useEffect(()=>MP(r),[r]),g.createElement(FP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const KP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=BP(e,WP),{basename:y}=g.useContext(Gs),S,x=!1;if(typeof d=="string"&&QP.test(d)&&(S=d,KP))try{let I=new URL(window.location.href),R=d.startsWith("//")?new URL(I.protocol+d):new URL(d),L=Bg(R.pathname,y);R.origin===I.origin&&L!=null?d=L+R.search+R.hash:x=!0}catch{}let T=EP(d,{relative:s}),b=YP(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(I){r&&r(I),I.defaultPrevented||b(I)}return g.createElement("a",em({},m,{href:S||T,onClick:x||i?r:w,ref:n,target:c}))});var Cw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cw||(Cw={}));var Nw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nw||(Nw={}));function YP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=yr(),d=Zo(),h=E1(t,{relative:o});return g.useCallback(f=>{if($P(f,n)){f.preventDefault();let m=r!==void 0?r:ed(d)===ed(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,r,s,n,t,i,o,l])}const XP=()=>{};var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},JP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new ZP;const m=i<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),f!==64){const S=d<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(t){const e=I1(t);return C1.encodeByteArray(e,!0)},td=function(t){return e2(t).replace(/\./g,"")},N1=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=()=>t2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof Aw>"u")return;const t=Aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N1(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return XP()||n2()||r2()||s2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A1=t=>{var e,n;return(n=(e=Xd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},R1=t=>{const e=A1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k1=()=>{var t;return(t=Xd())==null?void 0:t.config},P1=t=>{var e;return(e=Xd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[td(JSON.stringify(n)),td(JSON.stringify(o)),""].join(".")}const rl={};function o2(){const t={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?t.emulator.push(e):t.prod.push(e);return t}function a2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rw=!1;function qg(t,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||rl[t]===e||rl[t]||Rw)return;rl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=o2().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Rw=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=a2(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),T=document.getElementById(x)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;l(I),h(T,x);const R=d();c(w,b),I.append(w,S,T,R),document.body.appendChild(I)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function c2(){var e;const t=(e=Xd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h2(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f2(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function p2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m2,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$i.prototype.create)}}class $i{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?g2(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new kn(s,l,r)}}function g2(t,e){return t.replace(y2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const y2=/\{\$([^}]+)}/g;function v2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kw(i)&&kw(o)){if(!Ds(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x2(t,e){const n=new w2(t,e);return n.subscribe.bind(n)}class w2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Cf),s.error===void 0&&(s.error=Cf),s.complete===void 0&&(s.complete=Cf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,b2=2,T2=4*60*60*1e3,S2=.5;function Pw(t,e=E2,n=b2){const r=e*Math.pow(n,t),s=Math.round(S2*r*(Math.random()-.5)*2);return Math.min(T2,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class Nn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(t){return t===hi?void 0:t}function N2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const R2={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},k2=de.INFO,P2={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},j2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=P2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jd{constructor(e){this.name=e,this._logLevel=k2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const D2=(t,e)=>e.some(n=>t instanceof n);let jw,Dw;function L2(){return jw||(jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,tm=new WeakMap,V1=new WeakMap,Nf=new WeakMap,Gg=new WeakMap;function M2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ns(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function V2(t){if(tm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});tm.set(t,e)}let nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F2(t){nm=t(nm)}function U2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Af(this),e,...n);return V1.set(r,e.sort?e.sort():[e]),Ns(r)}:O2().includes(t)?function(...e){return t.apply(Af(this),e),Ns(M1.get(this))}:function(...e){return Ns(t.apply(Af(this),e))}}function B2(t){return typeof t=="function"?U2(t):(t instanceof IDBTransaction&&V2(t),D2(t,L2())?new Proxy(t,nm):t)}function Ns(t){if(t instanceof IDBRequest)return M2(t);if(Nf.has(t))return Nf.get(t);const e=B2(t);return e!==t&&(Nf.set(t,e),Gg.set(e,t)),e}const Af=t=>Gg.get(t);function F1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ns(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ns(o.result),c.oldVersion,c.newVersion,Ns(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const z2=["get","getKey","getAll","getAllKeys","count"],$2=["put","add","delete","clear"],Rf=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z2.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Rf.set(e,i),i}F2(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",Ow="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Jd("@firebase/app"),q2="@firebase/app-compat",G2="@firebase/analytics-compat",K2="@firebase/analytics",Q2="@firebase/app-check-compat",Y2="@firebase/app-check",X2="@firebase/auth",J2="@firebase/auth-compat",Z2="@firebase/database",ej="@firebase/data-connect",tj="@firebase/database-compat",nj="@firebase/functions",rj="@firebase/functions-compat",sj="@firebase/installations",ij="@firebase/installations-compat",oj="@firebase/messaging",aj="@firebase/messaging-compat",lj="@firebase/performance",cj="@firebase/performance-compat",uj="@firebase/remote-config",dj="@firebase/remote-config-compat",hj="@firebase/storage",fj="@firebase/storage-compat",pj="@firebase/firestore",mj="@firebase/ai",gj="@firebase/firestore-compat",yj="firebase",vj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",xj={[rm]:"fire-core",[q2]:"fire-core-compat",[K2]:"fire-analytics",[G2]:"fire-analytics-compat",[Y2]:"fire-app-check",[Q2]:"fire-app-check-compat",[X2]:"fire-auth",[J2]:"fire-auth-compat",[Z2]:"fire-rtdb",[ej]:"fire-data-connect",[tj]:"fire-rtdb-compat",[nj]:"fire-fn",[rj]:"fire-fn-compat",[sj]:"fire-iid",[ij]:"fire-iid-compat",[oj]:"fire-fcm",[aj]:"fire-fcm-compat",[lj]:"fire-perf",[cj]:"fire-perf-compat",[uj]:"fire-rc",[dj]:"fire-rc-compat",[hj]:"fire-gcs",[fj]:"fire-gcs-compat",[pj]:"fire-fst",[gj]:"fire-fst-compat",[mj]:"fire-vertex","fire-js":"fire-js",[yj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,wj=new Map,im=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hn(t){const e=t.name;if(im.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,t);for(const n of nd.values())Mw(n,t);for(const n of wj.values())Mw(n,t);return!0}function Ys(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new $i("app","Firebase",_j);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=vj;function U1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:sm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=k1()),!n)throw As.create("no-options");const i=nd.get(s);if(i){if(Ds(n,i.options)&&Ds(r,i.config))return i;throw As.create("duplicate-app",{appName:s})}const o=new A2(s);for(const c of im.values())o.addComponent(c);const l=new Ej(n,r,o);return nd.set(s,l),l}function Zd(t=sm){const e=nd.get(t);if(!e&&t===sm&&k1())return U1();if(!e)throw As.create("no-app",{appName:t});return e}function nn(t,e,n){let r=xj[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(o.join(" "));return}Hn(new Nn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="firebase-heartbeat-database",Tj=1,Rl="firebase-heartbeat-store";let kf=null;function B1(){return kf||(kf=F1(bj,Tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),kf}async function Sj(t){try{const n=(await B1()).transaction(Rl),r=await n.objectStore(Rl).get(z1(t));return await n.done,r}catch(e){if(e instanceof kn)Lr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function Vw(t,e){try{const r=(await B1()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,z1(t)),await r.done}catch(n){if(n instanceof kn)Lr.warn(n.message);else{const r=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(r.message)}}}function z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=1024,Cj=30;class Nj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Cj){const o=kj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:s}=Aj(this._heartbeatsCache.heartbeats),i=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Lr.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function Aj(t,e=Ij){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Uw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function kj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){Hn(new Nn("platform-logger",e=>new W2(e),"PRIVATE")),Hn(new Nn("heartbeat",e=>new Nj(e),"PRIVATE")),nn(rm,Ow,t),nn(rm,Ow,"esm2020"),nn("fire-js","")}Pj("");function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jj=$1,W1=new $i("auth","Firebase",$1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Jd("@firebase/auth");function Dj(t,...e){rd.logLevel<=de.WARN&&rd.warn(`Auth (${Wi}): ${t}`,...e)}function yu(t,...e){rd.logLevel<=de.ERROR&&rd.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw Qg(t,...e)}function Bn(t,...e){return Qg(t,...e)}function Kg(t,e,n){const r={...jj(),[e]:n};return new $i("auth","Firebase",r).create(e,{appName:t.name})}function Rr(t){return Kg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(t,"argument-error"),Kg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W1.create(t,...e)}function ee(t,e,...n){if(!t)throw Qg(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yu(e),new Error(e)}function Or(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Oj(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oj()||D1()||"connection"in navigator)?navigator.onLine:!0}function Vj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=l2()||d2()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bj=new Jl(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $r(t,e,n,r,s={}){return q1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Xl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return u2()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Qs(t.emulatorConfig.host)&&(d.credentials="include"),H1.fetch()(await G1(t,t.config.apiHost,n,l),d)})}async function q1(t,e,n){t._canInitEmulator=!1;const r={...Fj,...e};try{const s=new $j(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $c(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $c(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $c(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Kg(t,h,d);An(t,h)}}catch(s){if(s instanceof kn)throw s;An(t,"network-request-failed",{message:String(s)})}}async function Zl(t,e,n,r,s={}){const i=await $r(t,e,n,r,s);return"mfaPendingCredential"in i&&An(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function G1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Yg(t.config,s):`${t.config.apiScheme}://${s}`;return Uj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),Bj.get())})}}function $c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Bn(t,e,r);return s.customData._tokenResponse=n,s}function zw(t){return t!==void 0&&t.enterprise!==void 0}class Wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hj(t,e){return $r(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function sd(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gj(t,e=!1){const n=ke(t),r=await n.getIdToken(e),s=Xg(r);ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:sl(Pf(s.auth_time)),issuedAtTime:sl(Pf(s.iat)),expirationTime:sl(Pf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pf(t){return Number(t)*1e3}function Xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=N1(n);return s?JSON.parse(s):(yu("Failed to decode base64 JWT payload"),null)}catch(s){return yu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $w(t){const e=Xg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&Kj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Vo(t,sd(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?K1(s.providerUserInfo):[],o=Xj(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new am(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Yj(t){const e=ke(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function K1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){const n=await q1(t,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await G1(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Qs(t.emulatorConfig.host)&&(c.credentials="include"),H1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zj(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=$w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Jj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new bo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Qj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new am(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gj(this,e)}reload(){return Yj(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await Vo(this,qj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:x}=n;ee(f&&x,e,"internal-error");const T=bo.fromJSON(this.name,x);ee(typeof f=="string",e,"internal-error"),Jr(r,e.name),Jr(s,e.name),ee(typeof m=="boolean",e,"internal-error"),ee(typeof y=="boolean",e,"internal-error"),Jr(i,e.name),Jr(o,e.name),Jr(l,e.name),Jr(c,e.name),Jr(d,e.name),Jr(h,e.name);const b=new Mn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:T,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(b.providerData=S.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new bo;s.updateFromServerResponse(n);const i=new Mn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await id(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?K1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new bo;l.updateFromIdToken(r);const c=new Mn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new am(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;function Nr(t){Or(t instanceof Function,"Expected a class definition");let e=Ww.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q1.type="NONE";const Hw=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vu(this.userKey,s.apiKey,i),this.fullPersistenceKey=vu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Nr(Hw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Nr(Hw);const o=vu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await sd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Mn._fromGetAccountInfoResponse(e,m,h)}else f=Mn._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new To(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new To(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tT(e))return"Blackberry";if(nT(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||J1(e))&&!e.includes("edge/"))return"Chrome";if(eT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Y1(t=Mt()){return/firefox\//i.test(t)}function X1(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J1(t=Mt()){return/crios\//i.test(t)}function Z1(t=Mt()){return/iemobile/i.test(t)}function eT(t=Mt()){return/android/i.test(t)}function tT(t=Mt()){return/blackberry/i.test(t)}function nT(t=Mt()){return/webos/i.test(t)}function Jg(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e4(t=Mt()){var e;return Jg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function t4(){return h2()&&document.documentMode===10}function rT(t=Mt()){return Jg(t)||eT(t)||nT(t)||tT(t)||/windows phone/i.test(t)||Z1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e=[]){let n;switch(t){case"Browser":n=qw(Mt());break;case"Worker":n=`${qw(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=6;class i4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??s4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new n4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),r=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(Rr(this));const n=e?ke(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r4(this),n=new i4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Dj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Js(t){return ke(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=x2(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a4(t){eh=t}function iT(t){return eh.loadJS(t)}function l4(){return eh.recaptchaEnterpriseScript}function c4(){return eh.gapiScript}function u4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class d4{constructor(){this.enterprise=new h4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class h4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const f4="recaptcha-enterprise",oT="NO_RECAPTCHA";class p4{constructor(e){this.type=f4,this.auth=Js(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Hj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Wj(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;zw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(oT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&zw(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=l4();c.length!==0&&(c+=l),iT(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Kw(t,e,n,r=!1,s=!1){const i=new p4(t);let o;if(s)o=oT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function lm(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Kw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){const n=Ys(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ds(i,e??{}))return s;An(s,"already-initialized")}return n.initialize({options:e})}function g4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y4(t,e,n){const r=Js(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=aT(e),{host:o,port:l}=v4(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ds(d,r.config.emulator)&&Ds(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qs(o)?(Hg(`${i}//${o}${c}`),qg("Auth",!0)):x4()}function aT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v4(t){const e=aT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Qw(o)}}}function Qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function w4(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){return Zl(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function b4(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Zg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,n,"signInWithPassword",_4);case"emailLink":return E4(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,r,"signUpPassword",w4);case"emailLink":return b4(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Zl(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="http://localhost";class ki extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ki(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:T4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I4(t){const e=Ba(za(t)).link,n=e?Ba(za(e)).deep_link_id:null,r=Ba(za(t)).deep_link_id;return(r?Ba(za(r)).link:null)||r||n||e||t}class ey{constructor(e){const n=Ba(za(e)),r=n.apiKey??null,s=n.oobCode??null,i=S4(n.mode??null);ee(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=I4(e);try{return new ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ey.parseLink(n);return ee(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends ty{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends ec{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ec{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends ec{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return Zl(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mn._fromIdTokenResponse(e,r,s),o=Yw(r);return new Pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yw(r);return new Pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends kn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new od(e,n,r,s)}}function lT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,i,e,r):i})}async function N4(t,e,n=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e,n=!1){const{auth:r}=t;if(Qt(r.app))return Promise.reject(Rr(r));const s="reauthenticate";try{const i=await Vo(t,lT(r,s,e,t),n);ee(i.idToken,r,"internal-error");const o=Xg(i.idToken);ee(o,r,"internal-error");const{sub:l}=o;return ee(t.uid===l,r,"user-mismatch"),Pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&An(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e,n=!1){if(Qt(t.app))return Promise.reject(Rr(t));const r="signIn",s=await lT(t,r,e),i=await Pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function R4(t,e){return cT(Js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k4(t,e,n){if(Qt(t.app))return Promise.reject(Rr(t));const r=Js(t),o=await lm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&uT(t),c}),l=await Pi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function P4(t,e,n){return Qt(t.app)?Promise.reject(Rr(t)):R4(ke(t),ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vo(r,j4(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function D4(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function L4(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function O4(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function M4(t){return ke(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=1e3,F4=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);t4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},V4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const U4=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const mT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await B4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=ny("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function $4(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function W4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function q4(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",G4=1,ld="firebaseLocalStorage",vT="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function K4(){const t=indexedDB.deleteDatabase(yT);return new tc(t).toPromise()}function cm(){const t=indexedDB.open(yT,G4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:vT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await K4(),e(await cm()))})})}async function Xw(t,e,n){const r=nh(t,!0).put({[vT]:e,value:n});return new tc(r).toPromise()}async function Q4(t,e){const n=nh(t,!1).get(e),r=await new tc(n).toPromise();return r===void 0?null:r.value}function Jw(t,e){const n=nh(t,!0).delete(e);return new tc(n).toPromise()}const Y4=800,X4=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(q4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await W4(),!this.activeServiceWorker)return;this.sender=new z4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await Xw(e,ad,"1"),await Jw(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nh(s,!1).getAll();return new tc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const J4=xT;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){return e?Nr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z4(t){return cT(t.auth,new ry(t),t.bypassAuthState)}function eD(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),A4(n,new ry(t),t.bypassAuthState)}async function tD(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),N4(n,new ry(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z4;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return eD;default:An(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Jl(2e3,1e4);async function rD(t,e,n){if(Qt(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=Js(t);Lj(t,e,ty);const s=wT(r,n);return new gi(r,"signInViaPopup",e,s).executeNotNull()}class gi extends _T{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,gi.currentPopupAction&&gi.currentPopupAction.cancel(),gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nD.get())};e()}}gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="pendingRedirect",xu=new Map;class iD extends _T{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const r=await oD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oD(t,e){const n=cD(e),r=lD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function aD(t,e){xu.set(t._key(),e)}function lD(t){return Nr(t._redirectPersistence)}function cD(t){return vu(sD,t.config.apiKey,t.name)}async function uD(t,e,n=!1){if(Qt(t.app))return Promise.reject(Rr(t));const r=Js(t),s=wT(r,e),o=await new iD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=10*60*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ET(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ET({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gD=/^https?/;async function yD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pD(t);for(const n of e)try{if(vD(n))return}catch{}An(t,"unauthorized-domain")}function vD(t){const e=om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gD.test(n))return!1;if(mD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Jl(3e4,6e4);function e_(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wD(t){return new Promise((e,n)=>{var s,i,o;function r(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(Bn(t,"network-request-failed"))},timeout:xD.get()})}if((i=(s=ar().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ar().gapi)!=null&&o.load)r();else{const l=u4("iframefcb");return ar()[l]=()=>{gapi.load?r():n(Bn(t,"network-request-failed"))},iT(`${c4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw wu=null,e})}let wu=null;function _D(t){return wu=wu||wD(t),wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Jl(5e3,15e3),bD="__/auth/iframe",TD="emulator/auth/iframe",SD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ID=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CD(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yg(e,TD):`https://${t.config.authDomain}/${bD}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},s=ID.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xl(r).slice(1)}`}async function ND(t){const e=await _D(t),n=ar().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:CD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),l=ar().setTimeout(()=>{i(o)},ED.get());function c(){ar().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,kD=600,PD="_blank",jD="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DD(t,e,n,r=RD,s=kD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...AD,width:r.toString(),height:s.toString(),top:i,left:o},d=Mt().toLowerCase();n&&(l=J1(d)?PD:n),Y1(d)&&(e=e||jD,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(e4(d)&&l!=="_self")return LD(e||"",l),new t_(null);const f=window.open(e||"",l,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new t_(f)}function LD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="__/auth/handler",MD="emulator/auth/handler",VD=encodeURIComponent("fac");async function n_(t,e,n,r,s,i){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wi,eventId:s};if(e instanceof ty){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",v2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ec){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${VD}=${encodeURIComponent(c)}`:"";return`${FD(t)}?${Xl(l).slice(1)}${d}`}function FD({config:t}){return t.emulator?Yg(t,MD):`https://${t.authDomain}/${OD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class UD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=uD,this._overrideRedirectResult=aD}async _openPopup(e,n,r,s){var o;Or((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await n_(e,n,r,om(),s);return DD(e,i,ny())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await n_(e,n,r,om(),s);return $4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ND(e),r=new hD(e);return n.register("authEvent",s=>(ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[jf];i!==void 0&&n(!!i),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rT()||X1()||Jg()}}const BD=UD;var r_="@firebase/auth",s_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WD(t){Hn(new Nn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(t)},d=new o4(r,s,i,c);return g4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new Nn("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(r=>new zD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(r_,s_,$D(t)),nn(r_,s_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=5*60,qD=P1("authIdTokenMaxAge")||HD;let i_=null;const GD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qD)return;const s=n==null?void 0:n.token;i_!==s&&(i_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KD(t=Zd()){const e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m4(t,{popupRedirectResolver:BD,persistence:[J4,U4,mT]}),r=P1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=GD(i.toString());L4(n,o,()=>o(n.currentUser)),D4(n,l=>o(l))}}const s=A1("auth");return s&&y4(n,`http://${s}`),n}function QD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}a4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Bn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",QD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WD("Browser");var YD="firebase",XD="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(YD,XD,"app");const bT="@firebase/installations",sy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=1e4,ST=`w:${sy}`,IT="FIS_v2",JD="https://firebaseinstallations.googleapis.com/v1",ZD=60*60*1e3,eL="installations",tL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ji=new $i(eL,tL,nL);function CT(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT({projectId:t}){return`${JD}/projects/${t}/installations`}function AT(t){return{token:t.token,requestStatus:2,expiresIn:sL(t.expiresIn),creationTime:Date.now()}}async function RT(t,e){const r=(await e.json()).error;return ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rL(t,{refreshToken:e}){const n=kT(t);return n.append("Authorization",iL(e)),n}async function PT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function sL(t){return Number(t.replace("s","000"))}function iL(t){return`${IT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NT(t),s=kT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:IT,appId:t.appId,sdkVersion:ST},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await PT(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:AT(d.authToken)}}else throw await RT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^[cdef][\w-]{21}$/,um="";function cL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=uL(t);return lL.test(n)?n:um}catch{return um}}function uL(t){return aL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function LT(t,e){const n=rh(t);OT(n,e),dL(n,e)}function OT(t,e){const n=DT.get(t);if(n)for(const r of n)r(e)}function dL(t,e){const n=hL();n&&n.postMessage({key:t,fid:e}),fL()}let yi=null;function hL(){return!yi&&"BroadcastChannel"in self&&(yi=new BroadcastChannel("[Firebase] FID Change"),yi.onmessage=t=>{OT(t.data.key,t.data.fid)}),yi}function fL(){DT.size===0&&yi&&(yi.close(),yi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebase-installations-database",mL=1,Di="firebase-installations-store";let Df=null;function iy(){return Df||(Df=F1(pL,mL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Di)}}})),Df}async function cd(t,e){const n=rh(t),s=(await iy()).transaction(Di,"readwrite"),i=s.objectStore(Di),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&LT(t,e.fid),e}async function MT(t){const e=rh(t),r=(await iy()).transaction(Di,"readwrite");await r.objectStore(Di).delete(e),await r.done}async function sh(t,e){const n=rh(t),s=(await iy()).transaction(Di,"readwrite"),i=s.objectStore(Di),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&LT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(t){let e;const n=await sh(t.appConfig,r=>{const s=gL(r),i=yL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===um?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gL(t){const e=t||{fid:cL(),registrationStatus:0};return VT(e)}function yL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ji.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xL(t)}:{installationEntry:e}}async function vL(t,e){try{const n=await oL(t,e);return cd(t.appConfig,n)}catch(n){throw CT(n)&&n.customData.serverCode===409?await MT(t.appConfig):await cd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function xL(t){let e=await o_(t.appConfig);for(;e.registrationStatus===1;)await jT(100),e=await o_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await oy(t);return r||n}return e}function o_(t){return sh(t,e=>{if(!e)throw ji.create("installation-not-found");return VT(e)})}function VT(t){return wL(t)?{fid:t.fid,registrationStatus:0}:t}function wL(t){return t.registrationStatus===1&&t.registrationTime+TT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L({appConfig:t,heartbeatServiceProvider:e},n){const r=EL(t,n),s=rL(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:ST,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await PT(()=>fetch(r,l));if(c.ok){const d=await c.json();return AT(d)}else throw await RT("Generate Auth Token",c)}function EL(t,{fid:e}){return`${NT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(t,e=!1){let n;const r=await sh(t.appConfig,i=>{if(!FT(i))throw ji.create("not-registered");const o=i.authToken;if(!e&&SL(o))return i;if(o.requestStatus===1)return n=bL(t,e),i;{if(!navigator.onLine)throw ji.create("app-offline");const l=CL(i);return n=TL(t,l),l}});return n?await n:r.authToken}async function bL(t,e){let n=await a_(t.appConfig);for(;n.authToken.requestStatus===1;)await jT(100),n=await a_(t.appConfig);const r=n.authToken;return r.requestStatus===0?ay(t,e):r}function a_(t){return sh(t,e=>{if(!FT(e))throw ji.create("not-registered");const n=e.authToken;return NL(n)?{...e,authToken:{requestStatus:0}}:e})}async function TL(t,e){try{const n=await _L(t,e),r={...e,authToken:n};return await cd(t.appConfig,r),n}catch(n){if(CT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await cd(t.appConfig,r)}throw n}}function FT(t){return t!==void 0&&t.registrationStatus===2}function SL(t){return t.requestStatus===2&&!IL(t)}function IL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZD}function CL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function NL(t){return t.requestStatus===1&&t.requestTime+TT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t){const e=t,{installationEntry:n,registrationPromise:r}=await oy(e);return r?r.catch(console.error):ay(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e=!1){const n=t;return await kL(n),(await ay(n,e)).token}async function kL(t){const{registrationPromise:e}=await oy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(!t||!t.options)throw Lf("App Configuration");if(!t.name)throw Lf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Lf(t){return ji.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="installations",jL="installations-internal",DL=t=>{const e=t.getProvider("app").getImmediate(),n=PL(e),r=Ys(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},LL=t=>{const e=t.getProvider("app").getImmediate(),n=Ys(e,UT).getImmediate();return{getId:()=>AL(n),getToken:s=>RL(n,s)}};function OL(){Hn(new Nn(UT,DL,"PUBLIC")),Hn(new Nn(jL,LL,"PRIVATE"))}OL();nn(bT,sy);nn(bT,sy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="analytics",ML="firebase_id",VL="origin",FL=60*1e3,UL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new Jd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new $i("analytics","Analytics",BL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){if(!t.startsWith(ly)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function BT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $L(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function WL(t,e){const n=$L("firebase-js-sdk-policy",{createScriptURL:zL}),r=document.createElement("script"),s=`${ly}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function HL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qL(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await BT(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){$t.error(l)}t("config",s,i)}async function GL(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await BT(n);for(const c of o){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){$t.error(i)}}function KL(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await GL(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await qL(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=o;t("consent",l,c)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){$t.error(l)}}return s}function QL(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=KL(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function YL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ly)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=30,JL=1e3;class ZL{constructor(e={},n=JL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zT=new ZL;function eO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tO(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:eO(n)},s=UL.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function nO(t,e=zT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw gn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new iO;return setTimeout(async()=>{l.abort()},FL),$T({appId:r,apiKey:s,measurementId:i},o,l,e)}async function $T(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=zT){var l;const{appId:i,measurementId:o}=t;try{await rO(r,e)}catch(c){if(o)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await tO(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!sO(d)){if(s.deleteThrottleMetadata(i),o)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?Pw(n,s.intervalMillis,XL):Pw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),$t.debug(`Calling attemptFetch again in ${h} millis`),$T(t,f,r,s)}}function rO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sO(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function aO(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(){if(L1())try{await O1()}catch(t){return $t.warn(gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $t.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cO(t,e,n,r,s,i,o){const l=nO(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>$t.error(m)),e.push(l);const c=lO().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,c]);YL(i)||WL(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[VL]="firebase",f.update=!0,h!=null&&(f[ML]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.app=e}_delete(){return delete Io[this.app.options.appId],Promise.resolve()}}let Io={},l_=[];const c_={};let Of="dataLayer",dO="gtag",u_,cy,d_=!1;function hO(){const t=[];if(D1()&&t.push("This is a browser extension environment."),p2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}function fO(t,e,n){hO();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(Io[r]!=null)throw gn.create("already-exists",{id:r});if(!d_){HL(Of);const{wrappedGtag:i,gtagCore:o}=QL(Io,l_,c_,Of,dO);cy=i,u_=o,d_=!0}return Io[r]=cO(t,l_,c_,e,u_,Of,n),new uO(t)}function pO(t=Zd()){t=ke(t);const e=Ys(t,ud);return e.isInitialized()?e.getImmediate():mO(t)}function mO(t,e={}){const n=Ys(t,ud);if(n.isInitialized()){const s=n.getImmediate();if(Ds(e,n.getOptions()))return s;throw gn.create("already-initialized")}return n.initialize({options:e})}function gO(t,e,n){t=ke(t),aO(cy,Io[t.app.options.appId],e,n).catch(r=>$t.error(r))}function yO(t,e,n,r){t=ke(t),oO(cy,Io[t.app.options.appId],e,n,r).catch(s=>$t.error(s))}const h_="@firebase/analytics",f_="0.10.19";function vO(){Hn(new Nn(ud,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return fO(r,s,n)},"PUBLIC")),Hn(new Nn("analytics-internal",t,"PRIVATE")),nn(h_,f_),nn(h_,f_,"esm2020");function t(e){try{const n=e.getProvider(ud).getImmediate();return{logEvent:(r,s,i)=>yO(n,r,s,i),setUserProperties:(r,s)=>gO(n,r,s)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}}}vO();var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,WT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,_){function C(){}C.prototype=_.prototype,E.F=_.prototype,E.prototype=new C,E.prototype.constructor=E,E.D=function(k,D,j){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return _.prototype[D].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,_,C){C||(C=0);const k=Array(16);if(typeof _=="string")for(var D=0;D<16;++D)k[D]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=E.g[0],C=E.g[1],D=E.g[2];let j=E.g[3],P;P=_+(j^C&(D^j))+k[0]+3614090360&4294967295,_=C+(P<<7&4294967295|P>>>25),P=j+(D^_&(C^D))+k[1]+3905402710&4294967295,j=_+(P<<12&4294967295|P>>>20),P=D+(C^j&(_^C))+k[2]+606105819&4294967295,D=j+(P<<17&4294967295|P>>>15),P=C+(_^D&(j^_))+k[3]+3250441966&4294967295,C=D+(P<<22&4294967295|P>>>10),P=_+(j^C&(D^j))+k[4]+4118548399&4294967295,_=C+(P<<7&4294967295|P>>>25),P=j+(D^_&(C^D))+k[5]+1200080426&4294967295,j=_+(P<<12&4294967295|P>>>20),P=D+(C^j&(_^C))+k[6]+2821735955&4294967295,D=j+(P<<17&4294967295|P>>>15),P=C+(_^D&(j^_))+k[7]+4249261313&4294967295,C=D+(P<<22&4294967295|P>>>10),P=_+(j^C&(D^j))+k[8]+1770035416&4294967295,_=C+(P<<7&4294967295|P>>>25),P=j+(D^_&(C^D))+k[9]+2336552879&4294967295,j=_+(P<<12&4294967295|P>>>20),P=D+(C^j&(_^C))+k[10]+4294925233&4294967295,D=j+(P<<17&4294967295|P>>>15),P=C+(_^D&(j^_))+k[11]+2304563134&4294967295,C=D+(P<<22&4294967295|P>>>10),P=_+(j^C&(D^j))+k[12]+1804603682&4294967295,_=C+(P<<7&4294967295|P>>>25),P=j+(D^_&(C^D))+k[13]+4254626195&4294967295,j=_+(P<<12&4294967295|P>>>20),P=D+(C^j&(_^C))+k[14]+2792965006&4294967295,D=j+(P<<17&4294967295|P>>>15),P=C+(_^D&(j^_))+k[15]+1236535329&4294967295,C=D+(P<<22&4294967295|P>>>10),P=_+(D^j&(C^D))+k[1]+4129170786&4294967295,_=C+(P<<5&4294967295|P>>>27),P=j+(C^D&(_^C))+k[6]+3225465664&4294967295,j=_+(P<<9&4294967295|P>>>23),P=D+(_^C&(j^_))+k[11]+643717713&4294967295,D=j+(P<<14&4294967295|P>>>18),P=C+(j^_&(D^j))+k[0]+3921069994&4294967295,C=D+(P<<20&4294967295|P>>>12),P=_+(D^j&(C^D))+k[5]+3593408605&4294967295,_=C+(P<<5&4294967295|P>>>27),P=j+(C^D&(_^C))+k[10]+38016083&4294967295,j=_+(P<<9&4294967295|P>>>23),P=D+(_^C&(j^_))+k[15]+3634488961&4294967295,D=j+(P<<14&4294967295|P>>>18),P=C+(j^_&(D^j))+k[4]+3889429448&4294967295,C=D+(P<<20&4294967295|P>>>12),P=_+(D^j&(C^D))+k[9]+568446438&4294967295,_=C+(P<<5&4294967295|P>>>27),P=j+(C^D&(_^C))+k[14]+3275163606&4294967295,j=_+(P<<9&4294967295|P>>>23),P=D+(_^C&(j^_))+k[3]+4107603335&4294967295,D=j+(P<<14&4294967295|P>>>18),P=C+(j^_&(D^j))+k[8]+1163531501&4294967295,C=D+(P<<20&4294967295|P>>>12),P=_+(D^j&(C^D))+k[13]+2850285829&4294967295,_=C+(P<<5&4294967295|P>>>27),P=j+(C^D&(_^C))+k[2]+4243563512&4294967295,j=_+(P<<9&4294967295|P>>>23),P=D+(_^C&(j^_))+k[7]+1735328473&4294967295,D=j+(P<<14&4294967295|P>>>18),P=C+(j^_&(D^j))+k[12]+2368359562&4294967295,C=D+(P<<20&4294967295|P>>>12),P=_+(C^D^j)+k[5]+4294588738&4294967295,_=C+(P<<4&4294967295|P>>>28),P=j+(_^C^D)+k[8]+2272392833&4294967295,j=_+(P<<11&4294967295|P>>>21),P=D+(j^_^C)+k[11]+1839030562&4294967295,D=j+(P<<16&4294967295|P>>>16),P=C+(D^j^_)+k[14]+4259657740&4294967295,C=D+(P<<23&4294967295|P>>>9),P=_+(C^D^j)+k[1]+2763975236&4294967295,_=C+(P<<4&4294967295|P>>>28),P=j+(_^C^D)+k[4]+1272893353&4294967295,j=_+(P<<11&4294967295|P>>>21),P=D+(j^_^C)+k[7]+4139469664&4294967295,D=j+(P<<16&4294967295|P>>>16),P=C+(D^j^_)+k[10]+3200236656&4294967295,C=D+(P<<23&4294967295|P>>>9),P=_+(C^D^j)+k[13]+681279174&4294967295,_=C+(P<<4&4294967295|P>>>28),P=j+(_^C^D)+k[0]+3936430074&4294967295,j=_+(P<<11&4294967295|P>>>21),P=D+(j^_^C)+k[3]+3572445317&4294967295,D=j+(P<<16&4294967295|P>>>16),P=C+(D^j^_)+k[6]+76029189&4294967295,C=D+(P<<23&4294967295|P>>>9),P=_+(C^D^j)+k[9]+3654602809&4294967295,_=C+(P<<4&4294967295|P>>>28),P=j+(_^C^D)+k[12]+3873151461&4294967295,j=_+(P<<11&4294967295|P>>>21),P=D+(j^_^C)+k[15]+530742520&4294967295,D=j+(P<<16&4294967295|P>>>16),P=C+(D^j^_)+k[2]+3299628645&4294967295,C=D+(P<<23&4294967295|P>>>9),P=_+(D^(C|~j))+k[0]+4096336452&4294967295,_=C+(P<<6&4294967295|P>>>26),P=j+(C^(_|~D))+k[7]+1126891415&4294967295,j=_+(P<<10&4294967295|P>>>22),P=D+(_^(j|~C))+k[14]+2878612391&4294967295,D=j+(P<<15&4294967295|P>>>17),P=C+(j^(D|~_))+k[5]+4237533241&4294967295,C=D+(P<<21&4294967295|P>>>11),P=_+(D^(C|~j))+k[12]+1700485571&4294967295,_=C+(P<<6&4294967295|P>>>26),P=j+(C^(_|~D))+k[3]+2399980690&4294967295,j=_+(P<<10&4294967295|P>>>22),P=D+(_^(j|~C))+k[10]+4293915773&4294967295,D=j+(P<<15&4294967295|P>>>17),P=C+(j^(D|~_))+k[1]+2240044497&4294967295,C=D+(P<<21&4294967295|P>>>11),P=_+(D^(C|~j))+k[8]+1873313359&4294967295,_=C+(P<<6&4294967295|P>>>26),P=j+(C^(_|~D))+k[15]+4264355552&4294967295,j=_+(P<<10&4294967295|P>>>22),P=D+(_^(j|~C))+k[6]+2734768916&4294967295,D=j+(P<<15&4294967295|P>>>17),P=C+(j^(D|~_))+k[13]+1309151649&4294967295,C=D+(P<<21&4294967295|P>>>11),P=_+(D^(C|~j))+k[4]+4149444226&4294967295,_=C+(P<<6&4294967295|P>>>26),P=j+(C^(_|~D))+k[11]+3174756917&4294967295,j=_+(P<<10&4294967295|P>>>22),P=D+(_^(j|~C))+k[2]+718787259&4294967295,D=j+(P<<15&4294967295|P>>>17),P=C+(j^(D|~_))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.v=function(E,_){_===void 0&&(_=E.length);const C=_-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<_;){if(D==0)for(;j<=C;)s(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<_;)if(k[D++]=E.charCodeAt(j++),D==this.blockSize){s(this,k),D=0;break}}else for(;j<_;)if(k[D++]=E[j++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=_},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var C=E.length-8;C<E.length;++C)E[C]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)E[_++]=this.g[C]>>>k&255;return E};function i(E,_){var C=l;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=_(E)}function o(E,_){this.h=_;const C=[];let k=!0;for(let D=E.length-1;D>=0;D--){const j=E[D]|0;k&&j==_||(C[D]=j,k=!1)}this.g=C}var l={};function c(E){return-128<=E&&E<128?i(E,function(_){return new o([_|0],_<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return T(d(-E));const _=[];let C=1;for(let k=0;E>=C;k++)_[k]=E/C|0,C*=4294967296;return new o(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return T(h(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(_,8));let k=f;for(let j=0;j<E.length;j+=8){var D=Math.min(8,E.length-j);const P=parseInt(E.substring(j,j+D),_);D<8?(D=d(Math.pow(_,D)),k=k.j(D).add(d(P))):(k=k.j(C),k=k.add(d(P)))}return k}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-T(this).m();let E=0,_=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);E+=(k>=0?k:4294967296+k)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(x(this))return"-"+T(this).toString(E);const _=d(Math.pow(E,6));var C=this;let k="";for(;;){const D=R(C,_).g;C=b(C,D.j(_));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(E);if(C=D,S(C))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=b(this,E),x(E)?-1:S(E)?0:1};function T(E){const _=E.g.length,C=[];for(let k=0;k<_;k++)C[k]=~E.g[k];return new o(C,~E.h).add(m)}t.abs=function(){return x(this)?T(this):this},t.add=function(E){const _=Math.max(this.g.length,E.g.length),C=[];let k=0;for(let D=0;D<=_;D++){let j=k+(this.i(D)&65535)+(E.i(D)&65535),P=(j>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);k=P>>>16,j&=65535,P&=65535,C[D]=P<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function b(E,_){return E.add(T(_))}t.j=function(E){if(S(this)||S(E))return f;if(x(this))return x(E)?T(this).j(T(E)):T(T(this).j(E));if(x(E))return T(this.j(T(E)));if(this.l(y)<0&&E.l(y)<0)return d(this.m()*E.m());const _=this.g.length+E.g.length,C=[];for(var k=0;k<2*_;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<E.g.length;D++){const j=this.i(k)>>>16,P=this.i(k)&65535,H=E.i(D)>>>16,ne=E.i(D)&65535;C[2*k+2*D]+=P*ne,w(C,2*k+2*D),C[2*k+2*D+1]+=j*ne,w(C,2*k+2*D+1),C[2*k+2*D+1]+=P*H,w(C,2*k+2*D+1),C[2*k+2*D+2]+=j*H,w(C,2*k+2*D+2)}for(E=0;E<_;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=_;E<2*_;E++)C[E]=0;return new o(C,0)};function w(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function I(E,_){this.g=E,this.h=_}function R(E,_){if(S(_))throw Error("division by zero");if(S(E))return new I(f,f);if(x(E))return _=R(T(E),_),new I(T(_.g),T(_.h));if(x(_))return _=R(E,T(_)),new I(T(_.g),_.h);if(E.g.length>30){if(x(E)||x(_))throw Error("slowDivide_ only works with positive integers.");for(var C=m,k=_;k.l(E)<=0;)C=L(C),k=L(k);var D=A(C,1),j=A(k,1);for(k=A(k,2),C=A(C,2);!S(k);){var P=j.add(k);P.l(E)<=0&&(D=D.add(C),j=P),k=A(k,1),C=A(C,1)}return _=b(E,D.j(_)),new I(D,_)}for(D=f;E.l(_)>=0;){for(C=Math.max(1,Math.floor(E.m()/_.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=d(C),P=j.j(_);x(P)||P.l(E)>0;)C-=k,j=d(C),P=j.j(_);S(j)&&(j=m),D=D.add(j),E=b(E,P)}return new I(D,E)}t.B=function(E){return R(this,E).h},t.and=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let k=0;k<_;k++)C[k]=this.i(k)&E.i(k);return new o(C,this.h&E.h)},t.or=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let k=0;k<_;k++)C[k]=this.i(k)|E.i(k);return new o(C,this.h|E.h)},t.xor=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let k=0;k<_;k++)C[k]=this.i(k)^E.i(k);return new o(C,this.h^E.h)};function L(E){const _=E.g.length+1,C=[];for(let k=0;k<_;k++)C[k]=E.i(k)<<1|E.i(k-1)>>>31;return new o(C,E.h)}function A(E,_){const C=_>>5;_%=32;const k=E.g.length-C,D=[];for(let j=0;j<k;j++)D[j]=_>0?E.i(j+C)>>>_|E.i(j+C+1)<<32-_:E.i(j+C);return new o(D,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Rs=o}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HT,$a,qT,_u,dm,GT,KT,QT;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var v=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var O=u[N];if(!(O in v))break e;v=v[O]}u=u[u.length-1],N=v[u],p=p(N),p!=N&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(p){var v=[],N;for(N in p)Object.prototype.hasOwnProperty.call(p,N)&&v.push([N,p[N]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function c(u,p,v){return u.call.apply(u.bind,arguments)}function d(u,p,v){return d=c,d.apply(null,arguments)}function h(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function f(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(N,O,M){for(var z=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)z[ce-2]=arguments[ce];return p.prototype[O].apply(N,z)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const p=u.length;if(p>0){const v=Array(p);for(let N=0;N<p;N++)v[N]=u[N];return v}return[]}function S(u,p){for(let N=1;N<arguments.length;N++){const O=arguments[N];var v=typeof O;if(v=v!="object"?v:O?Array.isArray(O)?"array":v:"null",v=="array"||v=="object"&&typeof O.length=="number"){v=u.length||0;const M=O.length||0;u.length=v+M;for(let z=0;z<M;z++)u[v+z]=O[z]}else u.push(O)}}class x{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function T(u){o.setTimeout(()=>{throw u},0)}function b(){var u=E;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class w{constructor(){this.h=this.g=null}add(p,v){const N=I.get();N.set(p,v),this.h?this.h.next=N:this.g=N,this.h=N}}var I=new x(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let L,A=!1,E=new w,_=()=>{const u=Promise.resolve(void 0);L=()=>{u.then(C)}};function C(){for(var u;u=b();){try{u.h.call(u.g)}catch(v){T(v)}var p=I;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}A=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};o.addEventListener("test",v,p),o.removeEventListener("test",v,p)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function H(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}f(H,D),H.prototype.init=function(u,p){const v=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(u,p,v,N,O){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!N,this.ha=O,this.key=++Q,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $(u,p,v){for(const N in u)p.call(v,u[N],N,u)}function K(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function ae(u){const p={};for(const v in u)p[v]=u[v];return p}const Ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function on(u,p){let v,N;for(let O=1;O<arguments.length;O++){N=arguments[O];for(v in N)u[v]=N[v];for(let M=0;M<Ne.length;M++)v=Ne[M],Object.prototype.hasOwnProperty.call(N,v)&&(u[v]=N[v])}}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,p,v,N,O){const M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);const z=at(u,p,N,O);return z>-1?(p=u[z],v||(p.fa=!1)):(p=new oe(p,this.src,M,!!N,O),p.fa=v,u.push(p)),p};function qt(u,p){const v=p.type;if(v in u.g){var N=u.g[v],O=Array.prototype.indexOf.call(N,p,void 0),M;(M=O>=0)&&Array.prototype.splice.call(N,O,1),M&&(V(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function at(u,p,v,N){for(let O=0;O<u.length;++O){const M=u[O];if(!M.da&&M.listener==p&&M.capture==!!v&&M.ha==N)return O}return-1}var J="closure_lm_"+(Math.random()*1e6|0),_e={};function lt(u,p,v,N,O){if(Array.isArray(p)){for(let M=0;M<p.length;M++)lt(u,p[M],v,N,O);return null}return v=fc(v),u&&u[ne]?u.J(p,v,l(N)?!!N.capture:!1,O):be(u,p,v,!1,N,O)}function be(u,p,v,N,O,M){if(!p)throw Error("Invalid event type");const z=l(O)?!!O.capture:!!O;let ce=xr(u);if(ce||(u[J]=ce=new Xe(u)),v=ce.add(p,v,N,z,M),v.proxy)return v;if(N=we(),v.proxy=N,N.src=u,N.listener=v,u.addEventListener)j||(O=z),O===void 0&&(O=!1),u.addEventListener(p.toString(),N,O);else if(u.attachEvent)u.attachEvent(an(p.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function we(){function u(v){return p.call(u.src,u.listener,v)}const p=ri;return u}function ve(u,p,v,N,O){if(Array.isArray(p))for(var M=0;M<p.length;M++)ve(u,p[M],v,N,O);else N=l(N)?!!N.capture:!!N,v=fc(v),u&&u[ne]?(u=u.i,M=String(p).toString(),M in u.g&&(p=u.g[M],v=at(p,v,N,O),v>-1&&(V(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[M],u.h--)))):u&&(u=xr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=at(p,v,N,O)),(v=u>-1?p[u]:null)&&xt(v))}function xt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ne])qt(p.i,u);else{var v=u.type,N=u.proxy;p.removeEventListener?p.removeEventListener(v,N,u.capture):p.detachEvent?p.detachEvent(an(v),N):p.addListener&&p.removeListener&&p.removeListener(N),(v=xr(p))?(qt(v,u),v.h==0&&(v.src=null,p[J]=null)):V(u)}}}function an(u){return u in _e?_e[u]:_e[u]="on"+u}function ri(u,p){if(u.da)u=!0;else{p=new H(p,this);const v=u.listener,N=u.ha||u.src;u.fa&&xt(u),u=v.call(N,p)}return u}function xr(u){return u=u[J],u instanceof Xe?u:null}var wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function fc(u){return typeof u=="function"?u:(u[wr]||(u[wr]=function(p){return u.handleEvent(p)}),u[wr])}function Je(){k.call(this),this.i=new Xe(this),this.M=this,this.G=null}f(Je,k),Je.prototype[ne]=!0,Je.prototype.removeEventListener=function(u,p,v,N){ve(this,u,p,v,N)};function Vt(u,p){var v,N=u.G;if(N)for(v=[];N;N=N.G)v.push(N);if(u=u.M,N=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var O=p;p=new D(N,u),on(p,O)}O=!0;let M,z;if(v)for(z=v.length-1;z>=0;z--)M=p.g=v[z],O=pc(M,N,!0,p)&&O;if(M=p.g=u,O=pc(M,N,!0,p)&&O,O=pc(M,N,!1,p)&&O,v)for(z=0;z<v.length;z++)M=p.g=v[z],O=pc(M,N,!1,p)&&O}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let N=0;N<v.length;N++)V(v[N]);delete u.g[p],u.h--}}this.G=null},Je.prototype.J=function(u,p,v,N){return this.i.add(String(u),p,!1,v,N)},Je.prototype.K=function(u,p,v,N){return this.i.add(String(u),p,!0,v,N)};function pc(u,p,v,N){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let O=!0;for(let M=0;M<p.length;++M){const z=p[M];if(z&&!z.da&&z.capture==v){const ce=z.listener,ct=z.ha||z.src;z.fa&&qt(u.i,z),O=ce.call(ct,N)!==!1&&O}}return O&&!N.defaultPrevented}function QN(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function yv(u){u.g=QN(()=>{u.g=null,u.i&&(u.i=!1,yv(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class YN extends k{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yv(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(u){k.call(this),this.h=u,this.g={}}f(ua,k);var vv=[];function xv(u){$(u.g,function(p,v){this.g.hasOwnProperty(v)&&xt(p)},u),u.g={}}ua.prototype.N=function(){ua.Z.N.call(this),xv(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oh=o.JSON.stringify,XN=o.JSON.parse,JN=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function wv(){}function _v(){}var da={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mh(){D.call(this,"d")}f(Mh,D);function Vh(){D.call(this,"c")}f(Vh,D);var si={},Ev=null;function mc(){return Ev=Ev||new Je}si.Ia="serverreachability";function bv(u){D.call(this,si.Ia,u)}f(bv,D);function ha(u){const p=mc();Vt(p,new bv(p))}si.STAT_EVENT="statevent";function Tv(u,p){D.call(this,si.STAT_EVENT,u),this.stat=p}f(Tv,D);function Ft(u){const p=mc();Vt(p,new Tv(p,u))}si.Ja="timingevent";function Sv(u,p){D.call(this,si.Ja,u),this.size=p}f(Sv,D);function fa(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function pa(){this.g=!0}pa.prototype.ua=function(){this.g=!1};function ZN(u,p,v,N,O,M){u.info(function(){if(u.g)if(M){var z="",ce=M.split("&");for(let Ae=0;Ae<ce.length;Ae++){var ct=ce[Ae].split("=");if(ct.length>1){const mt=ct[0];ct=ct[1];const Yn=mt.split("_");z=Yn.length>=2&&Yn[1]=="type"?z+(mt+"="+ct+"&"):z+(mt+"=redacted&")}}}else z=null;else z=M;return"XMLHTTP REQ ("+N+") [attempt "+O+"]: "+p+`
`+v+`
`+z})}function eA(u,p,v,N,O,M,z){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+O+"]: "+p+`
`+v+`
`+M+" "+z})}function Ki(u,p,v,N){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+nA(u,v)+(N?" "+N:"")})}function tA(u,p){u.info(function(){return"TIMEOUT: "+p})}pa.prototype.info=function(){};function nA(u,p){if(!u.g)return p;if(!p)return null;try{const M=JSON.parse(p);if(M){for(u=0;u<M.length;u++)if(Array.isArray(M[u])){var v=M[u];if(!(v.length<2)){var N=v[1];if(Array.isArray(N)&&!(N.length<1)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<N.length;z++)N[z]=""}}}}return Oh(M)}catch{return p}}var gc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Iv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cv;function Fh(){}f(Fh,wv),Fh.prototype.g=function(){return new XMLHttpRequest},Cv=new Fh;function ma(u){return encodeURIComponent(String(u))}function rA(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function Hr(u,p,v,N){this.j=u,this.i=p,this.l=v,this.S=N||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nv}function Nv(){this.i=null,this.g="",this.h=!1}var Av={},Uh={};function Bh(u,p,v){u.M=1,u.A=vc(Qn(p)),u.u=v,u.R=!0,Rv(u,null)}function Rv(u,p){u.F=Date.now(),yc(u),u.B=Qn(u.A);var v=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),$v(v.i,"t",N),u.C=0,v=u.j.L,u.h=new Nv,u.g=ax(u.j,v?p:null,!u.u),u.P>0&&(u.O=new YN(d(u.Y,u,u.g),u.P)),p=u.V,v=u.g,N=u.ba;var O="readystatechange";Array.isArray(O)||(O&&(vv[0]=O.toString()),O=vv);for(let M=0;M<O.length;M++){const z=lt(v,O[M],N||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=u.J?ae(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ha(),ZN(u.i,u.v,u.B,u.l,u.S,u.u)}Hr.prototype.ba=function(u){u=u.target;const p=this.O;p&&Kr(u)==3?p.j():this.Y(u)},Hr.prototype.Y=function(u){try{if(u==this.g)e:{const ce=Kr(this.g),ct=this.g.ya(),Ae=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||Yv(this.g)))){this.K||ce!=4||ct==7||(ct==8||Ae<=0?ha(3):ha(2)),zh(this);var p=this.g.ca();this.X=p;var v=sA(this);if(this.o=p==200,eA(this.i,this.v,this.B,this.l,this.S,ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var N,O=this.g;if((N=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var M=N;break t}}M=null}if(u=M)Ki(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$h(this,u);else{this.o=!1,this.m=3,Ft(12),ii(this),ga(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=iA(this,v),mt==Uh){ce==4&&(this.m=4,Ft(14),u=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Av){this.m=4,Ft(15),Ki(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ki(this.i,this.l,mt,null),$h(this,mt);if(kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||v.length!=0||this.h.h||(this.m=1,Ft(16),u=!1),this.o=this.o&&u,!u)Ki(this.i,this.l,v,"[Invalid Chunked Response]"),ii(this),ga(this);else if(v.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xh(z),z.P=!0,Ft(11))}}else Ki(this.i,this.l,v,null),$h(this,v);ce==4&&ii(this),this.o&&!this.K&&(ce==4?rx(this.j,this):(this.o=!1,yc(this)))}else xA(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),ii(this),ga(this)}}}catch{}finally{}};function sA(u){if(!kv(u))return u.g.la();const p=Yv(u.g);if(p==="")return"";let v="";const N=p.length,O=Kr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ii(u),ga(u),"";u.h.i=new o.TextDecoder}for(let M=0;M<N;M++)u.h.h=!0,v+=u.h.i.decode(p[M],{stream:!(O&&M==N-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function kv(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iA(u,p){var v=u.C,N=p.indexOf(`
`,v);return N==-1?Uh:(v=Number(p.substring(v,N)),isNaN(v)?Av:(N+=1,N+v>p.length?Uh:(p=p.slice(N,N+v),u.C=N+v,p)))}Hr.prototype.cancel=function(){this.K=!0,ii(this)};function yc(u){u.T=Date.now()+u.H,Pv(u,u.H)}function Pv(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fa(d(u.aa,u),p)}function zh(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Hr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(tA(this.i,this.B),this.M!=2&&(ha(),Ft(17)),ii(this),this.m=2,ga(this)):Pv(this,this.T-u)};function ga(u){u.j.I==0||u.K||rx(u.j,u)}function ii(u){zh(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,xv(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function $h(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||Wh(v.h,u))){if(!u.L&&Wh(v.h,u)&&v.I==3){try{var N=v.Ba.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var O=N;if(O[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)bc(v),_c(v);else break e;Yh(v),Ft(18)}}else v.xa=O[1],0<v.xa-v.K&&O[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fa(d(v.Va,v),6e3));Lv(v.h)<=1&&v.ta&&(v.ta=void 0)}else ai(v,11)}else if((u.L||v.g==u)&&bc(v),!P(p))for(O=v.Ba.g.parse(p),p=0;p<O.length;p++){let Ae=O[p];const mt=Ae[0];if(!(mt<=v.K))if(v.K=mt,Ae=Ae[1],v.I==2)if(Ae[0]=="c"){v.M=Ae[1],v.ba=Ae[2];const Yn=Ae[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const li=Ae[4];li!=null&&(v.za=li,v.j.info("SVER="+v.za));const Qr=Ae[5];Qr!=null&&typeof Qr=="number"&&Qr>0&&(N=1.5*Qr,v.O=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const Yr=u.g;if(Yr){const Sc=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var M=N.h;M.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Hh(M,M.h),M.h=null))}if(N.G){const Jh=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(N.wa=Jh,De(N.J,N.G,Jh))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),N=v;var z=u;if(N.na=ox(N,N.L?N.ba:null,N.W),z.L){Ov(N.h,z);var ce=z,ct=N.O;ct&&(ce.H=ct),ce.D&&(zh(ce),yc(ce)),N.g=z}else tx(N);v.i.length>0&&Ec(v)}else Ae[0]!="stop"&&Ae[0]!="close"||ai(v,7);else v.I==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ai(v,7):Qh(v):Ae[0]!="noop"&&v.l&&v.l.qa(Ae),v.A=0)}}ha(4)}catch{}}var oA=class{constructor(u,p){this.g=u,this.map=p}};function jv(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Lv(u){return u.h?1:u.g?u.g.size:0}function Wh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Hh(u,p){u.g?u.g.add(p):u.h=p}function Ov(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}jv.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mv(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return y(u.i)}var Vv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aA(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const N=u[v].indexOf("=");let O,M=null;N>=0?(O=u[v].substring(0,N),M=u[v].substring(N+1)):O=u[v],p(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function qr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof qr?(this.l=u.l,ya(this,u.j),this.o=u.o,this.g=u.g,va(this,u.u),this.h=u.h,qh(this,Wv(u.i)),this.m=u.m):u&&(p=String(u).match(Vv))?(this.l=!1,ya(this,p[1]||"",!0),this.o=xa(p[2]||""),this.g=xa(p[3]||"",!0),va(this,p[4]),this.h=xa(p[5]||"",!0),qh(this,p[6]||"",!0),this.m=xa(p[7]||"")):(this.l=!1,this.i=new _a(null,this.l))}qr.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(wa(p,Fv,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wa(p,Fv,!0),"@"),u.push(ma(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wa(v,v.charAt(0)=="/"?uA:cA,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wa(v,hA)),u.join("")},qr.prototype.resolve=function(u){const p=Qn(this);let v=!!u.j;v?ya(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var N=u.h;if(v)va(p,u.u);else if(v=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var O=p.h.lastIndexOf("/");O!=-1&&(N=p.h.slice(0,O+1)+N)}if(O=N,O==".."||O==".")N="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){N=O.lastIndexOf("/",0)==0,O=O.split("/");const M=[];for(let z=0;z<O.length;){const ce=O[z++];ce=="."?N&&z==O.length&&M.push(""):ce==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),N&&z==O.length&&M.push("")):(M.push(ce),N=!0)}N=M.join("/")}else N=O}return v?p.h=N:v=u.i.toString()!=="",v?qh(p,Wv(u.i)):v=!!u.m,v&&(p.m=u.m),p};function Qn(u){return new qr(u)}function ya(u,p,v){u.j=v?xa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function va(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function qh(u,p,v){p instanceof _a?(u.i=p,fA(u.i,u.l)):(v||(p=wa(p,dA)),u.i=new _a(p,u.l))}function De(u,p,v){u.i.set(p,v)}function vc(u){return De(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,lA),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fv=/[#\/\?@]/g,cA=/[#\?:]/g,uA=/[#\?]/g,dA=/[#\?@]/g,hA=/#/g;function _a(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&aA(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=_a.prototype,t.add=function(u,p){oi(this),this.i=null,u=Qi(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Uv(u,p){oi(u),p=Qi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Bv(u,p){return oi(u),p=Qi(u,p),u.g.has(p)}t.forEach=function(u,p){oi(this),this.g.forEach(function(v,N){v.forEach(function(O){u.call(p,O,N,this)},this)},this)};function zv(u,p){oi(u);let v=[];if(typeof p=="string")Bv(u,p)&&(v=v.concat(u.g.get(Qi(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}t.set=function(u,p){return oi(this),this.i=null,u=Qi(this,u),Bv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=zv(this,u),u.length>0?String(u[0]):p):p};function $v(u,p,v){Uv(u,p),v.length>0&&(u.i=null,u.g.set(Qi(u,p),y(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let N=0;N<p.length;N++){var v=p[N];const O=ma(v);v=zv(this,v);for(let M=0;M<v.length;M++){let z=O;v[M]!==""&&(z+="="+ma(v[M])),u.push(z)}}return this.i=u.join("&")};function Wv(u){const p=new _a;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Qi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function fA(u,p){p&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(v,N){const O=N.toLowerCase();N!=O&&(Uv(this,N),$v(this,O,v))},u)),u.j=p}function pA(u,p){const v=new pa;if(o.Image){const N=new Image;N.onload=h(Gr,v,"TestLoadImage: loaded",!0,p,N),N.onerror=h(Gr,v,"TestLoadImage: error",!1,p,N),N.onabort=h(Gr,v,"TestLoadImage: abort",!1,p,N),N.ontimeout=h(Gr,v,"TestLoadImage: timeout",!1,p,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else p(!1)}function mA(u,p){const v=new pa,N=new AbortController,O=setTimeout(()=>{N.abort(),Gr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:N.signal}).then(M=>{clearTimeout(O),M.ok?Gr(v,"TestPingServer: ok",!0,p):Gr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),Gr(v,"TestPingServer: error",!1,p)})}function Gr(u,p,v,N,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),N(v)}catch{}}function gA(){this.g=new JN}function Gh(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Gh,wv),Gh.prototype.g=function(){return new xc(this.i,this.h)};function xc(u,p){Je.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(xc,Je),t=xc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ba(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hv(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hv(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ea(this):ba(this),this.readyState==3&&Hv(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},t.Na=function(u){this.g&&(this.response=u,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ba(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function ba(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qv(u){let p="";return $(u,function(v,N){p+=N,p+=":",p+=v,p+=`\r
`}),p}function Kh(u,p,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=qv(v),typeof u=="string"?v!=null&&ma(v):De(u,p,v))}function qe(u){Je.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(qe,Je);var yA=/^https?$/i,vA=["POST","PUT"];t=qe.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cv.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(M){Gv(this,M);return}if(u=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var O in N)v.set(O,N[O]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const M of N.keys())v.set(M,N.get(M));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find(M=>M.toLowerCase()=="content-type"),O=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(vA,p,void 0)>=0)||N||O||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of v)this.g.setRequestHeader(M,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(M){Gv(this,M)}};function Gv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Kv(u),wc(u)}function Kv(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wc(this,!0)),qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qv(this):this.Xa())},t.Xa=function(){Qv(this)};function Qv(u){if(u.h&&typeof i<"u"){if(u.v&&Kr(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Kr(u)==4){u.h=!1;try{const M=u.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var N;if(N=M===0){let z=String(u.D).match(Vv)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),N=!yA.test(z?z.toLowerCase():"")}v=N}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var O=Kr(u)>2?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.ca()+"]",Kv(u)}}finally{wc(u)}}}}function wc(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Kr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),XN(p)}};function Yv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xA(u){const p={};u=(u.g&&Kr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(P(u[N]))continue;var v=rA(u[N]);const O=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const M=p[O]||[];p[O]=M,M.push(v)}K(p,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Xv(u){this.za=0,this.i=[],this.j=new pa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,u),this.Za=Ta("retryDelaySeedMs",1e4,u),this.Ta=Ta("forwardChannelMaxRetries",2,u),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new jv(u&&u.concurrentRequestLimit),this.Ba=new gA,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xv.prototype,t.ka=8,t.I=1,t.connect=function(u,p,v,N){Ft(0),this.W=u,this.H=p||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.J=ox(this,null,this.W),Ec(this)};function Qh(u){if(Jv(u),u.I==3){var p=u.V++,v=Qn(u.J);if(De(v,"SID",u.M),De(v,"RID",p),De(v,"TYPE","terminate"),Sa(u,v),p=new Hr(u,u.j,p),p.M=2,p.A=vc(Qn(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&o.Image&&(new Image().src=p.A,v=!0),v||(p.g=ax(p.j,null),p.g.ea(p.A)),p.F=Date.now(),yc(p)}ix(u)}function _c(u){u.g&&(Xh(u),u.g.cancel(),u.g=null)}function Jv(u){_c(u),u.v&&(o.clearTimeout(u.v),u.v=null),bc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Ec(u){if(!Dv(u.h)&&!u.m){u.m=!0;var p=u.Ea;L||_(),A||(L(),A=!0),E.add(p,u),u.D=0}}function wA(u,p){return Lv(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fa(d(u.Ea,u,p),sx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const O=new Hr(this,this.j,u);let M=this.o;if(this.U&&(M?(M=ae(M),on(M,this.U)):M=this.U),this.u!==null||this.R||(O.J=M,M=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=ex(this,O,p),v=Qn(this.J),De(v,"RID",u),De(v,"CVER",22),this.G&&De(v,"X-HTTP-Session-Id",this.G),Sa(this,v),M&&(this.R?p="headers="+ma(qv(M))+"&"+p:this.u&&Kh(v,this.u,M)),Hh(this.h,O),this.Ra&&De(v,"TYPE","init"),this.S?(De(v,"$req",p),De(v,"SID","null"),O.U=!0,Bh(O,v,null)):Bh(O,v,p),this.I=2}}else this.I==3&&(u?Zv(this,u):this.i.length==0||Dv(this.h)||Zv(this))};function Zv(u,p){var v;p?v=p.l:v=u.V++;const N=Qn(u.J);De(N,"SID",u.M),De(N,"RID",v),De(N,"AID",u.K),Sa(u,N),u.u&&u.o&&Kh(N,u.u,u.o),v=new Hr(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=ex(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Hh(u.h,v),Bh(v,N,p)}function Sa(u,p){u.H&&$(u.H,function(v,N){De(p,N,v)}),u.l&&$({},function(v,N){De(p,N,v)})}function ex(u,p,v){v=Math.min(u.i.length,v);const N=u.l?d(u.l.Ka,u.l,u):null;e:{var O=u.i;let ce=-1;for(;;){const ct=["count="+v];ce==-1?v>0?(ce=O[0].g,ct.push("ofs="+ce)):ce=0:ct.push("ofs="+ce);let Ae=!0;for(let mt=0;mt<v;mt++){var M=O[mt].g;const Yn=O[mt].map;if(M-=ce,M<0)ce=Math.max(0,O[mt].g-100),Ae=!1;else try{M="req"+M+"_"||"";try{var z=Yn instanceof Map?Yn:Object.entries(Yn);for(const[li,Qr]of z){let Yr=Qr;l(Qr)&&(Yr=Oh(Qr)),ct.push(M+li+"="+encodeURIComponent(Yr))}}catch(li){throw ct.push(M+"type="+encodeURIComponent("_badmap")),li}}catch{N&&N(Yn)}}if(Ae){z=ct.join("&");break e}}z=void 0}return u=u.i.splice(0,v),p.G=u,z}function tx(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;L||_(),A||(L(),A=!0),E.add(p,u),u.A=0}}function Yh(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fa(d(u.Da,u),sx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,nx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fa(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),_c(this),nx(this))};function Xh(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function nx(u){u.g=new Hr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Qn(u.na);De(p,"RID","rpc"),De(p,"SID",u.M),De(p,"AID",u.K),De(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&De(p,"TO",u.ia),De(p,"TYPE","xmlhttp"),Sa(u,p),u.u&&u.o&&Kh(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vc(Qn(p)),v.u=null,v.R=!0,Rv(v,u)}t.Va=function(){this.C!=null&&(this.C=null,_c(this),Yh(this),Ft(19))};function bc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function rx(u,p){var v=null;if(u.g==p){bc(u),Xh(u),u.g=null;var N=2}else if(Wh(u.h,p))v=p.G,Ov(u.h,p),N=1;else return;if(u.I!=0){if(p.o)if(N==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var O=u.D;N=mc(),Vt(N,new Sv(N,v)),Ec(u)}else tx(u);else if(O=p.m,O==3||O==0&&p.X>0||!(N==1&&wA(u,p)||N==2&&Yh(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),O){case 1:ai(u,5);break;case 4:ai(u,10);break;case 3:ai(u,6);break;default:ai(u,2)}}}function sx(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function ai(u,p){if(u.j.info("Error code "+p),p==2){var v=d(u.bb,u),N=u.Ua;const O=!N;N=new qr(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ya(N,"https"),vc(N),O?pA(N.toString(),v):mA(N.toString(),v)}else Ft(2);u.I=0,u.l&&u.l.pa(p),ix(u),Jv(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function ix(u){if(u.I=0,u.ja=[],u.l){const p=Mv(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ja,p),S(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function ox(u,p,v){var N=v instanceof qr?Qn(v):new qr(v);if(N.g!="")p&&(N.g=p+"."+N.g),va(N,N.u);else{var O=o.location;N=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;const M=new qr(null);N&&ya(M,N),p&&(M.g=p),O&&va(M,O),v&&(M.h=v),N=M}return v=u.G,p=u.wa,v&&p&&De(N,v,p),De(N,"VER",u.ka),Sa(u,N),N}function ax(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new qe(new Gh({ab:v})):new qe(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lx(){}t=lx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tc(){}Tc.prototype.g=function(u,p){return new ln(u,p)};function ln(u,p){Je.call(this),this.g=new Xv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!P(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yi(this)}f(ln,Je),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Qh(this.g)},ln.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Oh(u),u=v);p.i.push(new oA(p.Ya++,u)),p.I==3&&Ec(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,ln.Z.N.call(this)};function cx(u){Mh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}f(cx,Mh);function ux(){Vh.call(this),this.status=1}f(ux,Vh);function Yi(u){this.g=u}f(Yi,lx),Yi.prototype.ra=function(){Vt(this.g,"a")},Yi.prototype.qa=function(u){Vt(this.g,new cx(u))},Yi.prototype.pa=function(u){Vt(this.g,new ux)},Yi.prototype.oa=function(){Vt(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,QT=function(){return new Tc},KT=function(){return mc()},GT=si,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,_u=gc,Iv.COMPLETE="complete",qT=Iv,_v.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Je.prototype.listen=Je.prototype.J,$a=_v,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,HT=qe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Jd("@firebase/firestore");function to(){return Li.logLevel}function q(t,...e){if(Li.logLevel<=de.DEBUG){const n=e.map(uy);Li.debug(`Firestore (${ta}): ${t}`,...n)}}function Mr(t,...e){if(Li.logLevel<=de.ERROR){const n=e.map(uy);Li.error(`Firestore (${ta}): ${t}`,...n)}}function Fo(t,...e){if(Li.logLevel<=de.WARN){const n=e.map(uy);Li.warn(`Firestore (${ta}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YT(t,r,n)}function YT(t,e,n){let r=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mr(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YT(e,s,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _O{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new XT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class EO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=SO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function hm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Mf(s)===Mf(i)?he(s,i):Mf(s)?1:-1}return he(t.length,e.length)}const IO=55296,CO=57343;function Mf(t){const e=t.charCodeAt(0);return e>=IO&&e<=CO}function Uo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class Zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Zn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=Zn.isNumericId(e),s=Zn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Zn.extractNumericId(e).compare(Zn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class Pe extends Zn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const NO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Zn{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return NO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Et([v_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Pe.fromString(e))}static fromName(e){return new Y(Pe.fromString(e).popFirst(5))}static empty(){return new Y(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AO(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x_(t){if(!Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RO(t,e){if(e<=0)throw new W(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function nc(t,e){if(!ZT(t))throw new W(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=-62135596800,E_=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*E_);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<__)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-__;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:ot("string",Me._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Me(0,0))}static max(){return new ie(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function kO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Ls(s,Y.empty(),e)}function PO(t){return new Ls(t.readTime,t.key,Pl)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(ie.min(),Y.empty(),Pl)}static max(){return new Ls(ie.max(),Y.empty(),Pl)}}function jO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==DO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function OO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ra(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function ah(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function MO(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="";function VO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b_(e)),e=FO(t.get(n),e);return b_(e)}function FO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case eS:n+="";break;default:n+=i}}return n}function b_(t){return t+eS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UO(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function tS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ft(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nS("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=BO.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="server_timestamp",sS="__type__",iS="__previous_value__",oS="__local_write_time__";function fy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sS])==null?void 0:r.stringValue)===rS}function lh(t){const e=t.mapValue.fields[iS];return fy(e)?lh(e):e}function jl(t){const e=Os(t.mapValue.fields[oS].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,s,i,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const hd="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="__type__",$O="__max__",qc={mapValue:{}},lS="__vector__",fd="value";function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fy(t)?4:HO(t)?9007199254740991:WO(t)?10:11:te(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Os(s.timestampValue),l=Os(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ms(s.bytesValue).isEqual(Ms(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ze(s.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ze(s.integerValue)===Ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ze(s.doubleValue),l=Ze(i.doubleValue);return o===l?dd(o)===dd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(T_(o)!==T_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!pr(o[c],l[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Ll(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ze(i.integerValue||i.doubleValue),c=Ze(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return I_(t.timestampValue,e.timestampValue);case 4:return I_(jl(t),jl(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Ms(i),c=Ms(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=he(l[d],c[d]);if(h!==0)return h}return he(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=he(Ze(i.latitude),Ze(o.latitude));return l!==0?l:he(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,S,x;const l=i.fields||{},c=o.fields||{},d=(m=l[fd])==null?void 0:m.arrayValue,h=(y=c[fd])==null?void 0:y.arrayValue,f=he(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:C_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qc.mapValue&&o===qc.mapValue)return 0;if(i===qc.mapValue)return 1;if(o===qc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=hm(c[f],h[f]);if(m!==0)return m;const y=Bo(l[c[f]],d[h[f]]);if(y!==0)return y}return he(c.length,h.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function I_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Os(t),r=Os(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function C_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bo(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function zo(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):te(61005,{value:t})}function Eu(t){switch(Vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+Eu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Eu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zs(r.fields,(i,o)=>{s+=i.length+Eu(o)}),s}(t.mapValue);default:throw te(13486,{value:t})}}function N_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function R_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}function WO(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aS])==null?void 0:r.stringValue)===lS}function il(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return{...t}}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=il(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Yt(il(this.value))}}function cS(t){const e=[];return Zs(t.fields,(n,r)=>{const s=new Et([n]);if(bu(r)){const i=cS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Lt(e,0,ie.min(),ie.min(),ie.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,s){return new Lt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,ie.min(),ie.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,ie.min(),ie.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.position=e,this.inclusive=n}}function k_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Bo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function qO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class it extends uS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KO(e,n,r):n==="array-contains"?new XO(e,r):n==="in"?new JO(e,r):n==="not-in"?new ZO(e,r):n==="array-contains-any"?new eM(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QO(e,r):new YO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends uS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qn(e,n)}matches(e){return dS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(t){return t.op==="and"}function hS(t){return GO(t)&&dS(t)}function GO(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function mm(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(hS(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function fS(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(t,e):t instanceof qn?function(r,s){return s instanceof qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&fS(o,s.filters[l]),!0):!1}(t,e):void te(19439)}function pS(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"}(t):"Filter"}class KO extends it{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class QO extends it{constructor(e,n){super(e,"in",n),this.keys=mS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YO extends it{constructor(e,n){super(e,"not-in",n),this.keys=mS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class XO extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return py(n)&&Ll(n.arrayValue,this.value)}}class JO extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class ZO extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ll(this.value.arrayValue,n)}}class eM extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function j_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tM(t,e,n,r,s,i,o)}function my(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zo(r)).join(",")),e.Te=n}return e.Te}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function gm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nM(t,e,n,r,s,i,o,l){return new sa(t,e,n,r,s,i,o,l)}function ch(t){return new sa(t)}function D_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gS(t){return t.collectionGroup!==null}function ol(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ft(Et.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ol(i,r))}),n.has(Et.keyField().canonicalString())||e.Ie.push(new Ol(Et.keyField(),r))}return e.Ie}function cr(t){const e=se(t);return e.Ee||(e.Ee=yS(e,ol(t))),e.Ee}function rM(t){const e=se(t);return e.de||(e.de=yS(e,t.explicitOrderBy)),e.de}function yS(t,e){if(t.limitType==="F")return j_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ol(s.field,i)});const n=t.endAt?new pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pd(t.startAt.position,t.startAt.inclusive):null;return j_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function md(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return gy(cr(t),cr(e))&&t.limitType===e.limitType}function vS(t){return`${my(cr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pS(s)).join(", ")}]`),ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>zo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>zo(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ol(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=k_(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,ol(r),s)||r.endAt&&!function(o,l,c){const d=k_(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,ol(r),s))}(t,e)}function sM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xS(t){return(e,n)=>{let r=!1;for(const s of ol(t)){const i=iM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iM(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Bo(c,d):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new We(Y.comparator);function Vr(){return oM}const wS=new We(Y.comparator);function Wa(...t){let e=wS;for(const n of t)e=e.insert(n.key,n);return e}function _S(t){let e=wS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return al()}function ES(){return al()}function al(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const aM=new We(Y.comparator),lM=new ft(Y.comparator);function fe(...t){let e=lM;for(const n of t)e=e.add(n);return e}const cM=new ft(he);function uM(){return cM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function bS(t){return{integerValue:""+t}}function dM(t,e){return MO(e)?bS(e):yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function hM(t,e,n){return t instanceof gd?function(s,i){const o={fields:{[sS]:{stringValue:rS},[oS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&fy(i)&&(i=lh(i)),i&&(o.fields[iS]=i),{mapValue:o}}(n,e):t instanceof Ml?SS(t,e):t instanceof Vl?IS(t,e):function(s,i){const o=TS(s,i),l=L_(o)+L_(s.Ae);return pm(o)&&pm(s.Ae)?bS(l):yy(s.serializer,l)}(t,e)}function fM(t,e,n){return t instanceof Ml?SS(t,e):t instanceof Vl?IS(t,e):n}function TS(t,e){return t instanceof yd?function(r){return pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gd extends hh{}class Ml extends hh{constructor(e){super(),this.elements=e}}function SS(t,e){const n=CS(e);for(const r of t.elements)n.some(s=>pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends hh{constructor(e){super(),this.elements=e}}function IS(t,e){let n=CS(e);for(const r of t.elements)n=n.filter(s=>!pr(s,r));return{arrayValue:{values:n}}}class yd extends hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L_(t){return Ze(t.integerValue||t.doubleValue)}function CS(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ml&&s instanceof Ml||r instanceof Vl&&s instanceof Vl?Uo(r.elements,s.elements,pr):r instanceof yd&&s instanceof yd?pr(r.Ae,s.Ae):r instanceof gd&&s instanceof gd}(t.transform,e.transform)}class mM{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function NS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RS(t.key,zn.none()):new rc(t.key,t.data,zn.none());{const n=t.data,r=Yt.empty();let s=new ft(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ei(t.key,r,new fn(s.toArray()),zn.none())}}function gM(t,e,n){t instanceof rc?function(s,i,o){const l=s.value.clone(),c=M_(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(s,i,o){if(!Tu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=M_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(AS(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof rc?function(i,o,l,c){if(!Tu(i.precondition,o))return l;const d=i.value.clone(),h=V_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,o,l,c){if(!Tu(i.precondition,o))return l;const d=V_(i.fieldTransforms,c,o),h=o.data;return h.setAll(AS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Tu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function yM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=TS(r.transform,s||null);i!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,i))}return n||null}function O_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uo(r,s,(i,o)=>pM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rc extends fh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ei extends fh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M_(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,fM(o,l,n[s]))}return r}function V_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hM(i,o,e))}return r}class RS extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ES();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=NS(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>O_(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>O_(n,r))}}class vy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return aM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,ge;function bM(t){switch(t){case F.OK:return te(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function kS(t){if(t===void 0)return Mr("GRPC error has no .code"),F.UNKNOWN;switch(t){case rt.OK:return F.OK;case rt.CANCELLED:return F.CANCELLED;case rt.UNKNOWN:return F.UNKNOWN;case rt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case rt.INTERNAL:return F.INTERNAL;case rt.UNAVAILABLE:return F.UNAVAILABLE;case rt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case rt.NOT_FOUND:return F.NOT_FOUND;case rt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case rt.ABORTED:return F.ABORTED;case rt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case rt.DATA_LOSS:return F.DATA_LOSS;default:return te(39323,{code:t})}}(ge=rt||(rt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Rs([4294967295,4294967295],0);function F_(t){const e=TM().encode(t),n=new WT;return n.update(e),new Uint8Array(n.digest())}function U_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([s,i],0)]}class xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Rs.fromNumber(r)));return s.compare(SM)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F_(e),[r,s]=U_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xy(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=F_(e),[r,s]=U_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ph(ie.min(),s,new We(he),Vr(),fe())}}class sc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sc(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class PS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class B_{constructor(){this.ve=0,this.Fe=z_(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:te(38017,{changeType:i})}}),new sc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=z_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Gc(),this.He=Gc(),this.Ye=new We(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gm(i))if(r===0){const o=new Y(i.path);this.et(n,o,Lt.newNoDocument(o,ie.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Ms(r).toUint8Array()}catch(c){if(c instanceof nS)return Fo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new xy(o,s,i)}catch(c){return Fo(c instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&gm(l.target)){const c=new Y(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Lt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=fe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ph(e,n,this.Ye,this.je,r);return this.je=Vr(),this.Je=Gc(),this.He=Gc(),this.Ye=new We(he),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new B_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new We(Y.comparator)}function z_(){return new We(Y.comparator)}const CM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AM={and:"AND",or:"OR"};class RM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kM(t,e){return vd(t,e.toTimestamp())}function ur(t){return xe(!!t,49232),ie.fromTimestamp(function(n){const r=Os(n);return new Me(r.seconds,r.nanos)}(t))}function wy(t,e){return xm(t,e).canonicalString()}function xm(t,e){const n=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LS(t){const e=Pe.fromString(t);return xe(BS(e),10190,{key:e.toString()}),e}function wm(t,e){return wy(t.databaseId,e.path)}function Vf(t,e){const n=LS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(MS(n))}function OS(t,e){return wy(t.databaseId,e)}function PM(t){const e=LS(t);return e.length===4?Pe.emptyPath():MS(e)}function _m(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $_(t,e,n){return{name:wm(t,e),fields:n.value.mapValue.fields}}function jM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(xe(h===void 0||typeof h=="string",58123),St.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?F.UNKNOWN:kS(d.code);return new W(h,d.message||"")}(o);n=new jS(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vf(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ie.min(),l=new Yt({mapValue:{fields:r.document.fields}}),c=Lt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Su(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vf(t,r.document),i=r.readTime?ur(r.readTime):ie.min(),o=Lt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Su([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vf(t,r.document),i=r.removedTargetIds||[];n=new Su([],i,s,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new EM(s,i),l=r.targetId;n=new PS(l,o)}}return n}function DM(t,e){let n;if(e instanceof rc)n={update:$_(t,e.key,e.value)};else if(e instanceof RS)n={delete:wm(t,e.key)};else if(e instanceof ei)n={update:$_(t,e.key,e.data),updateMask:$M(e.fieldMask)};else{if(!(e instanceof vM))return te(16599,{Vt:e.type});n={verify:wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof gd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof yd)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te(27497)}(t,e.precondition)),n}function LM(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(ie.min())&&(o=ur(i)),new mM(o,s.transformResults||[])}(n,e))):[]}function OM(t,e){return{documents:[OS(t,e.path)]}}function VS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OS(t,s);const i=function(d){if(d.length!==0)return US(qn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:us(m.field),direction:UM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function MM(t,e,n,r){const{ft:s,parent:i}=VS(t,e),o={},l=[];let c=0;return n.forEach(d=>{const h="aggregate_"+c++;o[h]=d.alias,d.aggregateType==="count"?l.push({alias:h,count:{}}):d.aggregateType==="avg"?l.push({alias:h,avg:{field:us(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:h,sum:{field:us(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},gt:o,parent:i}}function VM(t){let e=PM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=FS(f);return m instanceof qn&&hS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new Ol(ro(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,ah(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new pd(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new pd(y,m)}(n.endAt)),nM(e,s,o,i,l,"F",c,d)}function FM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ro(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ro(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(ro(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>FS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function UM(t){return CM[t]}function BM(t){return NM[t]}function zM(t){return AM[t]}function us(t){return{fieldPath:t.canonicalString()}}function ro(t){return Et.fromServerFormat(t.fieldPath)}function US(t){return t instanceof it?function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:BM(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(s=>US(s));return r.length===1?r[0]:{compositeFilter:{op:zM(n.op),filters:r}}}(t):te(54877,{filter:t})}function $M(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,s,i=ie.min(),o=ie.min(),l=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.yt=e}}function HM(t){const e=VM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?md(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Cn=new GM}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ls.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class GM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft(Pe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zS=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(zS,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",KM=1048576;function q_([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class QM{constructor(e){this.Ir=e,this.buffer=new ft(q_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ra(n)?q(H_,"Ignoring IndexedDB error during garbage collection: ",n):await na(n)}await this.Vr(3e5)})}}class XM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(oh.ce);const r=new QM(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(W_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),to()<=de.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function JM(t,e){return new XM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ll(r.mutation,s,fn.empty(),Me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wa();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Vr();const o=al(),l=function(){return al()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ei)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ll(h.mutation,d,h.mutation.getFieldMask(),Me.now())):o.set(d.key,fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new eV(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=al();let s=new We((o,l)=>o-l),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||fn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||fe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=ES();h.forEach(m=>{if(!i.has(m)){const y=NS(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(vi());let l=Pl,c=i;return o.next(d=>U.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,fe())).next(h=>({batchId:l,changes:_S(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const d=function(f,m){return new sa(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Lt.newInvalidDocument(h)))});let l=Wa();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&ll(h.mutation,d,fn.empty(),Me.now()),dh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:HM(s.bundledQuery),readTime:ur(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.overlays=new We(Y.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=vi(),i=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=vi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=vi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wM(n,r));let i=this.qr.get(n);i===void 0&&(i=fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.Qr=new ft(gt.$r),this.Ur=new ft(gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new gt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new Pe([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new Pe([])),r=new gt(n,e),s=new gt(n,e+1);let i=fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(gt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new gt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?hy:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(he);return n.forEach(s=>{const i=new gt(s,0),o=new gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new gt(new Y(i),0);let l=new ft(he);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new gt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.ri=e,this.docs=function(){return new We(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Lt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vr();const o=n.path,l=new Y(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||jO(PO(h),r)<=0||(s.has(h.key)||dh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){te(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aV(this)}getSize(e){return U.resolve(this.size)}}class aV extends ZM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.persistence=e,this.si=new Hi(n=>my(n),gy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new _y,this.targetCount=0,this.ai=$o.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new sV,this.referenceDelegate=e(this),this.Pi=new lV(this),this.indexManager=new qM,this.remoteDocumentCache=function(s){return new oV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WM(n),this.Ii=new nV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new iV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new cV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class cV extends LO{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Ri=new _y,this.Vi=null}static mi(e){return new Ey(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xd{constructor(e,n){this.persistence=e,this.pi=new Hi(r=>VO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JM(this,n)}static mi(e,n){return new xd(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eu(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new by(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return f2()?8:OO(Mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new uV;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(to()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(to()<=de.DEBUG&&q("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(to()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):U.resolve())}ys(e,n){if(D_(n))return U.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=md(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,md(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return D_(n)||s.isEqual(ie.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(to()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),no(n)),this.vs(e,o,n,kO(s,Pl)).next(l=>l))})}Ds(e,n){let r=new ft(xS(e));return n.forEach((s,i)=>{dh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return to()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,Ls.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",hV=3e8;class fV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new We(he),this.xs=new Hi(i=>my(i),gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pV(t,e,n,r){return new fV(t,e,n,r)}async function WS(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=fe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function mV(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let y=U.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(x=>{const T=d.docVersions.get(S);xe(T!==null,48541),x.version.compareTo(T)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=fe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HS(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function gV(t,e){const n=se(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(x,T,b){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=hV?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,y,h)&&l.push(n.Pi.updateTargetData(i,y))});let c=Vr(),d=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(yV(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ie.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function yV(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):q(Ty,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function vV(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xV(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new gs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Em(t,e,n){const r=se(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ra(o))throw o;q(Ty,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function G_(t,e,n){const r=se(t);let s=ie.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=se(c),m=f.xs.get(h);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,cr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:fe())).next(l=>(wV(r,sM(e),l),{documents:l,Qs:i})))}function wV(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class K_{constructor(){this.activeTargetIds=uM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _V{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function bm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===hd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=bm(),l=this.zo(e,n.toUriEncodedString());q(Ff,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=Qs(d);return this.Jo(e,l,c,r,h).then(f=>(q(Ff,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Fo(Ff,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=bV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class IV extends TV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=bm();return new Promise((l,c)=>{const d=new HT;d.setWithCredentials(!0),d.listenOnce(qT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _u.NO_ERROR:const f=d.getResponseJson();q(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case _u.TIMEOUT:q(kt,`RPC '${e}' ${o} timed out`),c(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const m=d.getStatus();if(q(kt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const x=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(S.status);c(new W(x,S.message))}else c(new W(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new W(F.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{q(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);q(kt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=bm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QT(),l=KT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");q(kt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const S=new SV({Yo:T=>{y?q(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(m||(q(kt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),q(kt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),x=(T,b,w)=>{T.listen(b,I=>{try{w(I)}catch(R){setTimeout(()=>{throw R},0)}})};return x(f,$a.EventType.OPEN,()=>{y||(q(kt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),x(f,$a.EventType.CLOSE,()=>{y||(y=!0,q(kt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),x(f,$a.EventType.ERROR,T=>{y||(y=!0,Fo(kt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new W(F.UNAVAILABLE,"The operation could not be completed")))}),x(f,$a.EventType.MESSAGE,T=>{var b;if(!y){const w=T.data[0];xe(!!w,16349);const I=w,R=(I==null?void 0:I.error)||((b=I[0])==null?void 0:b.error);if(R){q(kt,`RPC '${e}' stream ${s} received error:`,R);const L=R.status;let A=function(C){const k=rt[C];if(k!==void 0)return kS(k)}(L),E=R.message;A===void 0&&(A=F.INTERNAL,E="Unknown error status: "+L+" with message "+R.message),y=!0,S.a_(new W(A,E)),f.close()}else q(kt,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),x(l,GT.STAT_EVENT,T=>{T.stat===dm.PROXY?q(kt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===dm.NOPROXY&&q(kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new RM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="PersistentStream";class GS{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CV extends GS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?ur(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_m(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=gm(c)?{documents:OM(i,c)}:{query:VS(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=DS(i,o.resumeToken);const d=vm(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ie.min())>0){l.readTime=vd(i,o.snapshotVersion.toTimestamp());const d=vm(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=FM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_m(this.serializer),n.removeTarget=e,this.q_(n)}}class NV extends GS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LM(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{}class RV extends AV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,xm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,xm(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class PV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{qi(this)&&(q(Oi,"Restarting streams for network reachability change."),await async function(c){const d=se(c);d.Ea.add(4),await ic(d),d.Ra.set("Unknown"),d.Ea.delete(4),await gh(d)}(this))})}),this.Ra=new kV(r,s)}}async function gh(t){if(qi(t))for(const e of t.da)await e(!0)}async function ic(t){for(const e of t.da)await e(!1)}function KS(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ny(n)?Cy(n):ia(n).O_()&&Iy(n,e))}function Sy(t,e){const n=se(t),r=ia(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():qi(n)&&n.Ra.set("Unknown"))}function Iy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).Y_(e)}function QS(t,e){t.Va.Ue(e),ia(t).Z_(e)}function Cy(t){t.Va=new IM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.Ra.ua()}function Ny(t){return qi(t)&&!ia(t).x_()&&t.Ia.size>0}function qi(t){return se(t).Ea.size===0}function YS(t){t.Va=void 0}async function jV(t){t.Ra.set("Online")}async function DV(t){t.Ia.forEach((e,n)=>{Iy(t,e)})}async function LV(t,e){YS(t),Ny(t)?(t.Ra.ha(e),Cy(t)):t.Ra.set("Unknown")}async function OV(t,e,n){if(t.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){q(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(t,r)}else if(e instanceof Su?t.Va.Ze(e):e instanceof PS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await HS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),QS(i,c);const f=new gs(h.target,c,d,h.sequenceNumber);Iy(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q(Oi,"Failed to raise snapshot:",r),await wd(t,r)}}async function wd(t,e,n){if(!ra(e))throw e;t.Ea.add(1),await ic(t),t.Ra.set("Offline"),n||(n=()=>HS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Oi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gh(t)})}function XS(t,e){return e().catch(n=>wd(t,n,e))}async function yh(t){const e=se(t),n=Fs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hy;for(;MV(e);)try{const s=await vV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,VV(e,s)}catch(s){await wd(e,s)}JS(e)&&ZS(e)}function MV(t){return qi(t)&&t.Ta.length<10}function VV(t,e){t.Ta.push(e);const n=Fs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return qi(t)&&!Fs(t).x_()&&t.Ta.length>0}function ZS(t){Fs(t).start()}async function FV(t){Fs(t).ra()}async function UV(t){const e=Fs(t);for(const n of t.Ta)e.ea(n.mutations)}async function BV(t,e,n){const r=t.Ta.shift(),s=vy.from(r,e,n);await XS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yh(t)}async function zV(t,e){e&&Fs(t).X_&&await async function(r,s){if(function(o){return bM(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();Fs(r).B_(),await XS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yh(r)}}(t,e),JS(t)&&ZS(t)}async function J_(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),q(Oi,"RemoteStore received new credentials");const r=qi(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gh(n)}async function $V(t,e){const n=se(t);e?(n.Ea.delete(2),await gh(n)):e||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function ia(t){return t.ma||(t.ma=function(n,r,s){const i=se(n);return i.sa(),new CV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:jV.bind(null,t),t_:DV.bind(null,t),r_:LV.bind(null,t),H_:OV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ny(t)?Cy(t):t.Ra.set("Unknown")):(await t.ma.stop(),YS(t))})),t.ma}function Fs(t){return t.fa||(t.fa=function(n,r,s){const i=se(n);return i.sa(),new NV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FV.bind(null,t),r_:zV.bind(null,t),ta:UV.bind(null,t),na:BV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yh(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Oi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ay(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),ra(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ga=new We(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Wo(e,n,Co.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HV{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=se(n),i=s.queries;s.queries=e0(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function e0(){return new Hi(t=>vS(t),uh)}async function ky(t,e){const n=se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new WV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Ry(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&jy(n)}async function Py(t,e){const n=se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qV(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&jy(n)}function GV(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function jy(t){t.Ca.forEach(e=>{e.next()})}var Tm,t0;(t0=Tm||(Tm={})).Ma="default",t0.Cache="cache";class Dy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.key=e}}class tI{constructor(e){this.key=e}}class KV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=xS(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Z_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=dh(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;m&&y?m.data.isEqual(y.data)?S!==x&&(r.track({type:3,doc:y}),T=!0):this.su(m,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),T=!0):m&&!y&&(r.track({type:1,doc:m}),T=!0,(c||d)&&(l=!0)),T&&(y?(o=o.add(y),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,S){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:T})}};return x(y)-x(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Wo(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new tI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ly="SyncEngine";class QV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YV{constructor(e){this.key=e,this.hu=!1}}class XV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hi(l=>vS(l),uh),this.Iu=new Map,this.Eu=new Set,this.du=new We(Y.comparator),this.Au=new Map,this.Ru=new _y,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JV(t,e,n=!0){const r=aI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await nI(r,e,n,!0),s}async function ZV(t,e){const n=aI(t);await nI(n,e,!0,!1)}async function nI(t,e,n,r){const s=await xV(t.localStore,cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await e3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,s),l}async function e3(t,e,n,r,s){t.pu=(f,m,y)=>async function(x,T,b,w){let I=T.view.ru(b);I.Cs&&(I=await G_(x.localStore,T.query,!1).then(({documents:E})=>T.view.ru(E,I)));const R=w&&w.targetChanges.get(T.targetId),L=w&&w.targetMismatches.get(T.targetId)!=null,A=T.view.applyChanges(I,x.isPrimaryClient,R,L);return r0(x,T.targetId,A.au),A.snapshot}(t,f,m,y);const i=await G_(t.localStore,e,!0),o=new KV(e,i.Qs),l=o.ru(i.documents),c=sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);r0(t,n,d.au);const h=new QV(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function t3(t,e,n){const r=se(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!uh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Em(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Sy(r.remoteStore,s.targetId),Sm(r,s.targetId)}).catch(na)):(Sm(r,s.targetId),await Em(r.localStore,s.targetId,!0))}async function n3(t,e){const n=se(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function r3(t,e,n){const r=u3(t);try{const s=await function(o,l){const c=se(o),d=Me.now(),h=l.reduce((y,S)=>y.add(S.key),fe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Vr(),x=fe();return c.Ns.getEntries(y,h).next(T=>{S=T,S.forEach((b,w)=>{w.isValidDocument()||(x=x.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(T=>{f=T;const b=[];for(const w of l){const I=yM(w,f.get(w.key).overlayedDocument);I!=null&&b.push(new ei(w.key,I,cS(I.value.mapValue),zn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,b,l)}).next(T=>{m=T;const b=T.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(y,T.batchId,b)})}).then(()=>({batchId:m.batchId,changes:_S(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new We(he)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await oc(r,s.changes),await yh(r.remoteStore)}catch(s){const i=Ry(s,"Failed to persist write");n.reject(i)}}async function rI(t,e){const n=se(t);try{const r=await gV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await oc(n,r,e)}catch(r){await na(r)}}function n0(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=se(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&jy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s3(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new We(Y.comparator);o=o.insert(i,Lt.newNoDocument(i,ie.min()));const l=fe().add(i),c=new ph(ie.min(),new Map,new We(he),o,l);await rI(r,c),r.du=r.du.remove(i),r.Au.delete(e),Oy(r)}else await Em(r.localStore,e,!1).then(()=>Sm(r,e,n)).catch(na)}async function i3(t,e){const n=se(t),r=e.batch.batchId;try{const s=await mV(n.localStore,e);iI(n,r,null),sI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oc(n,s)}catch(s){await na(s)}}async function o3(t,e,n){const r=se(t);try{const s=await function(o,l){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(xe(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);iI(r,e,n),sI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oc(r,s)}catch(s){await na(s)}}function sI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iI(t,e,n){const r=se(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||oI(t,r)})}function oI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Oy(t))}function r0(t,e,n){for(const r of n)r instanceof eI?(t.Ru.addReference(r.key,e),a3(t,r)):r instanceof tI?(q(Ly,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oI(t,r.key)):te(19791,{wu:r})}function a3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(Ly,"New document in limbo: "+n),t.Eu.add(r),Oy(t))}function Oy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new YV(n)),t.du=t.du.insert(n,r),KS(t.remoteStore,new gs(cr(ch(n.path)),r,"TargetPurposeLimboResolution",oh.ce))}}async function oc(t,e,n){const r=se(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=by.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=se(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,m=>U.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>U.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!ra(f))throw f;q(Ty,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),S=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,x)}}}(r.localStore,i))}async function l3(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){q(Ly,"User change. New user:",e.toKey());const r=await WS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new W(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oc(n,r.Ls)}}function c3(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function aI(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s3.bind(null,e),e.Pu.H_=qV.bind(null,e.eventManager),e.Pu.yu=GV.bind(null,e.eventManager),e}function u3(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o3.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pV(this.persistence,new dV,e.initialUser,this.serializer)}Cu(e){return new $S(Ey.mi,this.serializer)}Du(e){return new _V}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class d3 extends _d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new $S(r=>xd.mi(r,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l3.bind(null,this.syncEngine),await $V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HV}()}createDatastore(e){const n=mh(e.databaseInfo.databaseId),r=function(i){return new IV(i)}(e.databaseInfo);return function(i,o,l,c){return new RV(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new PV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>n0(this.syncEngine,n,0),function(){return Y_.v()?new Y_:new EV}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const f=new XV(s,i,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=se(s);q(Oi,"RemoteStore shutting down."),i.Ea.add(5),await ic(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class h3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f3(t);q(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>J_(e.remoteStore,s)),t._onlineComponents=e}async function f3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Us,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new _d)}}else q(Us,"Using default OfflineComponentProvider"),await Bf(t,new d3(void 0));return t._offlineComponents}async function Vy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Us,"Using user provided OnlineComponentProvider"),await s0(t,t._uninitializedComponentsProvider._online)):(q(Us,"Using default OnlineComponentProvider"),await s0(t,new Im))),t._onlineComponents}function p3(t){return Vy(t).then(e=>e.syncEngine)}function m3(t){return Vy(t).then(e=>e.datastore)}async function Ed(t){const e=await Vy(t),n=e.eventManager;return n.onListen=JV.bind(null,e.syncEngine),n.onUnlisten=t3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n3.bind(null,e.syncEngine),n}function g3(t,e,n={}){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new My({next:m=>{h.Nu(),o.enqueueAndForget(()=>Py(i,f));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Dy(ch(l.path),h,{includeMetadataChanges:!0,qa:!0});return ky(i,f)}(await Ed(t),t.asyncQueue,e,n,r)),r.promise}function y3(t,e,n={}){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new My({next:m=>{h.Nu(),o.enqueueAndForget(()=>Py(i,f)),m.fromCache&&c.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Dy(l,h,{includeMetadataChanges:!0,qa:!0});return ky(i,f)}(await Ed(t),t.asyncQueue,e,n,r)),r.promise}function v3(t,e,n){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await m3(t);r.resolve(async function(o,l,c){var x;const d=se(o),{request:h,gt:f,parent:m}=MM(d.serializer,rM(l),c);d.connection.$o||delete h.parent;const y=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,m,h,1)).filter(T=>!!T.result);xe(y.length===1,64727);const S=(x=y[0].result)==null?void 0:x.aggregateFields;return Object.keys(S).reduce((T,b)=>(T[f[b]]=S[b],T),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firestore.googleapis.com",o0=!0;class a0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cI,this.ssl=o0}else this.host=e.host,this.ssl=e.ssl??o0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KM)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xO;switch(r.type){case"firstParty":return new bO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i0.get(n);r&&(q("ComponentProvider","Removing Datastore"),i0.delete(n),r.terminate())}(this),Promise.resolve()}}function x3(t,e,n,r={}){var d;t=rn(t,vh);const s=Qs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Hg(`https://${l}`),qg("Firestore",!0)),i.host!==cI&&i.host!==l&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Ds(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Pt.MOCK_USER;else{h=j1(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pt(m)}t._authCredentials=new wO(new XT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nc(n,Ke._jsonSchema))return new Ke(e,r||null,new Y(Pe.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:ot("string",Ke._jsonSchemaVersion),referencePath:ot("string")};class ks extends Wr{constructor(e,n,r){super(e,n,ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new Y(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function tr(t,e,...n){if(t=ke(t),JT("collection","path",e),t instanceof vh){const r=Pe.fromString(e,...n);return w_(r),new ks(t,null,r)}{if(!(t instanceof Ke||t instanceof ks))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return w_(r),new ks(t.firestore,null,r)}}function mr(t,e,...n){if(t=ke(t),arguments.length===1&&(e=dy.newId()),JT("doc","path",e),t instanceof vh){const r=Pe.fromString(e,...n);return x_(r),new Ke(t,null,new Y(r))}{if(!(t instanceof Ke||t instanceof ks))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return x_(r),new Ke(t.firestore,t instanceof ks?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="AsyncQueue";class c0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const r=Uf();r&&q(l0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new lr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ra(e))throw e;q(l0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",u0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ay.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&te(47125,{Pc:u0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function u0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Fr extends vh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new c0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c0(e),this._firestoreClient=void 0,await e}}}function w3(t,e){const n=typeof t=="object"?t:Zd(),r=typeof t=="string"?t:hd,s=Ys(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=R1("firestore");i&&x3(s,...i)}return s}function ac(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_3(t),t._firestoreClient}function _3(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new zO(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class b3{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(St.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:ot("string",bn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(nc(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:ot("string",dr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new W(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:ot("string",hr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=/^__.*__$/;class S3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)}}class uI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class Uy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dI(this.Ac)&&T3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mh(e)}Cc(e,n,r,s=!1){return new Uy({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new I3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);By("Data must be an object, but it was:",o,r);const l=fI(r,o);let c,d;if(i.merge)c=new fn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Cm(e,f,n);if(!o.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mI(h,m)||h.push(m)}c=new fn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new S3(new Yt(l),c,d)}class _h extends Fy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function C3(t,e,n,r){const s=t.Cc(1,e,n);By("Data must be an object, but it was:",s,r);const i=[],o=Yt.empty();Zs(r,(c,d)=>{const h=zy(e,c,n);d=ke(d);const f=s.yc(h);if(d instanceof _h)i.push(h);else{const m=lc(d,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new fn(i);return new uI(o,l,s.fieldTransforms)}function N3(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Cm(e,r,n)],c=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Cm(e,i[m])),c.push(i[m+1]);const d=[],h=Yt.empty();for(let m=l.length-1;m>=0;--m)if(!mI(d,l[m])){const y=l[m];let S=c[m];S=ke(S);const x=o.yc(y);if(S instanceof _h)d.push(y);else{const T=lc(S,x);T!=null&&(d.push(y),h.set(y,T))}}const f=new fn(d);return new uI(h,f,o.fieldTransforms)}function A3(t,e,n,r=!1){return lc(n,t.Cc(r?4:3,e))}function lc(t,e){if(pI(t=ke(t)))return By("Unsupported field value:",e,t),fI(t,e);if(t instanceof Fy)return function(r,s){if(!dI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=lc(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Me.fromDate(r);return{timestampValue:vd(s.serializer,i)}}if(r instanceof Me){const i=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(s.serializer,i)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bn)return{bytesValue:DS(s.serializer,r._byteString)};if(r instanceof Ke){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,l){return{mapValue:{fields:{[aS]:{stringValue:lS},[fd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return yy(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ih(r)}`)}(t,e)}function fI(t,e){const n={};return tS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,s)=>{const i=lc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function pI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof dr||t instanceof bn||t instanceof Ke||t instanceof Fy||t instanceof hr)}function By(t,e,n){if(!pI(n)||!ZT(n)){const r=ih(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Cm(t,e,n){if((e=ke(e))instanceof xh)return e._internalPath;if(typeof e=="string")return zy(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const R3=new RegExp("[~\\*/\\[\\]]");function zy(t,e,n){if(e.search(R3)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xh(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new W(F.INVALID_ARGUMENT,l+t+c)}function mI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k3 extends gI{data(){return super.data()}}function Eh(t,e){return typeof e=="string"?zy(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class Wy extends $y{}function zf(t,e,...n){let r=[];e instanceof $y&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Hy).length,l=i.filter(c=>c instanceof bh).length;if(o>1||o>0&&l>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class bh extends Wy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bh(e,n,r)}_apply(e){const n=this._parse(e);return vI(e._query,n),new Wr(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=wh(e.firestore);return function(i,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){f0(f,h);const S=[];for(const x of f)S.push(h0(c,i,x));m={arrayValue:{values:S}}}else m=h0(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||f0(f,h),m=A3(l,o,f,h==="in"||h==="not-in");return it.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $f(t,e,n){const r=e,s=Eh("where",t);return bh._create(s,r,n)}class Hy extends $y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)vI(o,c),o=ym(o,c)}(e._query,n),new Wr(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends Wy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(i,o)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new sa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Wf(t,e="asc"){const n=e,r=Eh("orderBy",t);return qy._create(r,n)}class Gy extends Wy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gy(e,n,r)}_apply(e){return new Wr(e.firestore,e.converter,md(e._query,this._limit,this._limitType))}}function Hf(t){return RO("limit",t),Gy._create("limit",t,"F")}function h0(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!Y.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N_(t,new Y(r))}if(n instanceof Ke)return N_(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function f0(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P3{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[fd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ze(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new dr(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=Os(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);xe(BS(r),9688,{name:e});const s=new Dl(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Mr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function j3(){return new E3("count")}class qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bi extends gI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Eh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",bi._jsonSchema={type:ot("string",bi._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class Iu extends bi{data(e={}){return super.data(e)}}class Ti{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Iu(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Iu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new qa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Iu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new qa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:D3(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ti._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){t=rn(t,Ke);const e=rn(t.firestore,Fr);return g3(ac(e),t._key).then(n=>_I(e,t,n))}Ti._jsonSchemaVersion="firestore/querySnapshot/1.0",Ti._jsonSchema={type:ot("string",Ti._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class Th extends P3{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function cl(t){t=rn(t,Wr);const e=rn(t.firestore,Fr),n=ac(e),r=new Th(e);return yI(t._query),y3(n,t._query).then(s=>new Ti(e,r,t,s))}function wI(t,e,n){t=rn(t,Ke);const r=rn(t.firestore,Fr),s=xI(t.converter,e);return Qy(r,[hI(wh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function Nm(t,e,n,...r){t=rn(t,Ke);const s=rn(t.firestore,Fr),i=wh(s);let o;return o=typeof(e=ke(e))=="string"||e instanceof xh?N3(i,"updateDoc",t._key,e,n,r):C3(i,"updateDoc",t._key,e),Qy(s,[o.toMutation(t._key,zn.exists(!0))])}function L3(t,e){const n=rn(t.firestore,Fr),r=mr(t),s=xI(t.converter,e);return Qy(n,[hI(wh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function O3(t,...e){var c,d,h;t=ke(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||d0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(d0(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,l;if(t instanceof Ke)o=rn(t.firestore,Fr),l=ch(t._key.path),i={next:f=>{e[r]&&e[r](_I(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=rn(t,Wr);o=rn(f.firestore,Fr),l=f._query;const m=new Th(o);i={next:y=>{e[r]&&e[r](new Ti(o,m,f,y))},error:e[r+1],complete:e[r+2]},yI(t._query)}return function(m,y,S,x){const T=new My(x),b=new Dy(y,T,S);return m.asyncQueue.enqueueAndForget(async()=>ky(await Ed(m),b)),()=>{T.Nu(),m.asyncQueue.enqueueAndForget(async()=>Py(await Ed(m),b))}}(ac(o),l,s,i)}function Qy(t,e){return function(r,s){const i=new lr;return r.asyncQueue.enqueueAndForget(async()=>r3(await p3(r),s,i)),i.promise}(ac(t),e)}function _I(t,e,n){const r=n.docs.get(e._key),s=new Th(t);return new bi(t,s,e._key,r,new qa(n.hasPendingWrites,n.fromCache),e.converter)}function Qc(t){return M3(t,{count:j3()})}function M3(t,e){const n=rn(t.firestore,Fr),r=ac(n),s=UO(e,(i,o)=>new _M(o,i.aggregateType,i._internalFieldPath));return v3(r,t._query,s).then(i=>function(l,c,d){const h=new Th(l);return new b3(c,h,d)}(n,t,i))}(function(e,n=!0){(function(s){ta=s})(Wi),Hn(new Nn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Fr(new _O(r.getProvider("auth-internal")),new TO(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),nn(m_,g_,e),nn(m_,g_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebasestorage.googleapis.com",bI="storageBucket",V3=2*60*1e3,F3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends kn{constructor(e,n,r=0){super(qf(e),`Firebase Storage: ${n} (${qf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qe||(Qe={}));function qf(t){return"storage/"+t}function Yy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ye(Qe.UNKNOWN,t)}function U3(t){return new Ye(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function B3(t){return new Ye(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(Qe.UNAUTHENTICATED,t)}function $3(){return new Ye(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W3(t){return new Ye(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H3(){return new Ye(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q3(){return new Ye(Qe.CANCELED,"User canceled the upload/download.")}function G3(t){return new Ye(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}function K3(t){return new Ye(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q3(){return new Ye(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bI+"' property when initializing the app?")}function Y3(){return new Ye(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X3(){return new Ye(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J3(t){return new Ye(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Am(t){return new Ye(Qe.INVALID_ARGUMENT,t)}function TI(){return new Ye(Qe.APP_DELETED,"The Firebase app was deleted.")}function Z3(t){return new Ye(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ul(t,e){return new Ye(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Da(t){throw new Ye(Qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pn.makeFromUrl(e,n)}catch{return new pn(e,"")}if(r.path==="")return r;throw K3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),S={bucket:1,path:3},x=n===EI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",b=new RegExp(`^https?://${x}/${s}/${T}`,"i"),I=[{regex:l,indices:c,postModify:i},{regex:y,indices:S,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<I.length;R++){const L=I[R],A=L.regex.exec(e);if(A){const E=A[L.indices.bucket];let _=A[L.indices.path];_||(_=""),r=new pn(E,_),L.postModify(r);break}}if(r==null)throw G3(e);return r}}class e6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...T){d||(d=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(y,c())},T)}function m(){i&&clearTimeout(i)}function y(T,...b){if(d){m();return}if(T){m(),h.call(null,T,...b);return}if(c()||o){m(),h.call(null,T,...b);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,f(I)}let S=!1;function x(T){S||(S=!0,m(),!d&&(s!==null?(T||(l=2),clearTimeout(s),f(0)):T||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function n6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){return t!==void 0}function s6(t){return typeof t=="object"&&!Array.isArray(t)}function Xy(t){return typeof t=="string"||t instanceof String}function p0(t){return Jy()&&t instanceof Blob}function Jy(){return typeof Blob<"u"}function m0(t,e,n,r){if(r<e)throw Am(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Am(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Si;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Si||(Si={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,s,i,o,l,c,d,h,f,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Si.NO_ERROR,c=i.getStatus();if(!l||i6(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Si.ABORT;r(!1,new Yc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Yc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());r6(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Yy();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?TI():q3();o(c)}else{const c=H3();o(c)}};this.canceled_?n(!1,new Yc(!1,null,!0)):this.backoffId_=t6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function a6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d6(t,e,n,r,s,i,o=!0,l=!1){const c=SI(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return c6(h,e),a6(h,n),l6(h,i),u6(h,r),new o6(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f6(...t){const e=h6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jy())return new Blob(t);throw new Ye(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){if(typeof atob>"u")throw J3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gf{constructor(e,n){this.data=e,this.contentType=n||null}}function g6(t,e){switch(t){case rr.RAW:return new Gf(II(e));case rr.BASE64:case rr.BASE64URL:return new Gf(CI(t,e));case rr.DATA_URL:return new Gf(v6(e),x6(e))}throw Yy()}function II(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function y6(t){let e;try{e=decodeURIComponent(t)}catch{throw ul(rr.DATA_URL,"Malformed data URL.")}return II(e)}function CI(t,e){switch(t){case rr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ul(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ul(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=m6(e)}catch(s){throw s.message.includes("polyfill")?s:ul(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class NI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ul(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=w6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function v6(t){const e=new NI(t);return e.base64?CI(rr.BASE64,e.rest):y6(e.rest)}function x6(t){return new NI(t).contentType}function w6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){let r=0,s="";p0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(p0(this.data_)){const r=this.data_,s=p6(r,e,n);return s===null?null:new ds(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ds(r,!0)}}static getBlob(...e){if(Jy()){const n=e.map(r=>r instanceof ds?r.data_:r);return new ds(f6.apply(null,n))}else{const n=e.map(o=>Xy(o)?g6(rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new ds(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){let e;try{e=JSON.parse(t)}catch{return null}return s6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){return e}class Ut{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||b6}}let Xc=null;function T6(t){return!Xy(t)||t.length<2?t:RI(t)}function kI(){if(Xc)return Xc;const t=[];t.push(new Ut("bucket")),t.push(new Ut("generation")),t.push(new Ut("metageneration")),t.push(new Ut("name","fullPath",!0));function e(i,o){return T6(o)}const n=new Ut("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ut("size");return s.xform=r,t.push(s),t.push(new Ut("timeCreated")),t.push(new Ut("updated")),t.push(new Ut("md5Hash",null,!0)),t.push(new Ut("cacheControl",null,!0)),t.push(new Ut("contentDisposition",null,!0)),t.push(new Ut("contentEncoding",null,!0)),t.push(new Ut("contentLanguage",null,!0)),t.push(new Ut("contentType",null,!0)),t.push(new Ut("metadata","customMetadata",!0)),Xc=t,Xc}function S6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new pn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function I6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return S6(r,t),r}function PI(t,e,n){const r=AI(e);return r===null?null:I6(t,r,n)}function C6(t,e,n,r){const s=AI(e);if(s===null||!Xy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),y=Zy(m,n,r),S=SI({alt:"media",token:d});return y+S})[0]}function N6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class jI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){if(!t)throw Yy()}function A6(t,e){function n(r,s){const i=PI(t,s,e);return DI(i!==null),i}return n}function R6(t,e){function n(r,s){const i=PI(t,s,e);return DI(i!==null),C6(i,s,t.host,t._protocol)}return n}function LI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$3():s=z3():n.getStatus()===402?s=B3(t.bucket):n.getStatus()===403?s=W3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function k6(t){const e=LI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=U3(t.path)),i.serverResponse=s.serverResponse,i}return n}function P6(t,e,n){const r=e.fullServerUrl(),s=Zy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new jI(s,i,R6(t,n),o);return l.errorHandler=k6(e),l}function j6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=j6(null,e)),r}function L6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=D6(e,r,s),h=N6(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=ds.getBlob(f,r,m);if(y===null)throw Y3();const S={name:d.fullPath},x=Zy(i,t.host,t._protocol),T="POST",b=t.maxUploadRetryTime,w=new jI(x,T,A6(t,n),b);return w.urlParams=S,w.headers=o,w.body=y.uploadData(),w.errorHandler=LI(e),w}class O6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Si.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Si.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Si.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Da("cannot .send() more than once");if(Qs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class M6 extends O6{initXhr(){this.xhr_.responseType="text"}}function OI(){return new M6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this._service=e,n instanceof pn?this._location=n:this._location=pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mi(e,n)}get root(){const e=new pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RI(this._location.path)}get storage(){return this._service}get parent(){const e=_6(this._location.path);if(e===null)return null;const n=new pn(this._location.bucket,e);return new Mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z3(e)}}function V6(t,e,n){t._throwIfRoot("uploadBytes");const r=L6(t.storage,t._location,kI(),new ds(e,!0),n);return t.storage.makeRequestWithTokens(r,OI).then(s=>({metadata:s,ref:t}))}function F6(t){t._throwIfRoot("getDownloadURL");const e=P6(t.storage,t._location,kI());return t.storage.makeRequestWithTokens(e,OI).then(n=>{if(n===null)throw X3();return n})}function U6(t,e){const n=E6(t._location.path,e),r=new pn(t._location.bucket,n);return new Mi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return/^[A-Za-z]+:\/\//.test(t)}function z6(t,e){return new Mi(t,e)}function MI(t,e){if(t instanceof ev){const n=t;if(n._bucket==null)throw Q3();const r=new Mi(n,n._bucket);return e!=null?MI(r,e):r}else return e!==void 0?U6(t,e):t}function $6(t,e){if(e&&B6(e)){if(t instanceof ev)return z6(t,e);throw Am("To use ref(service, url), the first argument must be a Storage instance.")}else return MI(t,e)}function g0(t,e){const n=e==null?void 0:e[bI];return n==null?null:pn.makeFromBucketSpec(n,t)}function W6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Qs(e);s&&(Hg(`https://${t.host}/b`),qg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:j1(i,t.app.options.projectId))}class ev{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=EI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V3,this._maxUploadRetryTime=F3,this._requests=new Set,s!=null?this._bucket=pn.makeFromBucketSpec(s,this._host):this._bucket=g0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pn.makeFromBucketSpec(this._url,e):this._bucket=g0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new e6(TI());{const o=d6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const y0="@firebase/storage",v0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="storage";function H6(t,e,n){return t=ke(t),V6(t,e,n)}function q6(t){return t=ke(t),F6(t)}function G6(t,e){return t=ke(t),$6(t,e)}function K6(t=Zd(),e){t=ke(t);const r=Ys(t,VI).getImmediate({identifier:e}),s=R1("storage");return s&&Q6(r,...s),r}function Q6(t,e,n,r={}){W6(t,e,n,r)}function Y6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ev(n,r,s,e,Wi)}function X6(){Hn(new Nn(VI,Y6,"PUBLIC").setMultipleInstances(!0)),nn(y0,v0,""),nn(y0,v0,"esm2020")}X6();const J6={apiKey:"AIzaSyAVk3CIK5hyAmjwVPh1p4i01vq-0Z5IsEA",authDomain:"zedctf.firebaseapp.com",projectId:"zedctf",storageBucket:"zedctf.firebasestorage.app",messagingSenderId:"574551910114",appId:"1:574551910114:web:8bcce937be224e1575a0bb",measurementId:"G-MEYRJGR69W"},Sh=U1(J6);pO(Sh);const Fl=KD(Sh),dt=w3(Sh),Z6=K6(Sh),FI=g.createContext({user:null,loading:!0}),UI=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0);return g.useEffect(()=>O4(Fl,o=>{n(o),s(!1)}),[]),a.jsx(FI.Provider,{value:{user:e,loading:r},children:t})},Gi=()=>{const t=g.useContext(FI);if(!t)throw new Error("useAuthContext must be used within an AuthProvider");return t},BI=g.createContext({isAdmin:!1,isModerator:!1,permissions:[],loading:!0}),eF=({children:t})=>{const{user:e}=Gi(),[n,r]=g.useState({isAdmin:!1,isModerator:!1,permissions:[],loading:!0});return g.useEffect(()=>{if(!e){console.log(" AdminProvider: No user found"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1});return}return console.log(" AdminProvider: Checking user role for UID:",e.uid),O3(mr(dt,"users",e.uid),i=>{if(i.exists()){const o=i.data();console.log(" User document found:",o);const l=o.role||"user",c=o.permissions||["read"];console.log(" User role:",l),console.log(" User permissions:",c),r({isAdmin:l==="admin",isModerator:l==="moderator"||l==="admin",permissions:c,loading:!1})}else console.log(" No user document found in Firestore"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})},i=>{console.error(" Firestore error in AdminContext:",i),console.error("Error details:",i.code,i.message),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})})},[e]),a.jsx(BI.Provider,{value:n,children:t})},zI=()=>{const t=g.useContext(BI);if(!t)throw new Error("useAdminContext must be used within an AdminProvider");return t},tF=({children:t})=>{const{loading:e}=Gi();return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsx(a.Fragment,{children:t})},ci=({children:t})=>{const{user:e,loading:n}=Gi();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(VP,{to:"/login",replace:!0})};function x0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=x0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():x0(t[s],null)}}}}function pt(...t){return g.useCallback(cc(...t),t)}var nF=Symbol.for("react.lazy"),Td=Dd[" use ".trim().toString()];function rF(t){return typeof t=="object"&&t!==null&&"then"in t}function $I(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nF&&"_payload"in t&&rF(t._payload)}function tv(t){const e=iF(t),n=g.forwardRef((r,s)=>{let{children:i,...o}=r;$I(i)&&typeof Td=="function"&&(i=Td(i._payload));const l=g.Children.toArray(i),c=l.find(aF);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var sF=tv("Slot");function iF(t){const e=g.forwardRef((n,r)=>{let{children:s,...i}=n;if($I(s)&&typeof Td=="function"&&(s=Td(s._payload)),g.isValidElement(s)){const o=cF(s),l=lF(i,s.props);return s.type!==g.Fragment&&(l.ref=r?cc(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oF=Symbol("radix.slottable");function aF(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oF}function lF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function WI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=WI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=WI(t))&&(r&&(r+=" "),r+=e);return r}const w0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_0=HI,nv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return _0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=w0(h)||w0(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(S=>{let[x,T]=S;return Array.isArray(T)?T.includes({...i,...l}[x]):{...i,...l}[x]===T})?[...d,f,m]:d},[]);return _0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},rv="-",uF=t=>{const e=hF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(rv);return l[0]===""&&l.length!==1&&l.shift(),qI(l,e)||dF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},qI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?qI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(rv);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},E0=/^\[(.+)\]$/,dF=t=>{if(E0.test(t)){const e=E0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pF(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rm(o,r,i,e)}),r},Rm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:b0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fF(s)){Rm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rm(o,b0(e,i),n,r)})})},b0=(t,e)=>{let n=t;return e.split(rv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fF=t=>t.isThemeGetter,pF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,mF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},GI="!",gF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,h=0,f;for(let T=0;T<l.length;T++){let b=l[T];if(d===0){if(b===s&&(r||l.slice(T,T+i)===e)){c.push(l.slice(h,T)),h=T+i;continue}if(b==="/"){f=T;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(h),y=m.startsWith(GI),S=y?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},yF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vF=t=>({cache:mF(t.cacheSize),parseClassName:gF(t),...uF(t)}),xF=/\s+/,wF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(xF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let S=!!y,x=r(S?m.substring(0,y):m);if(!x){if(!S){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}S=!1}const T=yF(h).join(":"),b=f?T+GI:T,w=b+x;if(i.includes(w))continue;i.push(w);const I=s(x,S);for(let R=0;R<I.length;++R){const L=I[R];i.push(b+L)}l=d+(l.length>0?" "+l:l)}return l};function _F(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KI(e))&&(r&&(r+=" "),r+=n);return r}const KI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=KI(t[r]))&&(n&&(n+=" "),n+=e);return n};function EF(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=vF(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=wF(c,n);return s(c,h),h}return function(){return i(_F.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},QI=/^\[(?:([a-z-]+):)?(.+)\]$/i,bF=/^\d+\/\d+$/,TF=new Set(["px","full","screen"]),SF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>No(t)||TF.has(t)||bF.test(t),Zr=t=>oa(t,"length",MF),No=t=>!!t&&!Number.isNaN(Number(t)),Kf=t=>oa(t,"number",No),La=t=>!!t&&Number.isInteger(Number(t)),RF=t=>t.endsWith("%")&&No(t.slice(0,-1)),le=t=>QI.test(t),es=t=>SF.test(t),kF=new Set(["length","size","percentage"]),PF=t=>oa(t,kF,YI),jF=t=>oa(t,"position",YI),DF=new Set(["image","url"]),LF=t=>oa(t,DF,FF),OF=t=>oa(t,"",VF),Oa=()=>!0,oa=(t,e,n)=>{const r=QI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MF=t=>IF.test(t)&&!CF.test(t),YI=()=>!1,VF=t=>NF.test(t),FF=t=>AF.test(t),UF=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),d=Le("grayscale"),h=Le("hueRotate"),f=Le("invert"),m=Le("gap"),y=Le("gradientColorStops"),S=Le("gradientColorStopPositions"),x=Le("inset"),T=Le("margin"),b=Le("opacity"),w=Le("padding"),I=Le("saturate"),R=Le("scale"),L=Le("sepia"),A=Le("skew"),E=Le("space"),_=Le("translate"),C=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",le,e],j=()=>[le,e],P=()=>["",_r,Zr],H=()=>["auto",No,le],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",le],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[No,le];return{cacheSize:500,separator:":",theme:{colors:[Oa],spacing:[_r,Zr],blur:["none","",es,le],brightness:ae(),borderColor:[t],borderRadius:["none","","full",es,le],borderSpacing:j(),borderWidth:P(),contrast:ae(),grayscale:$(),hueRotate:ae(),invert:$(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[RF,Zr],inset:D(),margin:D(),opacity:ae(),padding:j(),saturate:ae(),scale:ae(),sepia:$(),skew:ae(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),le]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",La,le]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",La,le]}],"grid-cols":[{"grid-cols":[Oa]}],"col-start-end":[{col:["auto",{span:["full",La,le]},le]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Oa]}],"row-start-end":[{row:["auto",{span:[La,le]},le]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kf]}],"font-family":[{font:[Oa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",No,Kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Zr]}],"underline-offset":[{"underline-offset":["auto",_r,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),jF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[_r,le]}],"outline-w":[{outline:[_r,Zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[_r,Zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,OF]}],"shadow-color":[{shadow:[Oa]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[I]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[La,le]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,Zr,Kf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BF=EF(UF);function Ue(...t){return BF(HI(t))}const zF=nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.6)]",terminal:"bg-card border border-primary/30 text-primary hover:border-primary hover:bg-primary/10 font-mono"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?sF:"button";return a.jsx(o,{className:Ue(zF({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...WF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:XI("lucide",s),...l},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(HF,{ref:i,iconNode:e,className:XI(`lucide-${$F(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=X("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=X("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=X("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=X("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=X("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=X("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=X("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=X("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=X("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=X("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=X("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=X("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=X("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=X("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=X("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=X("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=X("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=X("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=X("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=X("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p5="/ZedCTF/favicon.png",It=()=>{var d;const[t,e]=g.useState(!1),{user:n}=Gi(),{isAdmin:r,isModerator:s}=zI(),i=yr(),[o,l]=g.useState(!1),c=async()=>{l(!0);try{await M4(Fl),i("/"),e(!1)}catch(h){console.error("Error signing out:",h)}finally{l(!1)}};return a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(Re,{to:"/",className:"flex items-center gap-2",children:[a.jsx("img",{src:p5,alt:"ZedCTF",className:"w-8 h-8"}),a.jsx("span",{className:"text-2xl font-bold text-green-600 animate-pulse-glow",children:"ZedCTF"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[a.jsxs(Re,{to:"/",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(S0,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Home"]}),a.jsxs(Re,{to:"/dashboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(Sd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Dashboard"]}),a.jsxs(Re,{to:"/practice",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(Vn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Practice"]}),a.jsxs(Re,{to:"/live",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx(T0,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"LIVE CTF"]}),a.jsxs(Re,{to:"/leaderboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(Rn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Leaderboard"]}),a.jsxs(Re,{to:"/writeups",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(Id,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Writeups"]}),(r||s)&&a.jsxs(Re,{to:"/admin",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[a.jsx(sn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Admin"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:a.jsx($l,{className:"w-5 h-5"})}),a.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(GF,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),a.jsx(Z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:a.jsx(l5,{className:"w-5 h-5"})}),n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-foreground/80 hidden sm:block",children:n.displayName||((d=n.email)==null?void 0:d.split("@")[0])}),a.jsxs(Z,{variant:"default",size:"sm",className:"bg-red-500 hover:bg-red-600 text-white gap-2",onClick:c,disabled:o,children:[o?a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):a.jsx(N0,{className:"w-4 h-4"}),o?"...":"Logout"]})]}):a.jsx(Re,{to:"/login",children:a.jsxs(Z,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 text-white animate-glow gap-2",children:[a.jsx($n,{className:"w-4 h-4"}),"Sign In"]})})]})]}),t&&a.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-lg animate-fade-in",children:a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs(Re,{to:"/",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(S0,{className:"w-5 h-5"}),"Home"]}),a.jsxs(Re,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(Sd,{className:"w-5 h-5"}),"Dashboard"]}),a.jsxs(Re,{to:"/practice",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(Vn,{className:"w-5 h-5"}),"Practice"]}),a.jsxs(Re,{to:"/live",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx(T0,{className:"w-5 h-5"}),"LIVE CTF"]}),a.jsxs(Re,{to:"/leaderboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(Rn,{className:"w-5 h-5"}),"Leaderboard"]}),a.jsxs(Re,{to:"/writeups",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(Id,{className:"w-5 h-5"}),"Writeups"]}),(r||s)&&a.jsxs(Re,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[a.jsx(sn,{className:"w-5 h-5"}),"Admin"]}),a.jsx("div",{className:"px-4 pt-2 border-t border-border",children:n?a.jsxs(Z,{variant:"default",className:"w-full justify-start gap-2 bg-red-500 hover:bg-red-600",onClick:c,disabled:o,children:[o?a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):a.jsx(N0,{className:"w-4 h-4"}),o?"Signing out...":"Logout"]}):a.jsx(Re,{to:"/login",onClick:()=>e(!1),children:a.jsxs(Z,{variant:"default",className:"w-full justify-start gap-2 bg-green-500 hover:bg-green-600",children:[a.jsx($n,{className:"w-4 h-4"}),"Sign In"]})})})]})})]})})},m5="/ZedCTF/assets/hero-bg-x4dJ88o_.jpg",g5=()=>{const[t,e]=g.useState({totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0}),[n,r]=g.useState(!0),s=yr(),i=async()=>{try{const c={totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0},d=["users","user","members","profiles"];for(const y of d)try{const x=(await Qc(tr(dt,y))).data().count;if(x>0){c.totalUsers=x;break}}catch{continue}const h=["challenges","challenge","ctfChallenges","practice"];for(const y of h)try{const x=(await Qc(tr(dt,y))).data().count;if(x>0){c.totalChallenges=x;break}}catch{continue}const f=["events","event","liveEvents","competitions"];for(const y of f)try{const x=(await Qc(tr(dt,y))).data().count;if(x>0){c.liveEvents=x;break}}catch{continue}const m=["submissions","submission","solves","completions"];for(const y of m)try{const x=(await Qc(tr(dt,y))).data().count;if(x>0){c.totalCompletions=x;break}}catch{continue}if(c.totalCompletions===0&&c.totalUsers>0)try{const y=await cl(tr(dt,"users"));let S=0;y.forEach(x=>{const T=x.data();S+=T.challengesSolved||T.solvedChallenges||T.totalSolved||0}),c.totalCompletions=S}catch{}e(c)}catch{console.log("Stats loading completed")}finally{r(!1)}};g.useEffect(()=>{i()},[]);const o=()=>{s("/practice")},l=()=>{s("/live")};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${m5})`}}),a.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),a.jsx("div",{className:"container relative z-10 px-4 py-32",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-primary/30 bg-primary/5 mb-4",children:[a.jsx(n5,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm text-primary font-mono",children:"Zambia's Premier CTF Platform"})]}),a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Master Cybersecurity",a.jsx("br",{}),a.jsx("span",{className:"neon-text animate-pulse-glow",children:"Capture The Flag"})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sharpen your hacking skills, compete in real-time challenges, and climb the leaderboard. From beginner to expert, ZedCTF is your gateway to cybersecurity mastery."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[a.jsxs(Z,{onClick:o,variant:"neon",size:"lg",className:"group",children:["Start Practicing",a.jsx(qF,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),a.jsxs(Z,{onClick:l,variant:"terminal",size:"lg",children:[a.jsx(ZF,{className:"w-5 h-5"}),"Join LIVE Event"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-12 max-w-3xl mx-auto",children:[a.jsx(Zc,{loading:n,value:t.totalUsers,label:"Registered Users",icon:a.jsx(Rn,{className:"w-5 h-5"})}),a.jsx(Zc,{loading:n,value:t.totalChallenges,label:"Challenges",icon:a.jsx(sn,{className:"w-5 h-5"})}),a.jsx(Zc,{loading:n,value:t.liveEvents,label:"Live Events",icon:a.jsx(uc,{className:"w-5 h-5"})}),a.jsx(Zc,{loading:n,value:t.totalCompletions,label:"Completions",icon:a.jsx(Vn,{className:"w-5 h-5"})})]}),!n&&a.jsx("div",{className:"mt-4",children:a.jsx(Z,{variant:"outline",size:"sm",onClick:i,children:"Refresh Stats"})})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"})]})},Zc=({loading:t,value:e,label:n,icon:r})=>t?a.jsxs("div",{className:"text-center animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),a.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):a.jsxs("div",{className:"text-center group",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl md:text-3xl font-bold text-primary mb-1",children:[r,e.toLocaleString()]}),a.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:n})]}),Ct=()=>a.jsx("footer",{className:"border-t border-border bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(sn,{className:"w-8 h-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold neon-text",children:"ZedCTF"})]}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Zambia's premier platform for cybersecurity challenges and training."}),a.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"An initiative by IT Society of Kapasa Makasa University"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Platform"}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:a.jsx(Re,{to:"/dashboard",className:"hover:text-primary transition-colors",children:"Dashboard"})}),a.jsx("li",{children:a.jsx(Re,{to:"/practice",className:"hover:text-primary transition-colors",children:"Practice"})}),a.jsx("li",{children:a.jsx(Re,{to:"/live",className:"hover:text-primary transition-colors",children:"LIVE Events"})}),a.jsx("li",{children:a.jsx(Re,{to:"/leaderboard",className:"hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Resources"}),a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:a.jsx("li",{children:a.jsx(Re,{to:"/writeups",className:"hover:text-primary transition-colors",children:"Walkthroughs"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Connect"}),a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("a",{href:"https://github.com/ZedCTF/ZedCTF",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(r5,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(d5,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(o5,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(rC,{className:"w-5 h-5"})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-sm mb-2 text-primary flex items-center gap-2",children:[a.jsx(Rn,{className:"w-4 h-4"}),"Contributors"]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[a.jsx("a",{href:"https://github.com/SokoJames",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"James Soko"}),a.jsx("a",{href:"https://github.com/abbymwale24",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Abby Mwale"}),a.jsx("a",{href:"https://github.com/Joylad-Jangazya",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Joylad Jangazya"}),a.jsx("a",{href:"https://github.com/Kono-hub",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Mary Chanda"}),a.jsx("a",{href:"https://github.com/ronny-brawn",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Aaron Nyakapanda"}),a.jsx("a",{href:"https://github.com/threat23",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Humphery Chileshe"})]})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:" 2025 ZedCTF. All rights reserved. Made with  in Zambia"}),a.jsx("p",{className:"mt-1",children:"IT Society of Kapasa Makasa University"})]})]})}),y5=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(It,{}),a.jsx(g5,{}),a.jsx(Ct,{})]}),v5=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(""),[c,d]=g.useState({email:"",password:"",rememberMe:!1}),h=yr(),f=new Tr;f.addScope("read:user"),f.addScope("user:email");const m=async T=>{T.preventDefault(),l(""),i(!0);try{await P4(Fl,c.email,c.password),h("/dashboard")}catch(b){console.error("Login error:",b),l(S(b.code))}finally{i(!1)}},y=async()=>{var T,b,w;r(!0),l("");try{const R=(await rD(Fl,f)).user;(await Ky(mr(dt,"users",R.uid))).exists()||await wI(mr(dt,"users",R.uid),{uid:R.uid,firstName:((T=R.displayName)==null?void 0:T.split(" ")[0])||"GitHub",lastName:((b=R.displayName)==null?void 0:b.split(" ").slice(1).join(" "))||"User",username:((w=R.email)==null?void 0:w.split("@")[0])||`github_${R.uid.slice(0,8)}`,email:R.email,displayName:R.displayName||"GitHub User",photoURL:R.photoURL,provider:"github",createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(I){console.error("GitHub login error:",I),I.code==="auth/account-exists-with-different-credential"?l("An account already exists with the same email address but different sign-in credentials."):I.code==="auth/popup-closed-by-user"?console.log("GitHub login popup closed by user"):l("GitHub login failed. Please try again.")}finally{r(!1)}},S=T=>{switch(T){case"auth/invalid-email":return"Invalid email address format.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials.";default:return"Login failed. Please try again."}},x=T=>{const{name:b,value:w,type:I,checked:R}=T.target;d(L=>({...L,[b]:I==="checkbox"?R:w}))};return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(sn,{className:"w-10 h-10 text-primary"}),a.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-muted-foreground",children:"Access your cybersecurity dashboard"})]}),o&&a.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),a.jsx("div",{className:"relative",children:a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:x,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:x,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all pr-12",placeholder:"",disabled:s}),a.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?a.jsx(km,{className:"w-5 h-5"}):a.jsx(Bl,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{name:"rememberMe",type:"checkbox",checked:c.rememberMe,onChange:x,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2",disabled:s}),a.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),a.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),a.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?a.jsx(Cd,{className:"w-5 h-5 animate-spin"}):a.jsx(a5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),s?"Signing in...":"Access Dashboard"]})]}),a.jsxs("div",{className:"my-6 flex items-center",children:[a.jsx("div",{className:"flex-1 border-t border-border"}),a.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or continue with"}),a.jsx("div",{className:"flex-1 border-t border-border"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("button",{onClick:y,disabled:n||s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-muted/50 border border-border rounded-lg text-foreground hover:bg-muted transition-colors hover:border-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:[n?a.jsx(Cd,{className:"w-5 h-5 animate-spin"}):a.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),n?"Signing in with GitHub...":"Continue with GitHub"]})}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs("p",{className:"text-muted-foreground",children:["New to ZedCTF?"," ",a.jsx(Re,{to:"/signup",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Create an account"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),a.jsx(Ct,{})]})},x5=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(""),[c,d]=g.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:"",agreeToTerms:!1}),h=yr(),f=async S=>{if(S.preventDefault(),l(""),c.password!==c.confirmPassword){l("Passwords don't match!");return}if(c.password.length<6){l("Password should be at least 6 characters");return}if(!c.agreeToTerms){l("Please agree to the terms and conditions");return}i(!0);try{const T=(await k4(Fl,c.email,c.password)).user;await dT(T,{displayName:`${c.firstName} ${c.lastName}`.trim()}),await wI(mr(dt,"users",T.uid),{uid:T.uid,firstName:c.firstName,lastName:c.lastName,username:c.username,email:c.email,displayName:`${c.firstName} ${c.lastName}`.trim(),createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(x){console.error("Registration error:",x),l(m(x.code))}finally{i(!1)}},m=S=>{switch(S){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/invalid-email":return"Invalid email address format.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak.";default:return"Registration failed. Please try again."}},y=S=>{const{name:x,value:T,type:b,checked:w}=S.target;d(I=>({...I,[x]:b==="checkbox"?w:T}))};return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(sn,{className:"w-10 h-10 text-primary"}),a.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Join the Community"}),a.jsx("p",{className:"text-muted-foreground",children:"Start your cybersecurity journey today"})]}),o&&a.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-2",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:c.firstName,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John",disabled:s})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-2",children:"Last Name"}),a.jsxs("div",{className:"relative",children:[a.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:c.lastName,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Doe",disabled:s})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(rC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:c.username,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"cyber_hacker",disabled:s})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(C0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:y,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),a.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?a.jsx(km,{className:"w-5 h-5"}):a.jsx(Bl,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(C0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:c.confirmPassword,onChange:y,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),a.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:n?a.jsx(km,{className:"w-5 h-5"}):a.jsx(Bl,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex items-start",children:a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{name:"agreeToTerms",type:"checkbox",checked:c.agreeToTerms,onChange:y,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2 mt-1",disabled:s}),a.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Privacy Policy"})]})]})}),a.jsxs("button",{type:"submit",disabled:s||!c.agreeToTerms,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?a.jsx(Cd,{className:"w-5 h-5 animate-spin"}):a.jsx(f5,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s?"Creating Account...":"Create Account"]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",a.jsx(Re,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Sign in"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),a.jsx(Ct,{})]})},w5=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[c,d]=g.useState(""),[h,f]=g.useState("all"),[m,y]=g.useState("all"),[S,x]=g.useState("all"),[T,b]=g.useState(!0),[w]=g.useState(!1),I=async()=>{try{b(!0);const E=await fetch("/api/writeups");if(E.ok){const _=await E.json();e(_),r(_);const C=Array.from(new Set(_.map(D=>D.category))).filter(Boolean),k=Array.from(new Set(_.map(D=>D.difficulty))).filter(Boolean);i(C),l(k)}else e([]),r([]),i([]),l([])}catch{e([]),r([]),i([]),l([])}finally{b(!1)}};g.useEffect(()=>{I()},[]),g.useEffect(()=>{let A=t;c&&(A=A.filter(E=>E.title.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase())||E.tags.some(_=>_.toLowerCase().includes(c.toLowerCase())))),h!=="all"&&(A=A.filter(E=>E.category===h)),m!=="all"&&(A=A.filter(E=>E.difficulty===m)),S!=="all"&&(A=A.filter(E=>E.status===S)),r(A)},[c,h,m,S,t]);const R=A=>{switch(A){case"approved":return a.jsx(sv,{className:"w-4 h-4 text-green-400"});case"rejected":return a.jsx(tC,{className:"w-4 h-4 text-red-400"});default:return a.jsx(uc,{className:"w-4 h-4 text-yellow-400"})}},L=A=>{switch(A.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"insane":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"expert":return"bg-red-500/20 text-red-500 border-red-500/30";case"beginner":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return T?a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading writeups..."})]})}),a.jsx(Ct,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx(sn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Community ",a.jsx("span",{className:"text-primary",children:"Writeups"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Learn from other players' solutions and share your own approaches"})]}),a.jsxs("div",{className:"bg-muted/20 border border-border rounded-lg p-6 mb-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx($l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search writeups, tags, challenges...",value:c,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})}),a.jsx("div",{children:a.jsxs("select",{value:h,onChange:A=>f(A.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[a.jsx("option",{value:"all",children:"All Categories"}),s.map(A=>a.jsx("option",{value:A,children:A},A))]})}),a.jsx("div",{children:a.jsxs("select",{value:m,onChange:A=>y(A.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[a.jsx("option",{value:"all",children:"All Difficulties"}),o.map(A=>a.jsx("option",{value:A,children:A},A))]})})]}),w&&a.jsx("div",{className:"mt-4",children:a.jsxs("select",{value:S,onChange:A=>x(A.target.value),className:"w-full md:w-auto px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs(Re,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[a.jsx(zl,{className:"w-5 h-5"}),"New Writeup"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(A=>a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${L(A.difficulty)}`,children:A.difficulty}),a.jsxs("div",{className:"flex items-center gap-1",children:[R(A.status),a.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:A.status})]})]}),a.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded border border-primary/20 mb-3",children:A.category}),a.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:A.title}),a.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:A.description}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[a.jsx(Id,{className:"w-4 h-4"}),a.jsxs("span",{children:["Challenge: ",A.challenge]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[A.tags.slice(0,3).map((E,_)=>a.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["#",E]},_)),A.tags.length>3&&a.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["+",A.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center",children:a.jsx($n,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:A.author.name})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Bl,{className:"w-4 h-4"}),a.jsx("span",{children:A.views})]}),a.jsx("span",{children:new Date(A.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(Re,{to:`/writeups/${A.id}`,className:"flex-1 bg-primary/10 text-primary border border-primary/20 py-2 px-4 rounded-lg text-center hover:bg-primary/20 transition-colors",children:"Read"}),w&&A.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"flex-1 bg-green-500/10 text-green-500 border border-green-500/20 py-2 px-4 rounded-lg hover:bg-green-500/20 transition-colors",children:"Approve"}),a.jsx("button",{className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 py-2 px-4 rounded-lg hover:bg-red-500/20 transition-colors",children:"Reject"})]})]})]},A.id))}),n.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Id,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No writeups found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"No writeups have been submitted yet. Be the first to share your solution!":"Try adjusting your search or filters"}),a.jsxs(Re,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 inline-flex items-center gap-2",children:[a.jsx(zl,{className:"w-5 h-5"}),"Create First Writeup"]})]})]})}),a.jsx(Ct,{})]})},_5=()=>{const t=yr(),[e,n]=g.useState(""),[r,s]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(""),[y,S]=g.useState(""),[x,T]=g.useState(!1),[b,w]=g.useState([]),[I,R]=g.useState([]),[L,A]=g.useState([]),[E,_]=g.useState(!0),C=async()=>{try{_(!0);const j="/api/challenges/available",P="/api/categories",H="/api/difficulties",[ne,Q,oe]=await Promise.all([fetch(j),fetch(P),fetch(H)]);if(ne.ok){const V=await ne.json();w(V)}else w([]);if(Q.ok){const V=await Q.json();R(V),V.length>0&&h(V[0])}else R([]);if(oe.ok){const V=await oe.json();A(V),V.length>0&&m(V[0])}else A([])}catch{w([]),R([]),A([])}finally{_(!1)}},k=async j=>{j.preventDefault(),T(!0);try{(await fetch("/api/writeups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:r,content:i,challengeId:l,category:d,difficulty:f,tags:y.split(",").map(H=>H.trim()).filter(H=>H)})})).ok?t("/writeups"):console.error("Failed to create writeup")}catch(P){console.error("Error creating writeup:",P)}finally{T(!1)}},D=(j,P)=>{document.execCommand(j,!1,P)};return g.useEffect(()=>{if(l){const j=b.find(P=>P.id===l);j&&(h(j.category),m(j.difficulty))}},[l,b]),g.useEffect(()=>{C()},[]),E?a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading form data..."})]})}),a.jsx(Ct,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx(sn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Create ",a.jsx("span",{className:"text-primary",children:"Writeup"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Share your solution and help others learn from your approach"})]}),a.jsxs("form",{id:"writeup-form",onSubmit:k,className:"space-y-8",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Writeup Title *"}),a.jsx("input",{type:"text",required:!0,value:e,onChange:j=>n(j.target.value),placeholder:"Enter a compelling title for your writeup...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-lg font-semibold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),a.jsx("textarea",{required:!0,value:r,onChange:j=>s(j.target.value),placeholder:"Brief description of your writeup...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Challenge *"}),a.jsxs("select",{required:!0,value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[a.jsx("option",{value:"",children:"Select a challenge"}),b.map(j=>a.jsx("option",{value:j.id,children:j.title},j.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category *"}),a.jsx("select",{required:!0,value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:I.map(j=>a.jsx("option",{value:j,children:j},j))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty *"}),a.jsx("select",{required:!0,value:f,onChange:j=>m(j.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:L.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),a.jsx("input",{type:"text",value:y,onChange:j=>S(j.target.value),placeholder:"Comma-separated tags (e.g., sql-injection, web, bypass)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Writeup Content"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 p-3 bg-muted/20 rounded-lg border border-border",children:[a.jsx("button",{type:"button",onClick:()=>D("bold"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bold",children:a.jsx(KF,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>D("italic"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Italic",children:a.jsx(i5,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>D("insertUnorderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bullet List",children:a.jsx(I0,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>D("insertOrderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Numbered List",children:a.jsx(I0,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>{const j=prompt("Enter URL:");j&&D("createLink",j)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Link",children:a.jsx(jm,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>D("formatBlock","<pre>"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Code Block",children:a.jsx(e5,{className:"w-4 h-4 text-foreground"})}),a.jsx("button",{type:"button",onClick:()=>{const j=prompt("Enter image URL:");j&&D("insertImage",j)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Image",children:a.jsx(s5,{className:"w-4 h-4 text-foreground"})})]}),a.jsx("div",{contentEditable:!0,onInput:j=>o(j.currentTarget.innerHTML),className:"min-h-[400px] px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all prose prose-invert max-w-none",style:{fontFamily:"Georgia, serif",fontSize:"16px",lineHeight:"1.6"},"data-placeholder":"Start writing your amazing writeup here... You can include code snippets, images, and formatted text."}),a.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Pro tips:"})]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Use the toolbar above to format your text"}),a.jsx("li",{children:"Include code snippets using the code block button"}),a.jsx("li",{children:"Add images to illustrate your steps"}),a.jsx("li",{children:"Break down complex solutions into clear steps"}),a.jsx("li",{children:"Share your thought process and learning moments"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",onClick:()=>t("/writeups"),children:[a.jsx(Bl,{className:"w-4 h-4"}),"Cancel"]}),a.jsxs("button",{type:"submit",disabled:x,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):a.jsx(c5,{className:"w-4 h-4"}),x?"Publishing...":"Publish Writeup"]})]})]})]})}),a.jsx(Ct,{})]})},R0=()=>new Promise(t=>{setTimeout(()=>{const e={id:"github-"+Date.now(),username:"zedctf_user",email:"user@zedctf.com",name:"ZedCTF User",avatar:"https://github.com/github.png",provider:"github"};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true"),t(e)},1500)}),E5=()=>{const[t,e]=g.useState("loading"),[n,r]=g.useState(""),s=yr();return g.useEffect(()=>{(async()=>{const o=new URLSearchParams(window.location.search),l=o.get("code");if(o.get("error")){e("error"),r("GitHub authentication failed. Please try again.");return}try{if(await new Promise(d=>setTimeout(d,2e3)),l){const d=await R0();e("success"),r(`Welcome, ${d.username}! Successfully authenticated with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}else{const d=await R0();e("success"),r(`Welcome, ${d.username}! Successfully signed in with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}}catch(d){e("error"),r("Authentication failed. Please try again."),console.error("GitHub callback error:",d)}})()},[s]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[a.jsx(sn,{className:"w-10 h-10 text-green-400"}),a.jsx("span",{className:"text-3xl font-bold text-white",children:"ZedCTF"})]}),a.jsxs("div",{className:"space-y-4",children:[t==="loading"&&a.jsxs(a.Fragment,{children:[a.jsx(Cd,{className:"w-12 h-12 text-green-400 animate-spin mx-auto"}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connecting to GitHub..."}),a.jsx("p",{className:"text-gray-300",children:"Please wait while we authenticate your account."})]}),t==="success"&&a.jsxs(a.Fragment,{children:[a.jsx(sv,{className:"w-12 h-12 text-green-400 mx-auto"}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Successful!"}),a.jsx("p",{className:"text-gray-300",children:n}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting to homepage..."})]}),t==="error"&&a.jsxs(a.Fragment,{children:[a.jsx(tC,{className:"w-12 h-12 text-red-400 mx-auto"}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Failed"}),a.jsx("p",{className:"text-gray-300",children:n}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Login"}),a.jsx("button",{onClick:()=>s("/signup"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Sign Up"})]})]})]})]})})},b5=()=>{const t=Zo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},pe=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));pe.displayName="Card";const Ie=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ue("flex flex-col space-y-1.5 p-6",t),...e}));Ie.displayName="CardHeader";const Ce=g.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ce.displayName="CardTitle";const Jt=g.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));Jt.displayName="CardDescription";const me=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ue("p-6 pt-0",t),...e}));me.displayName="CardContent";const T5=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ue("flex items-center p-6 pt-0",t),...e}));T5.displayName="CardFooter";const S5=({isOpen:t,onClose:e})=>{const{user:n}=Gi(),[r,s]=g.useState(!1),[i,o]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[h,f]=g.useState({displayName:"",bio:"",role:"student",institution:""}),[m,y]=g.useState(null),[S,x]=g.useState("");g.useEffect(()=>{t&&n&&(async()=>{try{const E=await Ky(mr(dt,"users",n.uid));if(E.exists()){const _=E.data();f({displayName:_.displayName||n.displayName||"",bio:_.bio||"",role:_.role||"student",institution:_.institution||""}),x(_.photoURL||n.photoURL||"")}else f({displayName:n.displayName||"",bio:"",role:"student",institution:""}),x(n.photoURL||"")}catch(E){console.error("Error fetching user data:",E)}})()},[t,n]);const T=A=>{const{name:E,value:_}=A.target;f(C=>({...C,[E]:_}))},b=async A=>{var _;const E=(_=A.target.files)==null?void 0:_[0];if(E){if(!E.type.startsWith("image/")){alert("Please select an image file");return}if(E.size>2*1024*1024){alert("Image size should be less than 2MB for faster upload");return}y(E);const C=URL.createObjectURL(E);x(C)}},w=(A,E=800,_=.8)=>new Promise((C,k)=>{const D=document.createElement("canvas"),j=D.getContext("2d"),P=new Image;P.onload=()=>{let H=P.width,ne=P.height;H>E&&(ne=ne*E/H,H=E),D.width=H,D.height=ne,j==null||j.drawImage(P,0,0,H,ne),D.toBlob(Q=>{if(Q){const oe=new File([Q],A.name,{type:"image/jpeg",lastModified:Date.now()});C(oe)}else k(new Error("Image compression failed"))},"image/jpeg",_)},P.onerror=k,P.src=URL.createObjectURL(A)}),I=async(A,E)=>{const _=await w(A),k=`profile_${Date.now()}.jpg`,D=G6(Z6,`profile-pictures/${E}/${k}`),j=await H6(D,_);return await q6(j.ref)},R=async A=>{if(A.preventDefault(),!!n){s(!0),c(!1);try{let E=n.photoURL;if(m){o(!0);try{E=await I(m,n.uid),console.log("Profile image uploaded successfully")}catch(C){console.error("Error uploading image:",C)}finally{o(!1)}}const _=[];(h.displayName!==n.displayName||E!==n.photoURL)&&_.push(dT(n,{displayName:h.displayName,photoURL:E})),_.push(Nm(mr(dt,"users",n.uid),{displayName:h.displayName,bio:h.bio,role:h.role,institution:h.institution,photoURL:E,updatedAt:new Date})),await Promise.all(_),console.log("Profile updated successfully"),c(!0),setTimeout(()=>{e(),window.location.reload()},1e3)}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Please try again.")}finally{s(!1)}}},L=()=>{var A;(A=d.current)==null||A.click()};return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-background rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Edit Profile"}),a.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",disabled:r,children:a.jsx(Dm,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[l&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[a.jsx(sv,{className:"w-5 h-5"}),"Profile updated successfully!"]}),a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-muted/50 border-2 border-border flex items-center justify-center overflow-hidden",children:S?a.jsx("img",{src:S,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx($n,{className:"w-12 h-12 text-muted-foreground"})}),a.jsx("button",{type:"button",onClick:L,disabled:i||r,className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 hover:bg-primary/90 transition-colors disabled:opacity-50",children:i?a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):a.jsx(QF,{className:"w-4 h-4"})}),a.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:b,className:"hidden",disabled:i||r})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:i?"Uploading image...":"Click the camera icon to upload a profile picture (max 2MB)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-2",children:"Display Name"}),a.jsx("input",{id:"displayName",name:"displayName",type:"text",value:h.displayName,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Enter your display name",disabled:r})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-foreground mb-2",children:"Bio"}),a.jsx("textarea",{id:"bio",name:"bio",rows:3,value:h.bio,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",placeholder:"Tell us about yourself...",disabled:r})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"I am a"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"student",label:"Student",icon:nC},{value:"lecturer",label:"Lecturer",icon:Rn},{value:"expert",label:"Expert",icon:JI},{value:"general",label:"General User",icon:$n}].map(({value:A,label:E,icon:_})=>a.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-all ${h.role===A?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 text-foreground"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("input",{type:"radio",name:"role",value:A,checked:h.role===A,onChange:T,className:"hidden",disabled:r}),a.jsx(_,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:E})]},A))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-foreground mb-2",children:"Institution"}),a.jsx("input",{id:"institution",name:"institution",type:"text",value:h.institution,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Your school, university, or organization",disabled:r})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,disabled:r,className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r||i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Saving..."]}):"Save Changes"})]})]})]})}):null},I5=()=>{var w,I;const{user:t}=Gi();yr();const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,o]=g.useState([]),[l,c]=g.useState([]),[d,h]=g.useState(!0),[f,m]=g.useState(!1),[y,S]=g.useState(null),x=R=>{switch(R){case"student":return a.jsx(nC,{className:"w-4 h-4"});case"lecturer":return a.jsx(Rn,{className:"w-4 h-4"});case"expert":return a.jsx(JI,{className:"w-4 h-4"});default:return a.jsx($n,{className:"w-4 h-4"})}},T=R=>{switch(R){case"student":return"Student";case"lecturer":return"Lecturer";case"expert":return"Expert";default:return"General User"}},b=async()=>{var R,L,A;if(t)try{h(!0),console.log("Fetching real dashboard data for user:",t.uid);const E=await Ky(mr(dt,"users",t.uid));if(E.exists()){const _=E.data();console.log("Real user data from Firestore:",_),S(_),n({totalPoints:_.totalPoints||0,challengesSolved:_.challengesSolved||0,currentRank:_.currentRank||0,timeSpent:_.timeSpent||"0h 0m",username:_.username||((R=t==null?void 0:t.email)==null?void 0:R.split("@")[0])||"Hacker",joinDate:_.createdAt||(t==null?void 0:t.metadata.creationTime)||new Date().toISOString(),firstName:_.firstName,lastName:_.lastName,displayName:_.displayName,bio:_.bio,role:_.role,institution:_.institution,photoURL:_.photoURL})}else console.log("No user document found in Firestore"),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((L=t==null?void 0:t.email)==null?void 0:L.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()});try{const _=zf(tr(dt,"challenges"),$f("solvedBy","array-contains",t.uid),Wf("solvedAt","desc"),Hf(5)),k=(await cl(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real solved challenges:",k),s(k)}catch{console.log("No challenges collection or no solved challenges yet"),s([])}try{const _=zf(tr(dt,"events"),$f("participants","array-contains",t.uid),Wf("date","desc"),Hf(5)),k=(await cl(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real events participated:",k),o(k)}catch{console.log("No events collection or no events participated yet"),o([])}try{const _=zf(tr(dt,"activity"),$f("userId","==",t.uid),Wf("timestamp","desc"),Hf(10)),k=(await cl(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real user activity:",k),c(k)}catch{console.log("No activity collection yet, creating default activity");const C={id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date,userId:t.uid};c([C])}}catch(E){console.error("Error fetching real dashboard data:",E),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((A=t==null?void 0:t.email)==null?void 0:A.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}),s([]),o([]),c([{id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date}])}finally{h(!1)}};return g.useEffect(()=>{t&&b()},[t]),d?a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}),a.jsx(Ct,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center overflow-hidden border-2 border-primary/30",children:t!=null&&t.photoURL||y!=null&&y.photoURL?a.jsx("img",{src:(t==null?void 0:t.photoURL)||(y==null?void 0:y.photoURL),alt:"Profile",className:"w-full h-full object-cover"}):a.jsx($n,{className:"w-8 h-8 text-primary"})}),a.jsx("button",{onClick:()=>m(!0),className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/90 transition-colors",title:"Edit Profile",children:a.jsx(sC,{className:"w-3 h-3"})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-4xl font-bold",children:["Welcome back,"," ",a.jsx("span",{className:"text-primary",children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||(e==null?void 0:e.username)||((w=t==null?void 0:t.email)==null?void 0:w.split("@")[0])||"Hacker"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx("span",{children:t==null?void 0:t.email}),(y==null?void 0:y.role)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[x(y.role),a.jsx("span",{children:T(y.role)})]})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Member since"," ",e!=null&&e.joinDate?new Date(e.joinDate).toLocaleDateString():"recently"]})]}),(y==null?void 0:y.institution)&&a.jsx("p",{className:"text-sm text-muted-foreground",children:y.institution}),(y==null?void 0:y.bio)&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-md",children:y.bio})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(pe,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Total Points"}),a.jsx(Vn,{className:"w-5 h-5 text-primary"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:((I=e==null?void 0:e.totalPoints)==null?void 0:I.toLocaleString())||"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime points earned"})]})]}),a.jsxs(pe,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Challenges Solved"}),a.jsx(Qf,{className:"w-5 h-5 text-secondary"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.challengesSolved)||"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total challenges completed"})]})]}),a.jsxs(pe,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Current Rank"}),a.jsx(u5,{className:"w-5 h-5 text-primary"})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-2",children:["#",(e==null?void 0:e.currentRank)||"0"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Global leaderboard position"})]})]}),a.jsxs(pe,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),a.jsx(uc,{className:"w-5 h-5 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.timeSpent)||"0h 0m"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total practice time"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{className:"border-border",children:[a.jsx(Ie,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(Qf,{className:"w-5 h-5 text-primary"}),"Recently Solved Challenges"]})}),a.jsx(me,{children:r.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Qf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No challenges solved yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Start practicing to see your progress here"})]}):a.jsx("div",{className:"space-y-4",children:r.map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:R.title}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx("span",{children:R.category}),a.jsx("span",{children:""}),a.jsx("span",{children:R.difficulty}),a.jsx("span",{children:""}),a.jsx("span",{children:R.solvedAt?new Date(R.solvedAt.toDate?R.solvedAt.toDate():R.solvedAt).toLocaleDateString():"Recently"})]})]}),a.jsxs("div",{className:"text-primary font-bold",children:["+",R.points]})]},R.id))})})]}),a.jsxs(pe,{className:"border-border",children:[a.jsx(Ie,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"w-5 h-5 text-primary"}),"Events Participated In"]})}),a.jsx(me,{children:i.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ul,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No events participated yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Join live events to appear here"})]}):a.jsx("div",{className:"space-y-4",children:i.map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:R.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx("span",{children:R.date}),R.position&&a.jsxs("span",{children:[" Position: #",R.position]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-secondary font-bold",children:R.prize}),R.pointsEarned>0&&a.jsxs("div",{className:"text-xs text-primary",children:["+",R.pointsEarned," pts"]})]})]},R.id))})})]}),a.jsxs(pe,{className:"border-border lg:col-span-2",children:[a.jsx(Ie,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(Sd,{className:"w-5 h-5 text-primary"}),"Recent Activity"]})}),a.jsx(me,{children:l.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Sd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No recent activity"}),a.jsx("p",{className:"text-sm mt-2",children:"Your activity will appear here"})]}):a.jsx("div",{className:"space-y-3",children:l.map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:R.action}),a.jsx("div",{className:"text-sm text-muted-foreground",children:R.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:R.timestamp?new Date(R.timestamp.toDate?R.timestamp.toDate():R.timestamp).toLocaleDateString():"Recently"}),R.points&&a.jsxs("div",{className:"text-sm text-primary font-bold",children:["+",R.points]})]})]},R.id))})})]})]})]})}),a.jsx(Ct,{}),a.jsx(S5,{isOpen:f,onClose:()=>m(!1)})]})},C5=nv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...n}){return a.jsx("div",{className:Ue(C5({variant:e}),t),...n})}const Se=g.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Se.displayName="Input";function k0(t,[e,n]){return Math.min(n,Math.max(e,t))}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ih(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:m,children:y,...S}=f,x=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,T=g.useMemo(()=>S,Object.values(S));return a.jsx(x.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,S=g.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,N5(s,...e)]}function N5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function P0(t){const e=A5(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),c=l.find(k5);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function A5(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=j5(s),l=P5(i,s.props);return s.type!==g.Fragment&&(l.ref=r?cc(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var R5=Symbol("radix.slottable");function k5(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===R5}function P5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function j5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function D5(t){const e=t+"CollectionProvider",[n,r]=Ih(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:T,children:b}=x,w=ts.useRef(null),I=ts.useRef(new Map).current;return a.jsx(s,{scope:T,itemMap:I,collectionRef:w,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=P0(l),d=ts.forwardRef((x,T)=>{const{scope:b,children:w}=x,I=i(l,b),R=pt(T,I.collectionRef);return a.jsx(c,{ref:R,children:w})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=P0(h),y=ts.forwardRef((x,T)=>{const{scope:b,children:w,...I}=x,R=ts.useRef(null),L=pt(T,R),A=i(h,b);return ts.useEffect(()=>(A.itemMap.set(R,{ref:R,...I}),()=>void A.itemMap.delete(R))),a.jsx(m,{[f]:"",ref:L,children:w})});y.displayName=h;function S(x){const T=i(t+"CollectionConsumer",x);return ts.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const I=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((A,E)=>I.indexOf(A.ref.current)-I.indexOf(E.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},S,r]}var L5=g.createContext(void 0);function O5(t){const e=g.useContext(L5);return t||e||"ltr"}function M5(t){const e=V5(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),c=l.find(U5);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function V5(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=z5(s),l=B5(i,s.props);return s.type!==g.Fragment&&(l.ref=r?cc(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var F5=Symbol("radix.slottable");function U5(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===F5}function B5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function z5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=$5.reduce((t,e)=>{const n=M5(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function W5(t,e){t&&Yo.flushSync(()=>t.dispatchEvent(e))}function Bs(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function H5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q5="DismissableLayer",Lm="dismissableLayer.update",G5="dismissableLayer.pointerDownOutside",K5="dismissableLayer.focusOutside",j0,iC=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oC=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=g.useContext(iC),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),S=pt(e,E=>f(E)),x=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(T),w=h?x.indexOf(h):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,R=w>=b,L=X5(E=>{const _=E.target,C=[...d.branches].some(k=>k.contains(_));!R||C||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),A=J5(E=>{const _=E.target;[...d.branches].some(k=>k.contains(_))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return H5(E=>{w===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(j0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),D0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=j0)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),D0())},[h,d]),g.useEffect(()=>{const E=()=>y({});return document.addEventListener(Lm,E),()=>document.removeEventListener(Lm,E)},[]),a.jsx(He.div,{...c,ref:S,style:{pointerEvents:I?R?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,A.onFocusCapture),onBlurCapture:et(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,L.onPointerDownCapture)})});oC.displayName=q5;var Q5="DismissableLayerBranch",Y5=g.forwardRef((t,e)=>{const n=g.useContext(iC),r=g.useRef(null),s=pt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(He.div,{...t,ref:s})});Y5.displayName=Q5;function X5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){aC(G5,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function J5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&aC(K5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D0(){const t=new CustomEvent(Lm);document.dispatchEvent(t)}function aC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?W5(s,i):s.dispatchEvent(i)}var Yf=0;function Z5(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??L0()),document.body.insertAdjacentElement("beforeend",t[1]??L0()),Yf++,()=>{Yf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yf--}},[])}function L0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xf="focusScope.autoFocusOnMount",Jf="focusScope.autoFocusOnUnmount",O0={bubbles:!1,cancelable:!0},eU="FocusScope",lC=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=g.useState(null),d=Bs(s),h=Bs(i),f=g.useRef(null),m=pt(e,x=>c(x)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(I){if(y.paused||!l)return;const R=I.target;l.contains(R)?f.current=R:ns(f.current,{select:!0})},T=function(I){if(y.paused||!l)return;const R=I.relatedTarget;R!==null&&(l.contains(R)||ns(f.current,{select:!0}))},b=function(I){if(document.activeElement===document.body)for(const L of I)L.removedNodes.length>0&&ns(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),w.disconnect()}}},[r,l,y.paused]),g.useEffect(()=>{if(l){V0.add(y);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(Xf,O0);l.addEventListener(Xf,d),l.dispatchEvent(b),b.defaultPrevented||(tU(oU(cC(l)),{select:!0}),document.activeElement===x&&ns(l))}return()=>{l.removeEventListener(Xf,d),setTimeout(()=>{const b=new CustomEvent(Jf,O0);l.addEventListener(Jf,h),l.dispatchEvent(b),b.defaultPrevented||ns(x??document.body,{select:!0}),l.removeEventListener(Jf,h),V0.remove(y)},0)}}},[l,d,h,y]);const S=g.useCallback(x=>{if(!n&&!r||y.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(T&&b){const w=x.currentTarget,[I,R]=nU(w);I&&R?!x.shiftKey&&b===R?(x.preventDefault(),n&&ns(I,{select:!0})):x.shiftKey&&b===I&&(x.preventDefault(),n&&ns(R,{select:!0})):b===w&&x.preventDefault()}},[n,r,y.paused]);return a.jsx(He.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});lC.displayName=eU;function tU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ns(r,{select:e}),document.activeElement!==n)return}function nU(t){const e=cC(t),n=M0(e,t),r=M0(e.reverse(),t);return[n,r]}function cC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M0(t,e){for(const n of t)if(!rU(n,{upTo:e}))return n}function rU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sU(t){return t instanceof HTMLInputElement&&"select"in t}function ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sU(t)&&e&&t.select()}}var V0=iU();function iU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=F0(t,e),t.unshift(e)},remove(e){var n;t=F0(t,e),(n=t[0])==null||n.resume()}}}function F0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oU(t){return t.filter(e=>e.tagName!=="A")}var Nt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},aU=Dd[" useId ".trim().toString()]||(()=>{}),lU=0;function iv(t){const[e,n]=g.useState(aU());return Nt(()=>{n(r=>r??String(lU++))},[t]),e?`radix-${e}`:""}const cU=["top","right","bottom","left"],zs=Math.min,dn=Math.max,Nd=Math.round,eu=Math.floor,fr=t=>({x:t,y:t}),uU={left:"right",right:"left",bottom:"top",top:"bottom"},dU={start:"end",end:"start"};function Om(t,e,n){return dn(t,zs(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function aa(t){return t.split("-")[1]}function ov(t){return t==="x"?"y":"x"}function av(t){return t==="y"?"height":"width"}const hU=new Set(["top","bottom"]);function sr(t){return hU.has(Br(t))?"y":"x"}function lv(t){return ov(sr(t))}function fU(t,e,n){n===void 0&&(n=!1);const r=aa(t),s=lv(t),i=av(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ad(o)),[o,Ad(o)]}function pU(t){const e=Ad(t);return[Mm(t),e,Mm(e)]}function Mm(t){return t.replace(/start|end/g,e=>dU[e])}const U0=["left","right"],B0=["right","left"],mU=["top","bottom"],gU=["bottom","top"];function yU(t,e,n){switch(t){case"top":case"bottom":return n?e?B0:U0:e?U0:B0;case"left":case"right":return e?mU:gU;default:return[]}}function vU(t,e,n,r){const s=aa(t);let i=yU(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Mm)))),i}function Ad(t){return t.replace(/left|right|bottom|top/g,e=>uU[e])}function xU(t){return{top:0,right:0,bottom:0,left:0,...t}}function uC(t){return typeof t!="number"?xU(t):{top:t,right:t,bottom:t,left:t}}function Rd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function z0(t,e,n){let{reference:r,floating:s}=t;const i=sr(e),o=lv(e),l=av(o),c=Br(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(aa(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const wU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=z0(d,r,c),m=r,y={},S=0;for(let x=0;x<l.length;x++){const{name:T,fn:b}=l[x],{x:w,y:I,data:R,reset:L}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=I??f,y={...y,[T]:{...y[T],...R}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:h,y:f}=z0(d,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function Wl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Ur(e,t),S=uC(y),T=l[m?f==="floating"?"reference":"floating":f],b=Rd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),R=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},L=Rd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:I,strategy:c}):w);return{top:(b.top-L.top+S.top)/R.y,bottom:(L.bottom-b.bottom+S.bottom)/R.y,left:(b.left-L.left+S.left)/R.x,right:(L.right-b.right+S.right)/R.x}}const _U=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Ur(t,e)||{};if(d==null)return{};const f=uC(h),m={x:n,y:r},y=lv(s),S=av(y),x=await o.getDimensions(d),T=y==="y",b=T?"top":"left",w=T?"bottom":"right",I=T?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[y]-m[y]-i.floating[S],L=m[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=A?A[I]:0;(!E||!await(o.isElement==null?void 0:o.isElement(A)))&&(E=l.floating[I]||i.floating[S]);const _=R/2-L/2,C=E/2-x[S]/2-1,k=zs(f[b],C),D=zs(f[w],C),j=k,P=E-x[S]-D,H=E/2-x[S]/2+_,ne=Om(j,H,P),Q=!c.arrow&&aa(s)!=null&&H!==ne&&i.reference[S]/2-(H<j?k:D)-x[S]/2<0,oe=Q?H<j?H-j:H-P:0;return{[y]:m[y]+oe,data:{[y]:ne,centerOffset:H-ne-oe,...Q&&{alignmentOffset:oe}},reset:Q}}}),EU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...T}=Ur(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Br(s),w=sr(l),I=Br(l)===l,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),L=m||(I||!x?[Ad(l)]:pU(l)),A=S!=="none";!m&&A&&L.push(...vU(l,x,S,R));const E=[l,...L],_=await Wl(e,T),C=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(_[b]),f){const H=fU(s,o,R);C.push(_[H[0]],_[H[1]])}if(k=[...k,{placement:s,overflows:C}],!C.every(H=>H<=0)){var D,j;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,ne=E[H];if(ne&&(!(f==="alignment"?w!==sr(ne):!1)||k.every(V=>sr(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:H,overflows:k},reset:{placement:ne}};let Q=(j=k.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!Q)switch(y){case"bestFit":{var P;const oe=(P=k.filter(V=>{if(A){const $=sr(V.placement);return $===w||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:P[0];oe&&(Q=oe);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function $0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W0(t){return cU.some(e=>t[e]>=0)}const bU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ur(t,e);switch(r){case"referenceHidden":{const i=await Wl(e,{...s,elementContext:"reference"}),o=$0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:W0(o)}}}case"escaped":{const i=await Wl(e,{...s,altBoundary:!0}),o=$0(i,n.floating);return{data:{escapedOffsets:o,escaped:W0(o)}}}default:return{}}}}},dC=new Set(["left","top"]);async function TU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),l=aa(n),c=sr(n)==="y",d=dC.has(o)?-1:1,h=i&&c?-1:1,f=Ur(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(y=l==="end"?S*-1:S),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const SU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await TU(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},IU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:b,y:w}=T;return{x:b,y:w}}},...c}=Ur(t,e),d={x:n,y:r},h=await Wl(e,c),f=sr(Br(s)),m=ov(f);let y=d[m],S=d[f];if(i){const T=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=y+h[T],I=y-h[b];y=Om(w,y,I)}if(o){const T=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=S+h[T],I=S-h[b];S=Om(w,S,I)}const x=l.fn({...e,[m]:y,[f]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:o}}}}}},CU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ur(t,e),h={x:n,y:r},f=sr(s),m=ov(f);let y=h[m],S=h[f];const x=Ur(l,e),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const I=m==="y"?"height":"width",R=i.reference[m]-i.floating[I]+T.mainAxis,L=i.reference[m]+i.reference[I]-T.mainAxis;y<R?y=R:y>L&&(y=L)}if(d){var b,w;const I=m==="y"?"width":"height",R=dC.has(Br(s)),L=i.reference[f]-i.floating[I]+(R&&((b=o.offset)==null?void 0:b[f])||0)+(R?0:T.crossAxis),A=i.reference[f]+i.reference[I]+(R?0:((w=o.offset)==null?void 0:w[f])||0)-(R?T.crossAxis:0);S<L?S=L:S>A&&(S=A)}return{[m]:y,[f]:S}}}},NU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ur(t,e),h=await Wl(e,d),f=Br(s),m=aa(s),y=sr(s)==="y",{width:S,height:x}=i.floating;let T,b;f==="top"||f==="bottom"?(T=f,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,T=m==="end"?"top":"bottom");const w=x-h.top-h.bottom,I=S-h.left-h.right,R=zs(x-h[T],w),L=zs(S-h[b],I),A=!e.middlewareData.shift;let E=R,_=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),A&&!m){const k=dn(h.left,0),D=dn(h.right,0),j=dn(h.top,0),P=dn(h.bottom,0);y?_=S-2*(k!==0||D!==0?k+D:dn(h.left,h.right)):E=x-2*(j!==0||P!==0?j+P:dn(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:E});const C=await o.getDimensions(l.floating);return S!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function la(t){return hC(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(hC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hC(t){return Ch()?t instanceof Node||t instanceof yn(t).Node:!1}function Gn(t){return Ch()?t instanceof Element||t instanceof yn(t).Element:!1}function gr(t){return Ch()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function H0(t){return!Ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}const AU=new Set(["inline","contents"]);function dc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!AU.has(s)}const RU=new Set(["table","td","th"]);function kU(t){return RU.has(la(t))}const PU=[":popover-open",":modal"];function Nh(t){return PU.some(e=>{try{return t.matches(e)}catch{return!1}})}const jU=["transform","translate","scale","rotate","perspective"],DU=["transform","translate","scale","rotate","perspective","filter"],LU=["paint","layout","strict","content"];function cv(t){const e=uv(),n=Gn(t)?Kn(t):t;return jU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||DU.some(r=>(n.willChange||"").includes(r))||LU.some(r=>(n.contain||"").includes(r))}function OU(t){let e=$s(t);for(;gr(e)&&!Ho(e);){if(cv(e))return e;if(Nh(e))return null;e=$s(e)}return null}function uv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MU=new Set(["html","body","#document"]);function Ho(t){return MU.has(la(t))}function Kn(t){return yn(t).getComputedStyle(t)}function Ah(t){return Gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $s(t){if(la(t)==="html")return t;const e=t.assignedSlot||t.parentNode||H0(t)&&t.host||vr(t);return H0(e)?e.host:e}function fC(t){const e=$s(t);return Ho(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&dc(e)?e:fC(e)}function Hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=fC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const l=Vm(o);return e.concat(o,o.visualViewport||[],dc(s)?s:[],l&&n?Hl(l):[])}return e.concat(s,Hl(s,[],n))}function Vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pC(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Nd(n)!==i||Nd(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function dv(t){return Gn(t)?t:t.contextElement}function Ao(t){const e=dv(t);if(!gr(e))return fr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=pC(e);let o=(i?Nd(n.width):n.width)/r,l=(i?Nd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const VU=fr(0);function mC(t){const e=yn(t);return!uv()||!e.visualViewport?VU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function Vi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=dv(t);let o=fr(1);e&&(r?Gn(r)&&(o=Ao(r)):o=Ao(t));const l=FU(i,n,r)?mC(i):fr(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=yn(i),y=r&&Gn(r)?yn(r):r;let S=m,x=Vm(S);for(;x&&r&&y!==S;){const T=Ao(x),b=x.getBoundingClientRect(),w=Kn(x),I=b.left+(x.clientLeft+parseFloat(w.paddingLeft))*T.x,R=b.top+(x.clientTop+parseFloat(w.paddingTop))*T.y;c*=T.x,d*=T.y,h*=T.x,f*=T.y,c+=I,d+=R,S=yn(x),x=Vm(S)}}return Rd({width:h,height:f,x:c,y:d})}function Rh(t,e){const n=Ah(t).scrollLeft;return e?e.left+n:Vi(vr(t)).left+n}function gC(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Rh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function UU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=vr(r),l=e?Nh(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=fr(1);const h=fr(0),f=gr(r);if((f||!f&&!i)&&((la(r)!=="body"||dc(o))&&(c=Ah(r)),gr(r))){const y=Vi(r);d=Ao(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?gC(o,c):fr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function BU(t){return Array.from(t.getClientRects())}function zU(t){const e=vr(t),n=Ah(t),r=t.ownerDocument.body,s=dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rh(t);const l=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=dn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const q0=25;function $U(t,e){const n=yn(t),r=vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=uv();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Rh(r);if(d<=0){const h=r.ownerDocument,f=h.body,m=getComputedStyle(f),y=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-y);S<=q0&&(i-=S)}else d<=q0&&(i+=d);return{width:i,height:o,x:l,y:c}}const WU=new Set(["absolute","fixed"]);function HU(t,e){const n=Vi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gr(t)?Ao(t):fr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function G0(t,e,n){let r;if(e==="viewport")r=$U(t,n);else if(e==="document")r=zU(vr(t));else if(Gn(e))r=HU(e,n);else{const s=mC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Rd(r)}function yC(t,e){const n=$s(t);return n===e||!Gn(n)||Ho(n)?!1:Kn(n).position==="fixed"||yC(n,e)}function qU(t,e){const n=e.get(t);if(n)return n;let r=Hl(t,[],!1).filter(l=>Gn(l)&&la(l)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?$s(t):t;for(;Gn(o)&&!Ho(o);){const l=Kn(o),c=cv(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&WU.has(s.position)||dc(o)&&!c&&yC(t,o))?r=r.filter(h=>h!==o):s=l,o=$s(o)}return e.set(t,r),r}function GU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Nh(e)?[]:qU(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=G0(e,h,s);return d.top=dn(f.top,d.top),d.right=zs(f.right,d.right),d.bottom=zs(f.bottom,d.bottom),d.left=dn(f.left,d.left),d},G0(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KU(t){const{width:e,height:n}=pC(t);return{width:e,height:n}}function QU(t,e,n){const r=gr(e),s=vr(e),i=n==="fixed",o=Vi(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=fr(0);function d(){c.x=Rh(s)}if(r||!r&&!i)if((la(e)!=="body"||dc(s))&&(l=Ah(e)),r){const y=Vi(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?gC(s,l):fr(0),f=o.left+l.scrollLeft-c.x-h.x,m=o.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Zf(t){return Kn(t).position==="static"}function K0(t,e){if(!gr(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vr(t)===n&&(n=n.ownerDocument.body),n}function vC(t,e){const n=yn(t);if(Nh(t))return n;if(!gr(t)){let s=$s(t);for(;s&&!Ho(s);){if(Gn(s)&&!Zf(s))return s;s=$s(s)}return n}let r=K0(t,e);for(;r&&kU(r)&&Zf(r);)r=K0(r,e);return r&&Ho(r)&&Zf(r)&&!cv(r)?n:r||OU(t)||n}const YU=async function(t){const e=this.getOffsetParent||vC,n=this.getDimensions,r=await n(t.floating);return{reference:QU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XU(t){return Kn(t).direction==="rtl"}const JU={convertOffsetParentRelativeRectToViewportRelativeRect:UU,getDocumentElement:vr,getClippingRect:GU,getOffsetParent:vC,getElementRects:YU,getClientRects:BU,getDimensions:KU,getScale:Ao,isElement:Gn,isRTL:XU};function xC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZU(t,e){let n=null,r;const s=vr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(l||e(),!m||!y)return;const S=eu(f),x=eu(s.clientWidth-(h+m)),T=eu(s.clientHeight-(f+y)),b=eu(h),I={rootMargin:-S+"px "+-x+"px "+-T+"px "+-b+"px",threshold:dn(0,zs(1,c))||1};let R=!0;function L(A){const E=A[0].intersectionRatio;if(E!==c){if(!R)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!xC(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(L,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,I)}n.observe(t)}return o(!0),i}function e9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=dv(t),h=s||i?[...d?Hl(d):[],...Hl(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=d&&l?ZU(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var I;(I=y)==null||I.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let S,x=c?Vi(t):null;c&&T();function T(){const b=Vi(t);x&&!xC(x,b)&&n(),x=b,S=requestAnimationFrame(T)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const t9=SU,n9=IU,r9=EU,s9=NU,i9=bU,Q0=_U,o9=CU,a9=(t,e,n)=>{const r=new Map,s={platform:JU,...n},i={...s.platform,_c:r};return wU(t,e,{...s,platform:i})};var l9=typeof document<"u",c9=function(){},Cu=l9?g.useLayoutEffect:c9;function kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Y0(t,e){const n=wC(t);return Math.round(e*n)/n}function ep(t){const e=g.useRef(t);return Cu(()=>{e.current=t}),e}function u9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=g.useState(r);kd(m,r)||y(r);const[S,x]=g.useState(null),[T,b]=g.useState(null),w=g.useCallback(V=>{V!==A.current&&(A.current=V,x(V))},[]),I=g.useCallback(V=>{V!==E.current&&(E.current=V,b(V))},[]),R=i||S,L=o||T,A=g.useRef(null),E=g.useRef(null),_=g.useRef(h),C=c!=null,k=ep(c),D=ep(s),j=ep(d),P=g.useCallback(()=>{if(!A.current||!E.current)return;const V={placement:e,strategy:n,middleware:m};D.current&&(V.platform=D.current),a9(A.current,E.current,V).then($=>{const K={...$,isPositioned:j.current!==!1};H.current&&!kd(_.current,K)&&(_.current=K,Yo.flushSync(()=>{f(K)}))})},[m,e,n,D,j]);Cu(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const H=g.useRef(!1);Cu(()=>(H.current=!0,()=>{H.current=!1}),[]),Cu(()=>{if(R&&(A.current=R),L&&(E.current=L),R&&L){if(k.current)return k.current(R,L,P);P()}},[R,L,P,k,C]);const ne=g.useMemo(()=>({reference:A,floating:E,setReference:w,setFloating:I}),[w,I]),Q=g.useMemo(()=>({reference:R,floating:L}),[R,L]),oe=g.useMemo(()=>{const V={position:n,left:0,top:0};if(!Q.floating)return V;const $=Y0(Q.floating,h.x),K=Y0(Q.floating,h.y);return l?{...V,transform:"translate("+$+"px, "+K+"px)",...wC(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,l,Q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:P,refs:ne,elements:Q,floatingStyles:oe}),[h,P,ne,Q,oe])}const d9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Q0({element:r.current,padding:s}).fn(n):{}:r?Q0({element:r,padding:s}).fn(n):{}}}},h9=(t,e)=>({...t9(t),options:[t,e]}),f9=(t,e)=>({...n9(t),options:[t,e]}),p9=(t,e)=>({...o9(t),options:[t,e]}),m9=(t,e)=>({...r9(t),options:[t,e]}),g9=(t,e)=>({...s9(t),options:[t,e]}),y9=(t,e)=>({...i9(t),options:[t,e]}),v9=(t,e)=>({...d9(t),options:[t,e]});var x9="Arrow",_C=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(He.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_C.displayName=x9;var w9=_C;function EC(t){const[e,n]=g.useState(void 0);return Nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hv="Popper",[bC,TC]=Ih(hv),[_9,SC]=bC(hv),IC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(_9,{scope:e,anchor:r,onAnchorChange:s,children:n})};IC.displayName=hv;var CC="PopperAnchor",NC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=SC(CC,n),o=g.useRef(null),l=pt(e,o),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx(He.div,{...s,ref:l})});NC.displayName=CC;var fv="PopperContent",[E9,b9]=bC(fv),AC=g.forwardRef((t,e)=>{var J,_e,lt,be,we,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:S,...x}=t,T=SC(fv,n),[b,w]=g.useState(null),I=pt(e,xt=>w(xt)),[R,L]=g.useState(null),A=EC(R),E=(A==null?void 0:A.width)??0,_=(A==null?void 0:A.height)??0,C=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],j=D.length>0,P={padding:k,boundary:D.filter(S9),altBoundary:j},{refs:H,floatingStyles:ne,placement:Q,isPositioned:oe,middlewareData:V}=u9({strategy:"fixed",placement:C,whileElementsMounted:(...xt)=>e9(...xt,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[h9({mainAxis:s+_,alignmentAxis:o}),c&&f9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?p9():void 0,...P}),c&&m9({...P}),g9({...P,apply:({elements:xt,rects:an,availableWidth:ri,availableHeight:xr})=>{const{width:wr,height:fc}=an.reference,Je=xt.floating.style;Je.setProperty("--radix-popper-available-width",`${ri}px`),Je.setProperty("--radix-popper-available-height",`${xr}px`),Je.setProperty("--radix-popper-anchor-width",`${wr}px`),Je.setProperty("--radix-popper-anchor-height",`${fc}px`)}}),R&&v9({element:R,padding:l}),I9({arrowWidth:E,arrowHeight:_}),m&&y9({strategy:"referenceHidden",...P})]}),[$,K]=PC(Q),ae=Bs(S);Nt(()=>{oe&&(ae==null||ae())},[oe,ae]);const Ne=(J=V.arrow)==null?void 0:J.x,on=(_e=V.arrow)==null?void 0:_e.y,Xe=((lt=V.arrow)==null?void 0:lt.centerOffset)!==0,[qt,at]=g.useState();return Nt(()=>{b&&at(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:oe?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qt,"--radix-popper-transform-origin":[(be=V.transformOrigin)==null?void 0:be.x,(we=V.transformOrigin)==null?void 0:we.y].join(" "),...((ve=V.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(E9,{scope:n,placedSide:$,onArrowChange:L,arrowX:Ne,arrowY:on,shouldHideArrow:Xe,children:a.jsx(He.div,{"data-side":$,"data-align":K,...x,ref:I,style:{...x.style,animation:oe?void 0:"none"}})})})});AC.displayName=fv;var RC="PopperArrow",T9={top:"bottom",right:"left",bottom:"top",left:"right"},kC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=b9(RC,r),o=T9[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(w9,{...s,ref:n,style:{...s.style,display:"block"}})})});kC.displayName=RC;function S9(t){return t!==null}var I9=t=>({name:"transformOrigin",options:t,fn(e){var T,b,w;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=PC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let S="",x="";return d==="bottom"?(S=o?f:`${m}px`,x=`${-c}px`):d==="top"?(S=o?f:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(S=`${-c}px`,x=o?f:`${y}px`):d==="left"&&(S=`${r.floating.width+c}px`,x=o?f:`${y}px`),{data:{x:S,y:x}}}});function PC(t){const[e,n="center"]=t.split("-");return[e,n]}var C9=IC,N9=NC,A9=AC,R9=kC,k9="Portal",jC=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gk.createPortal(a.jsx(He.div,{...r,ref:e}),o):null});jC.displayName=k9;function P9(t){const e=j9(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),c=l.find(L9);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function j9(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=M9(s),l=O9(i,s.props);return s.type!==g.Fragment&&(l.ref=r?cc(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D9=Symbol("radix.slottable");function L9(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D9}function O9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function M9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var V9=Dd[" useInsertionEffect ".trim().toString()]||Nt;function Fm({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=F9({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=g.useCallback(h=>{var f;if(l){const m=U9(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,d]}function F9({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return V9(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function U9(t){return typeof t=="function"}function DC(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var LC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),B9="VisuallyHidden",z9=g.forwardRef((t,e)=>a.jsx(He.span,{...t,ref:e,style:{...LC,...t.style}}));z9.displayName=B9;var $9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ji=new WeakMap,tu=new WeakMap,nu={},tp=0,OC=function(t){return t&&(t.host||OC(t.parentNode))},W9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},H9=function(t,e,n,r){var s=W9(e,Array.isArray(t)?t:[t]);nu[n]||(nu[n]=new WeakMap);var i=nu[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),S=y!==null&&y!=="false",x=(Ji.get(m)||0)+1,T=(i.get(m)||0)+1;Ji.set(m,x),i.set(m,T),o.push(m),x===1&&S&&tu.set(m,!0),T===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),tp++,function(){o.forEach(function(f){var m=Ji.get(f)-1,y=i.get(f)-1;Ji.set(f,m),i.set(f,y),m||(tu.has(f)||f.removeAttribute(r),tu.delete(f)),y||f.removeAttribute(n)}),tp--,tp||(Ji=new WeakMap,Ji=new WeakMap,tu=new WeakMap,nu={})}},q9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=$9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),H9(r,s,n,"aria-hidden")):function(){return null}},nr=function(){return nr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nr.apply(this,arguments)};function MC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function G9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Nu="right-scroll-bar-position",Au="width-before-scroll-bar",K9="with-scroll-bars-hidden",Q9="--removed-body-scroll-bar-size";function np(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Y9(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var X9=typeof window<"u"?g.useLayoutEffect:g.useEffect,X0=new WeakMap;function J9(t,e){var n=Y9(null,function(r){return t.forEach(function(s){return np(s,r)})});return X9(function(){var r=X0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||np(l,null)}),i.forEach(function(l){s.has(l)||np(l,o)})}X0.set(n,t)},[t]),n}function Z9(t){return t}function eB(t,e){e===void 0&&(e=Z9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function tB(t){t===void 0&&(t={});var e=eB(null);return e.options=nr({async:!0,ssr:!1},t),e}var VC=function(t){var e=t.sideCar,n=MC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,nr({},n))};VC.isSideCarExport=!0;function nB(t,e){return t.useMedium(e),VC}var FC=tB(),rp=function(){},kh=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:rp,onWheelCapture:rp,onTouchMoveCapture:rp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,S=t.noIsolation,x=t.inert,T=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,I=t.gapMode,R=MC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=m,A=J9([n,e]),E=nr(nr({},R),s);return g.createElement(g.Fragment,null,h&&g.createElement(L,{sideCar:FC,removeScrollBar:d,shards:f,noRelative:y,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:I}),o?g.cloneElement(g.Children.only(l),nr(nr({},E),{ref:A})):g.createElement(w,nr({},E,{className:c,ref:A}),l))});kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kh.classNames={fullWidth:Au,zeroRight:Nu};var rB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rB();return e&&t.setAttribute("nonce",e),t}function iB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sB())&&(iB(e,n),oB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lB=function(){var t=aB();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UC=function(){var t=lB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cB={left:0,top:0,right:0,gap:0},sp=function(t){return parseInt(t||"",10)||0},uB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sp(n),sp(r),sp(s)]},dB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cB;var e=uB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hB=UC(),Ro="data-scroll-locked",fB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(K9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Au,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ro,`] {
    `).concat(Q9,": ").concat(l,`px;
  }
`)},J0=function(){var t=parseInt(document.body.getAttribute(Ro)||"0",10);return isFinite(t)?t:0},pB=function(){g.useEffect(function(){return document.body.setAttribute(Ro,(J0()+1).toString()),function(){var t=J0()-1;t<=0?document.body.removeAttribute(Ro):document.body.setAttribute(Ro,t.toString())}},[])},mB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;pB();var i=g.useMemo(function(){return dB(s)},[s]);return g.createElement(hB,{styles:fB(i,!e,s,n?"":"!important")})},Um=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Um=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Um=!1}var Zi=Um?{passive:!1}:!1,gB=function(t){return t.tagName==="TEXTAREA"},BC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gB(t)&&n[e]==="visible")},yB=function(t){return BC(t,"overflowY")},vB=function(t){return BC(t,"overflowX")},Z0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zC(t,r);if(s){var i=$C(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zC=function(t,e){return t==="v"?yB(e):vB(e)},$C=function(t,e){return t==="v"?xB(e):wB(e)},_B=function(t,e){return t==="h"&&e==="rtl"?-1:1},EB=function(t,e,n,r,s){var i=_B(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,m=0;do{if(!l)break;var y=$C(t,l),S=y[0],x=y[1],T=y[2],b=x-T-i*S;(S||b)&&zC(t,l)&&(f+=b,m+=S);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(d=!0),d},su=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eE=function(t){return[t.deltaX,t.deltaY]},tE=function(t){return t&&"current"in t?t.current:t},bB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SB=0,eo=[];function IB(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(SB++)[0],i=g.useState(UC)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=G9([t.lockRef.current],(t.shards||[]).map(tE),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=su(x),w=n.current,I="deltaX"in x?x.deltaX:w[0]-b[0],R="deltaY"in x?x.deltaY:w[1]-b[1],L,A=x.target,E=Math.abs(I)>Math.abs(R)?"h":"v";if("touches"in x&&E==="h"&&A.type==="range")return!1;var _=Z0(E,A);if(!_)return!0;if(_?L=E:(L=E==="v"?"h":"v",_=Z0(E,A)),!_)return!1;if(!r.current&&"changedTouches"in x&&(I||R)&&(r.current=L),!L)return!0;var C=r.current||L;return EB(C,T,x,C==="h"?I:R)},[]),c=g.useCallback(function(x){var T=x;if(!(!eo.length||eo[eo.length-1]!==i)){var b="deltaY"in T?eE(T):su(T),w=e.current.filter(function(L){return L.name===T.type&&(L.target===T.target||T.target===L.shadowParent)&&bB(L.delta,b)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var I=(o.current.shards||[]).map(tE).filter(Boolean).filter(function(L){return L.contains(T.target)}),R=I.length>0?l(T,I[0]):!o.current.noIsolation;R&&T.cancelable&&T.preventDefault()}}},[]),d=g.useCallback(function(x,T,b,w){var I={name:x,delta:T,target:b,should:w,shadowParent:CB(b)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(R){return R!==I})},1)},[]),h=g.useCallback(function(x){n.current=su(x),r.current=void 0},[]),f=g.useCallback(function(x){d(x.type,eE(x),x.target,l(x,t.lockRef.current))},[]),m=g.useCallback(function(x){d(x.type,su(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return eo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Zi),document.addEventListener("touchmove",c,Zi),document.addEventListener("touchstart",h,Zi),function(){eo=eo.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Zi),document.removeEventListener("touchmove",c,Zi),document.removeEventListener("touchstart",h,Zi)}},[]);var y=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(i,{styles:TB(s)}):null,y?g.createElement(mB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NB=nB(FC,IB);var WC=g.forwardRef(function(t,e){return g.createElement(kh,nr({},t,{ref:e,sideCar:NB}))});WC.classNames=kh.classNames;var AB=[" ","Enter","ArrowUp","ArrowDown"],RB=[" ","Enter"],Fi="Select",[Ph,jh,kB]=D5(Fi),[ca]=Ih(Fi,[kB,TC]),Dh=TC(),[PB,ti]=ca(Fi),[jB,DB]=ca(Fi),HC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:S}=t,x=Dh(e),[T,b]=g.useState(null),[w,I]=g.useState(null),[R,L]=g.useState(!1),A=O5(d),[E,_]=Fm({prop:r,defaultProp:s??!1,onChange:i,caller:Fi}),[C,k]=Fm({prop:o,defaultProp:l,onChange:c,caller:Fi}),D=g.useRef(null),j=T?S||!!T.closest("form"):!0,[P,H]=g.useState(new Set),ne=Array.from(P).map(Q=>Q.props.value).join(";");return a.jsx(C9,{...x,children:a.jsxs(PB,{required:y,scope:e,trigger:T,onTriggerChange:b,valueNode:w,onValueNodeChange:I,valueNodeHasChildren:R,onValueNodeHasChildrenChange:L,contentId:iv(),value:C,onValueChange:k,open:E,onOpenChange:_,dir:A,triggerPointerDownPosRef:D,disabled:m,children:[a.jsx(Ph.Provider,{scope:e,children:a.jsx(jB,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Q=>{H(oe=>new Set(oe).add(Q))},[]),onNativeOptionRemove:g.useCallback(Q=>{H(oe=>{const V=new Set(oe);return V.delete(Q),V})},[]),children:n})}),j?a.jsxs(mN,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Q=>k(Q.target.value),disabled:m,form:S,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},ne):null]})})};HC.displayName=Fi;var qC="SelectTrigger",GC=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Dh(n),o=ti(qC,n),l=o.disabled||r,c=pt(e,o.onTriggerChange),d=jh(n),h=g.useRef("touch"),[f,m,y]=yN(x=>{const T=d().filter(I=>!I.disabled),b=T.find(I=>I.value===o.value),w=vN(T,x,b);w!==void 0&&o.onValueChange(w.value)}),S=x=>{l||(o.onOpenChange(!0),y()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(N9,{asChild:!0,...i,children:a.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gN(o.value)?"":void 0,...s,ref:c,onClick:et(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&S(x)}),onPointerDown:et(s.onPointerDown,x=>{h.current=x.pointerType;const T=x.target;T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:et(s.onKeyDown,x=>{const T=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(T&&x.key===" ")&&AB.includes(x.key)&&(S(),x.preventDefault())})})})});GC.displayName=qC;var KC="SelectValue",QC=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=ti(KC,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=pt(e,c.onValueNodeChange);return Nt(()=>{d(h)},[d,h]),a.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:gN(c.value)?a.jsx(a.Fragment,{children:o}):i})});QC.displayName=KC;var LB="SelectIcon",YC=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(He.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});YC.displayName=LB;var OB="SelectPortal",XC=t=>a.jsx(jC,{asChild:!0,...t});XC.displayName=OB;var Ui="SelectContent",JC=g.forwardRef((t,e)=>{const n=ti(Ui,t.__scopeSelect),[r,s]=g.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yo.createPortal(a.jsx(ZC,{scope:t.__scopeSelect,children:a.jsx(Ph.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(eN,{...t,ref:e})});JC.displayName=Ui;var jn=10,[ZC,ni]=ca(Ui),MB="SelectContentImpl",VB=P9("SelectContent.RemoveScroll"),eN=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:T,...b}=t,w=ti(Ui,n),[I,R]=g.useState(null),[L,A]=g.useState(null),E=pt(e,J=>R(J)),[_,C]=g.useState(null),[k,D]=g.useState(null),j=jh(n),[P,H]=g.useState(!1),ne=g.useRef(!1);g.useEffect(()=>{if(I)return q9(I)},[I]),Z5();const Q=g.useCallback(J=>{const[_e,...lt]=j().map(ve=>ve.ref.current),[be]=lt.slice(-1),we=document.activeElement;for(const ve of J)if(ve===we||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===_e&&L&&(L.scrollTop=0),ve===be&&L&&(L.scrollTop=L.scrollHeight),ve==null||ve.focus(),document.activeElement!==we))return},[j,L]),oe=g.useCallback(()=>Q([_,I]),[Q,_,I]);g.useEffect(()=>{P&&oe()},[P,oe]);const{onOpenChange:V,triggerPointerDownPosRef:$}=w;g.useEffect(()=>{if(I){let J={x:0,y:0};const _e=be=>{var we,ve;J={x:Math.abs(Math.round(be.pageX)-(((we=$.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ve=$.current)==null?void 0:ve.y)??0))}},lt=be=>{J.x<=10&&J.y<=10?be.preventDefault():I.contains(be.target)||V(!1),document.removeEventListener("pointermove",_e),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",lt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",lt,{capture:!0})}}},[I,V,$]),g.useEffect(()=>{const J=()=>V(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[V]);const[K,ae]=yN(J=>{const _e=j().filter(we=>!we.disabled),lt=_e.find(we=>we.ref.current===document.activeElement),be=vN(_e,J,lt);be&&setTimeout(()=>be.ref.current.focus())}),Ne=g.useCallback((J,_e,lt)=>{const be=!ne.current&&!lt;(w.value!==void 0&&w.value===_e||be)&&(C(J),be&&(ne.current=!0))},[w.value]),on=g.useCallback(()=>I==null?void 0:I.focus(),[I]),Xe=g.useCallback((J,_e,lt)=>{const be=!ne.current&&!lt;(w.value!==void 0&&w.value===_e||be)&&D(J)},[w.value]),qt=r==="popper"?Bm:tN,at=qt===Bm?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:T}:{};return a.jsx(ZC,{scope:n,content:I,viewport:L,onViewportChange:A,itemRefCallback:Ne,selectedItem:_,onItemLeave:on,itemTextRefCallback:Xe,focusSelectedItem:oe,selectedItemText:k,position:r,isPositioned:P,searchRef:K,children:a.jsx(WC,{as:VB,allowPinchZoom:!0,children:a.jsx(lC,{asChild:!0,trapped:w.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:et(s,J=>{var _e;(_e=w.trigger)==null||_e.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(oC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(qt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:J=>J.preventDefault(),...b,...at,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:et(b.onKeyDown,J=>{const _e=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!_e&&J.key.length===1&&ae(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let be=j().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(J.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const we=J.target,ve=be.indexOf(we);be=be.slice(ve+1)}setTimeout(()=>Q(be)),J.preventDefault()}})})})})})})});eN.displayName=MB;var FB="SelectItemAlignedPosition",tN=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ti(Ui,n),o=ni(Ui,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=pt(e,E=>h(E)),m=jh(n),y=g.useRef(!1),S=g.useRef(!0),{viewport:x,selectedItem:T,selectedItemText:b,focusSelectedItem:w}=o,I=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&T&&b){const E=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(i.dir!=="rtl"){const we=k.left-_.left,ve=C.left-we,xt=E.left-ve,an=E.width+xt,ri=Math.max(an,_.width),xr=window.innerWidth-jn,wr=k0(ve,[jn,Math.max(jn,xr-ri)]);l.style.minWidth=an+"px",l.style.left=wr+"px"}else{const we=_.right-k.right,ve=window.innerWidth-C.right-we,xt=window.innerWidth-E.right-ve,an=E.width+xt,ri=Math.max(an,_.width),xr=window.innerWidth-jn,wr=k0(ve,[jn,Math.max(jn,xr-ri)]);l.style.minWidth=an+"px",l.style.right=wr+"px"}const D=m(),j=window.innerHeight-jn*2,P=x.scrollHeight,H=window.getComputedStyle(d),ne=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),oe=parseInt(H.borderBottomWidth,10),V=parseInt(H.paddingBottom,10),$=ne+Q+P+V+oe,K=Math.min(T.offsetHeight*5,$),ae=window.getComputedStyle(x),Ne=parseInt(ae.paddingTop,10),on=parseInt(ae.paddingBottom,10),Xe=E.top+E.height/2-jn,qt=j-Xe,at=T.offsetHeight/2,J=T.offsetTop+at,_e=ne+Q+J,lt=$-_e;if(_e<=Xe){const we=D.length>0&&T===D[D.length-1].ref.current;l.style.bottom="0px";const ve=d.clientHeight-x.offsetTop-x.offsetHeight,xt=Math.max(qt,at+(we?on:0)+ve+oe),an=_e+xt;l.style.height=an+"px"}else{const we=D.length>0&&T===D[0].ref.current;l.style.top="0px";const xt=Math.max(Xe,ne+x.offsetTop+(we?Ne:0)+at)+lt;l.style.height=xt+"px",x.scrollTop=_e-Xe+x.offsetTop}l.style.margin=`${jn}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,T,b,i.dir,r]);Nt(()=>I(),[I]);const[R,L]=g.useState();Nt(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const A=g.useCallback(E=>{E&&S.current===!0&&(I(),w==null||w(),S.current=!1)},[I,w]);return a.jsx(BB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:a.jsx(He.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tN.displayName=FB;var UB="SelectPopperPosition",Bm=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=jn,...i}=t,o=Dh(n);return a.jsx(A9,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bm.displayName=UB;var[BB,pv]=ca(Ui,{}),zm="SelectViewport",nN=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ni(zm,n),o=pv(zm,n),l=pt(e,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Ph.Slot,{scope:n,children:a.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:et(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const S=window.innerHeight-jn*2,x=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),b=Math.max(x,T);if(b<S){const w=b+y,I=Math.min(S,w),R=w-I;f.style.height=I+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});nN.displayName=zm;var rN="SelectGroup",[zB,$B]=ca(rN),WB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=iv();return a.jsx(zB,{scope:n,id:s,children:a.jsx(He.div,{role:"group","aria-labelledby":s,...r,ref:e})})});WB.displayName=rN;var sN="SelectLabel",iN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$B(sN,n);return a.jsx(He.div,{id:s.id,...r,ref:e})});iN.displayName=sN;var Pd="SelectItem",[HB,oN]=ca(Pd),aN=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=ti(Pd,n),c=ni(Pd,n),d=l.value===r,[h,f]=g.useState(i??""),[m,y]=g.useState(!1),S=pt(e,w=>{var I;return(I=c.itemRefCallback)==null?void 0:I.call(c,w,r,s)}),x=iv(),T=g.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(HB,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:g.useCallback(w=>{f(I=>I||((w==null?void 0:w.textContent)??"").trim())},[]),children:a.jsx(Ph.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(He.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:et(o.onFocus,()=>y(!0)),onBlur:et(o.onBlur,()=>y(!1)),onClick:et(o.onClick,()=>{T.current!=="mouse"&&b()}),onPointerUp:et(o.onPointerUp,()=>{T.current==="mouse"&&b()}),onPointerDown:et(o.onPointerDown,w=>{T.current=w.pointerType}),onPointerMove:et(o.onPointerMove,w=>{var I;T.current=w.pointerType,s?(I=c.onItemLeave)==null||I.call(c):T.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,w=>{var I;w.currentTarget===document.activeElement&&((I=c.onItemLeave)==null||I.call(c))}),onKeyDown:et(o.onKeyDown,w=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(RB.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});aN.displayName=Pd;var Ga="SelectItemText",lN=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ti(Ga,n),l=ni(Ga,n),c=oN(Ga,n),d=DB(Ga,n),[h,f]=g.useState(null),m=pt(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,S=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:T}=d;return Nt(()=>(x(S),()=>T(S)),[x,T,S]),a.jsxs(a.Fragment,{children:[a.jsx(He.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yo.createPortal(i.children,o.valueNode):null]})});lN.displayName=Ga;var cN="SelectItemIndicator",uN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oN(cN,n).isSelected?a.jsx(He.span,{"aria-hidden":!0,...r,ref:e}):null});uN.displayName=cN;var $m="SelectScrollUpButton",dN=g.forwardRef((t,e)=>{const n=ni($m,t.__scopeSelect),r=pv($m,t.__scopeSelect),[s,i]=g.useState(!1),o=pt(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(fN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dN.displayName=$m;var Wm="SelectScrollDownButton",hN=g.forwardRef((t,e)=>{const n=ni(Wm,t.__scopeSelect),r=pv(Wm,t.__scopeSelect),[s,i]=g.useState(!1),o=pt(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(fN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hN.displayName=Wm;var fN=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ni("SelectScrollButton",n),o=g.useRef(null),l=jh(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Nt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(He.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:et(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:et(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:et(s.onPointerLeave,()=>{c()})})}),qB="SelectSeparator",pN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(He.div,{"aria-hidden":!0,...r,ref:e})});pN.displayName=qB;var Hm="SelectArrow",GB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Dh(n),i=ti(Hm,n),o=ni(Hm,n);return i.open&&o.position==="popper"?a.jsx(R9,{...s,...r,ref:e}):null});GB.displayName=Hm;var KB="SelectBubbleInput",mN=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=pt(r,s),o=DC(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(He.select,{...n,style:{...LC,...n.style},ref:i,defaultValue:e})});mN.displayName=KB;function gN(t){return t===""||t===void 0}function yN(t){const e=Bs(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function vN(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=QB(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YB=HC,xN=GC,XB=QC,JB=YC,ZB=XC,wN=JC,e8=nN,_N=iN,EN=aN,t8=lN,n8=uN,bN=dN,TN=hN,SN=pN;const xi=YB,wi=XB,ys=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(xN,{ref:r,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(JB,{asChild:!0,children:a.jsx(eC,{className:"h-4 w-4 opacity-50"})})]}));ys.displayName=xN.displayName;const IN=g.forwardRef(({className:t,...e},n)=>a.jsx(bN,{ref:n,className:Ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(XF,{className:"h-4 w-4"})}));IN.displayName=bN.displayName;const CN=g.forwardRef(({className:t,...e},n)=>a.jsx(TN,{ref:n,className:Ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(eC,{className:"h-4 w-4"})}));CN.displayName=TN.displayName;const vs=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(ZB,{children:a.jsxs(wN,{ref:s,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(IN,{}),a.jsx(e8,{className:Ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(CN,{})]})}));vs.displayName=wN.displayName;const r8=g.forwardRef(({className:t,...e},n)=>a.jsx(_N,{ref:n,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));r8.displayName=_N.displayName;const Te=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(EN,{ref:r,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n8,{children:a.jsx(YF,{className:"h-4 w-4"})})}),a.jsx(t8,{children:e})]}));Te.displayName=EN.displayName;const s8=g.forwardRef(({className:t,...e},n)=>a.jsx(SN,{ref:n,className:Ue("-mx-1 my-1 h-px bg-muted",t),...e}));s8.displayName=SN.displayName;const i8=()=>{var _;const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState("all"),[c,d]=g.useState("all"),[h,f]=g.useState("all"),[m,y]=g.useState(""),[S,x]=g.useState(!0),[T,b]=g.useState([]),[w,I]=g.useState([]),R=async()=>{try{x(!0);const C="/api/practice/categories",k="/api/practice/challenges",[D,j]=await Promise.all([fetch(C),fetch(k)]);if(D.ok){const P=await D.json();e(P)}else e([]);if(j.ok){const P=await j.json();r(P),i(P);const H=Array.from(new Set(P.map(Q=>Q.type).filter(Boolean))),ne=Array.from(new Set(P.map(Q=>Q.difficulty).filter(Boolean)));b(H),I(ne)}else r([]),i([]),b([]),I([])}catch{e([]),r([]),i([]),b([]),I([])}finally{x(!1)}};g.useEffect(()=>{if(n.length===0)return;let C=n;m&&(C=C.filter(k=>{var D,j;return k.title.toLowerCase().includes(m.toLowerCase())||((D=k.description)==null?void 0:D.toLowerCase().includes(m.toLowerCase()))||((j=k.tags)==null?void 0:j.some(P=>P.toLowerCase().includes(m.toLowerCase())))})),o!=="all"&&(C=C.filter(k=>k.category===o)),c!=="all"&&(C=C.filter(k=>k.type===c)),h!=="all"&&(C=C.filter(k=>k.difficulty===h)),i(C)},[n,m,o,c,h]);const L=async C=>{try{(await fetch(`/api/practice/challenges/${C}/start`,{method:"POST"})).ok&&(window.location.href=`/challenge/${C}`)}catch(k){console.error("Failed to start challenge:",k)}},A=C=>{switch(C.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"expert":return"bg-purple-500/20 text-purple-500 border-purple-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};if(g.useEffect(()=>{R()},[]),S)return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading challenges..."})]})}),a.jsx(Ct,{})]});const E=n.length;return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Challenge ",a.jsx("span",{className:"text-primary",children:"Library"})]}),a.jsx("p",{className:"text-muted-foreground",children:E>0?`Browse and search through ${E} cybersecurity challenges`:"No challenges available yet. Challenges will appear here once they are added by administrators."})]}),E>0&&a.jsx(pe,{className:"border-border mb-8",children:a.jsxs(me,{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Se,{placeholder:"Search by keyword or challenge...",className:"pl-9",value:m,onChange:C=>y(C.target.value)})]}),T.length>0&&a.jsxs(xi,{value:c,onValueChange:d,children:[a.jsx(ys,{children:a.jsx(wi,{placeholder:"Type"})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"all",children:"All Types"}),T.map(C=>a.jsx(Te,{value:C,children:C},C))]})]}),t.length>0&&a.jsxs(xi,{value:o,onValueChange:l,children:[a.jsx(ys,{children:a.jsx(wi,{placeholder:"Category"})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"all",children:"All Categories"}),t.map(C=>a.jsx(Te,{value:C.id,children:C.name},C.id))]})]}),w.length>0&&a.jsxs(xi,{value:h,onValueChange:f,children:[a.jsx(ys,{children:a.jsx(wi,{placeholder:"Difficulty"})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"all",children:"All Difficulties"}),w.map(C=>a.jsx(Te,{value:C,children:C},C))]})]})]}),(o!=="all"||c!=="all"||h!=="all"||m)&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),m&&a.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:['Search: "',m,'"',a.jsx(Z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>y(""),children:""})]}),c!=="all"&&a.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:["Type: ",c,a.jsx(Z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>d("all"),children:""})]}),o!=="all"&&a.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:["Category: ",(_=t.find(C=>C.id===o))==null?void 0:_.name,a.jsx(Z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>l("all"),children:""})]}),h!=="all"&&a.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:["Difficulty: ",h,a.jsx(Z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>f("all"),children:""})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{y(""),d("all"),l("all"),f("all")},children:"Clear all"})]})]})}),E>0&&a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("div",{children:a.jsxs("span",{className:"text-muted-foreground",children:["Showing ",s.length," of ",E," challenges"]})})}),a.jsx(pe,{className:"border-border",children:a.jsx(me,{className:"p-0",children:E===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(sn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg mb-2",children:"No challenges available"}),a.jsx("p",{className:"text-sm",children:"Challenges will appear here once they are added by administrators. Check back later or contact the platform administrators."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx($l,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg mb-2",children:"No challenges found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or filters"}),a.jsx(Z,{variant:"outline",className:"mt-4",onClick:()=>{y(""),d("all"),l("all"),f("all")},children:"Clear all filters"})]}):a.jsx("div",{className:"divide-y divide-border",children:s.map(C=>{var k;return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-6 hover:bg-muted/10 transition-all",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[C.completed?a.jsx(JF,{className:"w-6 h-6 text-primary mt-1 flex-shrink-0"}):a.jsx(sn,{className:"w-6 h-6 text-muted-foreground mt-1 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-bold text-lg mb-2",children:C.title}),C.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:C.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(jt,{className:A(C.difficulty),children:C.difficulty}),a.jsx(jt,{variant:"outline",className:"border-primary/30 text-primary",children:C.category}),C.type&&a.jsx(jt,{variant:"secondary",children:C.type}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[C.solvedCount," solved"]}),(k=C.tags)==null?void 0:k.map((D,j)=>a.jsx(jt,{variant:"outline",className:"text-xs",children:D},j))]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:ml-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xl font-bold text-primary",children:C.points}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]}),a.jsx(Z,{variant:C.completed?"outline":"neon",size:"sm",onClick:()=>L(C.id),children:C.completed?"Review":"Start"})]})]},C.id)})})})})]})}),a.jsx(Ct,{})]})},o8=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState(!0),o=async()=>{try{const h="/api/events/live",f="/api/events/upcoming",[m,y]=await Promise.all([fetch(h,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(f)]);if(m.ok){const S=await m.json();e(S)}else e([]);if(y.ok){const S=await y.json();r(S)}else r([])}catch{e([]),r([])}finally{i(!1)}},l=async h=>{try{(await fetch("/api/events/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&o()}catch(f){console.error("Failed to register for event:",f)}},c=async h=>{try{(await fetch("/api/events/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&(window.location.href=`/competition/${h}`)}catch(f){console.error("Failed to join live event:",f)}};if(g.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),s)return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading events..."})]})}),a.jsx(Ct,{})]});const d=t[0];return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-12 text-center",children:[a.jsx(Jc,{className:"w-16 h-16 text-primary mx-auto mb-4"}),a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[a.jsx("span",{className:"text-primary",children:"LIVE"})," Events"]}),a.jsx("p",{className:"text-muted-foreground",children:"Compete in real-time for prizes"})]}),d?a.jsxs(pe,{className:"max-w-4xl mx-auto border-primary/50 bg-gradient-to-br from-primary/5 to-transparent mb-8 animate-glow",children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ce,{className:"text-2xl flex items-center gap-2",children:[a.jsxs("span",{className:"relative flex h-3 w-3",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),d.title]}),a.jsx(jt,{className:"bg-primary text-primary-foreground font-bold px-4 py-1",children:d.status==="LIVE"?"LIVE NOW":"STARTING SOON"})]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(uc,{className:"w-8 h-8 text-primary mx-auto mb-2"}),a.jsx("div",{className:"text-2xl font-bold font-mono",children:d.timeLeft}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Time Left"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Rn,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),a.jsx("div",{className:"text-2xl font-bold",children:d.participants}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Players"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Vn,{className:"w-8 h-8 text-primary mx-auto mb-2"}),a.jsx("div",{className:"text-2xl font-bold",children:d.prize}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Prize Pool"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Jc,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),a.jsx("div",{className:"text-2xl font-bold",children:d.difficulty}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Difficulty"})]})]}),a.jsxs(Z,{variant:"neon",size:"lg",className:"w-full",onClick:()=>c(d.id),children:[a.jsx(Jc,{className:"w-5 h-5"}),d.status==="LIVE"?"Join Event Now":"Prepare for Event"]})]})]}):a.jsx(pe,{className:"max-w-4xl mx-auto border-border mb-8",children:a.jsxs(me,{className:"p-12 text-center",children:[a.jsx(Jc,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Live Events"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming competitions"})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Upcoming Events"}),n.length===0?a.jsx(pe,{className:"border-border",children:a.jsxs(me,{className:"p-8 text-center",children:[a.jsx(Ul,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled"})]})}):a.jsx("div",{className:"space-y-4",children:n.map(h=>a.jsx(pe,{className:"border-border hover:border-primary/30 transition-all",children:a.jsx(me,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("h4",{className:"font-bold text-xl",children:h.title}),a.jsx(jt,{variant:"outline",className:"border-primary/30 text-primary",children:h.difficulty})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"w-4 h-4"}),h.date]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rn,{className:"w-4 h-4"}),h.participants," registered",h.maxParticipants&&` / ${h.maxParticipants} max`]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Prize: ",h.prize]})]}),h.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:h.description})]}),a.jsx(Z,{variant:h.registered?"outline":"terminal",className:"md:ml-4",onClick:()=>!h.registered&&l(h.id),disabled:h.registered,children:h.registered?"Registered ":"Register"})]})})},h.id))})]})]})}),a.jsx(Ct,{})]})};function a8(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const d=f=>{var b;const{scope:m,children:y,...S}=f,x=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,T=g.useMemo(()=>S,Object.values(S));return a.jsx(x.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,S=g.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,l8(s,...e)]}function l8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var c8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mv=c8.reduce((t,e)=>{const n=tv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),NN={exports:{}},AN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=g;function u8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var d8=typeof Object.is=="function"?Object.is:u8,h8=qo.useState,f8=qo.useEffect,p8=qo.useLayoutEffect,m8=qo.useDebugValue;function g8(t,e){var n=e(),r=h8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return p8(function(){s.value=n,s.getSnapshot=e,ip(s)&&i({inst:s})},[t,n,e]),f8(function(){return ip(s)&&i({inst:s}),t(function(){ip(s)&&i({inst:s})})},[t]),m8(n),n}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!d8(t,n)}catch{return!0}}function y8(t,e){return e()}var v8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y8:g8;AN.useSyncExternalStore=qo.useSyncExternalStore!==void 0?qo.useSyncExternalStore:v8;NN.exports=AN;var x8=NN.exports;function w8(){return x8.useSyncExternalStore(_8,()=>!0,()=>!1)}function _8(){return()=>{}}var gv="Avatar",[E8]=a8(gv),[b8,RN]=E8(gv),kN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return a.jsx(b8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(mv.span,{...r,ref:e})})});kN.displayName=gv;var PN="AvatarImage",jN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=RN(PN,n),l=T8(r,i),c=Bs(d=>{s(d),o.onImageLoadingStatusChange(d)});return Nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(mv.img,{...i,ref:e,src:r}):null});jN.displayName=PN;var DN="AvatarFallback",LN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=RN(DN,n),[o,l]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(mv.span,{...s,ref:e}):null});LN.displayName=DN;function nE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T8(t,{referrerPolicy:e,crossOrigin:n}){const r=w8(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=g.useState(()=>nE(i,t));return Nt(()=>{l(nE(i,t))},[i,t]),Nt(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}var ON=kN,MN=jN,VN=LN;const FN=g.forwardRef(({className:t,...e},n)=>a.jsx(ON,{ref:n,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));FN.displayName=ON.displayName;const S8=g.forwardRef(({className:t,...e},n)=>a.jsx(MN,{ref:n,className:Ue("aspect-square h-full w-full",t),...e}));S8.displayName=MN.displayName;const UN=g.forwardRef(({className:t,...e},n)=>a.jsx(VN,{ref:n,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));UN.displayName=VN.displayName;const I8=({eventName:t="CTF Competition"})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),l=async()=>{try{const c="/api/ctf/leaderboard",d="/api/platform/top-users",[h,f]=await Promise.all([fetch(c,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(d)]);if(h.ok){const m=await h.json();n(m)}else n([]);if(f.ok){const m=await f.json();s(m)}else s([])}catch{n([]),s([])}finally{o(!1)}};return g.useEffect(()=>{l();const c=setInterval(l,5e3);return()=>clearInterval(c)},[]),i?a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"leaderboard",className:"pt-24 pb-16 bg-muted/20 min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading leaderboard data..."})]})}),a.jsx(Ct,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{id:"ctf-leaderboard",className:"pt-24 pb-16 bg-background min-h-screen",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx(Vn,{className:"w-12 h-12 text-primary mx-auto mb-4"}),a.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t," - ",a.jsx("span",{className:"text-primary",children:"Live Scoreboard"})]})]}),a.jsxs(pe,{className:"max-w-6xl mx-auto border-border",children:[a.jsx(Ie,{className:"bg-muted/30",children:a.jsxs(Ce,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(A0,{className:"w-5 h-5 text-primary"}),"Live Competition Rankings"]}),a.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e.length>0?`${e.length} Teams Competing`:"No active competition"})]})}),a.jsx(me,{className:"p-0",children:e.length===0?a.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[a.jsx(Vn,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg mb-2",children:"No scores available yet"}),a.jsx("p",{className:"text-sm",children:"Leaderboard will update when competition starts"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"#"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Team"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Captain"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Points"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Challenge"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:e.map(c=>a.jsxs("tr",{className:"hover:bg-muted/20 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:`text-lg font-bold ${c.rank<=3?"text-primary":"text-foreground"}`,children:c.rank})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:c.team}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground",children:c.captain}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-lg font-bold text-primary",children:c.points})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:c.lastActivity}),a.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground max-w-xs truncate",children:c.challenge})]},c.rank))})]})})})]})]})}),a.jsx("section",{id:"platform-leaderboard",className:"py-16 bg-muted/20",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-12 text-center",children:[a.jsx(Vn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Global ",a.jsx("span",{className:"text-primary",children:"Leaderboard"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Top performers this month"})]}),a.jsxs(pe,{className:"max-w-4xl mx-auto border-border",children:[a.jsx(Ie,{children:a.jsxs(Ce,{className:"flex items-center gap-2",children:[a.jsx(A0,{className:"w-5 h-5 text-primary"}),"Top Platform Hackers"]})}),a.jsx(me,{children:r.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Vn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No platform rankings available yet"})]}):a.jsx("div",{className:"space-y-3",children:r.map(c=>a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-300 ${c.rank<=3?"bg-primary/10 border-2 border-primary/30 hover:border-primary/50":"bg-muted/30 border border-border hover:border-primary/30"}`,children:[a.jsx("div",{className:`text-2xl font-bold w-12 text-center ${c.rank<=3?"text-primary":"text-muted-foreground"}`,children:c.badge||`#${c.rank}`}),a.jsx(FN,{className:"w-12 h-12 border-2 border-primary/30",children:a.jsx(UN,{className:"bg-primary/20 text-primary font-bold",children:c.name.substring(0,2).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-lg",children:c.name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.solved," challenges solved"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:c.points.toLocaleString()}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]},c.rank))})})]})]})}),a.jsx(Ct,{})]})},C8=({onBack:t})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState("");g.useEffect(()=>{d()},[]),g.useEffect(()=>{const y=e.filter(S=>{var x,T,b;return((x=S.displayName)==null?void 0:x.toLowerCase().includes(l.toLowerCase()))||((T=S.email)==null?void 0:T.toLowerCase().includes(l.toLowerCase()))||((b=S.role)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))});s(y)},[l,e]);const d=async()=>{try{const S=(await cl(tr(dt,"users"))).docs.map(x=>({id:x.id,...x.data()}));n(S),s(S)}catch(y){console.error("Error fetching users:",y)}finally{o(!1)}},h=async(y,S)=>{try{await Nm(mr(dt,"users",y),{role:S}),n(e.map(x=>x.id===y?{...x,role:S}:x))}catch(x){console.error("Error updating user role:",x)}},f=async(y,S)=>{try{await Nm(mr(dt,"users",y),{isActive:!S}),n(e.map(x=>x.id===y?{...x,isActive:!S}:x))}catch(x){console.error("Error updating user status:",x)}},m=y=>{switch(y){case"admin":return"destructive";case"moderator":return"default";default:return"secondary"}};return i?a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsx("div",{className:"text-center",children:"Loading users..."})})}):a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"User Management"}),a.jsxs(Jt,{children:["Manage user roles and permissions (",e.length," total users)"]})]}),a.jsxs(me,{children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Se,{placeholder:"Search users by name, email, or role...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"space-y-4",children:[r.map(y=>{var S,x;return a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-medium text-sm",children:((S=y.displayName)==null?void 0:S.charAt(0).toUpperCase())||((x=y.email)==null?void 0:x.charAt(0).toUpperCase())})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:y.displayName||"No Name"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(jt,{variant:m(y.role),children:y.role}),a.jsx(jt,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:y.role,onChange:T=>h(y.id,T.target.value),className:"p-2 border rounded text-sm",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"moderator",children:"Moderator"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>f(y.id,y.isActive||!0),children:y.isActive?"Suspend":"Activate"})]})]},y.id)}),r.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found matching your search."})]})]})]})},hc=g.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));hc.displayName="Textarea";var N8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A8=N8.reduce((t,e)=>{const n=tv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),R8="Label",BN=g.forwardRef((t,e)=>a.jsx(A8.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BN.displayName=R8;var zN=BN;const k8=nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=g.forwardRef(({className:t,...e},n)=>a.jsx(zN,{ref:n,className:Ue(k8(),t),...e}));re.displayName=zN.displayName;var Lh="Switch",[P8]=Ih(Lh),[j8,D8]=P8(Lh),$N=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,y]=g.useState(null),S=pt(e,I=>y(I)),x=g.useRef(!1),T=m?h||!!m.closest("form"):!0,[b,w]=Fm({prop:s,defaultProp:i??!1,onChange:d,caller:Lh});return a.jsxs(j8,{scope:n,checked:b,disabled:l,children:[a.jsx(He.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":GN(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:S,onClick:et(t.onClick,I=>{w(R=>!R),T&&(x.current=I.isPropagationStopped(),x.current||I.stopPropagation())})}),T&&a.jsx(qN,{control:m,bubbles:!x.current,name:r,value:c,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});$N.displayName=Lh;var WN="SwitchThumb",HN=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=D8(WN,n);return a.jsx(He.span,{"data-state":GN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});HN.displayName=WN;var L8="SwitchBubbleInput",qN=g.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),l=pt(o,i),c=DC(n),d=EC(e);return g.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const S=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(S)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qN.displayName=L8;function GN(t){return t?"checked":"unchecked"}var KN=$N,O8=HN;const hs=g.forwardRef(({className:t,...e},n)=>a.jsx(KN,{className:Ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:a.jsx(O8,{className:Ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hs.displayName=KN.displayName;const M8=({onBack:t})=>{const{user:e}=Gi(),[n,r]=g.useState({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"}}),[s,i]=g.useState([{id:"1",question:"",points:0,flag:""}]),[o,l]=g.useState(!1),[c,d]=g.useState(!1),h=async A=>{A.preventDefault(),l(!0);try{const E={...n,finalCategory:c?n.customCategory:n.category,questions:n.hasMultipleQuestions?s:[],createdAt:new Date,isActive:!0,solvedBy:[],hints:n.hints.filter(_=>_.trim()!==""),totalPoints:n.hasMultipleQuestions?s.reduce((_,C)=>_+C.points,0):n.points,createdBy:e==null?void 0:e.uid,createdByName:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),...n.isExternalChallenge&&{attribution:{...n.externalSource,importedBy:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),importedById:e==null?void 0:e.uid,importedAt:new Date}},...n.creator&&{originalCreator:{name:n.creator,url:n.creatorUrl}}};await L3(tr(dt,"challenges"),E),alert("Challenge created successfully!"),f()}catch(E){console.error("Error creating challenge:",E),alert("Error creating challenge. Please try again.")}finally{l(!1)}},f=()=>{r({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"}}),i([{id:"1",question:"",points:0,flag:""}]),d(!1)},m=()=>{r({...n,hints:[...n.hints,""]})},y=(A,E)=>{const _=[...n.hints];_[A]=E,r({...n,hints:_})},S=A=>{const E=n.hints.filter((_,C)=>C!==A);r({...n,hints:E})},x=()=>{const A={id:Date.now().toString(),question:"",points:0,flag:""};i([...s,A])},T=(A,E,_)=>{i(s.map(C=>C.id===A?{...C,[E]:_}:C))},b=A=>{s.length>1&&i(s.filter(E=>E.id!==A))},w=A=>{if(A==="link"){const E=prompt("Enter the URL:");if(E){const _={id:Date.now().toString(),name:`Link - ${new Date().toLocaleDateString()}`,url:E,type:"link"};r({...n,files:[...n.files,_]})}}else{const E=document.createElement("input");E.type="file",E.onchange=_=>{var k;const C=(k=_.target.files)==null?void 0:k[0];if(C){const D={id:Date.now().toString(),name:C.name,url:URL.createObjectURL(C),type:"file"};r({...n,files:[...n.files,D]})}},E.click()}},I=A=>{r({...n,files:n.files.filter(E=>E.id!==A)})},R=A=>{A==="custom"?(d(!0),r({...n,category:"custom"})):(d(!1),r({...n,category:A}))},L=(A,E)=>{r({...n,externalSource:{...n.externalSource,[A]:E}})};return a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Create New Challenge"}),a.jsx(Jt,{children:"Add a new CTF challenge to the platform with advanced options"})]}),a.jsx(me,{children:a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"title",children:"Challenge Title *"}),a.jsx(Se,{id:"title",value:n.title,onChange:A=>r({...n,title:A.target.value}),placeholder:"Enter challenge title",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"category",children:"Category"}),a.jsxs(xi,{value:n.category,onValueChange:R,children:[a.jsx(ys,{children:a.jsx(wi,{})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"web",children:"Web"}),a.jsx(Te,{value:"crypto",children:"Cryptography"}),a.jsx(Te,{value:"forensics",children:"Forensics"}),a.jsx(Te,{value:"pwn",children:"Pwn"}),a.jsx(Te,{value:"reversing",children:"Reverse Engineering"}),a.jsx(Te,{value:"misc",children:"Miscellaneous"}),a.jsx(Te,{value:"custom",children:"Custom Category"})]})]})]}),c&&a.jsxs("div",{children:[a.jsx(re,{htmlFor:"customCategory",children:"Custom Category Name *"}),a.jsx(Se,{id:"customCategory",value:n.customCategory,onChange:A=>r({...n,customCategory:A.target.value}),placeholder:"Enter your custom category name",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"difficulty",children:"Difficulty"}),a.jsxs(xi,{value:n.difficulty,onValueChange:A=>r({...n,difficulty:A}),children:[a.jsx(ys,{children:a.jsx(wi,{})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"easy",children:"Easy (1-100 points)"}),a.jsx(Te,{value:"medium",children:"Medium (101-300 points)"}),a.jsx(Te,{value:"hard",children:"Hard (301-500 points)"})]})]})]}),!n.hasMultipleQuestions&&a.jsxs("div",{children:[a.jsx(re,{htmlFor:"points",children:"Points *"}),a.jsx(Se,{id:"points",type:"number",value:n.points,onChange:A=>r({...n,points:parseInt(A.target.value)||0}),min:"1",max:"1000",required:!0})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(re,{htmlFor:"description",children:"Description *"}),a.jsx(hc,{id:"description",value:n.description,onChange:A=>r({...n,description:A.target.value}),placeholder:"Enter detailed challenge description, requirements, and any setup instructions...",rows:8,required:!0})]})})]}),a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($n,{className:"w-5 h-5"}),a.jsx(re,{className:"text-base",children:"Creator Information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"creator",children:"Original Creator (Optional)"}),a.jsx(Se,{id:"creator",value:n.creator,onChange:A=>r({...n,creator:A.target.value}),placeholder:"Name of the original challenge creator"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this if the challenge was created by someone else in your community"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"creatorUrl",children:"Creator Profile URL"}),a.jsx(Se,{id:"creatorUrl",value:n.creatorUrl,onChange:A=>r({...n,creatorUrl:A.target.value}),placeholder:"https://github.com/username"})]})]})]}),a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(t5,{className:"w-5 h-5"}),a.jsx(re,{className:"text-base",children:"External CTF Challenge"})]}),a.jsx(hs,{checked:n.isExternalChallenge,onCheckedChange:A=>r({...n,isExternalChallenge:A})})]}),n.isExternalChallenge&&a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide attribution for challenges downloaded from other CTF platforms"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"ctfName",children:"Original CTF Name *"}),a.jsx(Se,{id:"ctfName",value:n.externalSource.ctfName,onChange:A=>L("ctfName",A.target.value),placeholder:"e.g., HackTheBox, TryHackMe, CTFtime",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"ctfUrl",children:"CTF Website URL"}),a.jsx(Se,{id:"ctfUrl",value:n.externalSource.ctfUrl,onChange:A=>L("ctfUrl",A.target.value),placeholder:"https://ctf.example.com"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"originalAuthor",children:"Original Author *"}),a.jsx(Se,{id:"originalAuthor",value:n.externalSource.originalAuthor,onChange:A=>L("originalAuthor",A.target.value),placeholder:"Name of the original challenge author",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"authorUrl",children:"Author Profile URL"}),a.jsx(Se,{id:"authorUrl",value:n.externalSource.authorUrl,onChange:A=>L("authorUrl",A.target.value),placeholder:"https://github.com/original-author"})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"license",children:"License"}),a.jsxs(xi,{value:n.externalSource.license,onValueChange:A=>L("license",A),children:[a.jsx(ys,{children:a.jsx(wi,{})}),a.jsxs(vs,{children:[a.jsx(Te,{value:"unknown",children:"Unknown"}),a.jsx(Te,{value:"MIT",children:"MIT License"}),a.jsx(Te,{value:"apache-2.0",children:"Apache 2.0"}),a.jsx(Te,{value:"gpl-3.0",children:"GPL v3.0"}),a.jsx(Te,{value:"cc-by-4.0",children:"Creative Commons BY 4.0"}),a.jsx(Te,{value:"custom",children:"Custom License"})]})]}),n.externalSource.license==="custom"&&a.jsx(Se,{placeholder:"Specify custom license",className:"mt-2",onChange:A=>L("license",A.target.value)})]}),a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Attribution Notice:"})," This challenge will be displayed with proper attribution to the original author and CTF platform."]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"multipleQuestions",className:"text-base",children:"Multiple Questions Challenge"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if this challenge contains multiple sub-questions with separate flags"})]}),a.jsx(hs,{id:"multipleQuestions",checked:n.hasMultipleQuestions,onCheckedChange:A=>r({...n,hasMultipleQuestions:A})})]}),n.hasMultipleQuestions&&a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(re,{className:"text-base",children:"Challenge Questions"}),a.jsxs(Z,{type:"button",onClick:x,variant:"outline",size:"sm",children:[a.jsx(zl,{className:"w-4 h-4 mr-1"}),"Add Question"]})]}),s.map((A,E)=>a.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(re,{children:["Question ",E+1]}),s.length>1&&a.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(A.id),children:a.jsx(Dm,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:`question-${A.id}`,children:"Question Text *"}),a.jsx(Se,{id:`question-${A.id}`,value:A.question,onChange:_=>T(A.id,"question",_.target.value),placeholder:"Enter the question text",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:`points-${A.id}`,children:"Points *"}),a.jsx(Se,{id:`points-${A.id}`,type:"number",value:A.points,onChange:_=>T(A.id,"points",parseInt(_.target.value)||0),min:"1",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:`flag-${A.id}`,children:"Flag *"}),a.jsx(Se,{id:`flag-${A.id}`,value:A.flag,onChange:_=>T(A.id,"flag",_.target.value),placeholder:"Flag for this question",required:!0})]})]})]},A.id)),s.length>0&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Points: ",s.reduce((A,E)=>A+E.points,0)]})]}),!n.hasMultipleQuestions&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"flag",children:"Flag *"}),a.jsx(Se,{id:"flag",value:n.flag,onChange:A=>r({...n,flag:A.target.value}),placeholder:"CTF{...} or any flag format",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"flagFormat",children:"Flag Format (Regex)"}),a.jsxs(xi,{value:n.flagFormat,onValueChange:A=>r({...n,flagFormat:A}),children:[a.jsx(ys,{children:a.jsx(wi,{})}),a.jsxs(vs,{children:[a.jsxs(Te,{value:"CTF{.*}",children:["CTF","{text}"]}),a.jsxs(Te,{value:"FLAG{.*}",children:["FLAG","{text}"]}),a.jsx(Te,{value:".*",children:"Any format"}),a.jsx(Te,{value:"[A-Za-z0-9]{8,}",children:"Alphanumeric (8+ chars)"}),a.jsx(Te,{value:"custom",children:"Custom Regex"})]})]}),n.flagFormat==="custom"&&a.jsx(Se,{placeholder:"Enter custom regex pattern",className:"mt-2",onChange:A=>r({...n,flagFormat:A.target.value})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(re,{children:"Files & Links"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{type:"button",variant:"outline",onClick:()=>w("file"),children:[a.jsx(h5,{className:"w-4 h-4 mr-2"}),"Upload File"]}),a.jsxs(Z,{type:"button",variant:"outline",onClick:()=>w("link"),children:[a.jsx(jm,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),n.files.length>0&&a.jsx("div",{className:"space-y-2",children:n.files.map(A=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[A.type==="file"?a.jsx(Pm,{className:"w-4 h-4"}):a.jsx(jm,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:A.name}),A.type==="link"&&a.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs",children:"(View Link)"})]}),a.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(A.id),children:a.jsx(Dm,{className:"w-4 h-4"})})]},A.id))})]}),a.jsxs("div",{children:[a.jsx(re,{children:"Hints (Optional)"}),a.jsxs("div",{className:"space-y-2 mt-2",children:[n.hints.map((A,E)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{value:A,onChange:_=>y(E,_.target.value),placeholder:`Hint ${E+1}`}),n.hints.length>1&&a.jsx(Z,{type:"button",variant:"outline",onClick:()=>S(E),children:"Remove"})]},E)),a.jsx(Z,{type:"button",variant:"outline",onClick:m,children:"Add Hint"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Z,{type:"submit",disabled:o,children:o?"Creating...":"Create Challenge"}),a.jsx(Z,{type:"button",variant:"outline",onClick:f,children:"Reset Form"}),a.jsx(Z,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},V8=({onBack:t})=>{const[e,n]=g.useState({name:"",description:"",startDate:"",endDate:"",type:"ctf",maxParticipants:100,isPublic:!0}),r=async s=>{s.preventDefault(),console.log("Scheduling event:",e),alert("Event scheduling functionality coming soon!")};return a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Schedule New Event"}),a.jsx(Jt,{children:"Create and schedule CTF events and competitions"})]}),a.jsx(me,{children:a.jsxs("form",{onSubmit:r,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"name",children:"Event Name *"}),a.jsx(Se,{id:"name",value:e.name,onChange:s=>n({...e,name:s.target.value}),placeholder:"Enter event name",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"description",children:"Event Description"}),a.jsx(hc,{id:"description",value:e.description,onChange:s=>n({...e,description:s.target.value}),placeholder:"Describe the event, rules, and objectives...",rows:4})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"startDate",children:"Start Date & Time *"}),a.jsx(Se,{id:"startDate",type:"datetime-local",value:e.startDate,onChange:s=>n({...e,startDate:s.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"endDate",children:"End Date & Time *"}),a.jsx(Se,{id:"endDate",type:"datetime-local",value:e.endDate,onChange:s=>n({...e,endDate:s.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"type",children:"Event Type"}),a.jsxs("select",{id:"type",value:e.type,onChange:s=>n({...e,type:s.target.value}),className:"w-full p-2 border rounded",children:[a.jsx("option",{value:"ctf",children:"CTF Competition"}),a.jsx("option",{value:"workshop",children:"Workshop"}),a.jsx("option",{value:"training",children:"Training Session"}),a.jsx("option",{value:"jeopardy",children:"Jeopardy Style"})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"maxParticipants",children:"Max Participants"}),a.jsx(Se,{id:"maxParticipants",type:"number",value:e.maxParticipants,onChange:s=>n({...e,maxParticipants:parseInt(s.target.value)}),min:"1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"isPublic",checked:e.isPublic,onChange:s=>n({...e,isPublic:s.target.checked}),className:"rounded"}),a.jsx(re,{htmlFor:"isPublic",children:"Public Event (Visible to all users)"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Z,{type:"submit",children:"Schedule Event"}),a.jsx(Z,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},F8=({onBack:t})=>{const e=[{id:"1",user:"john_doe",challenge:"SQL Injection Master",submittedAt:"2024-01-15",status:"pending",content:"This is a mock write-up content...",rating:0},{id:"2",user:"jane_smith",challenge:"Crypto Challenge 1",submittedAt:"2024-01-14",status:"approved",content:"Another mock write-up...",rating:4}],n=i=>{console.log("Approving writeup:",i),alert(`Write-up ${i} approved!`)},r=i=>{console.log("Rejecting writeup:",i),alert(`Write-up ${i} rejected!`)},s=i=>{switch(i){case"pending":return a.jsx(jt,{variant:"secondary",children:"Pending"});case"approved":return a.jsx(jt,{variant:"default",children:"Approved"});case"rejected":return a.jsx(jt,{variant:"destructive",children:"Rejected"});default:return a.jsx(jt,{variant:"secondary",children:i})}};return a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Review Write-ups"}),a.jsxs(Jt,{children:["Review and approve user write-ups for challenges (",e.length," total)"]})]}),a.jsx(me,{children:a.jsxs("div",{className:"space-y-6",children:[e.map(i=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:i.challenge}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted by ",i.user," on ",i.submittedAt]})]}),s(i.status)]}),a.jsxs("div",{children:[a.jsx(re,{children:"Write-up Content"}),a.jsx("div",{className:"mt-1 p-3 border rounded bg-muted/50",children:i.content})]}),i.status==="pending"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(re,{htmlFor:`feedback-${i.id}`,children:"Feedback (Optional)"}),a.jsx(hc,{id:`feedback-${i.id}`,placeholder:"Provide feedback for the user...",rows:3}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{onClick:()=>n(i.id),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),a.jsx(Z,{variant:"outline",onClick:()=>r(i.id),children:"Request Changes"}),a.jsx(Z,{variant:"destructive",onClick:()=>r(i.id),children:"Reject"})]})]}),i.status!=="pending"&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Write-up has been ",i.status,". ",i.rating>0&&`Rating: ${i.rating}/5`]})]},i.id)),e.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No write-ups to review at this time."})]})})]})},U8=({onBack:t})=>{const e={totalUsers:150,activeUsers:47,totalChallenges:25,solvedChallenges:189,averageSolveTime:"2h 15m",popularCategory:"Web Security"},n=[{title:"Total Users",value:e.totalUsers,description:"Registered users",icon:Rn,color:"text-blue-600"},{title:"Active Users (30d)",value:e.activeUsers,description:"Recently active users",icon:Rn,color:"text-green-600"},{title:"Total Challenges",value:e.totalChallenges,description:"Available challenges",icon:sn,color:"text-purple-600"},{title:"Challenge Solves",value:e.solvedChallenges,description:"Total solutions submitted",icon:Vn,color:"text-orange-600"},{title:"Avg Solve Time",value:e.averageSolveTime,description:"Average time to solve challenges",icon:uc,color:"text-red-600"},{title:"Popular Category",value:e.popularCategory,description:"Most solved category",icon:ZI,color:"text-indigo-600"}];return a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Platform Analytics"}),a.jsx(Jt,{children:"Comprehensive overview of platform performance and user engagement"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map((r,s)=>a.jsx(pe,{children:a.jsx(me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:r.title}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:r.value}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.description})]}),a.jsx("div",{className:`p-3 rounded-full bg-muted ${r.color}`,children:a.jsx(r.icon,{className:"w-6 h-6"})})]})})},s))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{className:"text-lg",children:"User Growth"}),a.jsx(Jt,{children:"Last 30 days"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"User growth chart will be displayed here"})})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{className:"text-lg",children:"Challenge Performance"}),a.jsx(Jt,{children:"Solve rates by category"})]}),a.jsx(me,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Challenge performance chart will be displayed here"})})]})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(Z,{variant:"outline",onClick:t,children:"Back to Dashboard"}),a.jsx(Z,{children:"Export Analytics"})]})]})]})},B8=({onBack:t})=>{const[e,n]=g.useState({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1}),[r,s]=g.useState(!1),i=async()=>{s(!0),setTimeout(()=>{alert("Settings saved successfully!"),s(!1)},1e3)},o=()=>{confirm("Are you sure you want to reset all settings to default?")&&n({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1})},l=(c,d)=>{n(h=>({...h,[c]:d}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"General Settings"}),a.jsx(Jt,{children:"Basic platform configuration"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"siteName",children:"Site Name"}),a.jsx(Se,{id:"siteName",value:e.siteName,onChange:c=>l("siteName",c.target.value)})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"siteDescription",children:"Site Description"}),a.jsx(hc,{id:"siteDescription",value:e.siteDescription,onChange:c=>l("siteDescription",c.target.value)})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"contactEmail",children:"Contact Email"}),a.jsx(Se,{id:"contactEmail",type:"email",value:e.contactEmail,onChange:c=>l("contactEmail",c.target.value)})]})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Security Settings"}),a.jsx(Jt,{children:"Authentication and security configuration"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"requireEmailVerification",children:"Require Email Verification"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must verify their email address before accessing the platform"})]}),a.jsx(hs,{id:"requireEmailVerification",checked:e.requireEmailVerification,onCheckedChange:c=>l("requireEmailVerification",c)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"allowRegistrations",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register on the platform"})]}),a.jsx(hs,{id:"allowRegistrations",checked:e.allowRegistrations,onCheckedChange:c=>l("allowRegistrations",c)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),a.jsx(Se,{id:"maxLoginAttempts",type:"number",value:e.maxLoginAttempts,onChange:c=>l("maxLoginAttempts",parseInt(c.target.value)),min:"1",max:"10"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),a.jsx(Se,{id:"sessionTimeout",type:"number",value:e.sessionTimeout,onChange:c=>l("sessionTimeout",parseInt(c.target.value)),min:"1",max:"720"})]})]})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Challenge Settings"}),a.jsx(Jt,{children:"Challenge and write-up configuration"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"defaultPoints",children:"Default Points for New Challenges"}),a.jsx(Se,{id:"defaultPoints",type:"number",value:e.defaultPoints,onChange:c=>l("defaultPoints",parseInt(c.target.value)),min:"1"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"allowWriteups",children:"Allow Write-ups"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Users can submit write-ups for challenges"})]}),a.jsx(hs,{id:"allowWriteups",checked:e.allowWriteups,onCheckedChange:c=>l("allowWriteups",c)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"writeupRequired",children:"Write-ups Required"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must submit a write-up to get points"})]}),a.jsx(hs,{id:"writeupRequired",checked:e.writeupRequired,onCheckedChange:c=>l("writeupRequired",c),disabled:!e.allowWriteups})]})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Maintenance Mode"}),a.jsx(Jt,{children:"Take the platform offline for maintenance"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"maintenanceMode",children:"Enable Maintenance Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform will be unavailable to regular users"})]}),a.jsx(hs,{id:"maintenanceMode",checked:e.maintenanceMode,onCheckedChange:c=>l("maintenanceMode",c)})]}),e.maintenanceMode&&a.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-yellow-800",children:" Maintenance mode is enabled. Only administrators can access the platform."})})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{onClick:i,disabled:r,children:r?"Saving...":"Save Settings"}),a.jsx(Z,{variant:"outline",onClick:o,children:"Reset to Defaults"}),a.jsx(Z,{variant:"outline",onClick:t,children:"Back to Dashboard"})]})]})},z8=()=>{const{isAdmin:t,isModerator:e}=zI(),n=yr(),[r,s]=g.useState("overview");if(!t&&!e)return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen",children:a.jsx("div",{className:"container px-4 mx-auto text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx(sn,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access the admin dashboard."}),a.jsx(Z,{onClick:()=>n("/dashboard"),children:"Return to Dashboard"})]})})}),a.jsx(Ct,{})]});const i=()=>{switch(r){case"users":return a.jsx(C8,{onBack:()=>s("overview")});case"create-challenge":return a.jsx(M8,{onBack:()=>s("overview")});case"schedule-event":return a.jsx(V8,{onBack:()=>s("overview")});case"review-writeups":return a.jsx(F8,{onBack:()=>s("overview")});case"analytics":return a.jsx(U8,{onBack:()=>s("overview")});case"settings":return a.jsx(B8,{onBack:()=>s("overview")});default:return o()}},o=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(pe,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"2"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium",children:"Active Challenges"}),a.jsx(sn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"No challenges yet"})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium",children:"Live Events"}),a.jsx(Ul,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"No events yet"})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ce,{className:"text-sm font-medium",children:"Pending Write-ups"}),a.jsx(Pm,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(me,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"No write-ups yet"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"Content Management"}),a.jsx(Jt,{children:"Create and manage platform content"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs(Z,{className:"w-full justify-start gap-2",onClick:()=>s("create-challenge"),children:[a.jsx(zl,{className:"w-4 h-4"}),"Create New Challenge"]}),a.jsxs(Z,{className:"w-full justify-start gap-2",onClick:()=>s("schedule-event"),children:[a.jsx(zl,{className:"w-4 h-4"}),"Schedule New Event"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("review-writeups"),children:[a.jsx(Pm,{className:"w-4 h-4"}),"Review Write-ups"]})]})]}),a.jsxs(pe,{children:[a.jsxs(Ie,{children:[a.jsx(Ce,{children:"User Management"}),a.jsx(Jt,{children:"Manage users and permissions"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs(Z,{className:"w-full justify-start gap-2",onClick:()=>s("users"),children:[a.jsx(Rn,{className:"w-4 h-4"}),"View All Users"]}),t&&a.jsxs(Z,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("analytics"),children:[a.jsx(ZI,{className:"w-4 h-4"}),"Platform Analytics"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("settings"),children:[a.jsx(sC,{className:"w-4 h-4"}),"System Settings"]})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx(It,{}),a.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:a.jsxs("div",{className:"container px-4 mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:r==="overview"?"Admin Dashboard":r==="users"?"User Management":r==="create-challenge"?"Create Challenge":r==="schedule-event"?"Schedule Event":r==="review-writeups"?"Review Write-ups":r==="analytics"?"Platform Analytics":r==="settings"?"System Settings":"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:r==="overview"?"Manage your CTF platform, users, challenges, and events":"Admin management panel"})]}),r!=="overview"&&a.jsx(Z,{variant:"outline",onClick:()=>s("overview"),children:"Back to Dashboard"})]}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${t?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:t?"Administrator":"Moderator"})})]}),i()]})}),a.jsx(Ct,{})]})};function $8(){return a.jsx(UI,{children:a.jsxs(eF,{children:[" ",a.jsx(tF,{children:a.jsx(GP,{basename:"/ZedCTF",children:a.jsxs(UP,{children:[a.jsx(cn,{path:"/",element:a.jsx(y5,{})}),a.jsx(cn,{path:"/login",element:a.jsx(v5,{})}),a.jsx(cn,{path:"/signup",element:a.jsx(x5,{})}),a.jsx(cn,{path:"/auth/github/callback",element:a.jsx(E5,{})}),a.jsx(cn,{path:"/dashboard",element:a.jsx(ci,{children:a.jsx(I5,{})})}),a.jsx(cn,{path:"/practice",element:a.jsx(ci,{children:a.jsx(i8,{})})}),a.jsx(cn,{path:"/live",element:a.jsx(ci,{children:a.jsx(o8,{})})}),a.jsx(cn,{path:"/leaderboard",element:a.jsx(ci,{children:a.jsx(I8,{})})}),a.jsx(cn,{path:"/writeups",element:a.jsx(ci,{children:a.jsx(w5,{})})}),a.jsx(cn,{path:"/writeups/create",element:a.jsx(ci,{children:a.jsx(_5,{})})}),a.jsx(cn,{path:"/admin",element:a.jsx(ci,{children:a.jsx(z8,{})})}),a.jsx(cn,{path:"*",element:a.jsx(b5,{})})]})})})]})})}g1(document.getElementById("root")).render(a.jsx(UI,{children:a.jsx($8,{})}));
