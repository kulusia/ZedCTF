function oA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f0={exports:{}},cd={},p0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),aA=Symbol.for("react.portal"),lA=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),uA=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),fA=Symbol.for("react.forward_ref"),pA=Symbol.for("react.suspense"),mA=Symbol.for("react.memo"),gA=Symbol.for("react.lazy"),_v=Symbol.iterator;function yA(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g0=Object.assign,y0={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=y0,this.updater=n||m0}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v0(){}v0.prototype=Ro.prototype;function fm(t,e,n){this.props=t,this.context=e,this.refs=y0,this.updater=n||m0}var pm=fm.prototype=new v0;pm.constructor=fm;g0(pm,Ro.prototype);pm.isPureReactComponent=!0;var xv=Array.isArray,w0=Object.prototype.hasOwnProperty,mm={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)w0.call(e,r)&&!_0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tl,type:t,key:i,ref:o,props:s,_owner:mm.current}}function vA(t,e){return{$$typeof:Tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tl}function wA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wA(""+t.key):e.toString(36)}function Nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tl:case aA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sh(o,0):r,xv(s)?(n="",t!=null&&(n=t.replace(Ev,"$&/")+"/"),Nc(s,e,n,"",function(d){return d})):s!=null&&(gm(s)&&(s=vA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ev,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Sh(i,a);o+=Nc(i,e,n,l,s)}else if(l=yA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Sh(i,a++),o+=Nc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var r=[],s=0;return Nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Rc={transition:null},xA={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:mm};function E0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!gm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ro;le.Fragment=lA;le.Profiler=uA;le.PureComponent=fm;le.StrictMode=cA;le.Suspense=pA;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;le.act=E0;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w0.call(e,l)&&!_0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Tl,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:hA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dA,_context:t},t.Consumer=t};le.createElement=x0;le.createFactory=function(t){var e=x0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:fA,render:t}};le.isValidElement=gm;le.lazy=function(t){return{$$typeof:gA,_payload:{_status:-1,_result:t},_init:_A}};le.memo=function(t,e){return{$$typeof:mA,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};le.unstable_act=E0;le.useCallback=function(t,e){return Dt.current.useCallback(t,e)};le.useContext=function(t){return Dt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Dt.current.useEffect(t,e)};le.useId=function(){return Dt.current.useId()};le.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Dt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};le.useRef=function(t){return Dt.current.useRef(t)};le.useState=function(t){return Dt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Dt.current.useTransition()};le.version="18.3.1";p0.exports=le;var y=p0.exports;const Ur=h0(y),ud=oA({__proto__:null,default:Ur},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=y,TA=Symbol.for("react.element"),SA=Symbol.for("react.fragment"),IA=Object.prototype.hasOwnProperty,bA=EA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CA={key:!0,ref:!0,__self:!0,__source:!0};function T0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IA.call(e,r)&&!CA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TA,type:t,key:i,ref:o,props:s,_owner:bA.current}}cd.Fragment=SA;cd.jsx=T0;cd.jsxs=T0;f0.exports=cd;var u=f0.exports,S0={exports:{}},tn={},I0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var K=V.length;V.push($);e:for(;0<K;){var ne=K-1>>>1,_e=V[ne];if(0<s(_e,$))V[ne]=$,V[K]=_e,K=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],K=V.pop();if(K!==$){V[0]=K;e:for(var ne=0,_e=V.length,Ht=_e>>>1;ne<Ht;){var Me=2*(ne+1)-1,Lt=V[Me],Xe=Me+1,Y=V[Xe];if(0>s(Lt,K))Xe<_e&&0>s(Y,Lt)?(V[ne]=Y,V[Xe]=K,ne=Xe):(V[ne]=Lt,V[Me]=K,ne=Me);else if(Xe<_e&&0>s(Y,K))V[ne]=Y,V[Xe]=K,ne=Xe;else break e}}return $}function s(V,$){var K=V.sortIndex-$.sortIndex;return K!==0?K:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,x=!1,C=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=V)r(d),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(d)}}function P(V){if(_=!1,E(V),!C)if(n(l)!==null)C=!0,X(D);else{var $=n(d);$!==null&&se(P,$.startTime-V)}}function D(V,$){C=!1,_&&(_=!1,v(T),T=-1),x=!0;var K=m;try{for(E($),f=n(l);f!==null&&(!(f.expirationTime>$)||V&&!j());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var _e=ne(f.expirationTime<=$);$=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),E($)}else r(l);f=n(l)}if(f!==null)var Ht=!0;else{var Me=n(d);Me!==null&&se(P,Me.startTime-$),Ht=!1}return Ht}finally{f=null,m=K,x=!1}}var O=!1,S=null,T=-1,b=5,R=-1;function j(){return!(t.unstable_now()-R<b)}function k(){if(S!==null){var V=t.unstable_now();R=V;var $=!0;try{$=S(!0,V)}finally{$?N():(O=!1,S=null)}}else O=!1}var N;if(typeof w=="function")N=function(){w(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=k,N=function(){ie.postMessage(null)}}else N=function(){I(k,0)};function X(V){S=V,O||(O=!0,N())}function se(V,$){T=I(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){C||x||(C=!0,X(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var K=m;m=$;try{return V()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=m;m=V;try{return $()}finally{m=K}},t.unstable_scheduleCallback=function(V,$,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,V){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,V={id:h++,callback:$,priorityLevel:V,startTime:K,expirationTime:_e,sortIndex:-1},K>ne?(V.sortIndex=K,e(d,V),n(l)===null&&V===n(d)&&(_?(v(T),T=-1):_=!0,se(P,K-ne))):(V.sortIndex=_e,e(l,V),C||x||(C=!0,X(D))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var $=m;return function(){var K=m;m=$;try{return V.apply(this,arguments)}finally{m=K}}}})(b0);I0.exports=b0;var AA=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=y,en=AA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C0=new Set,Ha={};function vi(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Ha[t]=e,t=0;t<e.length;t++)C0.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tv={},Sv={};function kA(t){return Df.call(Sv,t)?!0:Df.call(Tv,t)?!1:RA.test(t)?Sv[t]=!0:(Tv[t]=!0,!1)}function PA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jA(t,e,n,r){if(e===null||typeof e>"u"||PA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function vm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ym,vm);mt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ym,vm);mt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ym,vm);mt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function wm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jA(e,n,s,r)&&(n=null),r||s===null?kA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ar=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),N0=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Mf=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Iv=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Ih;function wa(t){if(Ih===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ih=e&&e[1]||""}return`
`+Ih+t}var bh=!1;function Ch(t,e){if(!t||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function DA(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=Ch(t.type,!1),t;case 11:return t=Ch(t.type.render,!1),t;case 1:return t=Ch(t.type,!0),t;default:return""}}function Vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Fi:return"Portal";case Of:return"Profiler";case _m:return"StrictMode";case Lf:return"Suspense";case Mf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N0:return(t.displayName||"Context")+".Consumer";case A0:return(t._context.displayName||"Context")+".Provider";case xm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Em:return e=t.displayName||null,e!==null?e:Vf(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Vf(t(e))}catch{}}return null}function OA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LA(t){var e=k0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=LA(t))}function P0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ff(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j0(t,e){e=e.checked,e!=null&&wm(t,"checked",e,!1)}function Uf(t,e){j0(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(_a(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function D0(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,L0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MA=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(t){MA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ra[e]=Ra[t]})});function M0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ra.hasOwnProperty(t)&&Ra[t]?(""+e).trim():e+"px"}function V0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=M0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var VA=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(t,e){if(e){if(VA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=null;function Tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gf=null,Ji=null,Zi=null;function Rv(t){if(t=bl(t)){if(typeof Gf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=md(e),Gf(t.stateNode,t.type,e))}}function F0(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function U0(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function B0(t,e){return t(e)}function z0(){}var Ah=!1;function $0(t,e,n){if(Ah)return t(e,n);Ah=!0;try{return B0(t,e,n)}finally{Ah=!1,(Ji!==null||Zi!==null)&&(z0(),U0())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=md(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Kf=!1;if(yr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Kf=!1}function FA(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ka=!1,ru=null,su=!1,Qf=null,UA={onError:function(t){ka=!0,ru=t}};function BA(t,e,n,r,s,i,o,a,l){ka=!1,ru=null,FA.apply(UA,arguments)}function zA(t,e,n,r,s,i,o,a,l){if(BA.apply(this,arguments),ka){if(ka){var d=ru;ka=!1,ru=null}else throw Error(B(198));su||(su=!0,Qf=d)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function W0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kv(t){if(wi(t)!==t)throw Error(B(188))}function $A(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kv(s),t;if(i===r)return kv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function H0(t){return t=$A(t),t!==null?q0(t):null}function q0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q0(t);if(e!==null)return e;t=t.sibling}return null}var G0=en.unstable_scheduleCallback,Pv=en.unstable_cancelCallback,WA=en.unstable_shouldYield,HA=en.unstable_requestPaint,Ue=en.unstable_now,qA=en.unstable_getCurrentPriorityLevel,Sm=en.unstable_ImmediatePriority,K0=en.unstable_UserBlockingPriority,iu=en.unstable_NormalPriority,GA=en.unstable_LowPriority,Q0=en.unstable_IdlePriority,dd=null,$n=null;function KA(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(dd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:XA,QA=Math.log,YA=Math.LN2;function XA(t){return t>>>=0,t===0?32:31-(QA(t)/YA|0)|0}var rc=64,sc=4194304;function xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xa(a):(i&=o,i!==0&&(r=xa(i)))}else o=n&~s,o!==0?r=xa(o):i!==0&&(r=xa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function JA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=JA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Yf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y0(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function Nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function eN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function X0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J0,bm,Z0,eE,tE,Xf=!1,ic=[],Zr=null,es=null,ts=null,Ka=new Map,Qa=new Map,Wr=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function da(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bl(e),e!==null&&bm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nN(t,e,n,r,s){switch(e){case"focusin":return Zr=da(Zr,t,e,n,r,s),!0;case"dragenter":return es=da(es,t,e,n,r,s),!0;case"mouseover":return ts=da(ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ka.set(i,da(Ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qa.set(i,da(Qa.get(i)||null,t,e,n,r,s)),!0}return!1}function nE(t){var e=qs(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=W0(n),e!==null){t.blockedOn=e,tE(t.priority,function(){Z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qf=r,n.target.dispatchEvent(r),qf=null}else return e=bl(n),e!==null&&bm(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){kc(t)&&n.delete(e)}function rN(){Xf=!1,Zr!==null&&kc(Zr)&&(Zr=null),es!==null&&kc(es)&&(es=null),ts!==null&&kc(ts)&&(ts=null),Ka.forEach(Dv),Qa.forEach(Dv)}function ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Xf||(Xf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,rN)))}function Ya(t){function e(s){return ha(s,t)}if(0<ic.length){ha(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&ha(Zr,t),es!==null&&ha(es,t),ts!==null&&ha(ts,t),Ka.forEach(e),Qa.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)nE(n),n.blockedOn===null&&Wr.shift()}var eo=Ar.ReactCurrentBatchConfig,au=!0;function sN(t,e,n,r){var s=ve,i=eo.transition;eo.transition=null;try{ve=1,Cm(t,e,n,r)}finally{ve=s,eo.transition=i}}function iN(t,e,n,r){var s=ve,i=eo.transition;eo.transition=null;try{ve=4,Cm(t,e,n,r)}finally{ve=s,eo.transition=i}}function Cm(t,e,n,r){if(au){var s=Jf(t,e,n,r);if(s===null)Fh(t,e,r,lu,n),jv(t,r);else if(nN(s,t,e,n,r))r.stopPropagation();else if(jv(t,r),e&4&&-1<tN.indexOf(t)){for(;s!==null;){var i=bl(s);if(i!==null&&J0(i),i=Jf(t,e,n,r),i===null&&Fh(t,e,r,lu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fh(t,e,r,null,n)}}var lu=null;function Jf(t,e,n,r){if(lu=null,t=Tm(r),t=qs(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=W0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lu=t,null}function rE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qA()){case Sm:return 1;case K0:return 4;case iu:case GA:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var Qr=null,Am=null,Pc=null;function sE(){if(Pc)return Pc;var t,e=Am,n=e.length,r,s="value"in Qr?Qr.value:Qr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pc=s.slice(t,1<r?1-r:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function Ov(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:Ov,this.isPropagationStopped=Ov,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=nn(ko),Il=je({},ko,{view:0,detail:0}),oN=nn(Il),Rh,kh,fa,hd=je({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(Rh=t.screenX-fa.screenX,kh=t.screenY-fa.screenY):kh=Rh=0,fa=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),Lv=nn(hd),aN=je({},hd,{dataTransfer:0}),lN=nn(aN),cN=je({},Il,{relatedTarget:0}),Ph=nn(cN),uN=je({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),dN=nn(uN),hN=je({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fN=nn(hN),pN=je({},ko,{data:0}),Mv=nn(pN),mN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yN[t])?!!e[t]:!1}function Rm(){return vN}var wN=je({},Il,{key:function(t){if(t.key){var e=mN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_N=nn(wN),xN=je({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=nn(xN),EN=je({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),TN=nn(EN),SN=je({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),IN=nn(SN),bN=je({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CN=nn(bN),AN=[9,13,27,32],km=yr&&"CompositionEvent"in window,Pa=null;yr&&"documentMode"in document&&(Pa=document.documentMode);var NN=yr&&"TextEvent"in window&&!Pa,iE=yr&&(!km||Pa&&8<Pa&&11>=Pa),Fv=" ",Uv=!1;function oE(t,e){switch(t){case"keyup":return AN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function RN(t,e){switch(t){case"compositionend":return aE(e);case"keypress":return e.which!==32?null:(Uv=!0,Fv);case"textInput":return t=e.data,t===Fv&&Uv?null:t;default:return null}}function kN(t,e){if(Bi)return t==="compositionend"||!km&&oE(t,e)?(t=sE(),Pc=Am=Qr=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var PN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PN[t.type]:e==="textarea"}function lE(t,e,n,r){F0(r),e=cu(e,"onChange"),0<e.length&&(n=new Nm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,Xa=null;function jN(t){wE(t,0)}function fd(t){var e=Wi(t);if(P0(e))return t}function DN(t,e){if(t==="change")return e}var cE=!1;if(yr){var jh;if(yr){var Dh="oninput"in document;if(!Dh){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Dh=typeof zv.oninput=="function"}jh=Dh}else jh=!1;cE=jh&&(!document.documentMode||9<document.documentMode)}function $v(){ja&&(ja.detachEvent("onpropertychange",uE),Xa=ja=null)}function uE(t){if(t.propertyName==="value"&&fd(Xa)){var e=[];lE(e,Xa,t,Tm(t)),$0(jN,e)}}function ON(t,e,n){t==="focusin"?($v(),ja=e,Xa=n,ja.attachEvent("onpropertychange",uE)):t==="focusout"&&$v()}function LN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fd(Xa)}function MN(t,e){if(t==="click")return fd(e)}function VN(t,e){if(t==="input"||t==="change")return fd(e)}function FN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:FN;function Ja(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Df.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function Wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=Wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wv(n)}}function dE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nu(t.document)}return e}function Pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UN(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&Pm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hv(n,i);var o=Hv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BN=yr&&"documentMode"in document&&11>=document.documentMode,zi=null,Zf=null,Da=null,ep=!1;function qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ep||zi==null||zi!==nu(r)||(r=zi,"selectionStart"in r&&Pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ja(Da,r)||(Da=r,r=cu(Zf,"onSelect"),0<r.length&&(e=new Nm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Oh={},fE={};yr&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function pd(t){if(Oh[t])return Oh[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fE)return Oh[t]=e[n];return t}var pE=pd("animationend"),mE=pd("animationiteration"),gE=pd("animationstart"),yE=pd("transitionend"),vE=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){vE.set(t,e),vi(e,[t])}for(var Lh=0;Lh<Gv.length;Lh++){var Mh=Gv[Lh],zN=Mh.toLowerCase(),$N=Mh[0].toUpperCase()+Mh.slice(1);Ss(zN,"on"+$N)}Ss(pE,"onAnimationEnd");Ss(mE,"onAnimationIteration");Ss(gE,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(yE,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function Kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zA(r,e,void 0,t),t.currentTarget=null}function wE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kv(s,a,d),i=l}}}if(su)throw t=Qf,su=!1,Qf=null,t}function be(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(_E(e,t,2,!1),n.add(r))}function Vh(t,e,n){var r=0;e&&(r|=4),_E(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[lc]){t[lc]=!0,C0.forEach(function(n){n!=="selectionchange"&&(WN.has(n)||Vh(n,!1,t),Vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Vh("selectionchange",!1,e))}}function _E(t,e,n,r){switch(rE(e)){case 1:var s=sN;break;case 4:s=iN;break;default:s=Cm}n=s.bind(null,e,n,t),s=void 0,!Kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$0(function(){var d=i,h=Tm(n),f=[];e:{var m=vE.get(t);if(m!==void 0){var x=Nm,C=t;switch(t){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":x=_N;break;case"focusin":C="focus",x=Ph;break;case"focusout":C="blur",x=Ph;break;case"beforeblur":case"afterblur":x=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=lN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=TN;break;case pE:case mE:case gE:x=dN;break;case yE:x=IN;break;case"scroll":x=oN;break;case"wheel":x=CN;break;case"copy":case"cut":case"paste":x=fN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Vv}var _=(e&4)!==0,I=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var w=d,E;w!==null;){E=w;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,v!==null&&(P=Ga(w,v),P!=null&&_.push(el(w,P,E)))),I)break;w=w.return}0<_.length&&(m=new x(m,C,null,n,h),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==qf&&(C=n.relatedTarget||n.fromElement)&&(qs(C)||C[vr]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(C=n.relatedTarget||n.toElement,x=d,C=C?qs(C):null,C!==null&&(I=wi(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=d),x!==C)){if(_=Lv,P="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=Vv,P="onPointerLeave",v="onPointerEnter",w="pointer"),I=x==null?m:Wi(x),E=C==null?m:Wi(C),m=new _(P,w+"leave",x,n,h),m.target=I,m.relatedTarget=E,P=null,qs(h)===d&&(_=new _(v,w+"enter",C,n,h),_.target=E,_.relatedTarget=I,P=_),I=P,x&&C)t:{for(_=x,v=C,w=0,E=_;E;E=Ri(E))w++;for(E=0,P=v;P;P=Ri(P))E++;for(;0<w-E;)_=Ri(_),w--;for(;0<E-w;)v=Ri(v),E--;for(;w--;){if(_===v||v!==null&&_===v.alternate)break t;_=Ri(_),v=Ri(v)}_=null}else _=null;x!==null&&Qv(f,m,x,_,!1),C!==null&&I!==null&&Qv(f,I,C,_,!0)}}e:{if(m=d?Wi(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var D=DN;else if(Bv(m))if(cE)D=VN;else{D=LN;var O=ON}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=MN);if(D&&(D=D(t,d))){lE(f,D,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Bf(m,"number",m.value)}switch(O=d?Wi(d):window,t){case"focusin":(Bv(O)||O.contentEditable==="true")&&(zi=O,Zf=d,Da=null);break;case"focusout":Da=Zf=zi=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,qv(f,n,h);break;case"selectionchange":if(BN)break;case"keydown":case"keyup":qv(f,n,h)}var S;if(km)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bi?oE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iE&&n.locale!=="ko"&&(Bi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bi&&(S=sE()):(Qr=h,Am="value"in Qr?Qr.value:Qr.textContent,Bi=!0)),O=cu(d,T),0<O.length&&(T=new Mv(T,t,null,n,h),f.push({event:T,listeners:O}),S?T.data=S:(S=aE(n),S!==null&&(T.data=S)))),(S=NN?RN(t,n):kN(t,n))&&(d=cu(d,"onBeforeInput"),0<d.length&&(h=new Mv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=S))}wE(f,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ga(t,n),i!=null&&r.unshift(el(t,i,s)),i=Ga(t,e),i!=null&&r.push(el(t,i,s))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Ga(n,i),l!=null&&o.unshift(el(n,l,a))):s||(l=Ga(n,i),l!=null&&o.push(el(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(HN,`
`).replace(qN,"")}function cc(t,e,n){if(e=Yv(e),Yv(t)!==e&&n)throw Error(B(425))}function uu(){}var tp=null,np=null;function rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,GN=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,KN=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(QN)}:sp;function QN(t){setTimeout(function(){throw t})}function Uh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ya(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Un="__reactFiber$"+Po,tl="__reactProps$"+Po,vr="__reactContainer$"+Po,ip="__reactEvents$"+Po,YN="__reactListeners$"+Po,XN="__reactHandles$"+Po;function qs(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jv(t);t!==null;){if(n=t[Un])return n;t=Jv(t)}return e}t=n,n=t.parentNode}return null}function bl(t){return t=t[Un]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function md(t){return t[tl]||null}var op=[],Hi=-1;function Is(t){return{current:t}}function Ne(t){0>Hi||(t.current=op[Hi],op[Hi]=null,Hi--)}function Te(t,e){Hi++,op[Hi]=t.current,t.current=e}var fs={},It=Is(fs),Bt=Is(!1),ri=fs;function po(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function du(){Ne(Bt),Ne(It)}function Zv(t,e,n){if(It.current!==fs)throw Error(B(168));Te(It,e),Te(Bt,n)}function xE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,OA(t)||"Unknown",s));return je({},n,r)}function hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,ri=It.current,Te(It,t),Te(Bt,Bt.current),!0}function ew(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=xE(t,e,ri),r.__reactInternalMemoizedMergedChildContext=t,Ne(Bt),Ne(It),Te(It,t)):Ne(Bt),Te(Bt,n)}var or=null,gd=!1,Bh=!1;function EE(t){or===null?or=[t]:or.push(t)}function JN(t){gd=!0,EE(t)}function bs(){if(!Bh&&or!==null){Bh=!0;var t=0,e=ve;try{var n=or;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,gd=!1}catch(s){throw or!==null&&(or=or.slice(t+1)),G0(Sm,bs),s}finally{ve=e,Bh=!1}}return null}var qi=[],Gi=0,fu=null,pu=0,sn=[],on=0,si=null,lr=1,cr="";function zs(t,e){qi[Gi++]=pu,qi[Gi++]=fu,fu=t,pu=e}function TE(t,e,n){sn[on++]=lr,sn[on++]=cr,sn[on++]=si,si=t;var r=lr;t=cr;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lr=1<<32-bn(e)+s|n<<s|r,cr=i+t}else lr=1<<i|n<<s|r,cr=t}function jm(t){t.return!==null&&(zs(t,1),TE(t,1,0))}function Dm(t){for(;t===fu;)fu=qi[--Gi],qi[Gi]=null,pu=qi[--Gi],qi[Gi]=null;for(;t===si;)si=sn[--on],sn[on]=null,cr=sn[--on],sn[on]=null,lr=sn[--on],sn[on]=null}var Xt=null,Yt=null,Re=!1,En=null;function SE(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:lr,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function ap(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lp(t){if(Re){var e=Yt;if(e){var n=e;if(!tw(t,e)){if(ap(t))throw Error(B(418));e=ns(n.nextSibling);var r=Xt;e&&tw(t,e)?SE(r,n):(t.flags=t.flags&-4097|2,Re=!1,Xt=t)}}else{if(ap(t))throw Error(B(418));t.flags=t.flags&-4097|2,Re=!1,Xt=t}}}function nw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function uc(t){if(t!==Xt)return!1;if(!Re)return nw(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rp(t.type,t.memoizedProps)),e&&(e=Yt)){if(ap(t))throw IE(),Error(B(418));for(;e;)SE(t,e),e=ns(e.nextSibling)}if(nw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?ns(t.stateNode.nextSibling):null;return!0}function IE(){for(var t=Yt;t;)t=ns(t.nextSibling)}function mo(){Yt=Xt=null,Re=!1}function Om(t){En===null?En=[t]:En.push(t)}var ZN=Ar.ReactCurrentBatchConfig;function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rw(t){var e=t._init;return e(t._payload)}function bE(t){function e(v,w){if(t){var E=v.deletions;E===null?(v.deletions=[w],v.flags|=16):E.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=os(v,w),v.index=0,v.sibling=null,v}function i(v,w,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<w?(v.flags|=2,w):E):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,E,P){return w===null||w.tag!==6?(w=Kh(E,v.mode,P),w.return=v,w):(w=s(w,E),w.return=v,w)}function l(v,w,E,P){var D=E.type;return D===Ui?h(v,w,E.props.children,P,E.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zr&&rw(D)===w.type)?(P=s(w,E.props),P.ref=pa(v,w,E),P.return=v,P):(P=Uc(E.type,E.key,E.props,null,v.mode,P),P.ref=pa(v,w,E),P.return=v,P)}function d(v,w,E,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Qh(E,v.mode,P),w.return=v,w):(w=s(w,E.children||[]),w.return=v,w)}function h(v,w,E,P,D){return w===null||w.tag!==7?(w=ei(E,v.mode,P,D),w.return=v,w):(w=s(w,E),w.return=v,w)}function f(v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Kh(""+w,v.mode,E),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ec:return E=Uc(w.type,w.key,w.props,null,v.mode,E),E.ref=pa(v,null,w),E.return=v,E;case Fi:return w=Qh(w,v.mode,E),w.return=v,w;case zr:var P=w._init;return f(v,P(w._payload),E)}if(_a(w)||ca(w))return w=ei(w,v.mode,E,null),w.return=v,w;dc(v,w)}return null}function m(v,w,E,P){var D=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(v,w,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ec:return E.key===D?l(v,w,E,P):null;case Fi:return E.key===D?d(v,w,E,P):null;case zr:return D=E._init,m(v,w,D(E._payload),P)}if(_a(E)||ca(E))return D!==null?null:h(v,w,E,P,null);dc(v,E)}return null}function x(v,w,E,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(E)||null,a(w,v,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ec:return v=v.get(P.key===null?E:P.key)||null,l(w,v,P,D);case Fi:return v=v.get(P.key===null?E:P.key)||null,d(w,v,P,D);case zr:var O=P._init;return x(v,w,E,O(P._payload),D)}if(_a(P)||ca(P))return v=v.get(E)||null,h(w,v,P,D,null);dc(w,P)}return null}function C(v,w,E,P){for(var D=null,O=null,S=w,T=w=0,b=null;S!==null&&T<E.length;T++){S.index>T?(b=S,S=null):b=S.sibling;var R=m(v,S,E[T],P);if(R===null){S===null&&(S=b);break}t&&S&&R.alternate===null&&e(v,S),w=i(R,w,T),O===null?D=R:O.sibling=R,O=R,S=b}if(T===E.length)return n(v,S),Re&&zs(v,T),D;if(S===null){for(;T<E.length;T++)S=f(v,E[T],P),S!==null&&(w=i(S,w,T),O===null?D=S:O.sibling=S,O=S);return Re&&zs(v,T),D}for(S=r(v,S);T<E.length;T++)b=x(S,v,T,E[T],P),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?T:b.key),w=i(b,w,T),O===null?D=b:O.sibling=b,O=b);return t&&S.forEach(function(j){return e(v,j)}),Re&&zs(v,T),D}function _(v,w,E,P){var D=ca(E);if(typeof D!="function")throw Error(B(150));if(E=D.call(E),E==null)throw Error(B(151));for(var O=D=null,S=w,T=w=0,b=null,R=E.next();S!==null&&!R.done;T++,R=E.next()){S.index>T?(b=S,S=null):b=S.sibling;var j=m(v,S,R.value,P);if(j===null){S===null&&(S=b);break}t&&S&&j.alternate===null&&e(v,S),w=i(j,w,T),O===null?D=j:O.sibling=j,O=j,S=b}if(R.done)return n(v,S),Re&&zs(v,T),D;if(S===null){for(;!R.done;T++,R=E.next())R=f(v,R.value,P),R!==null&&(w=i(R,w,T),O===null?D=R:O.sibling=R,O=R);return Re&&zs(v,T),D}for(S=r(v,S);!R.done;T++,R=E.next())R=x(S,v,T,R.value,P),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),w=i(R,w,T),O===null?D=R:O.sibling=R,O=R);return t&&S.forEach(function(k){return e(v,k)}),Re&&zs(v,T),D}function I(v,w,E,P){if(typeof E=="object"&&E!==null&&E.type===Ui&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ec:e:{for(var D=E.key,O=w;O!==null;){if(O.key===D){if(D=E.type,D===Ui){if(O.tag===7){n(v,O.sibling),w=s(O,E.props.children),w.return=v,v=w;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zr&&rw(D)===O.type){n(v,O.sibling),w=s(O,E.props),w.ref=pa(v,O,E),w.return=v,v=w;break e}n(v,O);break}else e(v,O);O=O.sibling}E.type===Ui?(w=ei(E.props.children,v.mode,P,E.key),w.return=v,v=w):(P=Uc(E.type,E.key,E.props,null,v.mode,P),P.ref=pa(v,w,E),P.return=v,v=P)}return o(v);case Fi:e:{for(O=E.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(v,w.sibling),w=s(w,E.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Qh(E,v.mode,P),w.return=v,v=w}return o(v);case zr:return O=E._init,I(v,w,O(E._payload),P)}if(_a(E))return C(v,w,E,P);if(ca(E))return _(v,w,E,P);dc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,E),w.return=v,v=w):(n(v,w),w=Kh(E,v.mode,P),w.return=v,v=w),o(v)):n(v,w)}return I}var go=bE(!0),CE=bE(!1),mu=Is(null),gu=null,Ki=null,Lm=null;function Mm(){Lm=Ki=gu=null}function Vm(t){var e=mu.current;Ne(mu),t._currentValue=e}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){gu=t,Lm=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(gu===null)throw Error(B(308));Ki=t,gu.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var Gs=null;function Fm(t){Gs===null?Gs=[t]:Gs.push(t)}function AE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fm(e)):(n.next=s.next,s.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $r=!1;function Um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wr(t,n)}return s=r.interleaved,s===null?(e.next=e,Fm(r)):(e.next=s.next,s.next=e),r.interleaved=e,wr(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}function sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yu(t,e,n,r){var s=t.updateQueue;$r=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,x=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,_=a;switch(m=e,x=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){f=C.call(x,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,m=typeof C=="function"?C.call(x,f,m):C,m==null)break e;f=je({},f,m);break e;case 2:$r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else x={eventTime:x,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=x,l=f):h=h.next=x,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oi|=o,t.lanes=o,t.memoizedState=f}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Cl={},Wn=Is(Cl),nl=Is(Cl),rl=Is(Cl);function Ks(t){if(t===Cl)throw Error(B(174));return t}function Bm(t,e){switch(Te(rl,e),Te(nl,t),Te(Wn,Cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$f(e,t)}Ne(Wn),Te(Wn,e)}function yo(){Ne(Wn),Ne(nl),Ne(rl)}function RE(t){Ks(rl.current);var e=Ks(Wn.current),n=$f(e,t.type);e!==n&&(Te(nl,t),Te(Wn,n))}function zm(t){nl.current===t&&(Ne(Wn),Ne(nl))}var ke=Is(0);function vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function $m(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var Oc=Ar.ReactCurrentDispatcher,$h=Ar.ReactCurrentBatchConfig,ii=0,Pe=null,et=null,it=null,wu=!1,Oa=!1,sl=0,eR=0;function wt(){throw Error(B(321))}function Wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,s,i){if(ii=i,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oc.current=t===null||t.memoizedState===null?sR:iR,t=n(r,s),Oa){i=0;do{if(Oa=!1,sl=0,25<=i)throw Error(B(301));i+=1,it=et=null,e.updateQueue=null,Oc.current=oR,t=n(r,s)}while(Oa)}if(Oc.current=_u,e=et!==null&&et.next!==null,ii=0,it=et=Pe=null,wu=!1,e)throw Error(B(300));return t}function qm(){var t=sl!==0;return sl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Pe.memoizedState=it=t:it=it.next=t,it}function hn(){if(et===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?Pe.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(B(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Pe.memoizedState=it=t:it=it.next=t}return it}function il(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((ii&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Pe.lanes|=h,oi|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,Nn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Pe.lanes|=i,oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hh(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kE(){}function PE(t,e){var n=Pe,r=hn(),s=e(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,Gm(OE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,ol(9,DE.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(B(349));ii&30||jE(n,e,s)}return s}function jE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DE(t,e,n,r){e.value=n,e.getSnapshot=r,LE(e)&&ME(t)}function OE(t,e,n){return n(function(){LE(e)&&ME(t)})}function LE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function ME(t){var e=wr(t,1);e!==null&&Cn(e,t,1,-1)}function ow(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=rR.bind(null,Pe,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VE(){return hn().memoizedState}function Lc(t,e,n,r){var s=Mn();Pe.flags|=t,s.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function yd(t,e,n,r){var s=hn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&Wm(r,o.deps)){s.memoizedState=ol(e,n,i,r);return}}Pe.flags|=t,s.memoizedState=ol(1|e,n,i,r)}function aw(t,e){return Lc(8390656,8,t,e)}function Gm(t,e){return yd(2048,8,t,e)}function FE(t,e){return yd(4,2,t,e)}function UE(t,e){return yd(4,4,t,e)}function BE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zE(t,e,n){return n=n!=null?n.concat([t]):null,yd(4,4,BE.bind(null,e,t),n)}function Km(){}function $E(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WE(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HE(t,e,n){return ii&21?(Nn(n,e)||(n=Y0(),Pe.lanes|=n,oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function tR(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=$h.transition;$h.transition={};try{t(!1),e()}finally{ve=n,$h.transition=r}}function qE(){return hn().memoizedState}function nR(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GE(t))KE(e,n);else if(n=AE(t,e,n,r),n!==null){var s=Rt();Cn(n,t,r,s),QE(n,e,r)}}function rR(t,e,n){var r=is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GE(t))KE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(s.next=s,Fm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=AE(t,e,s,r),n!==null&&(s=Rt(),Cn(n,t,r,s),QE(n,e,r))}}function GE(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function KE(t,e){Oa=wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}var _u={readContext:dn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},sR={readContext:dn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:aw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4194308,4,BE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nR.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:ow,useDebugValue:Km,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=ow(!1),e=t[0];return t=tR.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,s=Mn();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ot===null)throw Error(B(349));ii&30||jE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,aw(OE.bind(null,r,i,t),[t]),r.flags|=2048,ol(9,DE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=ot.identifierPrefix;if(Re){var n=cr,r=lr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iR={readContext:dn,useCallback:$E,useContext:dn,useEffect:Gm,useImperativeHandle:zE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:WE,useReducer:Wh,useRef:VE,useState:function(){return Wh(il)},useDebugValue:Km,useDeferredValue:function(t){var e=hn();return HE(e,et.memoizedState,t)},useTransition:function(){var t=Wh(il)[0],e=hn().memoizedState;return[t,e]},useMutableSource:kE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1},oR={readContext:dn,useCallback:$E,useContext:dn,useEffect:Gm,useImperativeHandle:zE,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:WE,useReducer:Hh,useRef:VE,useState:function(){return Hh(il)},useDebugValue:Km,useDeferredValue:function(t){var e=hn();return et===null?e.memoizedState=t:HE(e,et.memoizedState,t)},useTransition:function(){var t=Hh(il)[0],e=hn().memoizedState;return[t,e]},useMutableSource:kE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vd={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=is(t),i=fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(Cn(e,t,s,r),Dc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=is(t),i=fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(Cn(e,t,s,r),Dc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=is(t),s=fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=rs(t,s,r),e!==null&&(Cn(e,t,r,n),Dc(e,t,r))}};function lw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(s,i):!0}function YE(t,e,n){var r=!1,s=fs,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=zt(e)?ri:It.current,r=e.contextTypes,i=(r=r!=null)?po(t,s):fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function dp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Um(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=zt(e)?ri:It.current,s.context=po(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(up(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vd.enqueueReplaceState(s,s.state,null),yu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=DA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eu||(Eu=!0,Ep=r),hp(t,e)},n}function JE(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hp(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xR.bind(null,t,e,n),e.then(t,t))}function dw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var lR=Ar.ReactCurrentOwner,Ut=!1;function Nt(t,e,n,r){e.child=t===null?CE(e,null,n,r):go(e,t.child,n,r)}function fw(t,e,n,r,s){n=n.render;var i=e.ref;return to(e,s),r=Hm(t,e,n,r,i,s),n=qm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Re&&n&&jm(e),e.flags|=1,Nt(t,e,r,s),e.child)}function pw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ng(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ZE(t,e,i,r,s)):(t=Uc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=os(i,r),t.ref=e.ref,t.return=e,e.child=t}function ZE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ja(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,_r(t,e,s)}return fp(t,e,n,r,s)}function e1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Yi,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Yi,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Yi,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Yi,Kt),Kt|=r;return Nt(t,e,s,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fp(t,e,n,r,s){var i=zt(n)?ri:It.current;return i=po(e,i),to(e,s),n=Hm(t,e,n,r,i,s),r=qm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Re&&r&&jm(e),e.flags|=1,Nt(t,e,n,s),e.child)}function mw(t,e,n,r,s){if(zt(n)){var i=!0;hu(e)}else i=!1;if(to(e,s),e.stateNode===null)Mc(t,e),YE(e,n,r),dp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=zt(n)?ri:It.current,d=po(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&cw(e,o,r,d),$r=!1;var m=e.memoizedState;o.state=m,yu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Bt.current||$r?(typeof h=="function"&&(up(e,n,h,r),l=e.memoizedState),(a=$r||lw(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NE(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:vn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=zt(n)?ri:It.current,l=po(e,l));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&cw(e,o,r,l),$r=!1,m=e.memoizedState,o.state=m,yu(e,r,o,s);var C=e.memoizedState;a!==f||m!==C||Bt.current||$r?(typeof x=="function"&&(up(e,n,x,r),C=e.memoizedState),(d=$r||lw(e,n,d,r,m,C,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return pp(t,e,n,r,i,s)}function pp(t,e,n,r,s,i){t1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ew(e,n,!1),_r(t,e,i);r=e.stateNode,lR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,i),e.child=go(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&ew(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?Zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zv(t,e.context,!1),Bm(t,e.containerInfo)}function gw(t,e,n,r,s){return mo(),Om(s),e.flags|=256,Nt(t,e,n,r),e.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,s=ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(ke,s&1),t===null)return lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xd(o,r,0,null),t=ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gp(n),e.memoizedState=mp,t):Qm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=os(a,i):(i=ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mp,r}return i=t.child,t=i.sibling,r=os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qm(t,e){return e=xd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Om(r),go(e,t.child,null,n),t=Qm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qh(Error(B(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xd({mode:"visible",children:r.children},s,0,null),i=ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=gp(o),e.memoizedState=mp,i);if(!(e.mode&1))return hc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=qh(i,r,void 0),hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wr(t,s),Cn(r,t,s,-1))}return tg(),r=qh(Error(B(421))),hc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ER.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=ns(s.nextSibling),Xt=e,Re=!0,En=null,t!==null&&(sn[on++]=lr,sn[on++]=cr,sn[on++]=si,lr=t.id,cr=t.overflow,si=e),e=Qm(e,r.children),e.flags|=4096,e)}function yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function Gh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function s1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yw(t,n,e);else if(t.tag===19)yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gh(e,!0,n,null,i);break;case"together":Gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uR(t,e,n){switch(e.tag){case 3:n1(e),mo();break;case 5:RE(e);break;case 1:zt(e.type)&&hu(e);break;case 4:Bm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(mu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(Te(ke,ke.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Te(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return _r(t,e,n)}var i1,yp,o1,a1;i1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yp=function(){};o1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ks(Wn.current);var i=null;switch(n){case"input":s=Ff(t,s),r=Ff(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=zf(t,s),r=zf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uu)}Wf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ha.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dR(t,e,n){var r=e.pendingProps;switch(Dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return zt(e.type)&&du(),_t(e),null;case 3:return r=e.stateNode,yo(),Ne(Bt),Ne(It),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Ip(En),En=null))),yp(t,e),_t(e),null;case 5:zm(e);var s=Ks(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=Ks(Wn.current),uc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Un]=e,r[tl]=i,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(s=0;s<Ea.length;s++)be(Ea[s],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":bv(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":Av(r,i),be("invalid",r)}Wf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cc(r.textContent,a,t),s=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":tc(r),Cv(r,i,!0);break;case"textarea":tc(r),Nv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[tl]=r,i1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hf(n,r),n){case"dialog":be("cancel",t),be("close",t),s=r;break;case"iframe":case"object":case"embed":be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ea.length;s++)be(Ea[s],t);s=r;break;case"source":be("error",t),s=r;break;case"img":case"image":case"link":be("error",t),be("load",t),s=r;break;case"details":be("toggle",t),s=r;break;case"input":bv(t,r),s=Ff(t,r),be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),be("invalid",t);break;case"textarea":Av(t,r),s=zf(t,r),be("invalid",t);break;default:s=r}Wf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?V0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qa(t,l):typeof l=="number"&&qa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ha.hasOwnProperty(i)?l!=null&&i==="onScroll"&&be("scroll",t):l!=null&&wm(t,i,l,o))}switch(n){case"input":tc(t),Cv(t,r,!1);break;case"textarea":tc(t),Nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ks(rl.current),Ks(Wn.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return _t(e),null;case 13:if(Ne(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Yt!==null&&e.mode&1&&!(e.flags&128))IE(),mo(),e.flags|=98560,i=!1;else if(i=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Un]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else En!==null&&(Ip(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?tt===0&&(tt=3):tg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return yo(),yp(t,e),t===null&&Za(e.stateNode.containerInfo),_t(e),null;case 10:return Vm(e.type._context),_t(e),null;case 17:return zt(e.type)&&du(),_t(e),null;case 19:if(Ne(ke),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ma(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vu(t),o!==null){for(e.flags|=128,ma(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(ke,ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>wo&&(e.flags|=128,r=!0,ma(i,!1),e.lanes=4194304)}else{if(!r)if(t=vu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return _t(e),null}else 2*Ue()-i.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,ma(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=ke.current,Te(ke,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return eg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function hR(t,e){switch(Dm(e),e.tag){case 1:return zt(e.type)&&du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Ne(Bt),Ne(It),$m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(Ne(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(ke),null;case 4:return yo(),null;case 10:return Vm(e.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var fc=!1,Tt=!1,fR=typeof WeakSet=="function"?WeakSet:Set,q=null;function Qi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function vp(t,e,n){try{n()}catch(r){Le(t,e,r)}}var vw=!1;function pR(t,e){if(tp=au,t=hE(),Pm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:t,selectionRange:n},au=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,I=C.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:vn(e.type,_),I);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Le(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return C=vw,vw=!1,C}function La(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vp(e,n,i)}s=s.next}while(s!==r)}}function wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l1(t){var e=t.alternate;e!==null&&(t.alternate=null,l1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[tl],delete e[ip],delete e[YN],delete e[XN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c1(t){return t.tag===5||t.tag===3||t.tag===4}function ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uu));else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}function xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xp(t,e,n),t=t.sibling;t!==null;)xp(t,e,n),t=t.sibling}var lt=null,wn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)u1(t,e,n),n=n.sibling}function u1(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(dd,n)}catch{}switch(n.tag){case 5:Tt||Qi(n,e);case 6:var r=lt,s=wn;lt=null,Lr(t,e,n),lt=r,wn=s,lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?Uh(t.parentNode,n):t.nodeType===1&&Uh(t,n),Ya(t)):Uh(lt,n.stateNode));break;case 4:r=lt,s=wn,lt=n.stateNode.containerInfo,wn=!0,Lr(t,e,n),lt=r,wn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vp(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!Tt&&(Qi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Lr(t,e,n),Tt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fR),e.forEach(function(r){var s=TR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,wn=!1;break e;case 3:lt=a.stateNode.containerInfo,wn=!0;break e;case 4:lt=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(lt===null)throw Error(B(160));u1(i,o,s),lt=null,wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Le(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Ln(t),r&4){try{La(3,t,t.return),wd(3,t)}catch(_){Le(t,t.return,_)}try{La(5,t,t.return)}catch(_){Le(t,t.return,_)}}break;case 1:gn(e,t),Ln(t),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(gn(e,t),Ln(t),r&512&&n!==null&&Qi(n,n.return),t.flags&32){var s=t.stateNode;try{qa(s,"")}catch(_){Le(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&j0(s,i),Hf(a,o);var d=Hf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?V0(s,f):h==="dangerouslySetInnerHTML"?L0(s,f):h==="children"?qa(s,f):wm(s,h,f,d)}switch(a){case"input":Uf(s,i);break;case"textarea":D0(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Xi(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?Xi(s,!!i.multiple,i.defaultValue,!0):Xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[tl]=i}catch(_){Le(t,t.return,_)}}break;case 6:if(gn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Le(t,t.return,_)}}break;case 3:if(gn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(_){Le(t,t.return,_)}break;case 4:gn(e,t),Ln(t);break;case 13:gn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jm=Ue())),r&4&&_w(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(d=Tt)||h,gn(e,t),Tt=d):gn(e,t),Ln(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(m=q,x=m.child,m.tag){case 0:case 11:case 14:case 15:La(4,m,m.return);break;case 1:Qi(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){Le(r,n,_)}}break;case 5:Qi(m,m.return);break;case 22:if(m.memoizedState!==null){Ew(f);continue}}x!==null?(x.return=m,q=x):Ew(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M0("display",o))}catch(_){Le(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){Le(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(e,t),Ln(t),r&4&&_w(t);break;case 21:break;default:gn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qa(s,""),r.flags&=-33);var i=ww(t);xp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ww(t);_p(t,a,o);break;default:throw Error(B(161))}}catch(l){Le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mR(t,e,n){q=t,h1(t)}function h1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=fc;var d=Tt;if(fc=o,(Tt=l)&&!d)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Tw(s):l!==null?(l.return=o,q=l):Tw(s);for(;i!==null;)q=i,h1(i),i=i.sibling;q=s,fc=a,Tt=d}xw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):xw(t)}}function xw(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&wp(e)}catch(m){Le(e,e.return,m)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Ew(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Tw(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wd(4,e)}catch(l){Le(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Le(e,s,l)}}var i=e.return;try{wp(e)}catch(l){Le(e,i,l)}break;case 5:var o=e.return;try{wp(e)}catch(l){Le(e,o,l)}}}catch(l){Le(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var gR=Math.ceil,xu=Ar.ReactCurrentDispatcher,Ym=Ar.ReactCurrentOwner,un=Ar.ReactCurrentBatchConfig,fe=0,ot=null,He=null,pt=0,Kt=0,Yi=Is(0),tt=0,al=null,oi=0,_d=0,Xm=0,Ma=null,Vt=null,Jm=0,wo=1/0,ir=null,Eu=!1,Ep=null,ss=null,pc=!1,Yr=null,Tu=0,Va=0,Tp=null,Vc=-1,Fc=0;function Rt(){return fe&6?Ue():Vc!==-1?Vc:Vc=Ue()}function is(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:ZN.transition!==null?(Fc===0&&(Fc=Y0()),Fc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:rE(t.type)),t):1}function Cn(t,e,n,r){if(50<Va)throw Va=0,Tp=null,Error(B(185));Sl(t,n,r),(!(fe&2)||t!==ot)&&(t===ot&&(!(fe&2)&&(_d|=n),tt===4&&Hr(t,pt)),$t(t,r),n===1&&fe===0&&!(e.mode&1)&&(wo=Ue()+500,gd&&bs()))}function $t(t,e){var n=t.callbackNode;ZA(t,e);var r=ou(t,t===ot?pt:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?JN(Sw.bind(null,t)):EE(Sw.bind(null,t)),KN(function(){!(fe&6)&&bs()}),n=null;else{switch(X0(r)){case 1:n=Sm;break;case 4:n=K0;break;case 16:n=iu;break;case 536870912:n=Q0;break;default:n=iu}n=_1(n,f1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f1(t,e){if(Vc=-1,Fc=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=ou(t,t===ot?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Su(t,r);else{e=r;var s=fe;fe|=2;var i=m1();(ot!==t||pt!==e)&&(ir=null,wo=Ue()+500,Zs(t,e));do try{wR();break}catch(a){p1(t,a)}while(!0);Mm(),xu.current=i,fe=s,He!==null?e=0:(ot=null,pt=0,e=tt)}if(e!==0){if(e===2&&(s=Yf(t),s!==0&&(r=s,e=Sp(t,s))),e===1)throw n=al,Zs(t,0),Hr(t,r),$t(t,Ue()),n;if(e===6)Hr(t,r);else{if(s=t.current.alternate,!(r&30)&&!yR(s)&&(e=Su(t,r),e===2&&(i=Yf(t),i!==0&&(r=i,e=Sp(t,i))),e===1))throw n=al,Zs(t,0),Hr(t,r),$t(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:$s(t,Vt,ir);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=Jm+500-Ue(),10<e)){if(ou(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sp($s.bind(null,t,Vt,ir),e);break}$s(t,Vt,ir);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gR(r/1960))-r,10<r){t.timeoutHandle=sp($s.bind(null,t,Vt,ir),r);break}$s(t,Vt,ir);break;case 5:$s(t,Vt,ir);break;default:throw Error(B(329))}}}return $t(t,Ue()),t.callbackNode===n?f1.bind(null,t):null}function Sp(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=Su(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&Ip(e)),t}function Ip(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function yR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Xm,e&=~_d,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(fe&6)throw Error(B(327));no();var e=ou(t,0);if(!(e&1))return $t(t,Ue()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var r=Yf(t);r!==0&&(e=r,n=Sp(t,r))}if(n===1)throw n=al,Zs(t,0),Hr(t,e),$t(t,Ue()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,Vt,ir),$t(t,Ue()),null}function Zm(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(wo=Ue()+500,gd&&bs())}}function ai(t){Yr!==null&&Yr.tag===0&&!(fe&6)&&no();var e=fe;fe|=1;var n=un.transition,r=ve;try{if(un.transition=null,ve=1,t)return t()}finally{ve=r,un.transition=n,fe=e,!(fe&6)&&bs()}}function eg(){Kt=Yi.current,Ne(Yi)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GN(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&du();break;case 3:yo(),Ne(Bt),Ne(It),$m();break;case 5:zm(r);break;case 4:yo();break;case 13:Ne(ke);break;case 19:Ne(ke);break;case 10:Vm(r.type._context);break;case 22:case 23:eg()}n=n.return}if(ot=t,He=t=os(t.current,null),pt=Kt=e,tt=0,al=null,Xm=_d=oi=0,Vt=Ma=null,Gs!==null){for(e=0;e<Gs.length;e++)if(n=Gs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gs=null}return t}function p1(t,e){do{var n=He;try{if(Mm(),Oc.current=_u,wu){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wu=!1}if(ii=0,it=et=Pe=null,Oa=!1,sl=0,Ym.current=null,n===null||n.return===null){tt=1,al=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=dw(o);if(x!==null){x.flags&=-257,hw(x,o,a,i,e),x.mode&1&&uw(i,d,e),e=x,l=d;var C=e.updateQueue;if(C===null){var _=new Set;_.add(l),e.updateQueue=_}else C.add(l);break e}else{if(!(e&1)){uw(i,d,e),tg();break e}l=Error(B(426))}}else if(Re&&a.mode&1){var I=dw(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),hw(I,o,a,i,e),Om(vo(l,a));break e}}i=l=vo(l,a),tt!==4&&(tt=2),Ma===null?Ma=[i]:Ma.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=XE(i,l,e);sw(i,v);break e;case 1:a=l;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ss===null||!ss.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=JE(i,a,e);sw(i,P);break e}}i=i.return}while(i!==null)}y1(n)}catch(D){e=D,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function m1(){var t=xu.current;return xu.current=_u,t===null?_u:t}function tg(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(oi&268435455)&&!(_d&268435455)||Hr(ot,pt)}function Su(t,e){var n=fe;fe|=2;var r=m1();(ot!==t||pt!==e)&&(ir=null,Zs(t,e));do try{vR();break}catch(s){p1(t,s)}while(!0);if(Mm(),fe=n,xu.current=r,He!==null)throw Error(B(261));return ot=null,pt=0,tt}function vR(){for(;He!==null;)g1(He)}function wR(){for(;He!==null&&!WA();)g1(He)}function g1(t){var e=w1(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?y1(t):He=e,Ym.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hR(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,He=null;return}}else if(n=dR(n,e,Kt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);tt===0&&(tt=5)}function $s(t,e,n){var r=ve,s=un.transition;try{un.transition=null,ve=1,_R(t,e,n,r)}finally{un.transition=s,ve=r}return null}function _R(t,e,n,r){do no();while(Yr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(eN(t,i),t===ot&&(He=ot=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,_1(iu,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=un.transition,un.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Ym.current=null,pR(t,n),d1(n,t),UN(np),au=!!tp,np=tp=null,t.current=n,mR(n),HA(),fe=a,ve=o,un.transition=i}else t.current=n;if(pc&&(pc=!1,Yr=t,Tu=s),i=t.pendingLanes,i===0&&(ss=null),KA(n.stateNode),$t(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eu)throw Eu=!1,t=Ep,Ep=null,t;return Tu&1&&t.tag!==0&&no(),i=t.pendingLanes,i&1?t===Tp?Va++:(Va=0,Tp=t):Va=0,bs(),null}function no(){if(Yr!==null){var t=X0(Tu),e=un.transition,n=ve;try{if(un.transition=null,ve=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,Tu=0,fe&6)throw Error(B(331));var s=fe;for(fe|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(q=d;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:La(8,h,i)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var m=h.sibling,x=h.return;if(l1(h),h===d){q=null;break}if(m!==null){m.return=x,q=m;break}q=x}}}var C=i.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:La(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,q=v;break e}q=i.return}}var w=t.current;for(q=w;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=w;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wd(9,a)}}catch(D){Le(a,a.return,D)}if(a===o){q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,q=P;break e}q=a.return}}if(fe=s,bs(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(dd,t)}catch{}r=!0}return r}finally{ve=n,un.transition=e}}return!1}function Iw(t,e,n){e=vo(n,e),e=XE(t,e,1),t=rs(t,e,1),e=Rt(),t!==null&&(Sl(t,1,e),$t(t,e))}function Le(t,e,n){if(t.tag===3)Iw(t,t,n);else for(;e!==null;){if(e.tag===3){Iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=vo(n,t),t=JE(e,t,1),e=rs(e,t,1),t=Rt(),e!==null&&(Sl(e,1,t),$t(e,t));break}}e=e.return}}function xR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>Ue()-Jm?Zs(t,0):Xm|=n),$t(t,e)}function v1(t,e){e===0&&(t.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var n=Rt();t=wr(t,e),t!==null&&(Sl(t,e,n),$t(t,n))}function ER(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v1(t,n)}function TR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),v1(t,n)}var w1;w1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,uR(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Re&&e.flags&1048576&&TE(e,pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mc(t,e),t=e.pendingProps;var s=po(e,It.current);to(e,n),s=Hm(null,e,r,t,s,n);var i=qm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(i=!0,hu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Um(e),s.updater=vd,e.stateNode=s,s._reactInternals=e,dp(e,r,t,n),e=pp(null,e,r,!0,i,n)):(e.tag=0,Re&&i&&jm(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=IR(r),t=vn(r,t),s){case 0:e=fp(null,e,r,t,n);break e;case 1:e=mw(null,e,r,t,n);break e;case 11:e=fw(null,e,r,t,n);break e;case 14:e=pw(null,e,r,vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),mw(t,e,r,s,n);case 3:e:{if(n1(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NE(t,e),yu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vo(Error(B(423)),e),e=gw(t,e,r,n,s);break e}else if(r!==s){s=vo(Error(B(424)),e),e=gw(t,e,r,n,s);break e}else for(Yt=ns(e.stateNode.containerInfo.firstChild),Xt=e,Re=!0,En=null,n=CE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===s){e=_r(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return RE(e),t===null&&lp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rp(r,s)?o=null:i!==null&&rp(r,i)&&(e.flags|=32),t1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&lp(e),null;case 13:return r1(t,e,n);case 4:return Bm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),fw(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(mu,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Bt.current){e=_r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,to(e,n),s=dn(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=vn(r,e.pendingProps),s=vn(r.type,s),pw(t,e,r,s,n);case 15:return ZE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Mc(t,e),e.tag=1,zt(r)?(t=!0,hu(e)):t=!1,to(e,n),YE(e,r,s),dp(e,r,s,n),pp(null,e,r,!0,t,n);case 19:return s1(t,e,n);case 22:return e1(t,e,n)}throw Error(B(156,e.tag))};function _1(t,e){return G0(t,e)}function SR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new SR(t,e,n,r)}function ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IR(t){if(typeof t=="function")return ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xm)return 11;if(t===Em)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ng(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return ei(n.children,s,i,e);case _m:o=8,s|=8;break;case Of:return t=cn(12,n,e,s|2),t.elementType=Of,t.lanes=i,t;case Lf:return t=cn(13,n,e,s),t.elementType=Lf,t.lanes=i,t;case Mf:return t=cn(19,n,e,s),t.elementType=Mf,t.lanes=i,t;case R0:return xd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A0:o=10;break e;case N0:o=9;break e;case xm:o=11;break e;case Em:o=14;break e;case zr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ei(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function xd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=R0,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nh(0),this.expirationTimes=Nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rg(t,e,n,r,s,i,o,a,l){return t=new bR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(i),t}function CR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function x1(t){if(!t)return fs;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(zt(n))return xE(t,n,e)}return e}function E1(t,e,n,r,s,i,o,a,l){return t=rg(n,r,!0,t,s,i,o,a,l),t.context=x1(null),n=t.current,r=Rt(),s=is(n),i=fr(r,s),i.callback=e??null,rs(n,i,s),t.current.lanes=s,Sl(t,s,r),$t(t,r),t}function Ed(t,e,n,r){var s=e.current,i=Rt(),o=is(s);return n=x1(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(s,e,o),t!==null&&(Cn(t,s,o,i),Dc(t,s,o)),o}function Iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sg(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function AR(){return null}var T1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ig(t){this._internalRoot=t}Td.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Ed(t,e,null,null)};Td.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Ed(null,t,null,null)}),e[vr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=eE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&nE(t)}};function og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function NR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Iu(o);i.call(d)}}var o=E1(e,r,t,0,null,!1,!1,"",Cw);return t._reactRootContainer=o,t[vr]=o.current,Za(t.nodeType===8?t.parentNode:t),ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Iu(l);a.call(d)}}var l=rg(t,0,!1,null,null,!1,!1,"",Cw);return t._reactRootContainer=l,t[vr]=l.current,Za(t.nodeType===8?t.parentNode:t),ai(function(){Ed(e,l,n,r)}),l}function Id(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Iu(o);a.call(l)}}Ed(e,o,t,s)}else o=NR(n,e,t,s,r);return Iu(o)}J0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xa(e.pendingLanes);n!==0&&(Im(e,n|1),$t(e,Ue()),!(fe&6)&&(wo=Ue()+500,bs()))}break;case 13:ai(function(){var r=wr(t,1);if(r!==null){var s=Rt();Cn(r,t,1,s)}}),sg(t,1)}};bm=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Rt();Cn(e,t,134217728,n)}sg(t,134217728)}};Z0=function(t){if(t.tag===13){var e=is(t),n=wr(t,e);if(n!==null){var r=Rt();Cn(n,t,e,r)}sg(t,e)}};eE=function(){return ve};tE=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Gf=function(t,e,n){switch(e){case"input":if(Uf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=md(r);if(!s)throw Error(B(90));P0(r),Uf(r,s)}}}break;case"textarea":D0(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};B0=Zm;z0=ai;var RR={usingClientEntryPoint:!1,Events:[bl,Wi,md,F0,U0,Zm]},ga={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H0(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||AR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{dd=mc.inject(kR),$n=mc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(e))throw Error(B(200));return CR(t,e,null,n)};tn.createRoot=function(t,e){if(!og(t))throw Error(B(299));var n=!1,r="",s=T1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rg(t,1,!1,null,null,n,!1,r,s),t[vr]=e.current,Za(t.nodeType===8?t.parentNode:t),new ig(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=H0(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return ai(t)};tn.hydrate=function(t,e,n){if(!Sd(e))throw Error(B(200));return Id(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!og(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=T1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=E1(e,null,t,1,n??null,s,!1,i,o),t[vr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Td(e)};tn.render=function(t,e,n){if(!Sd(e))throw Error(B(200));return Id(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(B(40));return t._reactRootContainer?(ai(function(){Id(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};tn.unstable_batchedUpdates=Zm;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Id(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(t){console.error(t)}}S1(),S0.exports=tn;var jo=S0.exports;const PR=h0(jo);var I1,Aw=jo;I1=Aw.createRoot,Aw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const Nw="popstate";function jR(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return bp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bu(s)}return OR(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ag(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DR(){return Math.random().toString(36).substr(2,8)}function Rw(t,e){return{usr:t.state,key:t.key,idx:e}}function bp(t,e,n,r){return n===void 0&&(n=null),ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||DR()})}function bu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xr.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(ll({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Xr.Pop;let I=h(),v=I==null?null:I-d;d=I,l&&l({action:a,location:_.location,delta:v})}function m(I,v){a=Xr.Push;let w=bp(_.location,I,v);d=h()+1;let E=Rw(w,d),P=_.createHref(w);try{o.pushState(E,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&l&&l({action:a,location:_.location,delta:1})}function x(I,v){a=Xr.Replace;let w=bp(_.location,I,v);d=h();let E=Rw(w,d),P=_.createHref(w);o.replaceState(E,"",P),i&&l&&l({action:a,location:_.location,delta:0})}function C(I){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof I=="string"?I:bu(I);return w=w.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let _={get action(){return a},get location(){return t(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Nw,f),l=I,()=>{s.removeEventListener(Nw,f),l=null}},createHref(I){return e(s,I)},createURL:C,encodeLocation(I){let v=C(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:x,go(I){return o.go(I)}};return _}var kw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kw||(kw={}));function LR(t,e,n){return n===void 0&&(n="/"),MR(t,e,n)}function MR(t,e,n,r){let s=typeof e=="string"?Do(e):e,i=lg(s.pathname||"/",n);if(i==null)return null;let o=b1(t);VR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=YR(i);a=GR(o[l],d)}return a}function b1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=as([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),b1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:HR(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of C1(i.path))s(i,o,l)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=C1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FR=/^:[\w-]+$/,UR=3,BR=2,zR=1,$R=10,WR=-2,Pw=t=>t==="*";function HR(t,e){let n=t.split("/"),r=n.length;return n.some(Pw)&&(r+=WR),e&&(r+=BR),n.filter(s=>!Pw(s)).reduce((s,i)=>s+(FR.test(i)?UR:i===""?zR:$R),r)}function qR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=KR({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:as([i,f.pathname]),pathnameBase:tk(as([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=as([i,f.pathnameBase]))}return o}function KR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:x}=h;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const C=a[f];return x&&!C?d[m]=void 0:d[m]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function QR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ag(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ag(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JR=t=>XR.test(t);function ZR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Do(t):t,i;if(n)if(JR(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ag(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=jw(n.substring(1),"/"):i=jw(n,e)}else i=e;return{pathname:i,search:nk(r),hash:rk(s)}}function jw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ek(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cg(t,e){let n=ek(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ug(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Do(t):(s=ll({},t),Be(!s.pathname||!s.pathname.includes("?"),Yh("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),Yh("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),Yh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=ZR(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const as=t=>t.join("/").replace(/\/\/+/g,"/"),tk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A1=["post","put","patch","delete"];new Set(A1);const ik=["get",...A1];new Set(ik);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}const dg=y.createContext(null),ok=y.createContext(null),Cs=y.createContext(null),bd=y.createContext(null),As=y.createContext({outlet:null,matches:[],isDataRoute:!1}),N1=y.createContext(null);function ak(t,e){let{relative:n}=e===void 0?{}:e;Oo()||Be(!1);let{basename:r,navigator:s}=y.useContext(Cs),{hash:i,pathname:o,search:a}=k1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:as([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Oo(){return y.useContext(bd)!=null}function Lo(){return Oo()||Be(!1),y.useContext(bd).location}function R1(t){y.useContext(Cs).static||y.useLayoutEffect(t)}function Ns(){let{isDataRoute:t}=y.useContext(As);return t?_k():lk()}function lk(){Oo()||Be(!1);let t=y.useContext(dg),{basename:e,future:n,navigator:r}=y.useContext(Cs),{matches:s}=y.useContext(As),{pathname:i}=Lo(),o=JSON.stringify(cg(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return R1(()=>{a.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=ug(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function k1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Cs),{matches:s}=y.useContext(As),{pathname:i}=Lo(),o=JSON.stringify(cg(s,r.v7_relativeSplatPath));return y.useMemo(()=>ug(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ck(t,e){return uk(t,e)}function uk(t,e,n,r){Oo()||Be(!1);let{navigator:s}=y.useContext(Cs),{matches:i}=y.useContext(As),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Lo(),h;if(e){var f;let I=typeof e=="string"?Do(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||Be(!1),h=I}else h=d;let m=h.pathname||"/",x=m;if(l!=="/"){let I=l.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=LR(t,{pathname:x}),_=mk(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:as([l,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:as([l,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&_?y.createElement(bd.Provider,{value:{location:cl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xr.Pop}},_):_}function dk(){let t=wk(),e=sk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const hk=y.createElement(dk,null);class fk extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(As.Provider,{value:this.props.routeContext},y.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pk(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(dg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(As.Provider,{value:e},r)}function mk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Be(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:x}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||C){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let x,C=!1,_=null,I=null;n&&(x=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||hk,l&&(d<0&&m===0?(xk("route-fallback"),C=!0,I=null):d===m&&(C=!0,I=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),w=()=>{let E;return x?E=_:C?E=I:f.route.Component?E=y.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,y.createElement(pk,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(fk,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var P1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P1||{}),j1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(j1||{});function gk(t){let e=y.useContext(dg);return e||Be(!1),e}function yk(t){let e=y.useContext(ok);return e||Be(!1),e}function vk(t){let e=y.useContext(As);return e||Be(!1),e}function D1(t){let e=vk(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function wk(){var t;let e=y.useContext(N1),n=yk(),r=D1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _k(){let{router:t}=gk(P1.UseNavigateStable),e=D1(j1.UseNavigateStable),n=y.useRef(!1);return R1(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cl({fromRouteId:e},i)))},[t,e])}const Dw={};function xk(t,e,n){Dw[t]||(Dw[t]=!0)}function Ek(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tk(t){let{to:e,replace:n,state:r,relative:s}=t;Oo()||Be(!1);let{future:i,static:o}=y.useContext(Cs),{matches:a}=y.useContext(As),{pathname:l}=Lo(),d=Ns(),h=ug(e,cg(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function rn(t){Be(!1)}function Sk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xr.Pop,navigator:i,static:o=!1,future:a}=t;Oo()&&Be(!1);let l=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:l,navigator:i,static:o,future:cl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Do(r));let{pathname:h="/",search:f="",hash:m="",state:x=null,key:C="default"}=r,_=y.useMemo(()=>{let I=lg(h,l);return I==null?null:{location:{pathname:I,search:f,hash:m,state:x,key:C},navigationType:s}},[l,h,f,m,x,C,s]);return _==null?null:y.createElement(Cs.Provider,{value:d},y.createElement(bd.Provider,{children:n,value:_}))}function Ik(t){let{children:e,location:n}=t;return ck(Cp(e),n)}new Promise(()=>{});function Cp(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Cp(r.props.children,i));return}r.type!==rn&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function bk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ak(t,e){return t.button===0&&(!e||e==="_self")&&!Ck(t)}const Nk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rk="6";try{window.__reactRouterVersion=Rk}catch{}const kk="startTransition",Ow=ud[kk];function Pk(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=jR({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(f=>{d&&Ow?Ow(()=>l(f)):l(f)},[l,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>Ek(r),[r]),y.createElement(Sk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,m=bk(e,Nk),{basename:x}=y.useContext(Cs),C,_=!1;if(typeof d=="string"&&Dk.test(d)&&(C=d,jk))try{let E=new URL(window.location.href),P=d.startsWith("//")?new URL(E.protocol+d):new URL(d),D=lg(P.pathname,x);P.origin===E.origin&&D!=null?d=D+P.search+P.hash:_=!0}catch{}let I=ak(d,{relative:s}),v=Ok(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||v(E)}return y.createElement("a",Ap({},m,{href:C||I,onClick:_||i?r:w,ref:n,target:l}))});var Lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lw||(Lw={}));var Mw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mw||(Mw={}));function Ok(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ns(),d=Lo(),h=k1(t,{relative:o});return y.useCallback(f=>{if(Ak(f,n)){f.preventDefault();let m=r!==void 0?r:bu(d)===bu(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}const Lk=()=>{};var Vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Mk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},L1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,x=d&63;l||(x=64,o||(m=64)),r.push(n[h],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new Vk;const m=i<<2|a>>4;if(r.push(m),d!==64){const x=a<<4&240|d>>2;if(r.push(x),f!==64){const C=d<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fk=function(t){const e=O1(t);return L1.encodeByteArray(e,!0)},Cu=function(t){return Fk(t).replace(/\./g,"")},M1=function(t){try{return L1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=()=>Uk().__FIREBASE_DEFAULTS__,zk=()=>{if(typeof process>"u"||typeof Vw>"u")return;const t=Vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$k=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M1(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return Lk()||Bk()||zk()||$k()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V1=t=>{var e,n;return(n=(e=Cd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},F1=t=>{const e=V1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U1=()=>{var t;return(t=Cd())==null?void 0:t.config},B1=t=>{var e;return(e=Cd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),""].join(".")}const Fa={};function Hk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fa))Fa[e]?t.emulator.push(e):t.prod.push(e);return t}function qk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fw=!1;function fg(t,e){if(typeof window>"u"||typeof document>"u"||!_i(window.location.host)||Fa[t]===e||Fa[t]||Fw)return;Fa[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Hk().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,x){m.setAttribute("width","24"),m.setAttribute("id",x),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Fw=!0,o()},m}function h(m,x){m.setAttribute("id",x),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=qk(r),x=n("text"),C=document.getElementById(x)||document.createElement("span"),_=n("learnmore"),I=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),h(I,_);const P=d();l(w,v),E.append(w,C,I,P),document.body.appendChild(E)}i?(C.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Kk(){var e;const t=(e=Cd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xk(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jk(){return!Kk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function Zk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eP,Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xi.prototype.create)}}class xi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?tP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new mn(s,a,r)}}function tP(t,e){return t.replace(nP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nP=/\{\$([^}]+)}/g;function rP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Uw(i)&&Uw(o)){if(!ps(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sP(t,e){const n=new iP(t,e);return n.subscribe.bind(n)}class iP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xh),s.error===void 0&&(s.error=Xh),s.complete===void 0&&(s.complete=Xh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1e3,lP=2,cP=4*60*60*1e3,uP=.5;function Bw(t,e=aP,n=lP){const r=e*Math.pow(n,t),s=Math.round(uP*r*(Math.random()-.5)*2);return Math.min(cP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fP(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hP(t){return t===Ws?void 0:t}function fP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const mP={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},gP=ce.INFO,yP={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},vP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=gP,this._logHandler=vP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const wP=(t,e)=>e.some(n=>t instanceof n);let zw,$w;function _P(){return zw||(zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xP(){return $w||($w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q1=new WeakMap,Np=new WeakMap,G1=new WeakMap,Jh=new WeakMap,pg=new WeakMap;function EP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ls(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q1.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function TP(t){if(Np.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Np.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SP(t){Rp=t(Rp)}function IP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zh(this),e,...n);return G1.set(r,e.sort?e.sort():[e]),ls(r)}:xP().includes(t)?function(...e){return t.apply(Zh(this),e),ls(q1.get(this))}:function(...e){return ls(t.apply(Zh(this),e))}}function bP(t){return typeof t=="function"?IP(t):(t instanceof IDBTransaction&&TP(t),wP(t,_P())?new Proxy(t,Rp):t)}function ls(t){if(t instanceof IDBRequest)return EP(t);if(Jh.has(t))return Jh.get(t);const e=bP(t);return e!==t&&(Jh.set(t,e),pg.set(e,t)),e}const Zh=t=>pg.get(t);function K1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const CP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],ef=new Map;function Ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return ef.set(e,i),i}SP(t=>({...t,get:(e,n,r)=>Ww(e,n)||t.get(e,n,r),has:(e,n)=>!!Ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",Hw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Ad("@firebase/app"),kP="@firebase/app-compat",PP="@firebase/analytics-compat",jP="@firebase/analytics",DP="@firebase/app-check-compat",OP="@firebase/app-check",LP="@firebase/auth",MP="@firebase/auth-compat",VP="@firebase/database",FP="@firebase/data-connect",UP="@firebase/database-compat",BP="@firebase/functions",zP="@firebase/functions-compat",$P="@firebase/installations",WP="@firebase/installations-compat",HP="@firebase/messaging",qP="@firebase/messaging-compat",GP="@firebase/performance",KP="@firebase/performance-compat",QP="@firebase/remote-config",YP="@firebase/remote-config-compat",XP="@firebase/storage",JP="@firebase/storage-compat",ZP="@firebase/firestore",e2="@firebase/ai",t2="@firebase/firestore-compat",n2="firebase",r2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",s2={[kp]:"fire-core",[kP]:"fire-core-compat",[jP]:"fire-analytics",[PP]:"fire-analytics-compat",[OP]:"fire-app-check",[DP]:"fire-app-check-compat",[LP]:"fire-auth",[MP]:"fire-auth-compat",[VP]:"fire-rtdb",[FP]:"fire-data-connect",[UP]:"fire-rtdb-compat",[BP]:"fire-fn",[zP]:"fire-fn-compat",[$P]:"fire-iid",[WP]:"fire-iid-compat",[HP]:"fire-fcm",[qP]:"fire-fcm-compat",[GP]:"fire-perf",[KP]:"fire-perf-compat",[QP]:"fire-rc",[YP]:"fire-rc-compat",[XP]:"fire-gcs",[JP]:"fire-gcs-compat",[ZP]:"fire-fst",[t2]:"fire-fst-compat",[e2]:"fire-vertex","fire-js":"fire-js",[n2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,i2=new Map,jp=new Map;function qw(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rn(t){const e=t.name;if(jp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,t);for(const n of Au.values())qw(n,t);for(const n of i2.values())qw(n,t);return!0}function Rs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new xi("app","Firebase",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=r2;function Q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(n||(n=U1()),!n)throw cs.create("no-options");const i=Au.get(s);if(i){if(ps(n,i.options)&&ps(r,i.config))return i;throw cs.create("duplicate-app",{appName:s})}const o=new pP(s);for(const l of jp.values())o.addComponent(l);const a=new a2(n,r,o);return Au.set(s,a),a}function Nd(t=Pp){const e=Au.get(t);if(!e&&t===Pp&&U1())return Q1();if(!e)throw cs.create("no-app",{appName:t});return e}function Wt(t,e,n){let r=s2[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(o.join(" "));return}Rn(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-heartbeat-database",c2=1,ul="firebase-heartbeat-store";let tf=null;function Y1(){return tf||(tf=K1(l2,c2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),tf}async function u2(t){try{const n=(await Y1()).transaction(ul),r=await n.objectStore(ul).get(X1(t));return await n.done,r}catch(e){if(e instanceof mn)xr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function Gw(t,e){try{const r=(await Y1()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,X1(t)),await r.done}catch(n){if(n instanceof mn)xr.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function X1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>h2){const o=g2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kw(),{heartbeatsToSend:r,unsentEntries:s}=p2(this._heartbeatsCache.heartbeats),i=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xr.warn(n),""}}}function Kw(){return new Date().toISOString().substring(0,10)}function p2(t,e=d2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Qw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}function g2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){Rn(new fn("platform-logger",e=>new NP(e),"PRIVATE")),Rn(new fn("heartbeat",e=>new f2(e),"PRIVATE")),Wt(kp,Hw,t),Wt(kp,Hw,"esm2020"),Wt("fire-js","")}y2("");function J1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v2=J1,Z1=new xi("auth","Firebase",J1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Ad("@firebase/auth");function w2(t,...e){Nu.logLevel<=ce.WARN&&Nu.warn(`Auth (${Ei}): ${t}`,...e)}function Bc(t,...e){Nu.logLevel<=ce.ERROR&&Nu.error(`Auth (${Ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw gg(t,...e)}function An(t,...e){return gg(t,...e)}function mg(t,e,n){const r={...v2(),[e]:n};return new xi("auth","Firebase",r).create(e,{appName:t.name})}function pr(t){return mg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),mg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z1.create(t,...e)}function J(t,e,...n){if(!t)throw gg(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function Er(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function x2(){return Yw()==="http:"||Yw()==="https:"}function Yw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||$1()||"connection"in navigator)?navigator.onLine:!0}function T2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=Gk()||Yk()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b2=new Nl(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Nr(t,e,n,r,s={}){return tT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Al({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return Qk()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&_i(t.emulatorConfig.host)&&(d.credentials="include"),eT.fetch()(await nT(t,t.config.apiHost,n,a),d)})}async function tT(t,e,n){t._canInitEmulator=!1;const r={...S2,...e};try{const s=new A2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mg(t,h,d);pn(t,h)}}catch(s){if(s instanceof mn)throw s;pn(t,"network-request-failed",{message:String(s)})}}async function Rl(t,e,n,r,s={}){const i=await Nr(t,e,n,r,s);return"mfaPendingCredential"in i&&pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function nT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?yg(t.config,s):`${t.config.apiScheme}://${s}`;return I2.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function C2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),b2.get())})}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=An(t,e,r);return s.customData._tokenResponse=n,s}function Xw(t){return t!==void 0&&t.enterprise!==void 0}class N2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R2(t,e){return Nr(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function Ru(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),s=vg(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ua(nf(s.auth_time)),issuedAtTime:Ua(nf(s.iat)),expirationTime:Ua(nf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nf(t){return Number(t)*1e3}function vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const s=M1(n);return s?JSON.parse(s):(Bc("Failed to decode base64 JWT payload"),null)}catch(s){return Bc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Jw(t){const e=vg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mn&&j2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){var f;const e=t.auth,n=await t.getIdToken(),r=await _o(t,Ru(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?rT(s.providerUserInfo):[],o=L2(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function O2(t){const e=Qe(t);await ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){const n=await tT(t,{},async()=>{const r=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await nT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&_i(t.emulatorConfig.host)&&(l.credentials="include"),eT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V2(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await M2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ro;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Op(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return O2(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await _o(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:x,providerData:C,stsTokenManager:_}=n;J(f&&_,e,"internal-error");const I=ro.fromJSON(this.name,_);J(typeof f=="string",e,"internal-error"),Mr(r,e.name),Mr(s,e.name),J(typeof m=="boolean",e,"internal-error"),J(typeof x=="boolean",e,"internal-error"),Mr(i,e.name),Mr(o,e.name),Mr(a,e.name),Mr(l,e.name),Mr(d,e.name),Mr(h,e.name);const v=new Tn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:I,createdAt:d,lastLoginAt:h});return C&&Array.isArray(C)&&(v.providerData=C.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new ro;s.updateFromServerResponse(n);const i=new Tn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ku(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];J(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?rT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ro;a.updateFromIdToken(r);const l=new Tn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;function dr(t){Er(t instanceof Function,"Expected a class definition");let e=Zw.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sT.type="NONE";const e_=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=zc(this.userKey,s.apiKey,i),this.fullPersistenceKey=zc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ru(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(dr(e_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||dr(e_);const o=zc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Ru(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Tn._fromGetAccountInfoResponse(e,m,h)}else f=Tn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new so(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new so(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(dT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iT(t=bt()){return/firefox\//i.test(t)}function oT(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(t=bt()){return/crios\//i.test(t)}function lT(t=bt()){return/iemobile/i.test(t)}function cT(t=bt()){return/android/i.test(t)}function uT(t=bt()){return/blackberry/i.test(t)}function dT(t=bt()){return/webos/i.test(t)}function wg(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F2(t=bt()){var e;return wg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function U2(){return Xk()&&document.documentMode===10}function hT(t=bt()){return wg(t)||cT(t)||dT(t)||uT(t)||/windows phone/i.test(t)||lT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e=[]){let n;switch(t){case"Browser":n=t_(bt());break;case"Worker":n=`${t_(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=6;class W2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new B2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ru(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ft(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(pr(this));const n=e?Qe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z2(this),n=new W2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&w2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ps(t){return Qe(t)}class n_{constructor(e){this.auth=e,this.observer=null,this.addObserver=sP(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(t){Rd=t}function pT(t){return Rd.loadJS(t)}function G2(){return Rd.recaptchaEnterpriseScript}function K2(){return Rd.gapiScript}function Q2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Y2{constructor(){this.enterprise=new X2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J2="recaptcha-enterprise",mT="NO_RECAPTCHA";class Z2{constructor(e){this.type=J2,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{R2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new N2(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Xw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(mT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y2().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Xw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G2();l.length!==0&&(l+=a),pT(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function r_(t,e,n,r=!1,s=!1){const i=new Z2(t);let o;if(s)o=mT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Lp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await r_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await r_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){const n=Rs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ps(i,e??{}))return s;pn(s,"already-initialized")}return n.initialize({options:e})}function tj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nj(t,e,n){const r=Ps(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=gT(e),{host:o,port:a}=rj(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(ps(d,r.config.emulator)&&ps(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_i(o)?(hg(`${i}//${o}${l}`),fg("Auth",!0)):sj()}function gT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rj(t){const e=gT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:s_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:s_(o)}}}function s_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function ij(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return Rl(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function lj(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends _g{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",oj);case"emailLink":return aj(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,r,"signUpPassword",ij);case"emailLink":return lj(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e){return Rl(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class li extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Al(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dj(t){const e=Ta(Sa(t)).link,n=e?Ta(Sa(e)).deep_link_id:null,r=Ta(Sa(t)).deep_link_id;return(r?Ta(Sa(r)).link:null)||r||n||e||t}class xg{constructor(e){const n=Ta(Sa(e)),r=n.apiKey??null,s=n.oobCode??null,i=uj(n.mode??null);J(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dj(e);try{return new xg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xg.parseLink(n);return J(r,"argument-error"),dl._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends kl{constructor(){super("facebook.com")}static credential(e){return li._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return li._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends kl{constructor(){super("github.com")}static credential(e){return li._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends kl{constructor(){super("twitter.com")}static credential(e,n){return li._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e){return Rl(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Tn._fromIdTokenResponse(e,r,s),o=i_(r);return new ci({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=i_(r);return new ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function i_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends mn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pu(e,n,r,s)}}function yT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pu._fromErrorAndOperation(t,i,e,r):i})}async function fj(t,e,n=!1){const r=await _o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e,n=!1){const{auth:r}=t;if(Ft(r.app))return Promise.reject(pr(r));const s="reauthenticate";try{const i=await _o(t,yT(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=vg(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),ci._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t,e,n=!1){if(Ft(t.app))return Promise.reject(pr(t));const r="signIn",s=await yT(t,r,e),i=await ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function mj(t,e){return vT(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gj(t,e,n){if(Ft(t.app))return Promise.reject(pr(t));const r=Ps(t),o=await Lp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wT(t),l}),a=await ci._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function yj(t,e,n){return Ft(t.app)?Promise.reject(pr(t)):mj(Qe(t),Mo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return Nr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _o(r,vj(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function _j(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function xj(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function Ej(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function Tj(t){return Qe(t).signOut()}const ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3,Ij=10;class xT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);U2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ij):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const bj=xT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ET.type="SESSION";const TT=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await Cj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Tg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function Nj(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function Rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Pj(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebaseLocalStorageDb",jj=1,Du="firebaseLocalStorage",bT="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([Du],e?"readwrite":"readonly").objectStore(Du)}function Dj(){const t=indexedDB.deleteDatabase(IT);return new Pl(t).toPromise()}function Mp(){const t=indexedDB.open(IT,jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Du,{keyPath:bT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Du)?e(r):(r.close(),await Dj(),e(await Mp()))})})}async function o_(t,e,n){const r=Pd(t,!0).put({[bT]:e,value:n});return new Pl(r).toPromise()}async function Oj(t,e){const n=Pd(t,!1).get(e),r=await new Pl(n).toPromise();return r===void 0?null:r.value}function a_(t,e){const n=Pd(t,!0).delete(e);return new Pl(n).toPromise()}const Lj=800,Mj=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(Pj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Aj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await o_(e,ju,"1"),await a_(e,ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>o_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Pd(s,!1).getAll();return new Pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const Vj=CT;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return e?dr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fj(t){return vT(t.auth,new Sg(t),t.bypassAuthState)}function Uj(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),pj(n,new Sg(t),t.bypassAuthState)}async function Bj(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),fj(n,new Sg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fj;case"linkViaPopup":case"linkViaRedirect":return Bj;case"reauthViaPopup":case"reauthViaRedirect":return Uj;default:pn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Nl(2e3,1e4);async function $j(t,e,n){if(Ft(t.app))return Promise.reject(An(t,"operation-not-supported-in-this-environment"));const r=Ps(t);_2(t,e,Eg);const s=AT(r,n);return new Qs(r,"signInViaPopup",e,s).executeNotNull()}class Qs extends NT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zj.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="pendingRedirect",$c=new Map;class Hj extends NT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qj(t,e){const n=Qj(e),r=Kj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Gj(t,e){$c.set(t._key(),e)}function Kj(t){return dr(t._redirectPersistence)}function Qj(t){return zc(Wj,t.config.apiKey,t.name)}async function Yj(t,e,n=!1){if(Ft(t.app))return Promise.reject(pr(t));const r=Ps(t),s=AT(r,e),o=await new Hj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=10*60*1e3;class Jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(An(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function rD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eD(t);for(const n of e)try{if(sD(n))return}catch{}pn(t,"unauthorized-domain")}function sD(t){const e=Dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nD.test(n))return!1;if(tD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Nl(3e4,6e4);function c_(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oD(t){return new Promise((e,n)=>{var s,i,o;function r(){c_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c_(),n(An(t,"network-request-failed"))},timeout:iD.get()})}if((i=(s=Hn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Hn().gapi)!=null&&o.load)r();else{const a=Q2("iframefcb");return Hn()[a]=()=>{gapi.load?r():n(An(t,"network-request-failed"))},pT(`${K2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function aD(t){return Wc=Wc||oD(t),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Nl(5e3,15e3),cD="__/auth/iframe",uD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yg(e,uD):`https://${t.config.authDomain}/${cD}`,r={apiKey:e.apiKey,appName:t.name,v:Ei},s=hD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Al(r).slice(1)}`}async function pD(t){const e=await aD(t),n=Hn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:fD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=An(t,"network-request-failed"),a=Hn().setTimeout(()=>{i(o)},lD.get());function l(){Hn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,yD=600,vD="_blank",wD="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _D(t,e,n,r=gD,s=yD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...mD,width:r.toString(),height:s.toString(),top:i,left:o},d=bt().toLowerCase();n&&(a=aT(d)?vD:n),iT(d)&&(e=e||wD,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[x,C])=>`${m}${x}=${C},`,"");if(F2(d)&&a!=="_self")return xD(e||"",a),new u_(null);const f=window.open(e||"",a,h);J(f,t,"popup-blocked");try{f.focus()}catch{}return new u_(f)}function xD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="__/auth/handler",TD="emulator/auth/handler",SD=encodeURIComponent("fac");async function d_(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ei,eventId:s};if(e instanceof Eg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof kl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${SD}=${encodeURIComponent(l)}`:"";return`${ID(t)}?${Al(a).slice(1)}${d}`}function ID({config:t}){return t.emulator?yg(t,TD):`https://${t.authDomain}/${ED}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=Yj,this._overrideRedirectResult=Gj}async _openPopup(e,n,r,s){var o;Er((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await d_(e,n,r,Dp(),s);return _D(e,i,Tg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await d_(e,n,r,Dp(),s);return Nj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Er(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pD(e),r=new Jj(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rf,{type:rf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[rf];i!==void 0&&n(!!i),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||oT()||wg()}}const CD=bD;var h_="@firebase/auth",f_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RD(t){Rn(new fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(t)},d=new H2(r,s,i,l);return tj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new fn("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new AD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(h_,f_,ND(t)),Wt(h_,f_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,PD=B1("authIdTokenMaxAge")||kD;let p_=null;const jD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PD)return;const s=n==null?void 0:n.token;p_!==s&&(p_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function DD(t=Nd()){const e=Rs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ej(t,{popupRedirectResolver:CD,persistence:[Vj,bj,TT]}),r=B1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jD(i.toString());xj(n,o,()=>o(n.currentUser)),_j(n,a=>o(a))}}const s=V1("auth");return s&&nj(n,`http://${s}`),n}function OD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=An("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",OD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RD("Browser");var LD="firebase",MD="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt(LD,MD,"app");const kT="@firebase/installations",Ig="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=1e4,jT=`w:${Ig}`,DT="FIS_v2",VD="https://firebaseinstallations.googleapis.com/v1",FD=60*60*1e3,UD="installations",BD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ui=new xi(UD,BD,zD);function OT(t){return t instanceof mn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT({projectId:t}){return`${VD}/projects/${t}/installations`}function MT(t){return{token:t.token,requestStatus:2,expiresIn:WD(t.expiresIn),creationTime:Date.now()}}async function VT(t,e){const r=(await e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $D(t,{refreshToken:e}){const n=FT(t);return n.append("Authorization",HD(e)),n}async function UT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WD(t){return Number(t.replace("s","000"))}function HD(t){return`${DT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=LT(t),s=FT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:DT,appId:t.appId,sdkVersion:jT},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await UT(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:MT(d.authToken)}}else throw await VT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^[cdef][\w-]{21}$/,Vp="";function QD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YD(t);return KD.test(n)?n:Vp}catch{return Vp}}function YD(t){return GD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;function $T(t,e){const n=jd(t);WT(n,e),XD(n,e)}function WT(t,e){const n=zT.get(t);if(n)for(const r of n)r(e)}function XD(t,e){const n=JD();n&&n.postMessage({key:t,fid:e}),ZD()}let Ys=null;function JD(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=t=>{WT(t.data.key,t.data.fid)}),Ys}function ZD(){zT.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="firebase-installations-database",t4=1,di="firebase-installations-store";let sf=null;function bg(){return sf||(sf=K1(e4,t4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(di)}}})),sf}async function Ou(t,e){const n=jd(t),s=(await bg()).transaction(di,"readwrite"),i=s.objectStore(di),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&$T(t,e.fid),e}async function HT(t){const e=jd(t),r=(await bg()).transaction(di,"readwrite");await r.objectStore(di).delete(e),await r.done}async function Dd(t,e){const n=jd(t),s=(await bg()).transaction(di,"readwrite"),i=s.objectStore(di),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&$T(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t){let e;const n=await Dd(t.appConfig,r=>{const s=n4(r),i=r4(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Vp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function n4(t){const e=t||{fid:QD(),registrationStatus:0};return qT(e)}function r4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ui.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=s4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i4(t)}:{installationEntry:e}}async function s4(t,e){try{const n=await qD(t,e);return Ou(t.appConfig,n)}catch(n){throw OT(n)&&n.customData.serverCode===409?await HT(t.appConfig):await Ou(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i4(t){let e=await m_(t.appConfig);for(;e.registrationStatus===1;)await BT(100),e=await m_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Cg(t);return r||n}return e}function m_(t){return Dd(t,e=>{if(!e)throw ui.create("installation-not-found");return qT(e)})}function qT(t){return o4(t)?{fid:t.fid,registrationStatus:0}:t}function o4(t){return t.registrationStatus===1&&t.registrationTime+PT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4({appConfig:t,heartbeatServiceProvider:e},n){const r=l4(t,n),s=$D(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:jT,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await UT(()=>fetch(r,a));if(l.ok){const d=await l.json();return MT(d)}else throw await VT("Generate Auth Token",l)}function l4(t,{fid:e}){return`${LT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(t,e=!1){let n;const r=await Dd(t.appConfig,i=>{if(!GT(i))throw ui.create("not-registered");const o=i.authToken;if(!e&&d4(o))return i;if(o.requestStatus===1)return n=c4(t,e),i;{if(!navigator.onLine)throw ui.create("app-offline");const a=f4(i);return n=u4(t,a),a}});return n?await n:r.authToken}async function c4(t,e){let n=await g_(t.appConfig);for(;n.authToken.requestStatus===1;)await BT(100),n=await g_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ag(t,e):r}function g_(t){return Dd(t,e=>{if(!GT(e))throw ui.create("not-registered");const n=e.authToken;return p4(n)?{...e,authToken:{requestStatus:0}}:e})}async function u4(t,e){try{const n=await a4(t,e),r={...e,authToken:n};return await Ou(t.appConfig,r),n}catch(n){if(OT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ou(t.appConfig,r)}throw n}}function GT(t){return t!==void 0&&t.registrationStatus===2}function d4(t){return t.requestStatus===2&&!h4(t)}function h4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FD}function f4(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function p4(t){return t.requestStatus===1&&t.requestTime+PT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t){const e=t,{installationEntry:n,registrationPromise:r}=await Cg(e);return r?r.catch(console.error):Ag(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e=!1){const n=t;return await y4(n),(await Ag(n,e)).token}async function y4(t){const{registrationPromise:e}=await Cg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){if(!t||!t.options)throw of("App Configuration");if(!t.name)throw of("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw of(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function of(t){return ui.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="installations",w4="installations-internal",_4=t=>{const e=t.getProvider("app").getImmediate(),n=v4(e),r=Rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x4=t=>{const e=t.getProvider("app").getImmediate(),n=Rs(e,KT).getImmediate();return{getId:()=>m4(n),getToken:s=>g4(n,s)}};function E4(){Rn(new fn(KT,_4,"PUBLIC")),Rn(new fn(w4,x4,"PRIVATE"))}E4();Wt(kT,Ig);Wt(kT,Ig,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="analytics",T4="firebase_id",S4="origin",I4=60*1e3,b4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ng="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt=new Ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jt=new xi("analytics","Analytics",C4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){if(!t.startsWith(Ng)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function QT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function N4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function R4(t,e){const n=N4("firebase-js-sdk-policy",{createScriptURL:A4}),r=document.createElement("script"),s=`${Ng}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function k4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function P4(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await QT(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){kt.error(a)}t("config",s,i)}async function j4(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await QT(n);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){kt.error(i)}}function D4(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await j4(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await P4(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){kt.error(a)}}return s}function O4(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=D4(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function L4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ng)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=30,V4=1e3;class F4{constructor(e={},n=V4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YT=new F4;function U4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function B4(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:U4(n)},s=b4.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function z4(t,e=YT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Jt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Jt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H4;return setTimeout(async()=>{a.abort()},I4),XT({appId:r,apiKey:s,measurementId:i},o,a,e)}async function XT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=YT){var a;const{appId:i,measurementId:o}=t;try{await $4(r,e)}catch(l){if(o)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await B4(t);return s.deleteThrottleMetadata(i),l}catch(l){const d=l;if(!W4(d)){if(s.deleteThrottleMetadata(i),o)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?Bw(n,s.intervalMillis,M4):Bw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),kt.debug(`Calling attemptFetch again in ${h} millis`),XT(t,f,r,s)}}function $4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W4(t){if(!(t instanceof mn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function G4(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(){if(W1())try{await H1()}catch(t){return kt.warn(Jt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q4(t,e,n,r,s,i,o){const a=z4(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>kt.error(m)),e.push(a);const l=K4().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([a,l]);L4(i)||R4(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[S4]="firebase",f.update=!0,h!=null&&(f[T4]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},y_=[];const v_={};let af="dataLayer",X4="gtag",w_,Rg,__=!1;function J4(){const t=[];if($1()&&t.push("This is a browser extension environment."),Zk()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}function Z4(t,e,n){J4();const r=t.options.appId;if(!r)throw Jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jt.create("no-api-key");if(oo[r]!=null)throw Jt.create("already-exists",{id:r});if(!__){k4(af);const{wrappedGtag:i,gtagCore:o}=O4(oo,y_,v_,af,X4);Rg=i,w_=o,__=!0}return oo[r]=Q4(t,y_,v_,e,w_,af,n),new Y4(t)}function eO(t=Nd()){t=Qe(t);const e=Rs(t,Lu);return e.isInitialized()?e.getImmediate():tO(t)}function tO(t,e={}){const n=Rs(t,Lu);if(n.isInitialized()){const s=n.getImmediate();if(ps(e,n.getOptions()))return s;throw Jt.create("already-initialized")}return n.initialize({options:e})}function nO(t,e,n){t=Qe(t),G4(Rg,oo[t.app.options.appId],e,n).catch(r=>kt.error(r))}function rO(t,e,n,r){t=Qe(t),q4(Rg,oo[t.app.options.appId],e,n,r).catch(s=>kt.error(s))}const x_="@firebase/analytics",E_="0.10.19";function sO(){Rn(new fn(Lu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Z4(r,s,n)},"PUBLIC")),Rn(new fn("analytics-internal",t,"PRIVATE")),Wt(x_,E_),Wt(x_,E_,"esm2020");function t(e){try{const n=e.getProvider(Lu).getImmediate();return{logEvent:(r,s,i)=>rO(n,r,s,i),setUserProperties:(r,s)=>nO(n,r,s)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}}}sO();var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,JT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function b(){}b.prototype=T.prototype,S.F=T.prototype,S.prototype=new b,S.prototype.constructor=S,S.D=function(R,j,k){for(var N=Array(arguments.length-2),G=2;G<arguments.length;G++)N[G-2]=arguments[G];return T.prototype[j].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,b){b||(b=0);const R=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)R[j]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(j=0;j<16;++j)R[j]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=S.g[0],b=S.g[1],j=S.g[2];let k=S.g[3],N;N=T+(k^b&(j^k))+R[0]+3614090360&4294967295,T=b+(N<<7&4294967295|N>>>25),N=k+(j^T&(b^j))+R[1]+3905402710&4294967295,k=T+(N<<12&4294967295|N>>>20),N=j+(b^k&(T^b))+R[2]+606105819&4294967295,j=k+(N<<17&4294967295|N>>>15),N=b+(T^j&(k^T))+R[3]+3250441966&4294967295,b=j+(N<<22&4294967295|N>>>10),N=T+(k^b&(j^k))+R[4]+4118548399&4294967295,T=b+(N<<7&4294967295|N>>>25),N=k+(j^T&(b^j))+R[5]+1200080426&4294967295,k=T+(N<<12&4294967295|N>>>20),N=j+(b^k&(T^b))+R[6]+2821735955&4294967295,j=k+(N<<17&4294967295|N>>>15),N=b+(T^j&(k^T))+R[7]+4249261313&4294967295,b=j+(N<<22&4294967295|N>>>10),N=T+(k^b&(j^k))+R[8]+1770035416&4294967295,T=b+(N<<7&4294967295|N>>>25),N=k+(j^T&(b^j))+R[9]+2336552879&4294967295,k=T+(N<<12&4294967295|N>>>20),N=j+(b^k&(T^b))+R[10]+4294925233&4294967295,j=k+(N<<17&4294967295|N>>>15),N=b+(T^j&(k^T))+R[11]+2304563134&4294967295,b=j+(N<<22&4294967295|N>>>10),N=T+(k^b&(j^k))+R[12]+1804603682&4294967295,T=b+(N<<7&4294967295|N>>>25),N=k+(j^T&(b^j))+R[13]+4254626195&4294967295,k=T+(N<<12&4294967295|N>>>20),N=j+(b^k&(T^b))+R[14]+2792965006&4294967295,j=k+(N<<17&4294967295|N>>>15),N=b+(T^j&(k^T))+R[15]+1236535329&4294967295,b=j+(N<<22&4294967295|N>>>10),N=T+(j^k&(b^j))+R[1]+4129170786&4294967295,T=b+(N<<5&4294967295|N>>>27),N=k+(b^j&(T^b))+R[6]+3225465664&4294967295,k=T+(N<<9&4294967295|N>>>23),N=j+(T^b&(k^T))+R[11]+643717713&4294967295,j=k+(N<<14&4294967295|N>>>18),N=b+(k^T&(j^k))+R[0]+3921069994&4294967295,b=j+(N<<20&4294967295|N>>>12),N=T+(j^k&(b^j))+R[5]+3593408605&4294967295,T=b+(N<<5&4294967295|N>>>27),N=k+(b^j&(T^b))+R[10]+38016083&4294967295,k=T+(N<<9&4294967295|N>>>23),N=j+(T^b&(k^T))+R[15]+3634488961&4294967295,j=k+(N<<14&4294967295|N>>>18),N=b+(k^T&(j^k))+R[4]+3889429448&4294967295,b=j+(N<<20&4294967295|N>>>12),N=T+(j^k&(b^j))+R[9]+568446438&4294967295,T=b+(N<<5&4294967295|N>>>27),N=k+(b^j&(T^b))+R[14]+3275163606&4294967295,k=T+(N<<9&4294967295|N>>>23),N=j+(T^b&(k^T))+R[3]+4107603335&4294967295,j=k+(N<<14&4294967295|N>>>18),N=b+(k^T&(j^k))+R[8]+1163531501&4294967295,b=j+(N<<20&4294967295|N>>>12),N=T+(j^k&(b^j))+R[13]+2850285829&4294967295,T=b+(N<<5&4294967295|N>>>27),N=k+(b^j&(T^b))+R[2]+4243563512&4294967295,k=T+(N<<9&4294967295|N>>>23),N=j+(T^b&(k^T))+R[7]+1735328473&4294967295,j=k+(N<<14&4294967295|N>>>18),N=b+(k^T&(j^k))+R[12]+2368359562&4294967295,b=j+(N<<20&4294967295|N>>>12),N=T+(b^j^k)+R[5]+4294588738&4294967295,T=b+(N<<4&4294967295|N>>>28),N=k+(T^b^j)+R[8]+2272392833&4294967295,k=T+(N<<11&4294967295|N>>>21),N=j+(k^T^b)+R[11]+1839030562&4294967295,j=k+(N<<16&4294967295|N>>>16),N=b+(j^k^T)+R[14]+4259657740&4294967295,b=j+(N<<23&4294967295|N>>>9),N=T+(b^j^k)+R[1]+2763975236&4294967295,T=b+(N<<4&4294967295|N>>>28),N=k+(T^b^j)+R[4]+1272893353&4294967295,k=T+(N<<11&4294967295|N>>>21),N=j+(k^T^b)+R[7]+4139469664&4294967295,j=k+(N<<16&4294967295|N>>>16),N=b+(j^k^T)+R[10]+3200236656&4294967295,b=j+(N<<23&4294967295|N>>>9),N=T+(b^j^k)+R[13]+681279174&4294967295,T=b+(N<<4&4294967295|N>>>28),N=k+(T^b^j)+R[0]+3936430074&4294967295,k=T+(N<<11&4294967295|N>>>21),N=j+(k^T^b)+R[3]+3572445317&4294967295,j=k+(N<<16&4294967295|N>>>16),N=b+(j^k^T)+R[6]+76029189&4294967295,b=j+(N<<23&4294967295|N>>>9),N=T+(b^j^k)+R[9]+3654602809&4294967295,T=b+(N<<4&4294967295|N>>>28),N=k+(T^b^j)+R[12]+3873151461&4294967295,k=T+(N<<11&4294967295|N>>>21),N=j+(k^T^b)+R[15]+530742520&4294967295,j=k+(N<<16&4294967295|N>>>16),N=b+(j^k^T)+R[2]+3299628645&4294967295,b=j+(N<<23&4294967295|N>>>9),N=T+(j^(b|~k))+R[0]+4096336452&4294967295,T=b+(N<<6&4294967295|N>>>26),N=k+(b^(T|~j))+R[7]+1126891415&4294967295,k=T+(N<<10&4294967295|N>>>22),N=j+(T^(k|~b))+R[14]+2878612391&4294967295,j=k+(N<<15&4294967295|N>>>17),N=b+(k^(j|~T))+R[5]+4237533241&4294967295,b=j+(N<<21&4294967295|N>>>11),N=T+(j^(b|~k))+R[12]+1700485571&4294967295,T=b+(N<<6&4294967295|N>>>26),N=k+(b^(T|~j))+R[3]+2399980690&4294967295,k=T+(N<<10&4294967295|N>>>22),N=j+(T^(k|~b))+R[10]+4293915773&4294967295,j=k+(N<<15&4294967295|N>>>17),N=b+(k^(j|~T))+R[1]+2240044497&4294967295,b=j+(N<<21&4294967295|N>>>11),N=T+(j^(b|~k))+R[8]+1873313359&4294967295,T=b+(N<<6&4294967295|N>>>26),N=k+(b^(T|~j))+R[15]+4264355552&4294967295,k=T+(N<<10&4294967295|N>>>22),N=j+(T^(k|~b))+R[6]+2734768916&4294967295,j=k+(N<<15&4294967295|N>>>17),N=b+(k^(j|~T))+R[13]+1309151649&4294967295,b=j+(N<<21&4294967295|N>>>11),N=T+(j^(b|~k))+R[4]+4149444226&4294967295,T=b+(N<<6&4294967295|N>>>26),N=k+(b^(T|~j))+R[11]+3174756917&4294967295,k=T+(N<<10&4294967295|N>>>22),N=j+(T^(k|~b))+R[2]+718787259&4294967295,j=k+(N<<15&4294967295|N>>>17),N=b+(k^(j|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const b=T-this.blockSize,R=this.C;let j=this.h,k=0;for(;k<T;){if(j==0)for(;k<=b;)s(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<T;)if(R[j++]=S.charCodeAt(k++),j==this.blockSize){s(this,R),j=0;break}}else for(;k<T;)if(R[j++]=S[k++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var b=S.length-8;b<S.length;++b)S[b]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,b=0;b<4;++b)for(let R=0;R<32;R+=8)S[T++]=this.g[b]>>>R&255;return S};function i(S,T){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=T(S)}function o(S,T){this.h=T;const b=[];let R=!0;for(let j=S.length-1;j>=0;j--){const k=S[j]|0;R&&k==T||(b[j]=k,R=!1)}this.g=b}var a={};function l(S){return-128<=S&&S<128?i(S,function(T){return new o([T|0],T<0?-1:0)}):new o([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return I(d(-S));const T=[];let b=1;for(let R=0;S>=b;R++)T[R]=S/b|0,b*=4294967296;return new o(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return I(h(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(T,8));let R=f;for(let k=0;k<S.length;k+=8){var j=Math.min(8,S.length-k);const N=parseInt(S.substring(k,k+j),T);j<8?(j=d(Math.pow(T,j)),R=R.j(j).add(d(N))):(R=R.j(b),R=R.add(d(N)))}return R}var f=l(0),m=l(1),x=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();let S=0,T=1;for(let b=0;b<this.g.length;b++){const R=this.i(b);S+=(R>=0?R:4294967296+R)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(_(this))return"-"+I(this).toString(S);const T=d(Math.pow(S,6));var b=this;let R="";for(;;){const j=P(b,T).g;b=v(b,j.j(T));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(S);if(b=j,C(b))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=v(this,S),_(S)?-1:C(S)?0:1};function I(S){const T=S.g.length,b=[];for(let R=0;R<T;R++)b[R]=~S.g[R];return new o(b,~S.h).add(m)}t.abs=function(){return _(this)?I(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),b=[];let R=0;for(let j=0;j<=T;j++){let k=R+(this.i(j)&65535)+(S.i(j)&65535),N=(k>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);R=N>>>16,k&=65535,N&=65535,b[j]=N<<16|k}return new o(b,b[b.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(I(T))}t.j=function(S){if(C(this)||C(S))return f;if(_(this))return _(S)?I(this).j(I(S)):I(I(this).j(S));if(_(S))return I(this.j(I(S)));if(this.l(x)<0&&S.l(x)<0)return d(this.m()*S.m());const T=this.g.length+S.g.length,b=[];for(var R=0;R<2*T;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(let j=0;j<S.g.length;j++){const k=this.i(R)>>>16,N=this.i(R)&65535,G=S.i(j)>>>16,ie=S.i(j)&65535;b[2*R+2*j]+=N*ie,w(b,2*R+2*j),b[2*R+2*j+1]+=k*ie,w(b,2*R+2*j+1),b[2*R+2*j+1]+=N*G,w(b,2*R+2*j+1),b[2*R+2*j+2]+=k*G,w(b,2*R+2*j+2)}for(S=0;S<T;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=T;S<2*T;S++)b[S]=0;return new o(b,0)};function w(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function E(S,T){this.g=S,this.h=T}function P(S,T){if(C(T))throw Error("division by zero");if(C(S))return new E(f,f);if(_(S))return T=P(I(S),T),new E(I(T.g),I(T.h));if(_(T))return T=P(S,I(T)),new E(I(T.g),T.h);if(S.g.length>30){if(_(S)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var b=m,R=T;R.l(S)<=0;)b=D(b),R=D(R);var j=O(b,1),k=O(R,1);for(R=O(R,2),b=O(b,2);!C(R);){var N=k.add(R);N.l(S)<=0&&(j=j.add(b),k=N),R=O(R,1),b=O(b,1)}return T=v(S,j.j(T)),new E(j,T)}for(j=f;S.l(T)>=0;){for(b=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=d(b),N=k.j(T);_(N)||N.l(S)>0;)b-=R,k=d(b),N=k.j(T);C(k)&&(k=m),j=j.add(k),S=v(S,N)}return new E(j,S)}t.B=function(S){return P(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)&S.i(R);return new o(b,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)|S.i(R);return new o(b,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let R=0;R<T;R++)b[R]=this.i(R)^S.i(R);return new o(b,this.h^S.h)};function D(S){const T=S.g.length+1,b=[];for(let R=0;R<T;R++)b[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(b,S.h)}function O(S,T){const b=T>>5;T%=32;const R=S.g.length-b,j=[];for(let k=0;k<R;k++)j[k]=T>0?S.i(k+b)>>>T|S.i(k+b+1)<<32-T:S.i(k+b);return new o(j,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,us=o}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,Ia,eS,Hc,Fp,tS,nS,rS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in g))break e;g=g[L]}c=c[c.length-1],A=g[c],p=p(A),p!=A&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var g=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&g.push([A,p[A]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function d(c,p,g){return d=l,d.apply(null,arguments)}function h(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function f(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(A,L,M){for(var z=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)z[ae-2]=arguments[ae];return p.prototype[L].apply(A,z)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const p=c.length;if(p>0){const g=Array(p);for(let A=0;A<p;A++)g[A]=c[A];return g}return[]}function C(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=c.length||0;const M=L.length||0;c.length=g+M;for(let z=0;z<M;z++)c[g+z]=L[z]}else c.push(L)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(c){o.setTimeout(()=>{throw c},0)}function v(){var c=S;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class w{constructor(){this.h=this.g=null}add(p,g){const A=E.get();A.set(p,g),this.h?this.h.next=A:this.g=A,this.h=A}}var E=new _(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,S=new w,T=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(b)}};function b(){for(var c;c=v();){try{c.h.call(c.g)}catch(g){I(g)}var p=E;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function G(c,p){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(G,j),G.prototype.init=function(c,p){const g=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,p,g,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!A,this.ha=L,this.key=++X,this.da=this.fa=!1}function V(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $(c,p,g){for(const A in c)p.call(g,c[A],A,c)}function K(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function ne(c){const p={};for(const g in c)p[g]=c[g];return p}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ht(c,p){let g,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(g in A)c[g]=A[g];for(let M=0;M<_e.length;M++)g=_e[M],Object.prototype.hasOwnProperty.call(A,g)&&(c[g]=A[g])}}function Me(c){this.src=c,this.g={},this.h=0}Me.prototype.add=function(c,p,g,A,L){const M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);const z=Xe(c,p,A,L);return z>-1?(p=c[z],g||(p.fa=!1)):(p=new se(p,this.src,M,!!A,L),p.fa=g,c.push(p)),p};function Lt(c,p){const g=p.type;if(g in c.g){var A=c.g[g],L=Array.prototype.indexOf.call(A,p,void 0),M;(M=L>=0)&&Array.prototype.splice.call(A,L,1),M&&(V(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Xe(c,p,g,A){for(let L=0;L<c.length;++L){const M=c[L];if(!M.da&&M.listener==p&&M.capture==!!g&&M.ha==A)return L}return-1}var Y="closure_lm_"+(Math.random()*1e6|0),ye={};function Je(c,p,g,A,L){if(Array.isArray(p)){for(let M=0;M<p.length;M++)Je(c,p[M],g,A,L);return null}return g=Ul(g),c&&c[ie]?c.J(p,g,a(A)?!!A.capture:!1,L):we(c,p,g,!1,A,L)}function we(c,p,g,A,L,M){if(!p)throw Error("Invalid event type");const z=a(L)?!!L.capture:!!L;let ae=nr(c);if(ae||(c[Y]=ae=new Me(c)),g=ae.add(p,g,A,z,M),g.proxy)return g;if(A=me(),g.proxy=A,A.src=c,A.listener=g,c.addEventListener)k||(L=z),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(qt(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function me(){function c(g){return p.call(c.src,c.listener,g)}const p=Ls;return c}function pe(c,p,g,A,L){if(Array.isArray(p))for(var M=0;M<p.length;M++)pe(c,p[M],g,A,L);else A=a(A)?!!A.capture:!!A,g=Ul(g),c&&c[ie]?(c=c.i,M=String(p).toString(),M in c.g&&(p=c.g[M],g=Xe(p,g,A,L),g>-1&&(V(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[M],c.h--)))):c&&(c=nr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xe(p,g,A,L)),(g=c>-1?p[c]:null)&&at(g))}function at(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ie])Lt(p.i,c);else{var g=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(g,A,c.capture):p.detachEvent?p.detachEvent(qt(g),A):p.addListener&&p.removeListener&&p.removeListener(A),(g=nr(p))?(Lt(g,c),g.h==0&&(g.src=null,p[Y]=null)):V(c)}}}function qt(c){return c in ye?ye[c]:ye[c]="on"+c}function Ls(c,p){if(c.da)c=!0;else{p=new G(p,this);const g=c.listener,A=c.ha||c.src;c.fa&&at(c),c=g.call(A,p)}return c}function nr(c){return c=c[Y],c instanceof Me?c:null}var rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ul(c){return typeof c=="function"?c:(c[rr]||(c[rr]=function(p){return c.handleEvent(p)}),c[rr])}function Ve(){R.call(this),this.i=new Me(this),this.M=this,this.G=null}f(Ve,R),Ve.prototype[ie]=!0,Ve.prototype.removeEventListener=function(c,p,g,A){pe(this,c,p,g,A)};function Ct(c,p){var g,A=c.G;if(A)for(g=[];A;A=A.G)g.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new j(p,c);else if(p instanceof j)p.target=p.target||c;else{var L=p;p=new j(A,c),Ht(p,L)}L=!0;let M,z;if(g)for(z=g.length-1;z>=0;z--)M=p.g=g[z],L=Bl(M,A,!0,p)&&L;if(M=p.g=c,L=Bl(M,A,!0,p)&&L,L=Bl(M,A,!1,p)&&L,g)for(z=0;z<g.length;z++)M=p.g=g[z],L=Bl(M,A,!1,p)&&L}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let A=0;A<g.length;A++)V(g[A]);delete c.g[p],c.h--}}this.G=null},Ve.prototype.J=function(c,p,g,A){return this.i.add(String(c),p,!1,g,A)},Ve.prototype.K=function(c,p,g,A){return this.i.add(String(c),p,!0,g,A)};function Bl(c,p,g,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let M=0;M<p.length;++M){const z=p[M];if(z&&!z.da&&z.capture==g){const ae=z.listener,Ze=z.ha||z.src;z.fa&&Lt(c.i,z),L=ae.call(Ze,A)!==!1&&L}}return L&&!A.defaultPrevented}function DC(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function by(c){c.g=DC(()=>{c.g=null,c.i&&(c.i=!1,by(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class OC extends R{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:by(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(c){R.call(this),this.h=c,this.g={}}f(Go,R);var Cy=[];function Ay(c){$(c.g,function(p,g){this.g.hasOwnProperty(g)&&at(p)},c),c.g={}}Go.prototype.N=function(){Go.Z.N.call(this),Ay(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ah=o.JSON.stringify,LC=o.JSON.parse,MC=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ny(){}function Ry(){}var Ko={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lh(){j.call(this,"d")}f(lh,j);function ch(){j.call(this,"c")}f(ch,j);var Ms={},ky=null;function zl(){return ky=ky||new Ve}Ms.Ia="serverreachability";function Py(c){j.call(this,Ms.Ia,c)}f(Py,j);function Qo(c){const p=zl();Ct(p,new Py(p))}Ms.STAT_EVENT="statevent";function jy(c,p){j.call(this,Ms.STAT_EVENT,c),this.stat=p}f(jy,j);function At(c){const p=zl();Ct(p,new jy(p,c))}Ms.Ja="timingevent";function Dy(c,p){j.call(this,Ms.Ja,c),this.size=p}f(Dy,j);function Yo(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function Xo(){this.g=!0}Xo.prototype.ua=function(){this.g=!1};function VC(c,p,g,A,L,M){c.info(function(){if(c.g)if(M){var z="",ae=M.split("&");for(let xe=0;xe<ae.length;xe++){var Ze=ae[xe].split("=");if(Ze.length>1){const rt=Ze[0];Ze=Ze[1];const On=rt.split("_");z=On.length>=2&&On[1]=="type"?z+(rt+"="+Ze+"&"):z+(rt+"=redacted&")}}}else z=null;else z=M;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+g+`
`+z})}function FC(c,p,g,A,L,M,z){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+g+`
`+M+" "+z})}function Ci(c,p,g,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+BC(c,g)+(A?" "+A:"")})}function UC(c,p){c.info(function(){return"TIMEOUT: "+p})}Xo.prototype.info=function(){};function BC(c,p){if(!c.g)return p;if(!p)return null;try{const M=JSON.parse(p);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var g=M[c];if(!(g.length<2)){var A=g[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let z=1;z<A.length;z++)A[z]=""}}}}return ah(M)}catch{return p}}var $l={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ly;function uh(){}f(uh,Ny),uh.prototype.g=function(){return new XMLHttpRequest},Ly=new uh;function Jo(c){return encodeURIComponent(String(c))}function zC(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function Rr(c,p,g,A){this.j=c,this.i=p,this.l=g,this.S=A||1,this.V=new Go(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new My}function My(){this.i=null,this.g="",this.h=!1}var Vy={},dh={};function hh(c,p,g){c.M=1,c.A=Hl(Dn(p)),c.u=g,c.R=!0,Fy(c,null)}function Fy(c,p){c.F=Date.now(),Wl(c),c.B=Dn(c.A);var g=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Jy(g.i,"t",A),c.C=0,g=c.j.L,c.h=new My,c.g=gv(c.j,g?p:null,!c.u),c.P>0&&(c.O=new OC(d(c.Y,c,c.g),c.P)),p=c.V,g=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Cy[0]=L.toString()),L=Cy);for(let M=0;M<L.length;M++){const z=Je(g,L[M],A||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Qo(),VC(c.i,c.v,c.B,c.l,c.S,c.u)}Rr.prototype.ba=function(c){c=c.target;const p=this.O;p&&jr(c)==3?p.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{const ae=jr(this.g),Ze=this.g.ya(),xe=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||iv(this.g)))){this.K||ae!=4||Ze==7||(Ze==8||xe<=0?Qo(3):Qo(2)),fh(this);var p=this.g.ca();this.X=p;var g=$C(this);if(this.o=p==200,FC(this.i,this.v,this.B,this.l,this.S,ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var M=A;break t}}M=null}if(c=M)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ph(this,c);else{this.o=!1,this.m=3,At(12),Vs(this),Zo(this);break e}}if(this.R){c=!0;let rt;for(;!this.K&&this.C<g.length;)if(rt=WC(this,g),rt==dh){ae==4&&(this.m=4,At(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==Vy){this.m=4,At(15),Ci(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,rt,null),ph(this,rt);if(Uy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||g.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,g,"[Invalid Chunked Response]"),Vs(this),Zo(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Eh(z),z.P=!0,At(11))}}else Ci(this.i,this.l,g,null),ph(this,g);ae==4&&Vs(this),this.o&&!this.K&&(ae==4?hv(this.j,this):(this.o=!1,Wl(this)))}else sA(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Vs(this),Zo(this)}}}catch{}finally{}};function $C(c){if(!Uy(c))return c.g.la();const p=iv(c.g);if(p==="")return"";let g="";const A=p.length,L=jr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vs(c),Zo(c),"";c.h.i=new o.TextDecoder}for(let M=0;M<A;M++)c.h.h=!0,g+=c.h.i.decode(p[M],{stream:!(L&&M==A-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function Uy(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function WC(c,p){var g=c.C,A=p.indexOf(`
`,g);return A==-1?dh:(g=Number(p.substring(g,A)),isNaN(g)?Vy:(A+=1,A+g>p.length?dh:(p=p.slice(A,A+g),c.C=A+g,p)))}Rr.prototype.cancel=function(){this.K=!0,Vs(this)};function Wl(c){c.T=Date.now()+c.H,By(c,c.H)}function By(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Yo(d(c.aa,c),p)}function fh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Rr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(UC(this.i,this.B),this.M!=2&&(Qo(),At(17)),Vs(this),this.m=2,Zo(this)):By(this,this.T-c)};function Zo(c){c.j.I==0||c.K||hv(c.j,c)}function Vs(c){fh(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ay(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ph(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||mh(g.h,c))){if(!c.L&&mh(g.h,c)&&g.I==3){try{var A=g.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)Yl(g),Kl(g);else break e;xh(g),At(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Yo(d(g.Va,g),6e3));Wy(g.h)<=1&&g.ta&&(g.ta=void 0)}else Us(g,11)}else if((c.L||g.g==c)&&Yl(g),!N(p))for(L=g.Ba.g.parse(p),p=0;p<L.length;p++){let xe=L[p];const rt=xe[0];if(!(rt<=g.K))if(g.K=rt,xe=xe[1],g.I==2)if(xe[0]=="c"){g.M=xe[1],g.ba=xe[2];const On=xe[3];On!=null&&(g.ka=On,g.j.info("VER="+g.ka));const Bs=xe[4];Bs!=null&&(g.za=Bs,g.j.info("SVER="+g.za));const Dr=xe[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(A=1.5*Dr,g.O=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const Or=c.g;if(Or){const Jl=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var M=A.h;M.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(gh(M,M.h),M.h=null))}if(A.G){const Th=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(A.wa=Th,Se(A.J,A.G,Th))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),A=g;var z=c;if(A.na=mv(A,A.L?A.ba:null,A.W),z.L){Hy(A.h,z);var ae=z,Ze=A.O;Ze&&(ae.H=Ze),ae.D&&(fh(ae),Wl(ae)),A.g=z}else uv(A);g.i.length>0&&Ql(g)}else xe[0]!="stop"&&xe[0]!="close"||Us(g,7);else g.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Us(g,7):_h(g):xe[0]!="noop"&&g.l&&g.l.qa(xe),g.A=0)}}Qo(4)}catch{}}var HC=class{constructor(c,p){this.g=c,this.map=p}};function zy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $y(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wy(c){return c.h?1:c.g?c.g.size:0}function mh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function gh(c,p){c.g?c.g.add(p):c.h=p}function Hy(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}zy.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return x(c.i)}var Gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qC(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const A=c[g].indexOf("=");let L,M=null;A>=0?(L=c[g].substring(0,A),M=c[g].substring(A+1)):L=c[g],p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function kr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof kr?(this.l=c.l,ea(this,c.j),this.o=c.o,this.g=c.g,ta(this,c.u),this.h=c.h,yh(this,Zy(c.i)),this.m=c.m):c&&(p=String(c).match(Gy))?(this.l=!1,ea(this,p[1]||"",!0),this.o=na(p[2]||""),this.g=na(p[3]||"",!0),ta(this,p[4]),this.h=na(p[5]||"",!0),yh(this,p[6]||"",!0),this.m=na(p[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}kr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ra(p,Ky,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ra(p,Ky,!0),"@"),c.push(Jo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ra(g,g.charAt(0)=="/"?QC:KC,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ra(g,XC)),c.join("")},kr.prototype.resolve=function(c){const p=Dn(this);let g=!!c.j;g?ea(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var A=c.h;if(g)ta(p,c.u);else if(g=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const M=[];for(let z=0;z<L.length;){const ae=L[z++];ae=="."?A&&z==L.length&&M.push(""):ae==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),A&&z==L.length&&M.push("")):(M.push(ae),A=!0)}A=M.join("/")}else A=L}return g?p.h=A:g=c.i.toString()!=="",g?yh(p,Zy(c.i)):g=!!c.m,g&&(p.m=c.m),p};function Dn(c){return new kr(c)}function ea(c,p,g){c.j=g?na(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ta(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function yh(c,p,g){p instanceof sa?(c.i=p,JC(c.i,c.l)):(g||(p=ra(p,YC)),c.i=new sa(p,c.l))}function Se(c,p,g){c.i.set(p,g)}function Hl(c){return Se(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function na(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ra(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,GC),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ky=/[#\/\?@]/g,KC=/[#\?:]/g,QC=/[#\?]/g,YC=/[#\?@]/g,XC=/#/g;function sa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Fs(c){c.g||(c.g=new Map,c.h=0,c.i&&qC(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=sa.prototype,t.add=function(c,p){Fs(this),this.i=null,c=Ai(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function Qy(c,p){Fs(c),p=Ai(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Yy(c,p){return Fs(c),p=Ai(c,p),c.g.has(p)}t.forEach=function(c,p){Fs(this),this.g.forEach(function(g,A){g.forEach(function(L){c.call(p,L,A,this)},this)},this)};function Xy(c,p){Fs(c);let g=[];if(typeof p=="string")Yy(c,p)&&(g=g.concat(c.g.get(Ai(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return Fs(this),this.i=null,c=Ai(this,c),Yy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Xy(this,c),c.length>0?String(c[0]):p):p};function Jy(c,p,g){Qy(c,p),g.length>0&&(c.i=null,c.g.set(Ai(c,p),x(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var g=p[A];const L=Jo(g);g=Xy(this,g);for(let M=0;M<g.length;M++){let z=L;g[M]!==""&&(z+="="+Jo(g[M])),c.push(z)}}return this.i=c.join("&")};function Zy(c){const p=new sa;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ai(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function JC(c,p){p&&!c.j&&(Fs(c),c.i=null,c.g.forEach(function(g,A){const L=A.toLowerCase();A!=L&&(Qy(this,A),Jy(this,L,g))},c)),c.j=p}function ZC(c,p){const g=new Xo;if(o.Image){const A=new Image;A.onload=h(Pr,g,"TestLoadImage: loaded",!0,p,A),A.onerror=h(Pr,g,"TestLoadImage: error",!1,p,A),A.onabort=h(Pr,g,"TestLoadImage: abort",!1,p,A),A.ontimeout=h(Pr,g,"TestLoadImage: timeout",!1,p,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function eA(c,p){const g=new Xo,A=new AbortController,L=setTimeout(()=>{A.abort(),Pr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(M=>{clearTimeout(L),M.ok?Pr(g,"TestPingServer: ok",!0,p):Pr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Pr(g,"TestPingServer: error",!1,p)})}function Pr(c,p,g,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(g)}catch{}}function tA(){this.g=new MC}function vh(c){this.i=c.Sb||null,this.h=c.ab||!1}f(vh,Ny),vh.prototype.g=function(){return new ql(this.i,this.h)};function ql(c,p){Ve.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ql,Ve),t=ql.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,oa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ev(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ev(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ia(this):oa(this),this.readyState==3&&ev(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ia(this))},t.Na=function(c){this.g&&(this.response=c,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oa(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tv(c){let p="";return $(c,function(g,A){p+=A,p+=":",p+=g,p+=`\r
`}),p}function wh(c,p,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=tv(g),typeof c=="string"?g!=null&&Jo(g):Se(c,p,g))}function Oe(c){Ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Oe,Ve);var nA=/^https?$/i,rA=["POST","PUT"];t=Oe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ly.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){nv(this,M);return}if(c=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)g.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const M of A.keys())g.set(M,A.get(M));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(rA,p,void 0)>=0)||A||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of g)this.g.setRequestHeader(M,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){nv(this,M)}};function nv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,rv(c),Gl(c)}function rv(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ct(this,"complete"),Ct(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),Oe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sv(this):this.Xa())},t.Xa=function(){sv(this)};function sv(c){if(c.h&&typeof i<"u"){if(c.v&&jr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ct(c,"readystatechange"),jr(c)==4){c.h=!1;try{const M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var A;if(A=M===0){let z=String(c.D).match(Gy)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),A=!nA.test(z?z.toLowerCase():"")}g=A}if(g)Ct(c,"complete"),Ct(c,"success");else{c.o=6;try{var L=jr(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",rv(c)}}finally{Gl(c)}}}}function Gl(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||Ct(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return jr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),LC(p)}};function iv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sA(c){const p={};c=(c.g&&jr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var g=zC(c[A]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=p[L]||[];p[L]=M,M.push(g)}K(p,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function ov(c){this.za=0,this.i=[],this.j=new Xo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,c),this.Za=aa("retryDelaySeedMs",1e4,c),this.Ta=aa("forwardChannelMaxRetries",2,c),this.va=aa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zy(c&&c.concurrentRequestLimit),this.Ba=new tA,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ov.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,A){At(0),this.W=c,this.H=p||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.J=mv(this,null,this.W),Ql(this)};function _h(c){if(av(c),c.I==3){var p=c.V++,g=Dn(c.J);if(Se(g,"SID",c.M),Se(g,"RID",p),Se(g,"TYPE","terminate"),la(c,g),p=new Rr(c,c.j,p),p.M=2,p.A=Hl(Dn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=gv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Wl(p)}pv(c)}function Kl(c){c.g&&(Eh(c),c.g.cancel(),c.g=null)}function av(c){Kl(c),c.v&&(o.clearTimeout(c.v),c.v=null),Yl(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Ql(c){if(!$y(c.h)&&!c.m){c.m=!0;var p=c.Ea;D||T(),O||(D(),O=!0),S.add(p,c),c.D=0}}function iA(c,p){return Wy(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Yo(d(c.Ea,c,p),fv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Rr(this,this.j,c);let M=this.o;if(this.U&&(M?(M=ne(M),Ht(M,this.U)):M=this.U),this.u!==null||this.R||(L.J=M,M=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=cv(this,L,p),g=Dn(this.J),Se(g,"RID",c),Se(g,"CVER",22),this.G&&Se(g,"X-HTTP-Session-Id",this.G),la(this,g),M&&(this.R?p="headers="+Jo(tv(M))+"&"+p:this.u&&wh(g,this.u,M)),gh(this.h,L),this.Ra&&Se(g,"TYPE","init"),this.S?(Se(g,"$req",p),Se(g,"SID","null"),L.U=!0,hh(L,g,null)):hh(L,g,p),this.I=2}}else this.I==3&&(c?lv(this,c):this.i.length==0||$y(this.h)||lv(this))};function lv(c,p){var g;p?g=p.l:g=c.V++;const A=Dn(c.J);Se(A,"SID",c.M),Se(A,"RID",g),Se(A,"AID",c.K),la(c,A),c.u&&c.o&&wh(A,c.u,c.o),g=new Rr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=cv(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),gh(c.h,g),hh(g,A,p)}function la(c,p){c.H&&$(c.H,function(g,A){Se(p,A,g)}),c.l&&$({},function(g,A){Se(p,A,g)})}function cv(c,p,g){g=Math.min(c.i.length,g);const A=c.l?d(c.l.Ka,c.l,c):null;e:{var L=c.i;let ae=-1;for(;;){const Ze=["count="+g];ae==-1?g>0?(ae=L[0].g,Ze.push("ofs="+ae)):ae=0:Ze.push("ofs="+ae);let xe=!0;for(let rt=0;rt<g;rt++){var M=L[rt].g;const On=L[rt].map;if(M-=ae,M<0)ae=Math.max(0,L[rt].g-100),xe=!1;else try{M="req"+M+"_"||"";try{var z=On instanceof Map?On:Object.entries(On);for(const[Bs,Dr]of z){let Or=Dr;a(Dr)&&(Or=ah(Dr)),Ze.push(M+Bs+"="+encodeURIComponent(Or))}}catch(Bs){throw Ze.push(M+"type="+encodeURIComponent("_badmap")),Bs}}catch{A&&A(On)}}if(xe){z=Ze.join("&");break e}}z=void 0}return c=c.i.splice(0,g),p.G=c,z}function uv(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;D||T(),O||(D(),O=!0),S.add(p,c),c.A=0}}function xh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Yo(d(c.Da,c),fv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,dv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Yo(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Kl(this),dv(this))};function Eh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function dv(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Dn(c.na);Se(p,"RID","rpc"),Se(p,"SID",c.M),Se(p,"AID",c.K),Se(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Se(p,"TO",c.ia),Se(p,"TYPE","xmlhttp"),la(c,p),c.u&&c.o&&wh(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Hl(Dn(p)),g.u=null,g.R=!0,Fy(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Kl(this),xh(this),At(19))};function Yl(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function hv(c,p){var g=null;if(c.g==p){Yl(c),Eh(c),c.g=null;var A=2}else if(mh(c.h,p))g=p.G,Hy(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=zl(),Ct(A,new Dy(A,g)),Ql(c)}else uv(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&iA(c,p)||A==2&&xh(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),L){case 1:Us(c,5);break;case 4:Us(c,10);break;case 3:Us(c,6);break;default:Us(c,2)}}}function fv(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function Us(c,p){if(c.j.info("Error code "+p),p==2){var g=d(c.bb,c),A=c.Ua;const L=!A;A=new kr(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ea(A,"https"),Hl(A),L?ZC(A.toString(),g):eA(A.toString(),g)}else At(2);c.I=0,c.l&&c.l.pa(p),pv(c),av(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function pv(c){if(c.I=0,c.ja=[],c.l){const p=qy(c.h);(p.length!=0||c.i.length!=0)&&(C(c.ja,p),C(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function mv(c,p,g){var A=g instanceof kr?Dn(g):new kr(g);if(A.g!="")p&&(A.g=p+"."+A.g),ta(A,A.u);else{var L=o.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const M=new kr(null);A&&ea(M,A),p&&(M.g=p),L&&ta(M,L),g&&(M.h=g),A=M}return g=c.G,p=c.wa,g&&p&&Se(A,g,p),Se(A,"VER",c.ka),la(c,A),A}function gv(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Oe(new vh({ab:g})):new Oe(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yv(){}t=yv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xl(){}Xl.prototype.g=function(c,p){return new Gt(c,p)};function Gt(c,p){Ve.call(this),this.g=new ov(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ni(this)}f(Gt,Ve),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){_h(this.g)},Gt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=ah(c),c=g);p.i.push(new HC(p.Ya++,c)),p.I==3&&Ql(p)},Gt.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Gt.Z.N.call(this)};function vv(c){lh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f(vv,lh);function wv(){ch.call(this),this.status=1}f(wv,ch);function Ni(c){this.g=c}f(Ni,yv),Ni.prototype.ra=function(){Ct(this.g,"a")},Ni.prototype.qa=function(c){Ct(this.g,new vv(c))},Ni.prototype.pa=function(c){Ct(this.g,new wv)},Ni.prototype.oa=function(){Ct(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,rS=function(){return new Xl},nS=function(){return zl()},tS=Ms,Fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,Hc=$l,Oy.COMPLETE="complete",eS=Oy,Ry.EventType=Ko,Ko.OPEN="a",Ko.CLOSE="b",Ko.ERROR="c",Ko.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,Ia=Ry,Oe.prototype.listenOnce=Oe.prototype.K,Oe.prototype.getLastError=Oe.prototype.Ha,Oe.prototype.getLastErrorCode=Oe.prototype.ya,Oe.prototype.getStatus=Oe.prototype.ca,Oe.prototype.getResponseJson=Oe.prototype.La,Oe.prototype.getResponseText=Oe.prototype.la,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Fa,ZT=Oe}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",I_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Ad("@firebase/firestore");function Oi(){return hi.logLevel}function H(t,...e){if(hi.logLevel<=ce.DEBUG){const n=e.map(kg);hi.debug(`Firestore (${Vo}): ${t}`,...n)}}function Tr(t,...e){if(hi.logLevel<=ce.ERROR){const n=e.map(kg);hi.error(`Firestore (${Vo}): ${t}`,...n)}}function xo(t,...e){if(hi.logLevel<=ce.WARN){const n=e.map(kg);hi.warn(`Firestore (${Vo}): ${t}`,...n)}}function kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sS(t,r,n)}function sS(t,e,n){let r=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sS(e,s,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class oO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aO{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new iS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class lO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Up(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return lf(s)===lf(i)?ue(s,i):lf(s)?1:-1}return ue(t.length,e.length)}const hO=55296,fO=57343;function lf(t){const e=t.charCodeAt(0);return e>=hO&&e<=fO}function Eo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),s=Fn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):Up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Ee extends Fn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const pO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Fn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return pO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new ft([C_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ee.fromString(e))}static fromName(e){return new Q(Ee.fromString(e).popFirst(5))}static empty(){return new Q(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mO(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A_(t){if(!Q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(Q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gO(t,e){if(e<=0)throw new W(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function jl(t,e){if(!aS(t))throw new W(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,k_=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*k_);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R_)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k_}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ge("string",Ae._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ae(0,0))}static max(){return new ee(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=-1;function yO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new ms(s,Q.empty(),e)}function vO(t){return new ms(t.readTime,t.key,hl)}class ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(ee.min(),Q.empty(),hl)}static max(){return new ms(ee.max(),Q.empty(),hl)}}function wO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==_O)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function EO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Md(t){return t==null}function Mu(t){return t===0&&1/t==-1/0}function TO(t){return typeof t=="number"&&Number.isInteger(t)&&!Mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function SO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=P_(e)),e=IO(t.get(n),e);return P_(e)}function IO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case lS:n+="";break;default:n+=i}}return n}function P_(t){return t+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new nt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uS("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const bO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=bO.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",hS="__type__",fS="__previous_value__",pS="__local_write_time__";function Dg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hS])==null?void 0:r.stringValue)===dS}function Vd(t){const e=t.mapValue.fields[fS];return Dg(e)?Vd(e):e}function fl(t){const e=gs(t.mapValue.fields[pS].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const Vu="(default)";class pl{constructor(e,n){this.projectId=e,this.database=n||Vu}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Vu}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",AO="__max__",wc={mapValue:{}},gS="__vector__",Fu="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:RO(t)?9007199254740991:NO(t)?10:11:Z(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gs(s.timestampValue),a=gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fe(s.doubleValue),a=Fe(i.doubleValue);return o===a?Mu(o)===Mu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(j_(o)!==j_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function ml(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function To(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Fe(i.integerValue||i.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return O_(t.timestampValue,e.timestampValue);case 4:return O_(fl(t),fl(e));case 5:return Up(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ys(i),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=ue(a[d],l[d]);if(h!==0)return h}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue(Fe(i.latitude),Fe(o.latitude));return a!==0?a:ue(Fe(i.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,x,C,_;const a=i.fields||{},l=o.fields||{},d=(m=a[Fu])==null?void 0:m.arrayValue,h=(x=l[Fu])==null?void 0:x.arrayValue,f=ue(((C=d==null?void 0:d.values)==null?void 0:C.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:L_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===wc.mapValue&&o===wc.mapValue)return 0;if(i===wc.mapValue)return 1;if(o===wc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Up(l[f],h[f]);if(m!==0)return m;const x=To(a[l[f]],d[h[f]]);if(x!==0)return x}return ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function O_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=gs(t),r=gs(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function L_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=To(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function So(t){return Bp(t)}function Bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Bp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Bp(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function qc(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+qc(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ti(r.fields,(i,o)=>{s+=i.length+qc(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function M_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zp(t){return!!t&&"integerValue"in t}function Og(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gc(t){return!!t&&"mapValue"in t}function NO(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mS])==null?void 0:r.stringValue)===gS}function Ba(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return{...t}}function RO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ba(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Ba(this.value))}}function yS(t){const e=[];return Ti(t.fields,(n,r)=>{const s=new ft([n]);if(Gc(r)){const i=yS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ee.min(),ee.min(),ee.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ee.min(),ee.min(),an.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ee.min(),ee.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.position=e,this.inclusive=n}}function U_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=To(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function B_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function kO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class qe extends vS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jO(e,n,r):n==="array-contains"?new LO(e,r):n==="in"?new MO(e,r):n==="not-in"?new VO(e,r):n==="array-contains-any"?new FO(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DO(e,r):new OO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends vS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kn(e,n)}matches(e){return wS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(t){return t.op==="and"}function _S(t){return PO(t)&&wS(t)}function PO(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function $p(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+So(t.value);if(_S(t))return t.filters.map(e=>$p(e)).join(",");{const e=t.filters.map(n=>$p(n)).join(",");return`${t.op}(${e})`}}function xS(t,e){return t instanceof qe?function(r,s){return s instanceof qe&&r.op===s.op&&r.field.isEqual(s.field)&&Xn(r.value,s.value)}(t,e):t instanceof kn?function(r,s){return s instanceof kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&xS(o,s.filters[a]),!0):!1}(t,e):void Z(19439)}function ES(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ES).join(" ,")+"}"}(t):"Filter"}class jO extends qe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class DO extends qe{constructor(e,n){super(e,"in",n),this.keys=TS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OO extends qe{constructor(e,n){super(e,"not-in",n),this.keys=TS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class LO extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Og(n)&&ml(n.arrayValue,this.value)}}class MO extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class VO extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ml(this.value.arrayValue,n)}}class FO extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function z_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UO(t,e,n,r,s,i,o)}function Lg(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$p(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>So(r)).join(",")),e.Te=n}return e.Te}function Mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B_(t.startAt,e.startAt)&&B_(t.endAt,e.endAt)}function Wp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BO(t,e,n,r,s,i,o,a){return new Bo(t,e,n,r,s,i,o,a)}function Vg(t){return new Bo(t)}function $_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SS(t){return t.collectionGroup!==null}function za(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new gl(i,r))}),n.has(ft.keyField().canonicalString())||e.Ie.push(new gl(ft.keyField(),r))}return e.Ie}function qn(t){const e=re(t);return e.Ee||(e.Ee=zO(e,za(t))),e.Ee}function zO(t,e){if(t.limitType==="F")return z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gl(s.field,i)});const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hp(t,e){const n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bu(t,e,n){return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Mg(qn(t),qn(e))&&t.limitType===e.limitType}function IS(t){return`${Lg(qn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ES(s)).join(", ")}]`),Md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>So(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>So(s)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of za(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=U_(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,za(r),s)||r.endAt&&!function(o,a,l){const d=U_(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,za(r),s))}(t,e)}function $O(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bS(t){return(e,n)=>{let r=!1;for(const s of za(t)){const i=WO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WO(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?To(l,d):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new De(Q.comparator);function Sr(){return HO}const CS=new De(Q.comparator);function ba(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function AS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xs(){return $a()}function NS(){return $a()}function $a(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const qO=new De(Q.comparator),GO=new nt(Q.comparator);function de(...t){let e=GO;for(const n of t)e=e.add(n);return e}const KO=new nt(ue);function QO(){return KO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(e)?"-0":e}}function RS(t){return{integerValue:""+t}}function YO(t,e){return TO(e)?RS(e):Fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function XO(t,e,n){return t instanceof zu?function(s,i){const o={fields:{[hS]:{stringValue:dS},[pS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dg(i)&&(i=Vd(i)),i&&(o.fields[fS]=i),{mapValue:o}}(n,e):t instanceof yl?PS(t,e):t instanceof vl?jS(t,e):function(s,i){const o=kS(s,i),a=W_(o)+W_(s.Ae);return zp(o)&&zp(s.Ae)?RS(a):Fg(s.serializer,a)}(t,e)}function JO(t,e,n){return t instanceof yl?PS(t,e):t instanceof vl?jS(t,e):n}function kS(t,e){return t instanceof $u?function(r){return zp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zu extends Bd{}class yl extends Bd{constructor(e){super(),this.elements=e}}function PS(t,e){const n=DS(e);for(const r of t.elements)n.some(s=>Xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class vl extends Bd{constructor(e){super(),this.elements=e}}function jS(t,e){let n=DS(e);for(const r of t.elements)n=n.filter(s=>!Xn(s,r));return{arrayValue:{values:n}}}class $u extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W_(t){return Fe(t.integerValue||t.doubleValue)}function DS(t){return Og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yl&&s instanceof yl||r instanceof vl&&s instanceof vl?Eo(r.elements,s.elements,Xn):r instanceof $u&&s instanceof $u?Xn(r.Ae,s.Ae):r instanceof zu&&s instanceof zu}(t.transform,e.transform)}class eL{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zd{}function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MS(t.key,gr.none()):new Dl(t.key,t.data,gr.none());{const n=t.data,r=an.empty();let s=new nt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ii(t.key,r,new Sn(s.toArray()),gr.none())}}function tL(t,e,n){t instanceof Dl?function(s,i,o){const a=s.value.clone(),l=q_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(s,i,o){if(!Kc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=q_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(LS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wa(t,e,n,r){return t instanceof Dl?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const d=i.value.clone(),h=G_(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const d=G_(i.fieldTransforms,l,o),h=o.data;return h.setAll(LS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Kc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kS(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function H_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Eo(r,s,(i,o)=>ZO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends zd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ii extends zd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function LS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q_(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,JO(o,a,n[s]))}return r}function G_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,XO(i,o,e))}return r}class MS extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rL extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=OS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>H_(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>H_(n,r))}}class Ug{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return qO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ug(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,he;function aL(t){switch(t){case F.OK:return Z(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function VS(t){if(t===void 0)return Tr("GRPC error has no .code"),F.UNKNOWN;switch(t){case $e.OK:return F.OK;case $e.CANCELLED:return F.CANCELLED;case $e.UNKNOWN:return F.UNKNOWN;case $e.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case $e.INTERNAL:return F.INTERNAL;case $e.UNAVAILABLE:return F.UNAVAILABLE;case $e.UNAUTHENTICATED:return F.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case $e.NOT_FOUND:return F.NOT_FOUND;case $e.ALREADY_EXISTS:return F.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return F.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case $e.ABORTED:return F.ABORTED;case $e.OUT_OF_RANGE:return F.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return F.UNIMPLEMENTED;case $e.DATA_LOSS:return F.DATA_LOSS;default:return Z(39323,{code:t})}}(he=$e||($e={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new us([4294967295,4294967295],0);function K_(t){const e=lL().encode(t),n=new JT;return n.update(e),new Uint8Array(n.digest())}function Q_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new us([n,r],0),new us([s,i],0)]}class Bg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(cL)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=K_(e),[r,s]=Q_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=K_(e),[r,s]=Q_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $d(ee.min(),s,new De(ue),Sr(),de())}}class Ol{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ol(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class FS{constructor(e,n){this.targetId=e,this.Ce=n}}class US{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Y_{constructor(){this.ve=0,this.Fe=X_(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),n=de(),r=de();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new Ol(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=X_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=_c(),this.He=_c(),this.Ye=new De(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Wp(i))if(r===0){const o=new Q(i.path);this.et(n,o,St.newNoDocument(o,ee.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof uS)return xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bg(o,s,i)}catch(l){return xo(l instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Wp(a.target)){const l=new Q(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,St.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=de();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new $d(e,n,this.Ye,this.je,r);return this.je=Sr(),this.Je=_c(),this.He=_c(),this.Ye=new De(ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Y_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _c(){return new De(Q.comparator)}function X_(){return new De(Q.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},hL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"};class pL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function Wu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mL(t,e){return Wu(t,e.toTimestamp())}function Gn(t){return ge(!!t,49232),ee.fromTimestamp(function(n){const r=gs(n);return new Ae(r.seconds,r.nanos)}(t))}function zg(t,e){return Gp(t,e).canonicalString()}function Gp(t,e){const n=function(s){return new Ee(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zS(t){const e=Ee.fromString(t);return ge(GS(e),10190,{key:e.toString()}),e}function Kp(t,e){return zg(t.databaseId,e.path)}function cf(t,e){const n=zS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(WS(n))}function $S(t,e){return zg(t.databaseId,e)}function gL(t){const e=zS(t);return e.length===4?Ee.emptyPath():WS(e)}function Qp(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WS(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J_(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function yL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ge(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:VS(d.code);return new W(h,d.message||"")}(o);n=new US(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cf(t,r.document.name),i=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):ee.min(),a=new an({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Qc(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cf(t,r.document),i=r.readTime?Gn(r.readTime):ee.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cf(t,r.document),i=r.removedTargetIds||[];n=new Qc([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new oL(s,i),a=r.targetId;n=new FS(a,o)}}return n}function vL(t,e){let n;if(e instanceof Dl)n={update:J_(t,e.key,e.value)};else if(e instanceof MS)n={delete:Kp(t,e.key)};else if(e instanceof Ii)n={update:J_(t,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof rL))return Z(16599,{Vt:e.type});n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:mL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function wL(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Gn(s.updateTime):Gn(i);return o.isEqual(ee.min())&&(o=Gn(i)),new eL(o,s.transformResults||[])}(n,e))):[]}function _L(t,e){return{documents:[$S(t,e.path)]}}function xL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$S(t,s);const i=function(d){if(d.length!==0)return qS(kn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Mi(m.field),direction:SL(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function EL(t){let e=gL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=HS(f);return m instanceof kn&&_S(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new gl(Vi(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Md(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,x=f.values||[];return new Uu(x,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,x=f.values||[];return new Uu(x,m)}(n.endAt)),BO(e,s,o,i,a,"F",l,d)}function TL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vi(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vi(n.unaryFilter.field);return qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vi(n.unaryFilter.field);return qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vi(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Vi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>HS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function SL(t){return dL[t]}function IL(t){return hL[t]}function bL(t){return fL[t]}function Mi(t){return{fieldPath:t.canonicalString()}}function Vi(t){return ft.fromServerFormat(t.fieldPath)}function qS(t){return t instanceof qe?function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(V_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(V_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:IL(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(s=>qS(s));return r.length===1?r[0]:{compositeFilter:{op:bL(n.op),filters:r}}}(t):Z(54877,{filter:t})}function CL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.yt=e}}function NL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.Cn=new kL}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ms.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class kL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Ee.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KS=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(KS,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="LruGarbageCollector",PL=1048576;function tx([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class jL{constructor(e){this.Ir=e,this.buffer=new nt(tx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(ex,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?H(ex,"Ignoring IndexedDB error during garbage collection: ",n):await Fo(n)}await this.Vr(3e5)})}}class OL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Ld.ce);const r=new jL(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Z_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Oi()<=ce.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function LL(t,e){return new OL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wa(r.mutation,s,Sn.empty(),Ae.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=Xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ba();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Sr();const o=$a(),a=function(){return $a()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ii)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Wa(h.mutation,d,h.mutation.getFieldMask(),Ae.now())):o.set(d.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new VL(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=$a();let s=new De((o,a)=>o-a),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Sn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||de()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=NS();h.forEach(m=>{if(!i.has(m)){const x=OS(n.get(m),r.get(m));x!==null&&f.set(m,x),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Xs());let a=hl,l=i;return o.next(d=>U.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,de())).next(h=>({batchId:a,changes:AS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=ba();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ba();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const d=function(f,m){return new Bo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,St.newInvalidDocument(h)))});let a=ba();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Wa(h.mutation,d,Sn.empty(),Ae.now()),Ud(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:NL(s.bundledQuery),readTime:Gn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new De(Q.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xs();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Xs(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new De((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Xs(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Xs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iL(n,r));let i=this.qr.get(n);i===void 0&&(i=de(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new nt(st.$r),this.Ur=new nt(st.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new st(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Ee([])),r=new st(n,e),s=new st(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Ee([])),r=new st(n,e),s=new st(n,e+1);let i=de();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new st(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(st.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new st(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ue);return n.forEach(s=>{const i=new st(s,0),o=new st(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new st(new Q(i),0);let a=new nt(ue);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new st(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new st(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.ri=e,this.docs=function(){return new De(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Sr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||wO(vO(h),r)<=0||(s.has(h.key)||Ud(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HL(this)}getSize(e){return U.resolve(this.size)}}class HL extends ML{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.persistence=e,this.si=new Si(n=>Lg(n),Mg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ld(0),this.li=!1,this.li=!0,this.hi=new zL,this.referenceDelegate=e(this),this.Pi=new qL(this),this.indexManager=new RL,this.remoteDocumentCache=function(s){return new WL(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new AL(n),this.Ii=new UL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $L(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new GL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class GL extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Wg(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hu{constructor(e,n){this.persistence=e,this.pi=new Si(r=>SO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=LL(this,n)}static mi(e,n){return new Hu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Jk()?8:EO(bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new KL;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Oi()<=ce.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Oi()<=ce.DEBUG&&H("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Oi()<=ce.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):U.resolve())}ys(e,n){if($_(n))return U.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bu(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,Bu(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return $_(n)||s.isEqual(ee.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Oi()<=ce.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Li(n)),this.vs(e,o,n,yO(s,hl)).next(a=>a))})}Ds(e,n){let r=new nt(bS(e));return n.forEach((s,i)=>{Ud(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Oi()<=ce.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Li(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",YL=3e8;class XL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new De(ue),this.xs=new Si(i=>Lg(i),Mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function JL(t,e,n,r){return new XL(t,e,n,r)}async function YS(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=de();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function ZL(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let x=U.resolve();return m.forEach(C=>{x=x.next(()=>h.getEntry(l,C)).next(_=>{const I=d.docVersions.get(C);ge(I!==null,48541),_.version.compareTo(I)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function XS(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function eM(t,e){const n=re(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let x=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(gt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(_,I,v){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=YL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,x,h)&&a.push(n.Pi.updateTargetData(i,x))});let l=Sr(),d=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(tM(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function tM(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Sr();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H(qg,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function nM(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rM(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Yp(t,e,n){const r=re(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Uo(o))throw o;H(qg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function nx(t,e,n){const r=re(t);let s=ee.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=re(l),m=f.xs.get(h);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,qn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:de())).next(a=>(sM(r,$O(e),a),{documents:a,Qs:i})))}function sM(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class rx{constructor(){this.activeTargetIds=QO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iM{constructor(){this.Mo=new rx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="ConnectivityMonitor";class ix{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(sx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(sx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Xp(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="RestConnection",aM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Vu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Xp(),a=this.zo(e,n.toUriEncodedString());H(uf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=_i(d);return this.Jo(e,a,l,r,h).then(f=>(H(uf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xo(uf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=aM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class uM extends lM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xp();return new Promise((a,l)=>{const d=new ZT;d.setWithCredentials(!0),d.listenOnce(eS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hc.NO_ERROR:const f=d.getResponseJson();H(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Hc.TIMEOUT:H(xt,`RPC '${e}' ${o} timed out`),l(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const m=d.getStatus();if(H(xt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const _=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(C.status);l(new W(_,C.message))}else l(new W(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new W(F.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{H(xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);H(xt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Xp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rS(),a=nS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");H(xt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,x=!1;const C=new cM({Yo:I=>{x?H(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(m||(H(xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),H(xt,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Zo:()=>f.close()}),_=(I,v,w)=>{I.listen(v,E=>{try{w(E)}catch(P){setTimeout(()=>{throw P},0)}})};return _(f,Ia.EventType.OPEN,()=>{x||(H(xt,`RPC '${e}' stream ${s} transport opened.`),C.o_())}),_(f,Ia.EventType.CLOSE,()=>{x||(x=!0,H(xt,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(f))}),_(f,Ia.EventType.ERROR,I=>{x||(x=!0,xo(xt,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new W(F.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ia.EventType.MESSAGE,I=>{var v;if(!x){const w=I.data[0];ge(!!w,16349);const E=w,P=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(P){H(xt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let O=function(b){const R=$e[b];if(R!==void 0)return VS(R)}(D),S=P.message;O===void 0&&(O=F.INTERNAL,S="Unknown error status: "+D+" with message "+P.message),x=!0,C.a_(new W(O,S)),f.close()}else H(xt,`RPC '${e}' stream ${s} received:`,w),C.u_(w)}}),_(a,tS.STAT_EVENT,I=>{I.stat===Fp.PROXY?H(xt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Fp.NOPROXY&&H(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new pL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="PersistentStream";class ZS{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dM extends ZS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Gn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Wp(l)?{documents:_L(i,l)}:{query:xL(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BS(i,o.resumeToken);const d=qp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Wu(i,o.snapshotVersion.toTimestamp());const d=qp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=TL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.q_(n)}}class hM extends ZS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wL(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{}class pM extends fM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Gp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Gp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="RemoteStore";class gM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{bi(this)&&(H(pi,"Restarting streams for network reachability change."),await async function(l){const d=re(l);d.Ea.add(4),await Ll(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Hd(d)}(this))})}),this.Ra=new mM(r,s)}}async function Hd(t){if(bi(t))for(const e of t.da)await e(!0)}async function Ll(t){for(const e of t.da)await e(!1)}function eI(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yg(n)?Qg(n):zo(n).O_()&&Kg(n,e))}function Gg(t,e){const n=re(t),r=zo(n);n.Ia.delete(e),r.O_()&&tI(n,e),n.Ia.size===0&&(r.O_()?r.L_():bi(n)&&n.Ra.set("Unknown"))}function Kg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).Y_(e)}function tI(t,e){t.Va.Ue(e),zo(t).Z_(e)}function Qg(t){t.Va=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.Ra.ua()}function Yg(t){return bi(t)&&!zo(t).x_()&&t.Ia.size>0}function bi(t){return re(t).Ea.size===0}function nI(t){t.Va=void 0}async function yM(t){t.Ra.set("Online")}async function vM(t){t.Ia.forEach((e,n)=>{Kg(t,e)})}async function wM(t,e){nI(t),Yg(t)?(t.Ra.ha(e),Qg(t)):t.Ra.set("Unknown")}async function _M(t,e,n){if(t.Ra.set("Online"),e instanceof US&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){H(pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qu(t,r)}else if(e instanceof Qc?t.Va.Ze(e):e instanceof FS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await XS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),tI(i,l);const f=new Jr(h.target,l,d,h.sequenceNumber);Kg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(pi,"Failed to raise snapshot:",r),await qu(t,r)}}async function qu(t,e,n){if(!Uo(e))throw e;t.Ea.add(1),await Ll(t),t.Ra.set("Offline"),n||(n=()=>XS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(pi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hd(t)})}function rI(t,e){return e().catch(n=>qu(t,n,e))}async function qd(t){const e=re(t),n=ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;xM(e);)try{const s=await nM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,EM(e,s)}catch(s){await qu(e,s)}sI(e)&&iI(e)}function xM(t){return bi(t)&&t.Ta.length<10}function EM(t,e){t.Ta.push(e);const n=ws(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sI(t){return bi(t)&&!ws(t).x_()&&t.Ta.length>0}function iI(t){ws(t).start()}async function TM(t){ws(t).ra()}async function SM(t){const e=ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function IM(t,e,n){const r=t.Ta.shift(),s=Ug.from(r,e,n);await rI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await qd(t)}async function bM(t,e){e&&ws(t).X_&&await async function(r,s){if(function(o){return aL(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();ws(r).B_(),await rI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qd(r)}}(t,e),sI(t)&&iI(t)}async function ax(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),H(pi,"RemoteStore received new credentials");const r=bi(n);n.Ea.add(3),await Ll(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hd(n)}async function CM(t,e){const n=re(t);e?(n.Ea.delete(2),await Hd(n)):e||(n.Ea.add(2),await Ll(n),n.Ra.set("Unknown"))}function zo(t){return t.ma||(t.ma=function(n,r,s){const i=re(n);return i.sa(),new dM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:yM.bind(null,t),t_:vM.bind(null,t),r_:wM.bind(null,t),H_:_M.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Yg(t)?Qg(t):t.Ra.set("Unknown")):(await t.ma.stop(),nI(t))})),t.ma}function ws(t){return t.fa||(t.fa=function(n,r,s){const i=re(n);return i.sa(),new hM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TM.bind(null,t),r_:bM.bind(null,t),ta:SM.bind(null,t),na:IM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await qd(t)):(await t.fa.stop(),t.Ta.length>0&&(H(pi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Xg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Uo(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=ba(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.ga=new De(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,ao.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NM{constructor(){this.queries=cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=cx(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function cx(){return new Si(t=>IS(t),Fd)}async function oI(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new AM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Jg(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Zg(n)}async function aI(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RM(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Zg(n)}function kM(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Zg(t){t.Ca.forEach(e=>{e.next()})}var Jp,ux;(ux=Jp||(Jp={})).Ma="default",ux.Cache="cache";class lI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.key=e}}class uI{constructor(e){this.key=e}}class PM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=bS(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lx,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),x=Ud(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;m&&x?m.data.isEqual(x.data)?C!==_&&(r.track({type:3,doc:x}),I=!0):this.su(m,x)||(r.track({type:2,doc:x}),I=!0,(l&&this.eu(x,l)>0||d&&this.eu(x,d)<0)&&(a=!0)):!m&&x?(r.track({type:0,doc:x}),I=!0):m&&!x&&(r.track({type:1,doc:m}),I=!0,(l||d)&&(a=!0)),I&&(x?(o=o.add(x),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(x,C){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:I})}};return _(x)-_(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new bo(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new uI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new cI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=de();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class jM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Si(a=>IS(a),Fd),this.Iu=new Map,this.Eu=new Set,this.du=new De(Q.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LM(t,e,n=!0){const r=gI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dI(r,e,n,!0),s}async function MM(t,e){const n=gI(t);await dI(n,e,!0,!1)}async function dI(t,e,n,r){const s=await rM(t.localStore,qn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await VM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&eI(t.remoteStore,s),a}async function VM(t,e,n,r,s){t.pu=(f,m,x)=>async function(_,I,v,w){let E=I.view.ru(v);E.Cs&&(E=await nx(_.localStore,I.query,!1).then(({documents:S})=>I.view.ru(S,E)));const P=w&&w.targetChanges.get(I.targetId),D=w&&w.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(E,_.isPrimaryClient,P,D);return hx(_,I.targetId,O.au),O.snapshot}(t,f,m,x);const i=await nx(t.localStore,e,!0),o=new PM(e,i.Qs),a=o.ru(i.documents),l=Ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);hx(t,n,d.au);const h=new jM(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function FM(t,e,n){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Fd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gg(r.remoteStore,s.targetId),Zp(r,s.targetId)}).catch(Fo)):(Zp(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function UM(t,e){const n=re(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gg(n.remoteStore,r.targetId))}async function BM(t,e,n){const r=KM(t);try{const s=await function(o,a){const l=re(o),d=Ae.now(),h=a.reduce((x,C)=>x.add(C.key),de());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=Sr(),_=de();return l.Ns.getEntries(x,h).next(I=>{C=I,C.forEach((v,w)=>{w.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,C)).next(I=>{f=I;const v=[];for(const w of a){const E=nL(w,f.get(w.key).overlayedDocument);E!=null&&v.push(new Ii(w.key,E,yS(E.value.mapValue),gr.exists(!0)))}return l.mutationQueue.addMutationBatch(x,d,v,a)}).next(I=>{m=I;const v=I.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(x,I.batchId,v)})}).then(()=>({batchId:m.batchId,changes:AS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new De(ue)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ml(r,s.changes),await qd(r.remoteStore)}catch(s){const i=Jg(s,"Failed to persist write");n.reject(i)}}async function hI(t,e){const n=re(t);try{const r=await eM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ge(o.hu,14607):s.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await Ml(n,r,e)}catch(r){await Fo(r)}}function dx(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&Zg(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zM(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new De(Q.comparator);o=o.insert(i,St.newNoDocument(i,ee.min()));const a=de().add(i),l=new $d(ee.min(),new Map,new De(ue),o,a);await hI(r,l),r.du=r.du.remove(i),r.Au.delete(e),ty(r)}else await Yp(r.localStore,e,!1).then(()=>Zp(r,e,n)).catch(Fo)}async function $M(t,e){const n=re(t),r=e.batch.batchId;try{const s=await ZL(n.localStore,e);pI(n,r,null),fI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ml(n,s)}catch(s){await Fo(s)}}async function WM(t,e,n){const r=re(t);try{const s=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ge(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);pI(r,e,n),fI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ml(r,s)}catch(s){await Fo(s)}}function fI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pI(t,e,n){const r=re(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mI(t,r)})}function mI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ty(t))}function hx(t,e,n){for(const r of n)r instanceof cI?(t.Ru.addReference(r.key,e),HM(t,r)):r instanceof uI?(H(ey,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mI(t,r.key)):Z(19791,{wu:r})}function HM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(ey,"New document in limbo: "+n),t.Eu.add(r),ty(t))}function ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new DM(n)),t.du=t.du.insert(n,r),eI(t.remoteStore,new Jr(qn(Vg(n.path)),r,"TargetPurposeLimboResolution",Ld.ce))}}async function Ml(t,e,n){const r=re(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Hg.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=re(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,m=>U.forEach(m.Es,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>U.forEach(m.ds,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!Uo(f))throw f;H(qg,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const x=h.Ms.get(m),C=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(m,_)}}}(r.localStore,i))}async function qM(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){H(ey,"User change. New user:",e.toKey());const r=await YS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ml(n,r.Ls)}}function GM(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return de().add(r.key);{let s=de();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function gI(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zM.bind(null,e),e.Pu.H_=RM.bind(null,e.eventManager),e.Pu.yu=kM.bind(null,e.eventManager),e}function KM(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class Gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JL(this.persistence,new QL,e.initialUser,this.serializer)}Cu(e){return new QS(Wg.mi,this.serializer)}Du(e){return new iM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gu.provider={build:()=>new Gu};class QM extends Gu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof Hu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new QS(r=>Hu.mi(r,n),this.serializer)}}class em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await CM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NM}()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),r=function(i){return new uM(i)}(e.databaseInfo);return function(i,o,a,l){return new pM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new gM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dx(this.syncEngine,n,0),function(){return ix.v()?new ix:new oM}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new OM(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);H(pi,"RemoteStore shutting down."),i.Ea.add(5),await Ll(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class YM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(_s,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(_s,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),H(_s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await YS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XM(t);H(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ax(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ax(e.remoteStore,s)),t._onlineComponents=e}async function XM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(_s,"Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new Gu)}}else H(_s,"Using default OfflineComponentProvider"),await hf(t,new QM(void 0));return t._offlineComponents}async function vI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(_s,"Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(H(_s,"Using default OnlineComponentProvider"),await fx(t,new em))),t._onlineComponents}function JM(t){return vI(t).then(e=>e.syncEngine)}async function wI(t){const e=await vI(t),n=e.eventManager;return n.onListen=LM.bind(null,e.syncEngine),n.onUnlisten=FM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UM.bind(null,e.syncEngine),n}function ZM(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new yI({next:m=>{h.Nu(),o.enqueueAndForget(()=>aI(i,f));const x=m.docs.has(a);!x&&m.fromCache?d.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&m.fromCache&&l&&l.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new lI(Vg(a.path),h,{includeMetadataChanges:!0,qa:!0});return oI(i,f)}(await wI(t),t.asyncQueue,e,n,r)),r.promise}function eV(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new yI({next:m=>{h.Nu(),o.enqueueAndForget(()=>aI(i,f)),m.fromCache&&l.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new lI(a,h,{includeMetadataChanges:!0,qa:!0});return oI(i,f)}(await wI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firestore.googleapis.com",mx=!0;class gx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xI,this.ssl=mx}else this.host=e.host,this.ssl=e.ssl??mx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PL)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iO;switch(r.type){case"firstParty":return new cO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(H("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function tV(t,e,n,r={}){var d;t=fi(t,Gd);const s=_i(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(hg(`https://${a}`),fg("Firestore",!0)),i.host!==xI&&i.host!==a&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ps(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Et.MOCK_USER;else{h=z1(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(m)}t._authCredentials=new oO(new iS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jl(n,Ke._jsonSchema))return new Ke(e,r||null,new Q(Ee.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ge("string",Ke._jsonSchemaVersion),referencePath:Ge("string")};class ds extends js{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new Q(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function ff(t,e,...n){if(t=Qe(t),oS("collection","path",e),t instanceof Gd){const r=Ee.fromString(e,...n);return N_(r),new ds(t,null,r)}{if(!(t instanceof Ke||t instanceof ds))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return N_(r),new ds(t.firestore,null,r)}}function Ku(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Pg.newId()),oS("doc","path",e),t instanceof Gd){const r=Ee.fromString(e,...n);return A_(r),new Ke(t,null,new Q(r))}{if(!(t instanceof Ke||t instanceof ds))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return A_(r),new Ke(t.firestore,t instanceof ds?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="AsyncQueue";class vx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const r=df();r&&H(yx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;H(yx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",wx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Xg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Z(47125,{Pc:wx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kd extends Gd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function nV(t,e){const n=typeof t=="object"?t:Nd(),r=typeof t=="string"?t:Vu,s=Rs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=F1("firestore");i&&tV(s,...i)}return s}function ny(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rV(t),t._firestoreClient}function rV(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new CO(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_I(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(gt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Ge("string",ln._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kn._jsonSchemaVersion}}static fromJSON(e){if(jl(e,Kn._jsonSchema))return new Kn(e.latitude,e.longitude)}}Kn._jsonSchemaVersion="firestore/geoPoint/1.0",Kn._jsonSchema={type:Ge("string",Kn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qn(e.vectorValues);throw new W(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:Ge("string",Qn._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=/^__.*__$/;class iV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}function TI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class sy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TI(this.Ac)&&sV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wd(e)}Cc(e,n,r,s=!1){return new sy({Ac:e,methodName:n,Dc:r,path:ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SI(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new oV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);CI("Data must be an object, but it was:",o,r);const a=II(r,o);let l,d;if(i.merge)l=new Sn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=cV(e,f,n);if(!o.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);dV(h,m)||h.push(m)}l=new Sn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new iV(new an(a),l,d)}function lV(t,e,n,r=!1){return iy(n,t.Cc(r?4:3,e))}function iy(t,e){if(bI(t=Qe(t)))return CI("Unsupported field value:",e,t),II(t,e);if(t instanceof EI)return function(r,s){if(!TI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=iy(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:Wu(s.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wu(s.serializer,i)}}if(r instanceof Kn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:BS(s.serializer,r._byteString)};if(r instanceof Ke){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qn)return function(o,a){return{mapValue:{fields:{[mS]:{stringValue:gS},[Fu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Fg(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Od(r)}`)}(t,e)}function II(t,e){const n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(r,s)=>{const i=iy(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Kn||t instanceof ln||t instanceof Ke||t instanceof EI||t instanceof Qn)}function CI(t,e,n){if(!bI(n)||!aS(n)){const r=Od(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cV(t,e,n){if((e=Qe(e))instanceof ry)return e._internalPath;if(typeof e=="string")return AI(t,e);throw Qu("Field path arguments must be of type string or ",t,!1,void 0,n)}const uV=new RegExp("[~\\*/\\[\\]]");function AI(t,e,n){if(e.search(uV)>=0)throw Qu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw Qu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function dV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hV extends NI{data(){return super.data()}}function Qd(t,e){return typeof e=="string"?AI(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class ay extends oy{}function pf(t,e,...n){let r=[];e instanceof oy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ly).length,a=i.filter(l=>l instanceof Yd).length;if(o>1||o>0&&a>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yd extends ay{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yd(e,n,r)}_apply(e){const n=this._parse(e);return RI(e._query,n),new js(e.firestore,e.converter,Hp(e._query,n))}_parse(e){const n=SI(e.firestore);return function(i,o,a,l,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xx(f,h);const C=[];for(const _ of f)C.push(_x(l,i,_));m={arrayValue:{values:C}}}else m=_x(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xx(f,h),m=lV(a,o,f,h==="in"||h==="not-in");return qe.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mf(t,e,n){const r=e,s=Qd("where",t);return Yd._create(s,r,n)}class ly extends oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)RI(o,l),o=Hp(o,l)}(e._query,n),new js(e.firestore,e.converter,Hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends ay{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(i,o)}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function gf(t,e="asc"){const n=e,r=Qd("orderBy",t);return cy._create(r,n)}class uy extends ay{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uy(e,n,r)}_apply(e){return new js(e.firestore,e.converter,Bu(e._query,this._limit,this._limitType))}}function yf(t){return gO("limit",t),uy._create("limit",t,"F")}function _x(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SS(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!Q.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M_(t,new Q(r))}if(n instanceof Ke)return M_(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function xx(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pV{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Fu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Fe(o.doubleValue));return new Qn(n)}convertGeoPoint(e){return new Kn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ge(GS(r),9688,{name:e});const s=new pl(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Tr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ti extends NI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",ti._jsonSchema={type:Ge("string",ti._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Yc extends ti{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Aa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Aa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Aa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:gV(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){t=fi(t,Ke);const e=fi(t.firestore,Kd);return ZM(ny(e),t._key).then(n=>vV(e,t,n))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ge("string",lo._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class PI extends pV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function vf(t){t=fi(t,js);const e=fi(t.firestore,Kd),n=ny(e),r=new PI(e);return fV(t._query),eV(n,t._query).then(s=>new lo(e,r,t,s))}function jI(t,e,n){t=fi(t,Ke);const r=fi(t.firestore,Kd),s=mV(t.converter,e);return yV(r,[aV(SI(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gr.none())])}function yV(t,e){return function(r,s){const i=new mr;return r.asyncQueue.enqueueAndForget(async()=>BM(await JM(r),s,i)),i.promise}(ny(t),e)}function vV(t,e,n){const r=n.docs.get(e._key),s=new PI(t);return new ti(t,s,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Vo=s})(Ei),Rn(new fn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Kd(new aO(r.getProvider("auth-internal")),new uO(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Wt(S_,I_,e),Wt(S_,I_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebasestorage.googleapis.com",wV="storageBucket",_V=2*60*1e3,xV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends mn{constructor(e,n,r=0){super(wf(e),`Firebase Storage: ${n} (${wf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jn||(Jn={}));function wf(t){return"storage/"+t}function EV(){const t="An unknown error occurred, please check the error payload for server response.";return new er(Jn.UNKNOWN,t)}function TV(){return new er(Jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SV(){return new er(Jn.CANCELED,"User canceled the upload/download.")}function IV(t){return new er(Jn.INVALID_URL,"Invalid URL '"+t+"'.")}function bV(t){return new er(Jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ex(t){return new er(Jn.INVALID_ARGUMENT,t)}function OI(){return new er(Jn.APP_DELETED,"The Firebase app was deleted.")}function CV(t){return new er(Jn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=In.makeFromUrl(e,n)}catch{return new In(e,"")}if(r.path==="")return r;throw bV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),C={bucket:1,path:3},_=n===DI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",v=new RegExp(`^https?://${_}/${s}/${I}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:x,indices:C,postModify:d},{regex:v,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<E.length;P++){const D=E[P],O=D.regex.exec(e);if(O){const S=O[D.indices.bucket];let T=O[D.indices.path];T||(T=""),r=new In(S,T),D.postModify(r);break}}if(r==null)throw IV(e);return r}}class AV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(...I){d||(d=!0,e.apply(null,I))}function f(I){s=setTimeout(()=>{s=null,t(x,l())},I)}function m(){i&&clearTimeout(i)}function x(I,...v){if(d){m();return}if(I){m(),h.call(null,I,...v);return}if(l()||o){m(),h.call(null,I,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let C=!1;function _(I){C||(C=!0,m(),!d&&(s!==null?(I||(a=2),clearTimeout(s),f(0)):I||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function RV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return t!==void 0}function Tx(t,e,n,r){if(r<e)throw Ex(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ex(`Invalid value for '${t}'. Expected ${n} or less.`)}function PV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Yu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yu||(Yu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,s,i,o,a,l,d,h,f,m=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,_)=>{this.resolve_=C,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ec(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Yu.NO_ERROR,l=i.getStatus();if(!a||jV(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Yu.ABORT;r(!1,new Ec(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Ec(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kV(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=EV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?OI():SV();o(l)}else{const l=TV();o(l)}};this.canceled_?n(!1,new Ec(!1,null,!0)):this.backoffId_=NV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FV(t,e,n,r,s,i,o=!0,a=!1){const l=PV(t.urlParams),d=t.url+l,h=Object.assign({},t.headers);return MV(h,e),OV(h,n),LV(h,i),VV(h,r),new DV(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this._service=e,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xu(e,n)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BV(this._location.path)}get storage(){return this._service}get parent(){const e=UV(this._location.path);if(e===null)return null;const n=new In(this._location.bucket,e);return new Xu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CV(e)}}function Sx(t,e){const n=e==null?void 0:e[wV];return n==null?null:In.makeFromBucketSpec(n,t)}function zV(t,e,n,r={}){t.host=`${e}:${n}`;const s=_i(e);s&&(hg(`https://${t.host}/b`),fg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:z1(i,t.app.options.projectId))}class $V{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=DI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_V,this._maxUploadRetryTime=xV,this._requests=new Set,s!=null?this._bucket=In.makeFromBucketSpec(s,this._host):this._bucket=Sx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=Sx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new AV(OI());{const o=FV(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Ix="@firebase/storage",bx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="storage";function WV(t=Nd(),e){t=Qe(t);const r=Rs(t,LI).getImmediate({identifier:e}),s=F1("storage");return s&&HV(r,...s),r}function HV(t,e,n,r={}){zV(t,e,n,r)}function qV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $V(n,r,s,e,Ei)}function GV(){Rn(new fn(LI,qV,"PUBLIC").setMultipleInstances(!0)),Wt(Ix,bx,""),Wt(Ix,bx,"esm2020")}GV();const KV={apiKey:"AIzaSyAVk3CIK5hyAmjwVPh1p4i01vq-0Z5IsEA",authDomain:"zedctf.firebaseapp.com",projectId:"zedctf",storageBucket:"zedctf.firebasestorage.app",messagingSenderId:"574551910114",appId:"1:574551910114:web:8bcce937be224e1575a0bb",measurementId:"G-MEYRJGR69W"},Xd=Q1(KV);eO(Xd);const wl=DD(Xd),Js=nV(Xd);WV(Xd);const MI=y.createContext({user:null,loading:!0}),dy=()=>y.useContext(MI),QV=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);return y.useEffect(()=>Ej(wl,o=>{n(o),s(!1)}),[]),u.jsx(MI.Provider,{value:{user:e,loading:r},children:t})},ki=({children:t})=>{const{user:e,loading:n}=dy();return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(Tk,{to:"/login",replace:!0})};function Cx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Cx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Cx(t[s],null)}}}}function yt(...t){return y.useCallback(Vl(...t),t)}var YV=Symbol.for("react.lazy"),Ju=ud[" use ".trim().toString()];function XV(t){return typeof t=="object"&&t!==null&&"then"in t}function VI(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===YV&&"_payload"in t&&XV(t._payload)}function FI(t){const e=ZV(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;VI(i)&&typeof Ju=="function"&&(i=Ju(i._payload));const a=y.Children.toArray(i),l=a.find(t3);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var JV=FI("Slot");function ZV(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(VI(s)&&typeof Ju=="function"&&(s=Ju(s._payload)),y.isValidElement(s)){const o=r3(s),a=n3(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Vl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var e3=Symbol("radix.slottable");function t3(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===e3}function n3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function r3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UI(t))&&(r&&(r+=" "),r+=e);return r}const Ax=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nx=BI,zI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Nx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=Ax(h)||Ax(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...x}=h;return Object.entries(x).every(C=>{let[_,I]=C;return Array.isArray(I)?I.includes({...i,...a}[_]):{...i,...a}[_]===I})?[...d,f,m]:d},[]);return Nx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},hy="-",s3=t=>{const e=o3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hy);return a[0]===""&&a.length!==1&&a.shift(),$I(a,e)||i3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},$I=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$I(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Rx=/^\[(.+)\]$/,i3=t=>{if(Rx.test(t)){const e=Rx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},o3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return l3(Object.entries(t.classGroups),n).forEach(([i,o])=>{tm(o,r,i,e)}),r},tm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(a3(s)){tm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{tm(o,kx(e,i),n,r)})})},kx=(t,e)=>{let n=t;return e.split(hy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a3=t=>t.isThemeGetter,l3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,c3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WI="!",u3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let I=0;I<a.length;I++){let v=a[I];if(d===0){if(v===s&&(r||a.slice(I,I+i)===e)){l.push(a.slice(h,I)),h=I+i;continue}if(v==="/"){f=I;continue}}v==="["?d++:v==="]"&&d--}const m=l.length===0?a:a.substring(h),x=m.startsWith(WI),C=x?m.substring(1):m,_=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},d3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},h3=t=>({cache:c3(t.cacheSize),parseClassName:u3(t),...s3(t)}),f3=/\s+/,p3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(f3);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let C=!!x,_=r(C?m.substring(0,x):m);if(!_){if(!C){a=d+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=d+(a.length>0?" "+a:a);continue}C=!1}const I=d3(h).join(":"),v=f?I+WI:I,w=v+_;if(i.includes(w))continue;i.push(w);const E=s(_,C);for(let P=0;P<E.length;++P){const D=E[P];i.push(v+D)}a=d+(a.length>0?" "+a:a)}return a};function m3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HI(e))&&(r&&(r+=" "),r+=n);return r}const HI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HI(t[r]))&&(n&&(n+=" "),n+=e);return n};function g3(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=h3(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=p3(l,n);return s(l,h),h}return function(){return i(m3.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qI=/^\[(?:([a-z-]+):)?(.+)\]$/i,y3=/^\d+\/\d+$/,v3=new Set(["px","full","screen"]),w3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=t=>co(t)||v3.has(t)||y3.test(t),Vr=t=>$o(t,"length",k3),co=t=>!!t&&!Number.isNaN(Number(t)),_f=t=>$o(t,"number",co),ya=t=>!!t&&Number.isInteger(Number(t)),S3=t=>t.endsWith("%")&&co(t.slice(0,-1)),oe=t=>qI.test(t),Fr=t=>w3.test(t),I3=new Set(["length","size","percentage"]),b3=t=>$o(t,I3,GI),C3=t=>$o(t,"position",GI),A3=new Set(["image","url"]),N3=t=>$o(t,A3,j3),R3=t=>$o(t,"",P3),va=()=>!0,$o=(t,e,n)=>{const r=qI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},k3=t=>_3.test(t)&&!x3.test(t),GI=()=>!1,P3=t=>E3.test(t),j3=t=>T3.test(t),D3=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),d=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),m=Ie("gap"),x=Ie("gradientColorStops"),C=Ie("gradientColorStopPositions"),_=Ie("inset"),I=Ie("margin"),v=Ie("opacity"),w=Ie("padding"),E=Ie("saturate"),P=Ie("scale"),D=Ie("sepia"),O=Ie("skew"),S=Ie("space"),T=Ie("translate"),b=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",oe,e],k=()=>[oe,e],N=()=>["",sr,Vr],G=()=>["auto",co,oe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",oe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[co,oe];return{cacheSize:500,separator:":",theme:{colors:[va],spacing:[sr,Vr],blur:["none","",Fr,oe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Fr,oe],borderSpacing:k(),borderWidth:N(),contrast:ne(),grayscale:$(),hueRotate:ne(),invert:$(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[S3,Vr],inset:j(),margin:j(),opacity:ne(),padding:k(),saturate:ne(),scale:ne(),sepia:$(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Fr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),oe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ya,oe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ya,oe]}],"grid-cols":[{"grid-cols":[va]}],"col-start-end":[{col:["auto",{span:["full",ya,oe]},oe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[va]}],"row-start-end":[{row:["auto",{span:[ya,oe]},oe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,e]}],"min-w":[{"min-w":[oe,e,"min","max","fit"]}],"max-w":[{"max-w":[oe,e,"none","full","min","max","fit","prose",{screen:[Fr]},Fr]}],h:[{h:[oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fr,Vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_f]}],"font-family":[{font:[va]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",co,_f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Vr]}],"underline-offset":[{"underline-offset":["auto",sr,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),C3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[sr,oe]}],"outline-w":[{outline:[sr,Vr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[sr,Vr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fr,R3]}],"shadow-color":[{shadow:[va]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fr,oe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ya,oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sr,Vr,_f]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},O3=g3(D3);function Ye(...t){return O3(BI(t))}const L3=zI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.6)]",terminal:"bg-card border border-primary/30 text-primary hover:border-primary hover:bg-primary/10 font-mono"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ht=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?JV:"button";return u.jsx(o,{className:Ye(L3({variant:e,size:n,className:t})),ref:i,...s})});ht.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...V3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KI("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(F3,{ref:i,iconNode:e,className:KI(`lucide-${M3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=te("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=te("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=te("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=te("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=te("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),a6="/ZedCTF/favicon.png",Pt=()=>{const[t,e]=y.useState(!1);return u.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg supports-[backdrop-filter]:bg-background/60",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs(Ce,{to:"/",className:"flex items-center gap-2",children:[u.jsx("img",{src:a6,alt:"ZedCTF",className:"w-8 h-8"}),u.jsx("span",{className:"text-2xl font-bold text-green-600 animate-pulse-glow",children:"ZedCTF"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[u.jsxs(Ce,{to:"/",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(jx,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Home"]}),u.jsxs(Ce,{to:"/dashboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(Zu,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Dashboard"]}),u.jsxs(Ce,{to:"/practice",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(hr,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Practice"]}),u.jsxs(Ce,{to:"/live",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx(Px,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"LIVE CTF"]}),u.jsxs(Ce,{to:"/leaderboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(Co,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Leaderboard"]}),u.jsxs(Ce,{to:"/writeups",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[u.jsx(ed,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Writeups"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ht,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:u.jsx(rd,{className:"w-5 h-5"})}),u.jsxs(ht,{variant:"ghost",size:"icon",className:"relative",children:[u.jsx(B3,{className:"w-5 h-5"}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),u.jsx(ht,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:u.jsx(n6,{className:"w-5 h-5"})}),u.jsx(Ce,{to:"/login",children:u.jsxs(ht,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 text-white animate-glow gap-2",children:[u.jsx(ni,{className:"w-4 h-4"}),"Sign In"]})})]})]}),t&&u.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-lg animate-fade-in",children:u.jsxs("div",{className:"py-4 space-y-4",children:[u.jsxs(Ce,{to:"/",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(jx,{className:"w-5 h-5"}),"Home"]}),u.jsxs(Ce,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(Zu,{className:"w-5 h-5"}),"Dashboard"]}),u.jsxs(Ce,{to:"/practice",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(hr,{className:"w-5 h-5"}),"Practice"]}),u.jsxs(Ce,{to:"/live",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx(Px,{className:"w-5 h-5"}),"LIVE CTF"]}),u.jsxs(Ce,{to:"/leaderboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(Co,{className:"w-5 h-5"}),"Leaderboard"]}),u.jsxs(Ce,{to:"/writeups",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[u.jsx(ed,{className:"w-5 h-5"}),"Writeups"]}),u.jsx("div",{className:"px-4 pt-2 border-t border-border",children:u.jsx(Ce,{to:"/login",onClick:()=>e(!1),children:u.jsxs(ht,{variant:"default",className:"w-full justify-start gap-2 bg-green-500 hover:bg-green-600",children:[u.jsx(ni,{className:"w-4 h-4"}),"Sign In"]})})})]})})]})})},l6="/ZedCTF/assets/hero-bg-x4dJ88o_.jpg",c6=()=>{const[t,e]=y.useState(null),[n,r]=y.useState(!0),s=Ns(),i=async()=>{try{const d=await fetch("/api/platform/stats");if(d.ok){const h=await d.json();e(h)}else e(null)}catch{e(null)}finally{r(!1)}},o=()=>{s("/practice")},a=()=>{s("/live")};return y.useEffect(()=>{i()},[]),u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${l6})`}}),u.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),u.jsx("div",{className:"container relative z-10 px-4 py-32",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-primary/30 bg-primary/5 mb-4",children:[u.jsx(K3,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-mono",children:"Zambia's Premier CTF Platform"})]}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Master Cybersecurity",u.jsx("br",{}),u.jsx("span",{className:"neon-text animate-pulse-glow",children:"Capture The Flag"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sharpen your hacking skills, compete in real-time challenges, and climb the leaderboard. From beginner to expert, ZedCTF is your gateway to cybersecurity mastery."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[u.jsxs(ht,{onClick:o,variant:"neon",size:"lg",className:"group",children:["Start Practicing",u.jsx(U3,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),u.jsxs(ht,{onClick:a,variant:"terminal",size:"lg",children:[u.jsx(q3,{className:"w-5 h-5"}),"Join LIVE Event"]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-8 pt-12 max-w-2xl mx-auto",children:[u.jsx("div",{className:"text-center",children:n?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):t?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-bold text-primary mb-1",children:[u.jsx(Co,{className:"w-6 h-6"}),t.activeUsers]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-3xl font-bold text-muted-foreground mb-1",children:"-"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]})}),u.jsx("div",{className:"text-center",children:n?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):t?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-bold text-primary mb-1",children:[u.jsx(Ir,{className:"w-6 h-6"}),t.totalChallenges]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Challenges"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-3xl font-bold text-muted-foreground mb-1",children:"-"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Challenges"})]})}),u.jsx("div",{className:"text-center",children:n?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):t?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-3xl font-bold text-primary mb-1",children:[u.jsx(Jd,{className:"w-6 h-6"}),t.liveEvents]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Live Events"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-3xl font-bold text-muted-foreground mb-1",children:"-"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Live Events"})]})})]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"})]})},jt=()=>u.jsx("footer",{className:"border-t border-border bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ir,{className:"w-8 h-8 text-primary"}),u.jsx("span",{className:"text-2xl font-bold neon-text",children:"ZedCTF"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Zambia's premier platform for cybersecurity challenges and training."}),u.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"An initiative by IT Society of Kapasa Makasa University"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Platform"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Ce,{to:"/dashboard",className:"hover:text-primary transition-colors",children:"Dashboard"})}),u.jsx("li",{children:u.jsx(Ce,{to:"/practice",className:"hover:text-primary transition-colors",children:"Practice"})}),u.jsx("li",{children:u.jsx(Ce,{to:"/live",className:"hover:text-primary transition-colors",children:"LIVE Events"})}),u.jsx("li",{children:u.jsx(Ce,{to:"/leaderboard",className:"hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Resources"}),u.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:u.jsx("li",{children:u.jsx(Ce,{to:"/writeups",className:"hover:text-primary transition-colors",children:"Walkthroughs"})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Connect"}),u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsx("a",{href:"https://github.com/ZedCTF/ZedCTF",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(Q3,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(i6,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(Z3,{className:"w-5 h-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:u.jsx(JI,{className:"w-5 h-5"})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2 text-primary flex items-center gap-2",children:[u.jsx(Co,{className:"w-4 h-4"}),"Contributors"]}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[u.jsx("a",{href:"https://github.com/SokoJames",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"James Soko"}),u.jsx("a",{href:"https://github.com/abbymwale24",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Abby Mwale"}),u.jsx("a",{href:"https://github.com/Joylad-Jangazya",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Joylad Jangazya"}),u.jsx("a",{href:"https://github.com/Kono-hub",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Mary Chanda"}),u.jsx("a",{href:"https://github.com/ronny-brawn",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Aaron Nyakapanda"}),u.jsx("a",{href:"https://github.com/threat23",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Humphery Chileshe"})]})]})]})]}),u.jsxs("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[u.jsx("p",{children:" 2025 ZedCTF. All rights reserved. Made with  in Zambia"}),u.jsx("p",{className:"mt-1",children:"IT Society of Kapasa Makasa University"})]})]})}),u6=()=>u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Pt,{}),u.jsx(c6,{}),u.jsx(jt,{})]}),d6=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,a]=y.useState(""),[l,d]=y.useState({email:"",password:"",rememberMe:!1}),h=Ns(),f=new ar;f.addScope("read:user"),f.addScope("user:email");const m=async I=>{I.preventDefault(),a(""),i(!0);try{await yj(wl,l.email,l.password),h("/dashboard")}catch(v){console.error("Login error:",v),a(C(v.code))}finally{i(!1)}},x=async()=>{var I,v,w;r(!0),a("");try{const P=(await $j(wl,f)).user;(await kI(Ku(Js,"users",P.uid))).exists()||await jI(Ku(Js,"users",P.uid),{uid:P.uid,firstName:((I=P.displayName)==null?void 0:I.split(" ")[0])||"GitHub",lastName:((v=P.displayName)==null?void 0:v.split(" ").slice(1).join(" "))||"User",username:((w=P.email)==null?void 0:w.split("@")[0])||`github_${P.uid.slice(0,8)}`,email:P.email,displayName:P.displayName||"GitHub User",photoURL:P.photoURL,provider:"github",createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(E){console.error("GitHub login error:",E),E.code==="auth/account-exists-with-different-credential"?a("An account already exists with the same email address but different sign-in credentials."):E.code==="auth/popup-closed-by-user"?console.log("GitHub login popup closed by user"):a("GitHub login failed. Please try again.")}finally{r(!1)}},C=I=>{switch(I){case"auth/invalid-email":return"Invalid email address format.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials.";default:return"Login failed. Please try again."}},_=I=>{const{name:v,value:w,type:E,checked:P}=I.target;d(D=>({...D,[v]:E==="checkbox"?P:w}))};return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(Ir,{className:"w-10 h-10 text-primary"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground",children:"Access your cybersecurity dashboard"})]}),o&&u.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),u.jsx("div",{className:"relative",children:u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:l.password,onChange:_,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all pr-12",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?u.jsx(nm,{className:"w-5 h-5"}):u.jsx(_l,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{name:"rememberMe",type:"checkbox",checked:l.rememberMe,onChange:_,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2",disabled:s}),u.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),u.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),u.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?u.jsx(nd,{className:"w-5 h-5 animate-spin"}):u.jsx(e6,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),s?"Signing in...":"Access Dashboard"]})]}),u.jsxs("div",{className:"my-6 flex items-center",children:[u.jsx("div",{className:"flex-1 border-t border-border"}),u.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or continue with"}),u.jsx("div",{className:"flex-1 border-t border-border"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.jsxs("button",{onClick:x,disabled:n||s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-muted/50 border border-border rounded-lg text-foreground hover:bg-muted transition-colors hover:border-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:[n?u.jsx(nd,{className:"w-5 h-5 animate-spin"}):u.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),n?"Signing in with GitHub...":"Continue with GitHub"]})}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-muted-foreground",children:["New to ZedCTF?"," ",u.jsx(Ce,{to:"/signup",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Create an account"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),u.jsx(jt,{})]})},h6=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,a]=y.useState(""),[l,d]=y.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:"",agreeToTerms:!1}),h=Ns(),f=async C=>{if(C.preventDefault(),a(""),l.password!==l.confirmPassword){a("Passwords don't match!");return}if(l.password.length<6){a("Password should be at least 6 characters");return}if(!l.agreeToTerms){a("Please agree to the terms and conditions");return}i(!0);try{const I=(await gj(wl,l.email,l.password)).user;await wj(I,{displayName:`${l.firstName} ${l.lastName}`.trim()}),await jI(Ku(Js,"users",I.uid),{uid:I.uid,firstName:l.firstName,lastName:l.lastName,username:l.username,email:l.email,displayName:`${l.firstName} ${l.lastName}`.trim(),createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(_){console.error("Registration error:",_),a(m(_.code))}finally{i(!1)}},m=C=>{switch(C){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/invalid-email":return"Invalid email address format.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak.";default:return"Registration failed. Please try again."}},x=C=>{const{name:_,value:I,type:v,checked:w}=C.target;d(E=>({...E,[_]:v==="checkbox"?w:I}))};return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(Ir,{className:"w-10 h-10 text-primary"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Join the Community"}),u.jsx("p",{className:"text-muted-foreground",children:"Start your cybersecurity journey today"})]}),o&&u.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:o}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-2",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(ni,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:l.firstName,onChange:x,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-2",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(ni,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:l.lastName,onChange:x,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Doe",disabled:s})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(JI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:x,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-2",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx(ni,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:l.username,onChange:x,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"cyber_hacker",disabled:s})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ox,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:l.password,onChange:x,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?u.jsx(nm,{className:"w-5 h-5"}):u.jsx(_l,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ox,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:l.confirmPassword,onChange:x,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),u.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:n?u.jsx(nm,{className:"w-5 h-5"}):u.jsx(_l,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex items-start",children:u.jsxs("label",{className:"flex items-start",children:[u.jsx("input",{name:"agreeToTerms",type:"checkbox",checked:l.agreeToTerms,onChange:x,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2 mt-1",disabled:s}),u.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["I agree to the"," ",u.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Terms of Service"})," ","and"," ",u.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Privacy Policy"})]})]})}),u.jsxs("button",{type:"submit",disabled:s||!l.agreeToTerms,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?u.jsx(nd,{className:"w-5 h-5 animate-spin"}):u.jsx(o6,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s?"Creating Account...":"Create Account"]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",u.jsx(Ce,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Sign in"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),u.jsx(jt,{})]})},f6=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState([]),[o,a]=y.useState([]),[l,d]=y.useState(""),[h,f]=y.useState("all"),[m,x]=y.useState("all"),[C,_]=y.useState("all"),[I,v]=y.useState(!0),[w]=y.useState(!1),E=async()=>{try{v(!0);const S=await fetch("/api/writeups");if(S.ok){const T=await S.json();e(T),r(T);const b=Array.from(new Set(T.map(j=>j.category))).filter(Boolean),R=Array.from(new Set(T.map(j=>j.difficulty))).filter(Boolean);i(b),a(R)}else e([]),r([]),i([]),a([])}catch{e([]),r([]),i([]),a([])}finally{v(!1)}};y.useEffect(()=>{E()},[]),y.useEffect(()=>{let O=t;l&&(O=O.filter(S=>S.title.toLowerCase().includes(l.toLowerCase())||S.description.toLowerCase().includes(l.toLowerCase())||S.tags.some(T=>T.toLowerCase().includes(l.toLowerCase())))),h!=="all"&&(O=O.filter(S=>S.category===h)),m!=="all"&&(O=O.filter(S=>S.difficulty===m)),C!=="all"&&(O=O.filter(S=>S.status===C)),r(O)},[l,h,m,C,t]);const P=O=>{switch(O){case"approved":return u.jsx(YI,{className:"w-4 h-4 text-green-400"});case"rejected":return u.jsx(XI,{className:"w-4 h-4 text-red-400"});default:return u.jsx(Jd,{className:"w-4 h-4 text-yellow-400"})}},D=O=>{switch(O.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"insane":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"expert":return"bg-red-500/20 text-red-500 border-red-500/30";case"beginner":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return I?u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading writeups..."})]})}),u.jsx(jt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Ir,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Community ",u.jsx("span",{className:"text-primary",children:"Writeups"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Learn from other players' solutions and share your own approaches"})]}),u.jsxs("div",{className:"bg-muted/20 border border-border rounded-lg p-6 mb-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsxs("div",{className:"relative",children:[u.jsx(rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),u.jsx("input",{type:"text",placeholder:"Search writeups, tags, challenges...",value:l,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})}),u.jsx("div",{children:u.jsxs("select",{value:h,onChange:O=>f(O.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Categories"}),s.map(O=>u.jsx("option",{value:O,children:O},O))]})}),u.jsx("div",{children:u.jsxs("select",{value:m,onChange:O=>x(O.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Difficulties"}),o.map(O=>u.jsx("option",{value:O,children:O},O))]})})]}),w&&u.jsx("div",{className:"mt-4",children:u.jsxs("select",{value:C,onChange:O=>_(O.target.value),className:"w-full md:w-auto px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),u.jsx("div",{className:"flex justify-end mb-6",children:u.jsxs(Ce,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[u.jsx(Mx,{className:"w-5 h-5"}),"New Writeup"]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${D(O.difficulty)}`,children:O.difficulty}),u.jsxs("div",{className:"flex items-center gap-1",children:[P(O.status),u.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:O.status})]})]}),u.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded border border-primary/20 mb-3",children:O.category}),u.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:O.title}),u.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:O.description}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[u.jsx(ed,{className:"w-4 h-4"}),u.jsxs("span",{children:["Challenge: ",O.challenge]})]}),u.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[O.tags.slice(0,3).map((S,T)=>u.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["#",S]},T)),O.tags.length>3&&u.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["+",O.tags.length-3]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(ni,{className:"w-3 h-3 text-primary"})}),u.jsx("span",{className:"text-sm text-muted-foreground",children:O.author.name})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_l,{className:"w-4 h-4"}),u.jsx("span",{children:O.views})]}),u.jsx("span",{children:new Date(O.createdAt).toLocaleDateString()})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Ce,{to:`/writeups/${O.id}`,className:"flex-1 bg-primary/10 text-primary border border-primary/20 py-2 px-4 rounded-lg text-center hover:bg-primary/20 transition-colors",children:"Read"}),w&&O.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"flex-1 bg-green-500/10 text-green-500 border border-green-500/20 py-2 px-4 rounded-lg hover:bg-green-500/20 transition-colors",children:"Approve"}),u.jsx("button",{className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 py-2 px-4 rounded-lg hover:bg-red-500/20 transition-colors",children:"Reject"})]})]})]},O.id))}),n.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ed,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No writeups found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"No writeups have been submitted yet. Be the first to share your solution!":"Try adjusting your search or filters"}),u.jsxs(Ce,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 inline-flex items-center gap-2",children:[u.jsx(Mx,{className:"w-5 h-5"}),"Create First Writeup"]})]})]})}),u.jsx(jt,{})]})},p6=()=>{const t=Ns(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),[d,h]=y.useState(""),[f,m]=y.useState(""),[x,C]=y.useState(""),[_,I]=y.useState(!1),[v,w]=y.useState([]),[E,P]=y.useState([]),[D,O]=y.useState([]),[S,T]=y.useState(!0),b=async()=>{try{T(!0);const k="/api/challenges/available",N="/api/categories",G="/api/difficulties",[ie,X,se]=await Promise.all([fetch(k),fetch(N),fetch(G)]);if(ie.ok){const V=await ie.json();w(V)}else w([]);if(X.ok){const V=await X.json();P(V),V.length>0&&h(V[0])}else P([]);if(se.ok){const V=await se.json();O(V),V.length>0&&m(V[0])}else O([])}catch{w([]),P([]),O([])}finally{T(!1)}},R=async k=>{k.preventDefault(),I(!0);try{(await fetch("/api/writeups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:r,content:i,challengeId:a,category:d,difficulty:f,tags:x.split(",").map(G=>G.trim()).filter(G=>G)})})).ok?t("/writeups"):console.error("Failed to create writeup")}catch(N){console.error("Error creating writeup:",N)}finally{I(!1)}},j=(k,N)=>{document.execCommand(k,!1,N)};return y.useEffect(()=>{if(a){const k=v.find(N=>N.id===a);k&&(h(k.category),m(k.difficulty))}},[a,v]),y.useEffect(()=>{b()},[]),S?u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading form data..."})]})}),u.jsx(jt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:u.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(Ir,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Create ",u.jsx("span",{className:"text-primary",children:"Writeup"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Share your solution and help others learn from your approach"})]}),u.jsxs("form",{id:"writeup-form",onSubmit:R,className:"space-y-8",children:[u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Basic Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Writeup Title *"}),u.jsx("input",{type:"text",required:!0,value:e,onChange:k=>n(k.target.value),placeholder:"Enter a compelling title for your writeup...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-lg font-semibold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),u.jsx("textarea",{required:!0,value:r,onChange:k=>s(k.target.value),placeholder:"Brief description of your writeup...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Challenge *"}),u.jsxs("select",{required:!0,value:a,onChange:k=>l(k.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[u.jsx("option",{value:"",children:"Select a challenge"}),v.map(k=>u.jsx("option",{value:k.id,children:k.title},k.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category *"}),u.jsx("select",{required:!0,value:d,onChange:k=>h(k.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:E.map(k=>u.jsx("option",{value:k,children:k},k))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty *"}),u.jsx("select",{required:!0,value:f,onChange:k=>m(k.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:D.map(k=>u.jsx("option",{value:k,children:k},k))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),u.jsx("input",{type:"text",value:x,onChange:k=>C(k.target.value),placeholder:"Comma-separated tags (e.g., sql-injection, web, bypass)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Writeup Content"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 p-3 bg-muted/20 rounded-lg border border-border",children:[u.jsx("button",{type:"button",onClick:()=>j("bold"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bold",children:u.jsx(z3,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("italic"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Italic",children:u.jsx(X3,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("insertUnorderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bullet List",children:u.jsx(Dx,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("insertOrderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Numbered List",children:u.jsx(Dx,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>{const k=prompt("Enter URL:");k&&j("createLink",k)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Link",children:u.jsx(J3,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>j("formatBlock","<pre>"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Code Block",children:u.jsx(G3,{className:"w-4 h-4 text-foreground"})}),u.jsx("button",{type:"button",onClick:()=>{const k=prompt("Enter image URL:");k&&j("insertImage",k)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Image",children:u.jsx(Y3,{className:"w-4 h-4 text-foreground"})})]}),u.jsx("div",{contentEditable:!0,onInput:k=>o(k.currentTarget.innerHTML),className:"min-h-[400px] px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all prose prose-invert max-w-none",style:{fontFamily:"Georgia, serif",fontSize:"16px",lineHeight:"1.6"},"data-placeholder":"Start writing your amazing writeup here... You can include code snippets, images, and formatted text."}),u.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[u.jsxs("p",{children:[" ",u.jsx("strong",{children:"Pro tips:"})]}),u.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[u.jsx("li",{children:"Use the toolbar above to format your text"}),u.jsx("li",{children:"Include code snippets using the code block button"}),u.jsx("li",{children:"Add images to illustrate your steps"}),u.jsx("li",{children:"Break down complex solutions into clear steps"}),u.jsx("li",{children:"Share your thought process and learning moments"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",onClick:()=>t("/writeups"),children:[u.jsx(_l,{className:"w-4 h-4"}),"Cancel"]}),u.jsxs("button",{type:"submit",disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[_?u.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):u.jsx(r6,{className:"w-4 h-4"}),_?"Publishing...":"Publish Writeup"]})]})]})]})}),u.jsx(jt,{})]})},Vx=()=>new Promise(t=>{setTimeout(()=>{const e={id:"github-"+Date.now(),username:"zedctf_user",email:"user@zedctf.com",name:"ZedCTF User",avatar:"https://github.com/github.png",provider:"github"};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true"),t(e)},1500)}),m6=()=>{const[t,e]=y.useState("loading"),[n,r]=y.useState(""),s=Ns();return y.useEffect(()=>{(async()=>{const o=new URLSearchParams(window.location.search),a=o.get("code");if(o.get("error")){e("error"),r("GitHub authentication failed. Please try again.");return}try{if(await new Promise(d=>setTimeout(d,2e3)),a){const d=await Vx();e("success"),r(`Welcome, ${d.username}! Successfully authenticated with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}else{const d=await Vx();e("success"),r(`Welcome, ${d.username}! Successfully signed in with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}}catch(d){e("error"),r("Authentication failed. Please try again."),console.error("GitHub callback error:",d)}})()},[s]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsx(Ir,{className:"w-10 h-10 text-green-400"}),u.jsx("span",{className:"text-3xl font-bold text-white",children:"ZedCTF"})]}),u.jsxs("div",{className:"space-y-4",children:[t==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx(nd,{className:"w-12 h-12 text-green-400 animate-spin mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connecting to GitHub..."}),u.jsx("p",{className:"text-gray-300",children:"Please wait while we authenticate your account."})]}),t==="success"&&u.jsxs(u.Fragment,{children:[u.jsx(YI,{className:"w-12 h-12 text-green-400 mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Successful!"}),u.jsx("p",{className:"text-gray-300",children:n}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting to homepage..."})]}),t==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(XI,{className:"w-12 h-12 text-red-400 mx-auto"}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Failed"}),u.jsx("p",{className:"text-gray-300",children:n}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Login"}),u.jsx("button",{onClick:()=>s("/signup"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Sign Up"})]})]})]})]})})},g6=()=>{const t=Lo();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},ut=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ut.displayName="Card";const _n=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));_n.displayName="CardHeader";const xn=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));xn.displayName="CardTitle";const y6=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:Ye("text-sm text-muted-foreground",t),...e}));y6.displayName="CardDescription";const dt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ye("p-6 pt-0",t),...e}));dt.displayName="CardContent";const v6=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ye("flex items-center p-6 pt-0",t),...e}));v6.displayName="CardFooter";const w6=()=>{var I;const{user:t}=dy(),e=Ns(),[n,r]=y.useState(null),[s,i]=y.useState([]),[o,a]=y.useState([]),[l,d]=y.useState([]),[h,f]=y.useState(!0),[m,x]=y.useState(!1),C=async()=>{x(!0);try{await Tj(wl),e("/")}catch(v){console.error("Error signing out:",v)}finally{x(!1)}},_=async()=>{var v,w,E;if(t)try{f(!0),console.log("Fetching dashboard data for user:",t.uid);const P=await kI(Ku(Js,"users",t.uid));if(P.exists()){const D=P.data();console.log("User data from Firestore:",D),r({totalPoints:D.totalPoints||0,challengesSolved:D.challengesSolved||0,currentRank:D.currentRank||0,timeSpent:D.timeSpent||"0h 0m",username:D.username||((v=t==null?void 0:t.email)==null?void 0:v.split("@")[0])||"Hacker",joinDate:D.createdAt||(t==null?void 0:t.metadata.creationTime)||new Date().toISOString(),firstName:D.firstName,lastName:D.lastName,displayName:D.displayName})}else console.log("No user document found in Firestore"),r({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((w=t==null?void 0:t.email)==null?void 0:w.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()});try{const D=pf(ff(Js,"challenges"),mf("solvedBy","array-contains",t.uid),gf("solvedAt","desc"),yf(5)),S=(await vf(D)).docs.map(T=>({id:T.id,...T.data()}));i(S)}catch{console.log("No challenges data yet, using empty array"),i([])}try{const D=pf(ff(Js,"events"),mf("participants","array-contains",t.uid),gf("date","desc"),yf(5)),S=(await vf(D)).docs.map(T=>({id:T.id,...T.data()}));a(S)}catch{console.log("No events data yet, using empty array"),a([])}try{const D=pf(ff(Js,"activity"),mf("userId","==",t.uid),gf("timestamp","desc"),yf(10)),S=(await vf(D)).docs.map(T=>({id:T.id,...T.data()}));d(S)}catch{console.log("No activity data yet, using empty array"),d([{id:"1",action:"Account Created",description:"Welcome to ZedCTF!",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}])}}catch(P){console.error("Error fetching dashboard data:",P),r({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((E=t==null?void 0:t.email)==null?void 0:E.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}),i([]),a([]),d([{id:"1",action:"Account Created",description:"Welcome to ZedCTF!",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}])}finally{f(!1)}};return y.useEffect(()=>{t&&_()},[t]),h?u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}),u.jsx(jt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(ni,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-4xl font-bold",children:["Welcome back,"," ",u.jsx("span",{className:"text-primary",children:(n==null?void 0:n.displayName)||(t==null?void 0:t.displayName)||(n==null?void 0:n.username)||((I=t==null?void 0:t.email)==null?void 0:I.split("@")[0])||"Hacker"})]}),u.jsxs("p",{className:"text-muted-foreground",children:[t==null?void 0:t.email,"  Member since"," ",n!=null&&n.joinDate?new Date(n.joinDate).toLocaleDateString():"recently"]})]})]}),u.jsxs("button",{onClick:C,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m?u.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):u.jsx(t6,{className:"w-4 h-4"}),m?"Signing out...":"Logout"]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n?u.jsxs(u.Fragment,{children:[u.jsxs(ut,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Total Points"}),u.jsx(hr,{className:"w-5 h-5 text-primary"})]}),u.jsxs(dt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:n.totalPoints.toLocaleString()}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime points earned"})]})]}),u.jsxs(ut,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Challenges Solved"}),u.jsx(xf,{className:"w-5 h-5 text-secondary"})]}),u.jsxs(dt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:n.challengesSolved}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total challenges completed"})]})]}),u.jsxs(ut,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Current Rank"}),u.jsx(s6,{className:"w-5 h-5 text-primary"})]}),u.jsxs(dt,{children:[u.jsxs("div",{className:"text-3xl font-bold mb-2",children:["#",n.currentRank]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Global leaderboard position"})]})]}),u.jsxs(ut,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[u.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(xn,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),u.jsx(Jd,{className:"w-5 h-5 text-muted-foreground"})]}),u.jsxs(dt,{children:[u.jsx("div",{className:"text-3xl font-bold mb-2",children:n.timeSpent}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total practice time"})]})]})]}):[...Array(4)].map((v,w)=>u.jsx(ut,{className:"border-border",children:u.jsx(dt,{className:"p-6",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-24 mb-4"}),u.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})})},w))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ut,{className:"border-border",children:[u.jsx(_n,{children:u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(xf,{className:"w-5 h-5 text-primary"}),"Recently Solved Challenges"]})}),u.jsx(dt,{children:s.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(xf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No challenges solved yet"}),u.jsx("p",{className:"text-sm mt-2",children:"Start practicing to see your progress here"})]}):u.jsx("div",{className:"space-y-4",children:s.slice(0,5).map(v=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:v.title}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:v.category}),u.jsx("span",{children:""}),u.jsx("span",{children:v.difficulty}),u.jsx("span",{children:""}),u.jsx("span",{children:new Date(v.solvedAt).toLocaleDateString()})]})]}),u.jsxs("div",{className:"text-primary font-bold",children:["+",v.points]})]},v.id))})})]}),u.jsxs(ut,{className:"border-border",children:[u.jsx(_n,{children:u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(td,{className:"w-5 h-5 text-primary"}),"Events Participated In"]})}),u.jsx(dt,{children:o.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(td,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No events participated yet"}),u.jsx("p",{className:"text-sm mt-2",children:"Join live events to appear here"})]}):u.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(v=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:v.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:v.date}),v.position&&u.jsxs("span",{children:[" Position: #",v.position]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-secondary font-bold",children:v.prize}),v.pointsEarned>0&&u.jsxs("div",{className:"text-xs text-primary",children:["+",v.pointsEarned," pts"]})]})]},v.id))})})]}),u.jsxs(ut,{className:"border-border lg:col-span-2",children:[u.jsx(_n,{children:u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(Zu,{className:"w-5 h-5 text-primary"}),"Recent Activity"]})}),u.jsx(dt,{children:l.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(Zu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No recent activity"}),u.jsx("p",{className:"text-sm mt-2",children:"Your activity will appear here"})]}):u.jsx("div",{className:"space-y-3",children:l.slice(0,10).map(v=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:v.action}),u.jsx("div",{className:"text-sm text-muted-foreground",children:v.description})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(v.timestamp).toLocaleDateString()}),v.points&&u.jsxs("div",{className:"text-sm text-primary font-bold",children:["+",v.points]})]})]},v.id))})})]})]})]})}),u.jsx(jt,{})]})},_6=zI("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vn({className:t,variant:e,...n}){return u.jsx("div",{className:Ye(_6({variant:e}),t),...n})}const ZI=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ZI.displayName="Input";function Fx(t,[e,n]){return Math.min(n,Math.max(e,t))}function We(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fy(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const d=f=>{var v;const{scope:m,children:x,...C}=f,_=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,I=y.useMemo(()=>C,Object.values(C));return u.jsx(_.Provider,{value:I,children:x})};d.displayName=i+"Provider";function h(f,m){var _;const x=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,C=y.useContext(x);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,x6(s,...e)]}function x6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ux(t){const e=E6(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(S6);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function E6(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=b6(s),a=I6(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Vl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var T6=Symbol("radix.slottable");function S6(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T6}function I6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function b6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function C6(t){const e=t+"CollectionProvider",[n,r]=fy(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:I,children:v}=_,w=Ur.useRef(null),E=Ur.useRef(new Map).current;return u.jsx(s,{scope:I,itemMap:E,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Ux(a),d=Ur.forwardRef((_,I)=>{const{scope:v,children:w}=_,E=i(a,v),P=yt(I,E.collectionRef);return u.jsx(l,{ref:P,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ux(h),x=Ur.forwardRef((_,I)=>{const{scope:v,children:w,...E}=_,P=Ur.useRef(null),D=yt(I,P),O=i(h,v);return Ur.useEffect(()=>(O.itemMap.set(P,{ref:P,...E}),()=>void O.itemMap.delete(P))),u.jsx(m,{[f]:"",ref:D,children:w})});x.displayName=h;function C(_){const I=i(t+"CollectionConsumer",_);return Ur.useCallback(()=>{const w=I.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(I.itemMap.values()).sort((O,S)=>E.indexOf(O.ref.current)-E.indexOf(S.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},C,r]}var A6=y.createContext(void 0);function N6(t){const e=y.useContext(A6);return t||e||"ltr"}function R6(t){const e=k6(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(j6);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function k6(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=O6(s),a=D6(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Vl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P6=Symbol("radix.slottable");function j6(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P6}function D6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function O6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var L6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=L6.reduce((t,e)=>{const n=R6(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function M6(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}function xs(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function V6(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var F6="DismissableLayer",rm="dismissableLayer.update",U6="dismissableLayer.pointerDownOutside",B6="dismissableLayer.focusOutside",Bx,eb=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tb=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=y.useContext(eb),[h,f]=y.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=y.useState({}),C=yt(e,S=>f(S)),_=Array.from(d.layers),[I]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(I),w=h?_.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,P=w>=v,D=W6(S=>{const T=S.target,b=[...d.branches].some(R=>R.contains(T));!P||b||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},m),O=H6(S=>{const T=S.target;[...d.branches].some(R=>R.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},m);return V6(S=>{w===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},m),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Bx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),zx(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Bx)}},[h,m,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),zx())},[h,d]),y.useEffect(()=>{const S=()=>x({});return document.addEventListener(rm,S),()=>document.removeEventListener(rm,S)},[]),u.jsx(ze.div,{...l,ref:C,style:{pointerEvents:E?P?"auto":"none":void 0,...t.style},onFocusCapture:We(t.onFocusCapture,O.onFocusCapture),onBlurCapture:We(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:We(t.onPointerDownCapture,D.onPointerDownCapture)})});tb.displayName=F6;var z6="DismissableLayerBranch",$6=y.forwardRef((t,e)=>{const n=y.useContext(eb),r=y.useRef(null),s=yt(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ze.div,{...t,ref:s})});$6.displayName=z6;function W6(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){nb(U6,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function H6(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&nb(B6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zx(){const t=new CustomEvent(rm);document.dispatchEvent(t)}function nb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?M6(s,i):s.dispatchEvent(i)}var Ef=0;function q6(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$x()),document.body.insertAdjacentElement("beforeend",t[1]??$x()),Ef++,()=>{Ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ef--}},[])}function $x(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tf="focusScope.autoFocusOnMount",Sf="focusScope.autoFocusOnUnmount",Wx={bubbles:!1,cancelable:!0},G6="FocusScope",rb=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),d=xs(s),h=xs(i),f=y.useRef(null),m=yt(e,_=>l(_)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(E){if(x.paused||!a)return;const P=E.target;a.contains(P)?f.current=P:Br(f.current,{select:!0})},I=function(E){if(x.paused||!a)return;const P=E.relatedTarget;P!==null&&(a.contains(P)||Br(f.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&Br(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",I);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",I),w.disconnect()}}},[r,a,x.paused]),y.useEffect(()=>{if(a){qx.add(x);const _=document.activeElement;if(!a.contains(_)){const v=new CustomEvent(Tf,Wx);a.addEventListener(Tf,d),a.dispatchEvent(v),v.defaultPrevented||(K6(Z6(sb(a)),{select:!0}),document.activeElement===_&&Br(a))}return()=>{a.removeEventListener(Tf,d),setTimeout(()=>{const v=new CustomEvent(Sf,Wx);a.addEventListener(Sf,h),a.dispatchEvent(v),v.defaultPrevented||Br(_??document.body,{select:!0}),a.removeEventListener(Sf,h),qx.remove(x)},0)}}},[a,d,h,x]);const C=y.useCallback(_=>{if(!n&&!r||x.paused)return;const I=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,v=document.activeElement;if(I&&v){const w=_.currentTarget,[E,P]=Q6(w);E&&P?!_.shiftKey&&v===P?(_.preventDefault(),n&&Br(E,{select:!0})):_.shiftKey&&v===E&&(_.preventDefault(),n&&Br(P,{select:!0})):v===w&&_.preventDefault()}},[n,r,x.paused]);return u.jsx(ze.div,{tabIndex:-1,...o,ref:m,onKeyDown:C})});rb.displayName=G6;function K6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Br(r,{select:e}),document.activeElement!==n)return}function Q6(t){const e=sb(t),n=Hx(e,t),r=Hx(e.reverse(),t);return[n,r]}function sb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hx(t,e){for(const n of t)if(!Y6(n,{upTo:e}))return n}function Y6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X6(t){return t instanceof HTMLInputElement&&"select"in t}function Br(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X6(t)&&e&&t.select()}}var qx=J6();function J6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Gx(t,e),t.unshift(e)},remove(e){var n;t=Gx(t,e),(n=t[0])==null||n.resume()}}}function Gx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Z6(t){return t.filter(e=>e.tagName!=="A")}var vt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},eF=ud[" useId ".trim().toString()]||(()=>{}),tF=0;function py(t){const[e,n]=y.useState(eF());return vt(()=>{n(r=>r??String(tF++))},[t]),e?`radix-${e}`:""}const nF=["top","right","bottom","left"],Es=Math.min,Qt=Math.max,sd=Math.round,Sc=Math.floor,Yn=t=>({x:t,y:t}),rF={left:"right",right:"left",bottom:"top",top:"bottom"},sF={start:"end",end:"start"};function sm(t,e,n){return Qt(t,Es(e,n))}function br(t,e){return typeof t=="function"?t(e):t}function Cr(t){return t.split("-")[0]}function Wo(t){return t.split("-")[1]}function my(t){return t==="x"?"y":"x"}function gy(t){return t==="y"?"height":"width"}const iF=new Set(["top","bottom"]);function zn(t){return iF.has(Cr(t))?"y":"x"}function yy(t){return my(zn(t))}function oF(t,e,n){n===void 0&&(n=!1);const r=Wo(t),s=yy(t),i=gy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=id(o)),[o,id(o)]}function aF(t){const e=id(t);return[im(t),e,im(e)]}function im(t){return t.replace(/start|end/g,e=>sF[e])}const Kx=["left","right"],Qx=["right","left"],lF=["top","bottom"],cF=["bottom","top"];function uF(t,e,n){switch(t){case"top":case"bottom":return n?e?Qx:Kx:e?Kx:Qx;case"left":case"right":return e?lF:cF;default:return[]}}function dF(t,e,n,r){const s=Wo(t);let i=uF(Cr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(im)))),i}function id(t){return t.replace(/left|right|bottom|top/g,e=>rF[e])}function hF(t){return{top:0,right:0,bottom:0,left:0,...t}}function ib(t){return typeof t!="number"?hF(t):{top:t,right:t,bottom:t,left:t}}function od(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Yx(t,e,n){let{reference:r,floating:s}=t;const i=zn(e),o=yy(e),a=gy(o),l=Cr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let x;switch(l){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Wo(e)){case"start":x[o]-=m*(n&&d?-1:1);break;case"end":x[o]+=m*(n&&d?-1:1);break}return x}const fF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Yx(d,r,l),m=r,x={},C=0;for(let _=0;_<a.length;_++){const{name:I,fn:v}=a[_],{x:w,y:E,data:P,reset:D}=await v({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=E??f,x={...x,[I]:{...x[I],...P}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=Yx(d,m,l)),_=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:x}};async function xl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=br(e,t),C=ib(x),I=a[m?f==="floating"?"reference":"floating":f],v=od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},D=od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(v.top-D.top+C.top)/P.y,bottom:(D.bottom-v.bottom+C.bottom)/P.y,left:(v.left-D.left+C.left)/P.x,right:(D.right-v.right+C.right)/P.x}}const pF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=br(t,e)||{};if(d==null)return{};const f=ib(h),m={x:n,y:r},x=yy(s),C=gy(x),_=await o.getDimensions(d),I=x==="y",v=I?"top":"left",w=I?"bottom":"right",E=I?"clientHeight":"clientWidth",P=i.reference[C]+i.reference[x]-m[x]-i.floating[C],D=m[x]-i.reference[x],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=O?O[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[E]||i.floating[C]);const T=P/2-D/2,b=S/2-_[C]/2-1,R=Es(f[v],b),j=Es(f[w],b),k=R,N=S-_[C]-j,G=S/2-_[C]/2+T,ie=sm(k,G,N),X=!l.arrow&&Wo(s)!=null&&G!==ie&&i.reference[C]/2-(G<k?R:j)-_[C]/2<0,se=X?G<k?G-k:G-N:0;return{[x]:m[x]+se,data:{[x]:ie,centerOffset:G-ie-se,...X&&{alignmentOffset:se}},reset:X}}}),mF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...I}=br(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Cr(s),w=zn(a),E=Cr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(d.floating)),D=m||(E||!_?[id(a)]:aF(a)),O=C!=="none";!m&&O&&D.push(...dF(a,_,C,P));const S=[a,...D],T=await xl(e,I),b=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&b.push(T[v]),f){const G=oF(s,o,P);b.push(T[G[0]],T[G[1]])}if(R=[...R,{placement:s,overflows:b}],!b.every(G=>G<=0)){var j,k;const G=(((j=i.flip)==null?void 0:j.index)||0)+1,ie=S[G];if(ie&&(!(f==="alignment"?w!==zn(ie):!1)||R.every(V=>zn(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:G,overflows:R},reset:{placement:ie}};let X=(k=R.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:k.placement;if(!X)switch(x){case"bestFit":{var N;const se=(N=R.filter(V=>{if(O){const $=zn(V.placement);return $===w||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:N[0];se&&(X=se);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Xx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jx(t){return nF.some(e=>t[e]>=0)}const gF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=br(t,e);switch(r){case"referenceHidden":{const i=await xl(e,{...s,elementContext:"reference"}),o=Xx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Jx(o)}}}case"escaped":{const i=await xl(e,{...s,altBoundary:!0}),o=Xx(i,n.floating);return{data:{escapedOffsets:o,escaped:Jx(o)}}}default:return{}}}}},ob=new Set(["left","top"]);async function yF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cr(n),a=Wo(n),l=zn(n)==="y",d=ob.has(o)?-1:1,h=i&&l?-1:1,f=br(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof C=="number"&&(x=a==="end"?C*-1:C),l?{x:x*h,y:m*d}:{x:m*d,y:x*h}}const vF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await yF(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},wF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:v,y:w}=I;return{x:v,y:w}}},...l}=br(t,e),d={x:n,y:r},h=await xl(e,l),f=zn(Cr(s)),m=my(f);let x=d[m],C=d[f];if(i){const I=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=x+h[I],E=x-h[v];x=sm(w,x,E)}if(o){const I=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=C+h[I],E=C-h[v];C=sm(w,C,E)}const _=a.fn({...e,[m]:x,[f]:C});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},_F=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=br(t,e),h={x:n,y:r},f=zn(s),m=my(f);let x=h[m],C=h[f];const _=br(a,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const E=m==="y"?"height":"width",P=i.reference[m]-i.floating[E]+I.mainAxis,D=i.reference[m]+i.reference[E]-I.mainAxis;x<P?x=P:x>D&&(x=D)}if(d){var v,w;const E=m==="y"?"width":"height",P=ob.has(Cr(s)),D=i.reference[f]-i.floating[E]+(P&&((v=o.offset)==null?void 0:v[f])||0)+(P?0:I.crossAxis),O=i.reference[f]+i.reference[E]+(P?0:((w=o.offset)==null?void 0:w[f])||0)-(P?I.crossAxis:0);C<D?C=D:C>O&&(C=O)}return{[m]:x,[f]:C}}}},xF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=br(t,e),h=await xl(e,d),f=Cr(s),m=Wo(s),x=zn(s)==="y",{width:C,height:_}=i.floating;let I,v;f==="top"||f==="bottom"?(I=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,I=m==="end"?"top":"bottom");const w=_-h.top-h.bottom,E=C-h.left-h.right,P=Es(_-h[I],w),D=Es(C-h[v],E),O=!e.middlewareData.shift;let S=P,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),O&&!m){const R=Qt(h.left,0),j=Qt(h.right,0),k=Qt(h.top,0),N=Qt(h.bottom,0);x?T=C-2*(R!==0||j!==0?R+j:Qt(h.left,h.right)):S=_-2*(k!==0||N!==0?k+N:Qt(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:S});const b=await o.getDimensions(a.floating);return C!==b.width||_!==b.height?{reset:{rects:!0}}:{}}}};function Zd(){return typeof window<"u"}function Ho(t){return ab(t)?(t.nodeName||"").toLowerCase():"#document"}function Zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(ab(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ab(t){return Zd()?t instanceof Node||t instanceof Zt(t).Node:!1}function Pn(t){return Zd()?t instanceof Element||t instanceof Zt(t).Element:!1}function Zn(t){return Zd()?t instanceof HTMLElement||t instanceof Zt(t).HTMLElement:!1}function Zx(t){return!Zd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zt(t).ShadowRoot}const EF=new Set(["inline","contents"]);function Fl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!EF.has(s)}const TF=new Set(["table","td","th"]);function SF(t){return TF.has(Ho(t))}const IF=[":popover-open",":modal"];function eh(t){return IF.some(e=>{try{return t.matches(e)}catch{return!1}})}const bF=["transform","translate","scale","rotate","perspective"],CF=["transform","translate","scale","rotate","perspective","filter"],AF=["paint","layout","strict","content"];function vy(t){const e=wy(),n=Pn(t)?jn(t):t;return bF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||CF.some(r=>(n.willChange||"").includes(r))||AF.some(r=>(n.contain||"").includes(r))}function NF(t){let e=Ts(t);for(;Zn(e)&&!Ao(e);){if(vy(e))return e;if(eh(e))return null;e=Ts(e)}return null}function wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RF=new Set(["html","body","#document"]);function Ao(t){return RF.has(Ho(t))}function jn(t){return Zt(t).getComputedStyle(t)}function th(t){return Pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ts(t){if(Ho(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zx(t)&&t.host||tr(t);return Zx(e)?e.host:e}function lb(t){const e=Ts(t);return Ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&Fl(e)?e:lb(e)}function El(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Zt(s);if(i){const a=om(o);return e.concat(o,o.visualViewport||[],Fl(s)?s:[],a&&n?El(a):[])}return e.concat(s,El(s,[],n))}function om(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cb(t){const e=jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=sd(n)!==i||sd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _y(t){return Pn(t)?t:t.contextElement}function uo(t){const e=_y(t);if(!Zn(e))return Yn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=cb(e);let o=(i?sd(n.width):n.width)/r,a=(i?sd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const kF=Yn(0);function ub(t){const e=Zt(t);return!wy()||!e.visualViewport?kF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zt(t)?!1:e}function mi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=_y(t);let o=Yn(1);e&&(r?Pn(r)&&(o=uo(r)):o=uo(t));const a=PF(i,n,r)?ub(i):Yn(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Zt(i),x=r&&Pn(r)?Zt(r):r;let C=m,_=om(C);for(;_&&r&&x!==C;){const I=uo(_),v=_.getBoundingClientRect(),w=jn(_),E=v.left+(_.clientLeft+parseFloat(w.paddingLeft))*I.x,P=v.top+(_.clientTop+parseFloat(w.paddingTop))*I.y;l*=I.x,d*=I.y,h*=I.x,f*=I.y,l+=E,d+=P,C=Zt(_),_=om(C)}}return od({width:h,height:f,x:l,y:d})}function nh(t,e){const n=th(t).scrollLeft;return e?e.left+n:mi(tr(t)).left+n}function db(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-nh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function jF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tr(r),a=e?eh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Yn(1);const h=Yn(0),f=Zn(r);if((f||!f&&!i)&&((Ho(r)!=="body"||Fl(o))&&(l=th(r)),Zn(r))){const x=mi(r);d=uo(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const m=o&&!f&&!i?db(o,l):Yn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function DF(t){return Array.from(t.getClientRects())}function OF(t){const e=tr(t),n=th(t),r=t.ownerDocument.body,s=Qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nh(t);const a=-n.scrollTop;return jn(r).direction==="rtl"&&(o+=Qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const e0=25;function LF(t,e){const n=Zt(t),r=tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=wy();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const d=nh(r);if(d<=0){const h=r.ownerDocument,f=h.body,m=getComputedStyle(f),x=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,C=Math.abs(r.clientWidth-f.clientWidth-x);C<=e0&&(i-=C)}else d<=e0&&(i+=d);return{width:i,height:o,x:a,y:l}}const MF=new Set(["absolute","fixed"]);function VF(t,e){const n=mi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?uo(t):Yn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function t0(t,e,n){let r;if(e==="viewport")r=LF(t,n);else if(e==="document")r=OF(tr(t));else if(Pn(e))r=VF(e,n);else{const s=ub(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return od(r)}function hb(t,e){const n=Ts(t);return n===e||!Pn(n)||Ao(n)?!1:jn(n).position==="fixed"||hb(n,e)}function FF(t,e){const n=e.get(t);if(n)return n;let r=El(t,[],!1).filter(a=>Pn(a)&&Ho(a)!=="body"),s=null;const i=jn(t).position==="fixed";let o=i?Ts(t):t;for(;Pn(o)&&!Ao(o);){const a=jn(o),l=vy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&MF.has(s.position)||Fl(o)&&!l&&hb(t,o))?r=r.filter(h=>h!==o):s=a,o=Ts(o)}return e.set(t,r),r}function UF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?eh(e)?[]:FF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=t0(e,h,s);return d.top=Qt(f.top,d.top),d.right=Es(f.right,d.right),d.bottom=Es(f.bottom,d.bottom),d.left=Qt(f.left,d.left),d},t0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function BF(t){const{width:e,height:n}=cb(t);return{width:e,height:n}}function zF(t,e,n){const r=Zn(e),s=tr(e),i=n==="fixed",o=mi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Yn(0);function d(){l.x=nh(s)}if(r||!r&&!i)if((Ho(e)!=="body"||Fl(s))&&(a=th(e)),r){const x=mi(e,!0,i,e);l.x=x.x+e.clientLeft,l.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?db(s,a):Yn(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function If(t){return jn(t).position==="static"}function n0(t,e){if(!Zn(t)||jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function fb(t,e){const n=Zt(t);if(eh(t))return n;if(!Zn(t)){let s=Ts(t);for(;s&&!Ao(s);){if(Pn(s)&&!If(s))return s;s=Ts(s)}return n}let r=n0(t,e);for(;r&&SF(r)&&If(r);)r=n0(r,e);return r&&Ao(r)&&If(r)&&!vy(r)?n:r||NF(t)||n}const $F=async function(t){const e=this.getOffsetParent||fb,n=this.getDimensions,r=await n(t.floating);return{reference:zF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WF(t){return jn(t).direction==="rtl"}const HF={convertOffsetParentRelativeRectToViewportRelativeRect:jF,getDocumentElement:tr,getClippingRect:UF,getOffsetParent:fb,getElementRects:$F,getClientRects:DF,getDimensions:BF,getScale:uo,isElement:Pn,isRTL:WF};function pb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qF(t,e){let n=null,r;const s=tr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:x}=d;if(a||e(),!m||!x)return;const C=Sc(f),_=Sc(s.clientWidth-(h+m)),I=Sc(s.clientHeight-(f+x)),v=Sc(h),E={rootMargin:-C+"px "+-_+"px "+-I+"px "+-v+"px",threshold:Qt(0,Es(1,l))||1};let P=!0;function D(O){const S=O[0].intersectionRatio;if(S!==l){if(!P)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!pb(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return o(!0),i}function GF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=_y(t),h=s||i?[...d?El(d):[],...El(e)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=d&&a?qF(d,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(v=>{let[w]=v;w&&w.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(e)})),n()}),d&&!l&&x.observe(d),x.observe(e));let C,_=l?mi(t):null;l&&I();function I(){const v=mi(t);_&&!pb(_,v)&&n(),_=v,C=requestAnimationFrame(I)}return n(),()=>{var v;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(v=x)==null||v.disconnect(),x=null,l&&cancelAnimationFrame(C)}}const KF=vF,QF=wF,YF=mF,XF=xF,JF=gF,r0=pF,ZF=_F,e5=(t,e,n)=>{const r=new Map,s={platform:HF,...n},i={...s.platform,_c:r};return fF(t,e,{...s,platform:i})};var t5=typeof document<"u",n5=function(){},Xc=t5?y.useLayoutEffect:n5;function ad(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ad(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ad(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function s0(t,e){const n=mb(t);return Math.round(e*n)/n}function bf(t){const e=y.useRef(t);return Xc(()=>{e.current=t}),e}function r5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=y.useState(r);ad(m,r)||x(r);const[C,_]=y.useState(null),[I,v]=y.useState(null),w=y.useCallback(V=>{V!==O.current&&(O.current=V,_(V))},[]),E=y.useCallback(V=>{V!==S.current&&(S.current=V,v(V))},[]),P=i||C,D=o||I,O=y.useRef(null),S=y.useRef(null),T=y.useRef(h),b=l!=null,R=bf(l),j=bf(s),k=bf(d),N=y.useCallback(()=>{if(!O.current||!S.current)return;const V={placement:e,strategy:n,middleware:m};j.current&&(V.platform=j.current),e5(O.current,S.current,V).then($=>{const K={...$,isPositioned:k.current!==!1};G.current&&!ad(T.current,K)&&(T.current=K,jo.flushSync(()=>{f(K)}))})},[m,e,n,j,k]);Xc(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const G=y.useRef(!1);Xc(()=>(G.current=!0,()=>{G.current=!1}),[]),Xc(()=>{if(P&&(O.current=P),D&&(S.current=D),P&&D){if(R.current)return R.current(P,D,N);N()}},[P,D,N,R,b]);const ie=y.useMemo(()=>({reference:O,floating:S,setReference:w,setFloating:E}),[w,E]),X=y.useMemo(()=>({reference:P,floating:D}),[P,D]),se=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const $=s0(X.floating,h.x),K=s0(X.floating,h.y);return a?{...V,transform:"translate("+$+"px, "+K+"px)",...mb(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,a,X.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:N,refs:ie,elements:X,floatingStyles:se}),[h,N,ie,X,se])}const s5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?r0({element:r.current,padding:s}).fn(n):{}:r?r0({element:r,padding:s}).fn(n):{}}}},i5=(t,e)=>({...KF(t),options:[t,e]}),o5=(t,e)=>({...QF(t),options:[t,e]}),a5=(t,e)=>({...ZF(t),options:[t,e]}),l5=(t,e)=>({...YF(t),options:[t,e]}),c5=(t,e)=>({...XF(t),options:[t,e]}),u5=(t,e)=>({...JF(t),options:[t,e]}),d5=(t,e)=>({...s5(t),options:[t,e]});var h5="Arrow",gb=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ze.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});gb.displayName=h5;var f5=gb;function p5(t){const[e,n]=y.useState(void 0);return vt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var xy="Popper",[yb,vb]=fy(xy),[m5,wb]=yb(xy),_b=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(m5,{scope:e,anchor:r,onAnchorChange:s,children:n})};_b.displayName=xy;var xb="PopperAnchor",Eb=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=wb(xb,n),o=y.useRef(null),a=yt(e,o),l=y.useRef(null);return y.useEffect(()=>{const d=l.current;l.current=(r==null?void 0:r.current)||o.current,d!==l.current&&i.onAnchorChange(l.current)}),r?null:u.jsx(ze.div,{...s,ref:a})});Eb.displayName=xb;var Ey="PopperContent",[g5,y5]=yb(Ey),Tb=y.forwardRef((t,e)=>{var Y,ye,Je,we,me,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:C,..._}=t,I=wb(Ey,n),[v,w]=y.useState(null),E=yt(e,at=>w(at)),[P,D]=y.useState(null),O=p5(P),S=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,b=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],k=j.length>0,N={padding:R,boundary:j.filter(w5),altBoundary:k},{refs:G,floatingStyles:ie,placement:X,isPositioned:se,middlewareData:V}=r5({strategy:"fixed",placement:b,whileElementsMounted:(...at)=>GF(...at,{animationFrame:x==="always"}),elements:{reference:I.anchor},middleware:[i5({mainAxis:s+T,alignmentAxis:o}),l&&o5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?a5():void 0,...N}),l&&l5({...N}),c5({...N,apply:({elements:at,rects:qt,availableWidth:Ls,availableHeight:nr})=>{const{width:rr,height:Ul}=qt.reference,Ve=at.floating.style;Ve.setProperty("--radix-popper-available-width",`${Ls}px`),Ve.setProperty("--radix-popper-available-height",`${nr}px`),Ve.setProperty("--radix-popper-anchor-width",`${rr}px`),Ve.setProperty("--radix-popper-anchor-height",`${Ul}px`)}}),P&&d5({element:P,padding:a}),_5({arrowWidth:S,arrowHeight:T}),m&&u5({strategy:"referenceHidden",...N})]}),[$,K]=bb(X),ne=xs(C);vt(()=>{se&&(ne==null||ne())},[se,ne]);const _e=(Y=V.arrow)==null?void 0:Y.x,Ht=(ye=V.arrow)==null?void 0:ye.y,Me=((Je=V.arrow)==null?void 0:Je.centerOffset)!==0,[Lt,Xe]=y.useState();return vt(()=>{v&&Xe(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:se?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Lt,"--radix-popper-transform-origin":[(we=V.transformOrigin)==null?void 0:we.x,(me=V.transformOrigin)==null?void 0:me.y].join(" "),...((pe=V.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(g5,{scope:n,placedSide:$,onArrowChange:D,arrowX:_e,arrowY:Ht,shouldHideArrow:Me,children:u.jsx(ze.div,{"data-side":$,"data-align":K,..._,ref:E,style:{..._.style,animation:se?void 0:"none"}})})})});Tb.displayName=Ey;var Sb="PopperArrow",v5={top:"bottom",right:"left",bottom:"top",left:"right"},Ib=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=y5(Sb,r),o=v5[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(f5,{...s,ref:n,style:{...s.style,display:"block"}})})});Ib.displayName=Sb;function w5(t){return t!==null}var _5=t=>({name:"transformOrigin",options:t,fn(e){var I,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=bb(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,x=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let C="",_="";return d==="bottom"?(C=o?f:`${m}px`,_=`${-l}px`):d==="top"?(C=o?f:`${m}px`,_=`${r.floating.height+l}px`):d==="right"?(C=`${-l}px`,_=o?f:`${x}px`):d==="left"&&(C=`${r.floating.width+l}px`,_=o?f:`${x}px`),{data:{x:C,y:_}}}});function bb(t){const[e,n="center"]=t.split("-");return[e,n]}var x5=_b,E5=Eb,T5=Tb,S5=Ib,I5="Portal",Cb=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);vt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PR.createPortal(u.jsx(ze.div,{...r,ref:e}),o):null});Cb.displayName=I5;function b5(t){const e=C5(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(N5);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function C5(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=k5(s),a=R5(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Vl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A5=Symbol("radix.slottable");function N5(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A5}function R5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function k5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var P5=ud[" useInsertionEffect ".trim().toString()]||vt;function i0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=j5({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const m=D5(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,d]}function j5({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return P5(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function D5(t){return typeof t=="function"}function O5(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ab=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),L5="VisuallyHidden",M5=y.forwardRef((t,e)=>u.jsx(ze.span,{...t,ref:e,style:{...Ab,...t.style}}));M5.displayName=L5;var V5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pi=new WeakMap,Ic=new WeakMap,bc={},Cf=0,Nb=function(t){return t&&(t.host||Nb(t.parentNode))},F5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Nb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},U5=function(t,e,n,r){var s=F5(e,Array.isArray(t)?t:[t]);bc[n]||(bc[n]=new WeakMap);var i=bc[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var x=m.getAttribute(r),C=x!==null&&x!=="false",_=(Pi.get(m)||0)+1,I=(i.get(m)||0)+1;Pi.set(m,_),i.set(m,I),o.push(m),_===1&&C&&Ic.set(m,!0),I===1&&m.setAttribute(n,"true"),C||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return h(e),a.clear(),Cf++,function(){o.forEach(function(f){var m=Pi.get(f)-1,x=i.get(f)-1;Pi.set(f,m),i.set(f,x),m||(Ic.has(f)||f.removeAttribute(r),Ic.delete(f)),x||f.removeAttribute(n)}),Cf--,Cf||(Pi=new WeakMap,Pi=new WeakMap,Ic=new WeakMap,bc={})}},B5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=V5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),U5(r,s,n,"aria-hidden")):function(){return null}},Bn=function(){return Bn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bn.apply(this,arguments)};function Rb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function z5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Jc="right-scroll-bar-position",Zc="width-before-scroll-bar",$5="with-scroll-bars-hidden",W5="--removed-body-scroll-bar-size";function Af(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H5(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var q5=typeof window<"u"?y.useLayoutEffect:y.useEffect,o0=new WeakMap;function G5(t,e){var n=H5(null,function(r){return t.forEach(function(s){return Af(s,r)})});return q5(function(){var r=o0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Af(a,null)}),i.forEach(function(a){s.has(a)||Af(a,o)})}o0.set(n,t)},[t]),n}function K5(t){return t}function Q5(t,e){e===void 0&&(e=K5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function Y5(t){t===void 0&&(t={});var e=Q5(null);return e.options=Bn({async:!0,ssr:!1},t),e}var kb=function(t){var e=t.sideCar,n=Rb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Bn({},n))};kb.isSideCarExport=!0;function X5(t,e){return t.useMedium(e),kb}var Pb=Y5(),Nf=function(){},rh=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Nf,onWheelCapture:Nf,onTouchMoveCapture:Nf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,x=t.noRelative,C=t.noIsolation,_=t.inert,I=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,E=t.gapMode,P=Rb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,O=G5([n,e]),S=Bn(Bn({},P),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:Pb,removeScrollBar:d,shards:f,noRelative:x,noIsolation:C,inert:_,setCallbacks:i,allowPinchZoom:!!I,lockRef:n,gapMode:E}),o?y.cloneElement(y.Children.only(a),Bn(Bn({},S),{ref:O})):y.createElement(w,Bn({},S,{className:l,ref:O}),a))});rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rh.classNames={fullWidth:Zc,zeroRight:Jc};var J5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Z5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=J5();return e&&t.setAttribute("nonce",e),t}function eU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Z5())&&(eU(e,n),tU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rU=function(){var t=nU();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jb=function(){var t=rU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sU={left:0,top:0,right:0,gap:0},Rf=function(t){return parseInt(t||"",10)||0},iU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Rf(n),Rf(r),Rf(s)]},oU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sU;var e=iU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aU=jb(),ho="data-scroll-locked",lU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jc," .").concat(Jc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ho,`] {
    `).concat(W5,": ").concat(a,`px;
  }
`)},a0=function(){var t=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(t)?t:0},cU=function(){y.useEffect(function(){return document.body.setAttribute(ho,(a0()+1).toString()),function(){var t=a0()-1;t<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,t.toString())}},[])},uU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cU();var i=y.useMemo(function(){return oU(s)},[s]);return y.createElement(aU,{styles:lU(i,!e,s,n?"":"!important")})},am=!1;if(typeof window<"u")try{var Cc=Object.defineProperty({},"passive",{get:function(){return am=!0,!0}});window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{am=!1}var ji=am?{passive:!1}:!1,dU=function(t){return t.tagName==="TEXTAREA"},Db=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dU(t)&&n[e]==="visible")},hU=function(t){return Db(t,"overflowY")},fU=function(t){return Db(t,"overflowX")},l0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ob(t,r);if(s){var i=Lb(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ob=function(t,e){return t==="v"?hU(e):fU(e)},Lb=function(t,e){return t==="v"?pU(e):mU(e)},gU=function(t,e){return t==="h"&&e==="rtl"?-1:1},yU=function(t,e,n,r,s){var i=gU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var x=Lb(t,a),C=x[0],_=x[1],I=x[2],v=_-I-i*C;(C||v)&&Ob(t,a)&&(f+=v,m+=C);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Ac=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},c0=function(t){return[t.deltaX,t.deltaY]},u0=function(t){return t&&"current"in t?t.current:t},vU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_U=0,Di=[];function xU(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(_U++)[0],i=y.useState(jb)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=z5([t.lockRef.current],(t.shards||[]).map(u0),!0).filter(Boolean);return _.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,I){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var v=Ac(_),w=n.current,E="deltaX"in _?_.deltaX:w[0]-v[0],P="deltaY"in _?_.deltaY:w[1]-v[1],D,O=_.target,S=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in _&&S==="h"&&O.type==="range")return!1;var T=l0(S,O);if(!T)return!0;if(T?D=S:(D=S==="v"?"h":"v",T=l0(S,O)),!T)return!1;if(!r.current&&"changedTouches"in _&&(E||P)&&(r.current=D),!D)return!0;var b=r.current||D;return yU(b,I,_,b==="h"?E:P)},[]),l=y.useCallback(function(_){var I=_;if(!(!Di.length||Di[Di.length-1]!==i)){var v="deltaY"in I?c0(I):Ac(I),w=e.current.filter(function(D){return D.name===I.type&&(D.target===I.target||I.target===D.shadowParent)&&vU(D.delta,v)})[0];if(w&&w.should){I.cancelable&&I.preventDefault();return}if(!w){var E=(o.current.shards||[]).map(u0).filter(Boolean).filter(function(D){return D.contains(I.target)}),P=E.length>0?a(I,E[0]):!o.current.noIsolation;P&&I.cancelable&&I.preventDefault()}}},[]),d=y.useCallback(function(_,I,v,w){var E={name:_,delta:I,target:v,should:w,shadowParent:EU(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(P){return P!==E})},1)},[]),h=y.useCallback(function(_){n.current=Ac(_),r.current=void 0},[]),f=y.useCallback(function(_){d(_.type,c0(_),_.target,a(_,t.lockRef.current))},[]),m=y.useCallback(function(_){d(_.type,Ac(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return Di.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,ji),document.addEventListener("touchmove",l,ji),document.addEventListener("touchstart",h,ji),function(){Di=Di.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,ji),document.removeEventListener("touchmove",l,ji),document.removeEventListener("touchstart",h,ji)}},[]);var x=t.removeScrollBar,C=t.inert;return y.createElement(y.Fragment,null,C?y.createElement(i,{styles:wU(s)}):null,x?y.createElement(uU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function EU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TU=X5(Pb,xU);var Mb=y.forwardRef(function(t,e){return y.createElement(rh,Bn({},t,{ref:e,sideCar:TU}))});Mb.classNames=rh.classNames;var SU=[" ","Enter","ArrowUp","ArrowDown"],IU=[" ","Enter"],gi="Select",[sh,ih,bU]=C6(gi),[qo]=fy(gi,[bU,vb]),oh=vb(),[CU,Ds]=qo(gi),[AU,NU]=qo(gi),Vb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:x,form:C}=t,_=oh(e),[I,v]=y.useState(null),[w,E]=y.useState(null),[P,D]=y.useState(!1),O=N6(d),[S,T]=i0({prop:r,defaultProp:s??!1,onChange:i,caller:gi}),[b,R]=i0({prop:o,defaultProp:a,onChange:l,caller:gi}),j=y.useRef(null),k=I?C||!!I.closest("form"):!0,[N,G]=y.useState(new Set),ie=Array.from(N).map(X=>X.props.value).join(";");return u.jsx(x5,{..._,children:u.jsxs(CU,{required:x,scope:e,trigger:I,onTriggerChange:v,valueNode:w,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:py(),value:b,onValueChange:R,open:S,onOpenChange:T,dir:O,triggerPointerDownPosRef:j,disabled:m,children:[u.jsx(sh.Provider,{scope:e,children:u.jsx(AU,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(X=>{G(se=>new Set(se).add(X))},[]),onNativeOptionRemove:y.useCallback(X=>{G(se=>{const V=new Set(se);return V.delete(X),V})},[]),children:n})}),k?u.jsxs(lC,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:b,onChange:X=>R(X.target.value),disabled:m,form:C,children:[b===void 0?u.jsx("option",{value:""}):null,Array.from(N)]},ie):null]})})};Vb.displayName=gi;var Fb="SelectTrigger",Ub=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=oh(n),o=Ds(Fb,n),a=o.disabled||r,l=yt(e,o.onTriggerChange),d=ih(n),h=y.useRef("touch"),[f,m,x]=uC(_=>{const I=d().filter(E=>!E.disabled),v=I.find(E=>E.value===o.value),w=dC(I,_,v);w!==void 0&&o.onValueChange(w.value)}),C=_=>{a||(o.onOpenChange(!0),x()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return u.jsx(E5,{asChild:!0,...i,children:u.jsx(ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":cC(o.value)?"":void 0,...s,ref:l,onClick:We(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&C(_)}),onPointerDown:We(s.onPointerDown,_=>{h.current=_.pointerType;const I=_.target;I.hasPointerCapture(_.pointerId)&&I.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(C(_),_.preventDefault())}),onKeyDown:We(s.onKeyDown,_=>{const I=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(I&&_.key===" ")&&SU.includes(_.key)&&(C(),_.preventDefault())})})})});Ub.displayName=Fb;var Bb="SelectValue",zb=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ds(Bb,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=yt(e,l.onValueNodeChange);return vt(()=>{d(h)},[d,h]),u.jsx(ze.span,{...a,ref:f,style:{pointerEvents:"none"},children:cC(l.value)?u.jsx(u.Fragment,{children:o}):i})});zb.displayName=Bb;var RU="SelectIcon",$b=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});$b.displayName=RU;var kU="SelectPortal",Wb=t=>u.jsx(Cb,{asChild:!0,...t});Wb.displayName=kU;var yi="SelectContent",Hb=y.forwardRef((t,e)=>{const n=Ds(yi,t.__scopeSelect),[r,s]=y.useState();if(vt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?jo.createPortal(u.jsx(qb,{scope:t.__scopeSelect,children:u.jsx(sh.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(Gb,{...t,ref:e})});Hb.displayName=yi;var yn=10,[qb,Os]=qo(yi),PU="SelectContentImpl",jU=b5("SelectContent.RemoveScroll"),Gb=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:C,hideWhenDetached:_,avoidCollisions:I,...v}=t,w=Ds(yi,n),[E,P]=y.useState(null),[D,O]=y.useState(null),S=yt(e,Y=>P(Y)),[T,b]=y.useState(null),[R,j]=y.useState(null),k=ih(n),[N,G]=y.useState(!1),ie=y.useRef(!1);y.useEffect(()=>{if(E)return B5(E)},[E]),q6();const X=y.useCallback(Y=>{const[ye,...Je]=k().map(pe=>pe.ref.current),[we]=Je.slice(-1),me=document.activeElement;for(const pe of Y)if(pe===me||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ye&&D&&(D.scrollTop=0),pe===we&&D&&(D.scrollTop=D.scrollHeight),pe==null||pe.focus(),document.activeElement!==me))return},[k,D]),se=y.useCallback(()=>X([T,E]),[X,T,E]);y.useEffect(()=>{N&&se()},[N,se]);const{onOpenChange:V,triggerPointerDownPosRef:$}=w;y.useEffect(()=>{if(E){let Y={x:0,y:0};const ye=we=>{var me,pe;Y={x:Math.abs(Math.round(we.pageX)-(((me=$.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(we.pageY)-(((pe=$.current)==null?void 0:pe.y)??0))}},Je=we=>{Y.x<=10&&Y.y<=10?we.preventDefault():E.contains(we.target)||V(!1),document.removeEventListener("pointermove",ye),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Je,{capture:!0})}}},[E,V,$]),y.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[K,ne]=uC(Y=>{const ye=k().filter(me=>!me.disabled),Je=ye.find(me=>me.ref.current===document.activeElement),we=dC(ye,Y,Je);we&&setTimeout(()=>we.ref.current.focus())}),_e=y.useCallback((Y,ye,Je)=>{const we=!ie.current&&!Je;(w.value!==void 0&&w.value===ye||we)&&(b(Y),we&&(ie.current=!0))},[w.value]),Ht=y.useCallback(()=>E==null?void 0:E.focus(),[E]),Me=y.useCallback((Y,ye,Je)=>{const we=!ie.current&&!Je;(w.value!==void 0&&w.value===ye||we)&&j(Y)},[w.value]),Lt=r==="popper"?lm:Kb,Xe=Lt===lm?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:C,hideWhenDetached:_,avoidCollisions:I}:{};return u.jsx(qb,{scope:n,content:E,viewport:D,onViewportChange:O,itemRefCallback:_e,selectedItem:T,onItemLeave:Ht,itemTextRefCallback:Me,focusSelectedItem:se,selectedItemText:R,position:r,isPositioned:N,searchRef:K,children:u.jsx(Mb,{as:jU,allowPinchZoom:!0,children:u.jsx(rb,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:We(s,Y=>{var ye;(ye=w.trigger)==null||ye.focus({preventScroll:!0}),Y.preventDefault()}),children:u.jsx(tb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Lt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),...v,...Xe,onPlaced:()=>G(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:We(v.onKeyDown,Y=>{const ye=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ye&&Y.key.length===1&&ne(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let we=k().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const me=Y.target,pe=we.indexOf(me);we=we.slice(pe+1)}setTimeout(()=>X(we)),Y.preventDefault()}})})})})})})});Gb.displayName=PU;var DU="SelectItemAlignedPosition",Kb=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ds(yi,n),o=Os(yi,n),[a,l]=y.useState(null),[d,h]=y.useState(null),f=yt(e,S=>h(S)),m=ih(n),x=y.useRef(!1),C=y.useRef(!0),{viewport:_,selectedItem:I,selectedItemText:v,focusSelectedItem:w}=o,E=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&_&&I&&v){const S=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),b=i.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(i.dir!=="rtl"){const me=R.left-T.left,pe=b.left-me,at=S.left-pe,qt=S.width+at,Ls=Math.max(qt,T.width),nr=window.innerWidth-yn,rr=Fx(pe,[yn,Math.max(yn,nr-Ls)]);a.style.minWidth=qt+"px",a.style.left=rr+"px"}else{const me=T.right-R.right,pe=window.innerWidth-b.right-me,at=window.innerWidth-S.right-pe,qt=S.width+at,Ls=Math.max(qt,T.width),nr=window.innerWidth-yn,rr=Fx(pe,[yn,Math.max(yn,nr-Ls)]);a.style.minWidth=qt+"px",a.style.right=rr+"px"}const j=m(),k=window.innerHeight-yn*2,N=_.scrollHeight,G=window.getComputedStyle(d),ie=parseInt(G.borderTopWidth,10),X=parseInt(G.paddingTop,10),se=parseInt(G.borderBottomWidth,10),V=parseInt(G.paddingBottom,10),$=ie+X+N+V+se,K=Math.min(I.offsetHeight*5,$),ne=window.getComputedStyle(_),_e=parseInt(ne.paddingTop,10),Ht=parseInt(ne.paddingBottom,10),Me=S.top+S.height/2-yn,Lt=k-Me,Xe=I.offsetHeight/2,Y=I.offsetTop+Xe,ye=ie+X+Y,Je=$-ye;if(ye<=Me){const me=j.length>0&&I===j[j.length-1].ref.current;a.style.bottom="0px";const pe=d.clientHeight-_.offsetTop-_.offsetHeight,at=Math.max(Lt,Xe+(me?Ht:0)+pe+se),qt=ye+at;a.style.height=qt+"px"}else{const me=j.length>0&&I===j[0].ref.current;a.style.top="0px";const at=Math.max(Me,ie+_.offsetTop+(me?_e:0)+Xe)+Je;a.style.height=at+"px",_.scrollTop=ye-Me+_.offsetTop}a.style.margin=`${yn}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,a,d,_,I,v,i.dir,r]);vt(()=>E(),[E]);const[P,D]=y.useState();vt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=y.useCallback(S=>{S&&C.current===!0&&(E(),w==null||w(),C.current=!1)},[E,w]);return u.jsx(LU,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(ze.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Kb.displayName=DU;var OU="SelectPopperPosition",lm=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=yn,...i}=t,o=oh(n);return u.jsx(T5,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lm.displayName=OU;var[LU,Ty]=qo(yi,{}),cm="SelectViewport",Qb=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Os(cm,n),o=Ty(cm,n),a=yt(e,i.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(sh.Slot,{scope:n,children:u.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const x=Math.abs(l.current-h.scrollTop);if(x>0){const C=window.innerHeight-yn*2,_=parseFloat(f.style.minHeight),I=parseFloat(f.style.height),v=Math.max(_,I);if(v<C){const w=v+x,E=Math.min(C,w),P=w-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});Qb.displayName=cm;var Yb="SelectGroup",[MU,VU]=qo(Yb),FU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=py();return u.jsx(MU,{scope:n,id:s,children:u.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});FU.displayName=Yb;var Xb="SelectLabel",Jb=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=VU(Xb,n);return u.jsx(ze.div,{id:s.id,...r,ref:e})});Jb.displayName=Xb;var ld="SelectItem",[UU,Zb]=qo(ld),eC=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ds(ld,n),l=Os(ld,n),d=a.value===r,[h,f]=y.useState(i??""),[m,x]=y.useState(!1),C=yt(e,w=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,w,r,s)}),_=py(),I=y.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(UU,{scope:n,value:r,disabled:s,textId:_,isSelected:d,onItemTextChange:y.useCallback(w=>{f(E=>E||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(sh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(ze.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:C,onFocus:We(o.onFocus,()=>x(!0)),onBlur:We(o.onBlur,()=>x(!1)),onClick:We(o.onClick,()=>{I.current!=="mouse"&&v()}),onPointerUp:We(o.onPointerUp,()=>{I.current==="mouse"&&v()}),onPointerDown:We(o.onPointerDown,w=>{I.current=w.pointerType}),onPointerMove:We(o.onPointerMove,w=>{var E;I.current=w.pointerType,s?(E=l.onItemLeave)==null||E.call(l):I.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(o.onPointerLeave,w=>{var E;w.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:We(o.onKeyDown,w=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&w.key===" "||(IU.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});eC.displayName=ld;var Na="SelectItemText",tC=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ds(Na,n),a=Os(Na,n),l=Zb(Na,n),d=NU(Na,n),[h,f]=y.useState(null),m=yt(e,v=>f(v),l.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,l.value,l.disabled)}),x=h==null?void 0:h.textContent,C=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:x},l.value),[l.disabled,l.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:I}=d;return vt(()=>(_(C),()=>I(C)),[_,I,C]),u.jsxs(u.Fragment,{children:[u.jsx(ze.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jo.createPortal(i.children,o.valueNode):null]})});tC.displayName=Na;var nC="SelectItemIndicator",rC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Zb(nC,n).isSelected?u.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});rC.displayName=nC;var um="SelectScrollUpButton",sC=y.forwardRef((t,e)=>{const n=Os(um,t.__scopeSelect),r=Ty(um,t.__scopeSelect),[s,i]=y.useState(!1),o=yt(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(oC,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});sC.displayName=um;var dm="SelectScrollDownButton",iC=y.forwardRef((t,e)=>{const n=Os(dm,t.__scopeSelect),r=Ty(dm,t.__scopeSelect),[s,i]=y.useState(!1),o=yt(e,r.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(oC,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});iC.displayName=dm;var oC=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Os("SelectScrollButton",n),o=y.useRef(null),a=ih(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),vt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:We(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:We(s.onPointerLeave,()=>{l()})})}),BU="SelectSeparator",aC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});aC.displayName=BU;var hm="SelectArrow",zU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oh(n),i=Ds(hm,n),o=Os(hm,n);return i.open&&o.position==="popper"?u.jsx(S5,{...s,...r,ref:e}):null});zU.displayName=hm;var $U="SelectBubbleInput",lC=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=yt(r,s),o=O5(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),u.jsx(ze.select,{...n,style:{...Ab,...n.style},ref:i,defaultValue:e})});lC.displayName=$U;function cC(t){return t===""||t===void 0}function uC(t){const e=xs(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function dC(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=WU(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function WU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HU=Vb,hC=Ub,qU=zb,GU=$b,KU=Wb,fC=Hb,QU=Qb,pC=Jb,mC=eC,YU=tC,XU=rC,gC=sC,yC=iC,vC=aC;const kf=HU,Pf=qU,eu=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(hC,{ref:r,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(GU,{asChild:!0,children:u.jsx(QI,{className:"h-4 w-4 opacity-50"})})]}));eu.displayName=hC.displayName;const wC=y.forwardRef(({className:t,...e},n)=>u.jsx(gC,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(W3,{className:"h-4 w-4"})}));wC.displayName=gC.displayName;const _C=y.forwardRef(({className:t,...e},n)=>u.jsx(yC,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(QI,{className:"h-4 w-4"})}));_C.displayName=yC.displayName;const tu=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(KU,{children:u.jsxs(fC,{ref:s,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(wC,{}),u.jsx(QU,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(_C,{})]})}));tu.displayName=fC.displayName;const JU=y.forwardRef(({className:t,...e},n)=>u.jsx(pC,{ref:n,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JU.displayName=pC.displayName;const Hs=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(mC,{ref:r,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(XU,{children:u.jsx($3,{className:"h-4 w-4"})})}),u.jsx(YU,{children:e})]}));Hs.displayName=mC.displayName;const ZU=y.forwardRef(({className:t,...e},n)=>u.jsx(vC,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));ZU.displayName=vC.displayName;const e9=()=>{var T;const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState([]),[o,a]=y.useState("all"),[l,d]=y.useState("all"),[h,f]=y.useState("all"),[m,x]=y.useState(""),[C,_]=y.useState(!0),[I,v]=y.useState([]),[w,E]=y.useState([]),P=async()=>{try{_(!0);const b="/api/practice/categories",R="/api/practice/challenges",[j,k]=await Promise.all([fetch(b),fetch(R)]);if(j.ok){const N=await j.json();e(N)}else e([]);if(k.ok){const N=await k.json();r(N),i(N);const G=Array.from(new Set(N.map(X=>X.type).filter(Boolean))),ie=Array.from(new Set(N.map(X=>X.difficulty).filter(Boolean)));v(G),E(ie)}else r([]),i([]),v([]),E([])}catch{e([]),r([]),i([]),v([]),E([])}finally{_(!1)}};y.useEffect(()=>{if(n.length===0)return;let b=n;m&&(b=b.filter(R=>{var j,k;return R.title.toLowerCase().includes(m.toLowerCase())||((j=R.description)==null?void 0:j.toLowerCase().includes(m.toLowerCase()))||((k=R.tags)==null?void 0:k.some(N=>N.toLowerCase().includes(m.toLowerCase())))})),o!=="all"&&(b=b.filter(R=>R.category===o)),l!=="all"&&(b=b.filter(R=>R.type===l)),h!=="all"&&(b=b.filter(R=>R.difficulty===h)),i(b)},[n,m,o,l,h]);const D=async b=>{try{(await fetch(`/api/practice/challenges/${b}/start`,{method:"POST"})).ok&&(window.location.href=`/challenge/${b}`)}catch(R){console.error("Failed to start challenge:",R)}},O=b=>{switch(b.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"expert":return"bg-purple-500/20 text-purple-500 border-purple-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};if(y.useEffect(()=>{P()},[]),C)return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading challenges..."})]})}),u.jsx(jt,{})]});const S=n.length;return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"practice",className:"pt-24 pb-16 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Challenge ",u.jsx("span",{className:"text-primary",children:"Library"})]}),u.jsx("p",{className:"text-muted-foreground",children:S>0?`Browse and search through ${S} cybersecurity challenges`:"No challenges available yet. Challenges will appear here once they are added by administrators."})]}),S>0&&u.jsx(ut,{className:"border-border mb-8",children:u.jsxs(dt,{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(rd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(ZI,{placeholder:"Search by keyword or challenge...",className:"pl-9",value:m,onChange:b=>x(b.target.value)})]}),I.length>0&&u.jsxs(kf,{value:l,onValueChange:d,children:[u.jsx(eu,{children:u.jsx(Pf,{placeholder:"Type"})}),u.jsxs(tu,{children:[u.jsx(Hs,{value:"all",children:"All Types"}),I.map(b=>u.jsx(Hs,{value:b,children:b},b))]})]}),t.length>0&&u.jsxs(kf,{value:o,onValueChange:a,children:[u.jsx(eu,{children:u.jsx(Pf,{placeholder:"Category"})}),u.jsxs(tu,{children:[u.jsx(Hs,{value:"all",children:"All Categories"}),t.map(b=>u.jsx(Hs,{value:b.id,children:b.name},b.id))]})]}),w.length>0&&u.jsxs(kf,{value:h,onValueChange:f,children:[u.jsx(eu,{children:u.jsx(Pf,{placeholder:"Difficulty"})}),u.jsxs(tu,{children:[u.jsx(Hs,{value:"all",children:"All Difficulties"}),w.map(b=>u.jsx(Hs,{value:b,children:b},b))]})]})]}),(o!=="all"||l!=="all"||h!=="all"||m)&&u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),m&&u.jsxs(Vn,{variant:"secondary",className:"flex items-center gap-1",children:['Search: "',m,'"',u.jsx(ht,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>x(""),children:""})]}),l!=="all"&&u.jsxs(Vn,{variant:"secondary",className:"flex items-center gap-1",children:["Type: ",l,u.jsx(ht,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>d("all"),children:""})]}),o!=="all"&&u.jsxs(Vn,{variant:"secondary",className:"flex items-center gap-1",children:["Category: ",(T=t.find(b=>b.id===o))==null?void 0:T.name,u.jsx(ht,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>a("all"),children:""})]}),h!=="all"&&u.jsxs(Vn,{variant:"secondary",className:"flex items-center gap-1",children:["Difficulty: ",h,u.jsx(ht,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>f("all"),children:""})]}),u.jsx(ht,{variant:"ghost",size:"sm",onClick:()=>{x(""),d("all"),a("all"),f("all")},children:"Clear all"})]})]})}),S>0&&u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("div",{children:u.jsxs("span",{className:"text-muted-foreground",children:["Showing ",s.length," of ",S," challenges"]})})}),u.jsx(ut,{className:"border-border",children:u.jsx(dt,{className:"p-0",children:S===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(Ir,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No challenges available"}),u.jsx("p",{className:"text-sm",children:"Challenges will appear here once they are added by administrators. Check back later or contact the platform administrators."})]}):s.length===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(rd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No challenges found"}),u.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria or filters"}),u.jsx(ht,{variant:"outline",className:"mt-4",onClick:()=>{x(""),d("all"),a("all"),f("all")},children:"Clear all filters"})]}):u.jsx("div",{className:"divide-y divide-border",children:s.map(b=>{var R;return u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-6 hover:bg-muted/10 transition-all",children:[u.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[b.completed?u.jsx(H3,{className:"w-6 h-6 text-primary mt-1 flex-shrink-0"}):u.jsx(Ir,{className:"w-6 h-6 text-muted-foreground mt-1 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-bold text-lg mb-2",children:b.title}),b.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:b.description}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Vn,{className:O(b.difficulty),children:b.difficulty}),u.jsx(Vn,{variant:"outline",className:"border-primary/30 text-primary",children:b.category}),b.type&&u.jsx(Vn,{variant:"secondary",children:b.type}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.solvedCount," solved"]}),(R=b.tags)==null?void 0:R.map((j,k)=>u.jsx(Vn,{variant:"outline",className:"text-xs",children:j},k))]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 md:ml-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xl font-bold text-primary",children:b.points}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]}),u.jsx(ht,{variant:b.completed?"outline":"neon",size:"sm",onClick:()=>D(b.id),children:b.completed?"Review":"Start"})]})]},b.id)})})})})]})}),u.jsx(jt,{})]})},t9=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=async()=>{try{const h="/api/events/live",f="/api/events/upcoming",[m,x]=await Promise.all([fetch(h,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(f)]);if(m.ok){const C=await m.json();e(C)}else e([]);if(x.ok){const C=await x.json();r(C)}else r([])}catch{e([]),r([])}finally{i(!1)}},a=async h=>{try{(await fetch("/api/events/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&o()}catch(f){console.error("Failed to register for event:",f)}},l=async h=>{try{(await fetch("/api/events/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:h})})).ok&&(window.location.href=`/competition/${h}`)}catch(f){console.error("Failed to join live event:",f)}};if(y.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),s)return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading events..."})]})}),u.jsx(jt,{})]});const d=t[0];return u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx(Tc,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[u.jsx("span",{className:"text-primary",children:"LIVE"})," Events"]}),u.jsx("p",{className:"text-muted-foreground",children:"Compete in real-time for prizes"})]}),d?u.jsxs(ut,{className:"max-w-4xl mx-auto border-primary/50 bg-gradient-to-br from-primary/5 to-transparent mb-8 animate-glow",children:[u.jsx(_n,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(xn,{className:"text-2xl flex items-center gap-2",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),d.title]}),u.jsx(Vn,{className:"bg-primary text-primary-foreground font-bold px-4 py-1",children:d.status==="LIVE"?"LIVE NOW":"STARTING SOON"})]})}),u.jsxs(dt,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(Jd,{className:"w-8 h-8 text-primary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold font-mono",children:d.timeLeft}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Time Left"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Co,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.participants}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Players"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(hr,{className:"w-8 h-8 text-primary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.prize}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Prize Pool"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Tc,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),u.jsx("div",{className:"text-2xl font-bold",children:d.difficulty}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Difficulty"})]})]}),u.jsxs(ht,{variant:"neon",size:"lg",className:"w-full",onClick:()=>l(d.id),children:[u.jsx(Tc,{className:"w-5 h-5"}),d.status==="LIVE"?"Join Event Now":"Prepare for Event"]})]})]}):u.jsx(ut,{className:"max-w-4xl mx-auto border-border mb-8",children:u.jsxs(dt,{className:"p-12 text-center",children:[u.jsx(Tc,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Live Events"}),u.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming competitions"})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Upcoming Events"}),n.length===0?u.jsx(ut,{className:"border-border",children:u.jsxs(dt,{className:"p-8 text-center",children:[u.jsx(td,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled"})]})}):u.jsx("div",{className:"space-y-4",children:n.map(h=>u.jsx(ut,{className:"border-border hover:border-primary/30 transition-all",children:u.jsx(dt,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("h4",{className:"font-bold text-xl",children:h.title}),u.jsx(Vn,{variant:"outline",className:"border-primary/30 text-primary",children:h.difficulty})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(td,{className:"w-4 h-4"}),h.date]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Co,{className:"w-4 h-4"}),h.participants," registered",h.maxParticipants&&` / ${h.maxParticipants} max`]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hr,{className:"w-4 h-4"}),"Prize: ",h.prize]})]}),h.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:h.description})]}),u.jsx(ht,{variant:h.registered?"outline":"terminal",className:"md:ml-4",onClick:()=>!h.registered&&a(h.id),disabled:h.registered,children:h.registered?"Registered ":"Register"})]})})},h.id))})]})]})}),u.jsx(jt,{})]})};function n9(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o);a.displayName=i+"Context";const l=n.length;n=[...n,o];const d=f=>{var v;const{scope:m,children:x,...C}=f,_=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,I=y.useMemo(()=>C,Object.values(C));return u.jsx(_.Provider,{value:I,children:x})};d.displayName=i+"Provider";function h(f,m){var _;const x=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,C=y.useContext(x);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,r9(s,...e)]}function r9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var s9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sy=s9.reduce((t,e)=>{const n=FI(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xC={exports:{}},EC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=y;function i9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var o9=typeof Object.is=="function"?Object.is:i9,a9=No.useState,l9=No.useEffect,c9=No.useLayoutEffect,u9=No.useDebugValue;function d9(t,e){var n=e(),r=a9({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return c9(function(){s.value=n,s.getSnapshot=e,jf(s)&&i({inst:s})},[t,n,e]),l9(function(){return jf(s)&&i({inst:s}),t(function(){jf(s)&&i({inst:s})})},[t]),u9(n),n}function jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o9(t,n)}catch{return!0}}function h9(t,e){return e()}var f9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h9:d9;EC.useSyncExternalStore=No.useSyncExternalStore!==void 0?No.useSyncExternalStore:f9;xC.exports=EC;var p9=xC.exports;function m9(){return p9.useSyncExternalStore(g9,()=>!0,()=>!1)}function g9(){return()=>{}}var Iy="Avatar",[y9]=n9(Iy),[v9,TC]=y9(Iy),SC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(v9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Sy.span,{...r,ref:e})})});SC.displayName=Iy;var IC="AvatarImage",bC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=TC(IC,n),a=w9(r,i),l=xs(d=>{s(d),o.onImageLoadingStatusChange(d)});return vt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Sy.img,{...i,ref:e,src:r}):null});bC.displayName=IC;var CC="AvatarFallback",AC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=TC(CC,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Sy.span,{...s,ref:e}):null});AC.displayName=CC;function d0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function w9(t,{referrerPolicy:e,crossOrigin:n}){const r=m9(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>d0(i,t));return vt(()=>{a(d0(i,t))},[i,t]),vt(()=>{const l=f=>()=>{a(f)};if(!i)return;const d=l("loaded"),h=l("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}var NC=SC,RC=bC,kC=AC;const PC=y.forwardRef(({className:t,...e},n)=>u.jsx(NC,{ref:n,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));PC.displayName=NC.displayName;const _9=y.forwardRef(({className:t,...e},n)=>u.jsx(RC,{ref:n,className:Ye("aspect-square h-full w-full",t),...e}));_9.displayName=RC.displayName;const jC=y.forwardRef(({className:t,...e},n)=>u.jsx(kC,{ref:n,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));jC.displayName=kC.displayName;const x9=({eventName:t="CTF Competition"})=>{const[e,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState(!0),a=async()=>{try{const l="/api/ctf/leaderboard",d="/api/platform/top-users",[h,f]=await Promise.all([fetch(l,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(d)]);if(h.ok){const m=await h.json();n(m)}else n([]);if(f.ok){const m=await f.json();s(m)}else s([])}catch{n([]),s([])}finally{o(!1)}};return y.useEffect(()=>{a();const l=setInterval(a,5e3);return()=>clearInterval(l)},[]),i?u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"leaderboard",className:"pt-24 pb-16 bg-muted/20 min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto text-center",children:[u.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading leaderboard data..."})]})}),u.jsx(jt,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pt,{}),u.jsx("section",{id:"ctf-leaderboard",className:"pt-24 pb-16 bg-background min-h-screen",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx(hr,{className:"w-12 h-12 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t," - ",u.jsx("span",{className:"text-primary",children:"Live Scoreboard"})]})]}),u.jsxs(ut,{className:"max-w-6xl mx-auto border-border",children:[u.jsx(_n,{className:"bg-muted/30",children:u.jsxs(xn,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Lx,{className:"w-5 h-5 text-primary"}),"Live Competition Rankings"]}),u.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e.length>0?`${e.length} Teams Competing`:"No active competition"})]})}),u.jsx(dt,{className:"p-0",children:e.length===0?u.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[u.jsx(hr,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg mb-2",children:"No scores available yet"}),u.jsx("p",{className:"text-sm",children:"Leaderboard will update when competition starts"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"#"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Team"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Captain"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Points"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Activity"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Challenge"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:e.map(l=>u.jsxs("tr",{className:"hover:bg-muted/20 transition-colors duration-200",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:`text-lg font-bold ${l.rank<=3?"text-primary":"text-foreground"}`,children:l.rank})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:l.team}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground",children:l.captain}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-lg font-bold text-primary",children:l.points})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:l.lastActivity}),u.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground max-w-xs truncate",children:l.challenge})]},l.rank))})]})})})]})]})}),u.jsx("section",{id:"platform-leaderboard",className:"py-16 bg-muted/20",children:u.jsxs("div",{className:"container px-4 mx-auto",children:[u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx(hr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Global ",u.jsx("span",{className:"text-primary",children:"Leaderboard"})]}),u.jsx("p",{className:"text-muted-foreground",children:"Top performers this month"})]}),u.jsxs(ut,{className:"max-w-4xl mx-auto border-border",children:[u.jsx(_n,{children:u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(Lx,{className:"w-5 h-5 text-primary"}),"Top Platform Hackers"]})}),u.jsx(dt,{children:r.length===0?u.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[u.jsx(hr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No platform rankings available yet"})]}):u.jsx("div",{className:"space-y-3",children:r.map(l=>u.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-300 ${l.rank<=3?"bg-primary/10 border-2 border-primary/30 hover:border-primary/50":"bg-muted/30 border border-border hover:border-primary/30"}`,children:[u.jsx("div",{className:`text-2xl font-bold w-12 text-center ${l.rank<=3?"text-primary":"text-muted-foreground"}`,children:l.badge||`#${l.rank}`}),u.jsx(PC,{className:"w-12 h-12 border-2 border-primary/30",children:u.jsx(jC,{className:"bg-primary/20 text-primary font-bold",children:l.name.substring(0,2).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-lg",children:l.name}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.solved," challenges solved"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:l.points.toLocaleString()}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]},l.rank))})})]})]})}),u.jsx(jt,{})]})};function E9(){const{loading:t}=dy();return t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsx(Pk,{basename:"/ZedCTF",children:u.jsxs(Ik,{children:[u.jsx(rn,{path:"/",element:u.jsx(u6,{})}),u.jsx(rn,{path:"/login",element:u.jsx(d6,{})}),u.jsx(rn,{path:"/signup",element:u.jsx(h6,{})}),u.jsx(rn,{path:"/auth/github/callback",element:u.jsx(m6,{})}),u.jsx(rn,{path:"/dashboard",element:u.jsx(ki,{children:u.jsx(w6,{})})}),u.jsx(rn,{path:"/practice",element:u.jsx(ki,{children:u.jsx(e9,{})})}),u.jsx(rn,{path:"/live",element:u.jsx(ki,{children:u.jsx(t9,{})})}),u.jsx(rn,{path:"/leaderboard",element:u.jsx(ki,{children:u.jsx(x9,{})})}),u.jsx(rn,{path:"/writeups",element:u.jsx(ki,{children:u.jsx(f6,{})})}),u.jsx(rn,{path:"/writeups/create",element:u.jsx(ki,{children:u.jsx(p6,{})})}),u.jsx(rn,{path:"*",element:u.jsx(g6,{})})]})})}I1(document.getElementById("root")).render(u.jsx(QV,{children:u.jsx(E9,{})}));
