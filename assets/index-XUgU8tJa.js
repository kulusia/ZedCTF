function dA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _b={exports:{}},Jd={},bb={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),hA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),vA=Symbol.for("react.forward_ref"),xA=Symbol.for("react.suspense"),wA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),Sx=Symbol.iterator;function bA(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var Eb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,Sb={};function aa(t,e,n){this.props=t,this.context=e,this.refs=Sb,this.updater=n||Eb}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cb(){}Cb.prototype=aa.prototype;function cg(t,e,n){this.props=t,this.context=e,this.refs=Sb,this.updater=n||Eb}var ug=cg.prototype=new Cb;ug.constructor=cg;Tb(ug,aa.prototype);ug.isPureReactComponent=!0;var Cx=Array.isArray,Nb=Object.prototype.hasOwnProperty,dg={current:null},Ib={key:!0,ref:!0,__self:!0,__source:!0};function jb(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Nb.call(e,r)&&!Ib.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:oc,type:t,key:i,ref:a,props:s,_owner:dg.current}}function EA(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function TA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nx=/\/+/g;function Ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TA(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case oc:case hA:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ef(a,0):r,Cx(s)?(n="",t!=null&&(n=t.replace(Nx,"$&/")+"/"),wu(s,e,n,"",function(d){return d})):s!=null&&(hg(s)&&(s=EA(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nx,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Cx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Ef(i,l);a+=wu(i,e,n,c,s)}else if(c=bA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Ef(i,l++),a+=wu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function SA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},_u={transition:null},CA={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:_u,ReactCurrentOwner:dg};function Ab(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=aa;ve.Fragment=fA;ve.Profiler=mA;ve.PureComponent=cg;ve.StrictMode=pA;ve.Suspense=xA;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CA;ve.act=Ab;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tb({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=dg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Nb.call(e,c)&&!Ib.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:oc,type:t.type,key:s,ref:i,props:r,_owner:a}};ve.createContext=function(t){return t={$$typeof:yA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gA,_context:t},t.Consumer=t};ve.createElement=jb;ve.createFactory=function(t){var e=jb.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:vA,render:t}};ve.isValidElement=hg;ve.lazy=function(t){return{$$typeof:_A,_payload:{_status:-1,_result:t},_init:SA}};ve.memo=function(t,e){return{$$typeof:wA,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};ve.unstable_act=Ab;ve.useCallback=function(t,e){return rn.current.useCallback(t,e)};ve.useContext=function(t){return rn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return rn.current.useEffect(t,e)};ve.useId=function(){return rn.current.useId()};ve.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return rn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};ve.useRef=function(t){return rn.current.useRef(t)};ve.useState=function(t){return rn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return rn.current.useTransition()};ve.version="18.3.1";bb.exports=ve;var g=bb.exports;const ms=wb(g),Zd=dA({__proto__:null,default:ms},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=g,IA=Symbol.for("react.element"),jA=Symbol.for("react.fragment"),AA=Object.prototype.hasOwnProperty,kA=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RA={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)AA.call(e,r)&&!RA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IA,type:t,key:i,ref:a,props:s,_owner:kA.current}}Jd.Fragment=jA;Jd.jsx=kb;Jd.jsxs=kb;_b.exports=Jd;var o=_b.exports,Rb={exports:{}},Nn={},Pb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,U){var K=L.length;L.push(U);e:for(;0<K;){var V=K-1>>>1,H=L[V];if(0<s(H,U))L[V]=U,L[K]=H,K=V;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],K=L.pop();if(K!==U){L[0]=K;e:for(var V=0,H=L.length,ue=H>>>1;V<ue;){var pe=2*(V+1)-1,Ke=L[pe],Ae=pe+1,ie=L[Ae];if(0>s(Ke,K))Ae<H&&0>s(ie,Ke)?(L[V]=ie,L[Ae]=K,V=Ae):(L[V]=Ke,L[pe]=K,V=pe);else if(Ae<H&&0>s(ie,K))L[V]=ie,L[Ae]=K,V=Ae;else break e}}return U}function s(L,U){var K=L.sortIndex-U.sortIndex;return K!==0?K:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,S=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(L){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=L)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function A(L){if(v=!1,C(L),!S)if(n(c)!==null)S=!0,q(O);else{var U=n(d);U!==null&&J(A,U.startTime-L)}}function O(L,U){S=!1,v&&(v=!1,b(_),_=-1),y=!0;var K=p;try{for(C(U),f=n(c);f!==null&&(!(f.expirationTime>U)||L&&!D());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var H=V(f.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),C(U)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var pe=n(d);pe!==null&&J(A,pe.startTime-U),ue=!1}return ue}finally{f=null,p=K,y=!1}}var R=!1,E=null,_=-1,k=5,N=-1;function D(){return!(t.unstable_now()-N<k)}function I(){if(E!==null){var L=t.unstable_now();N=L;var U=!0;try{U=E(!0,L)}finally{U?j():(R=!1,E=null)}}else R=!1}var j;if(typeof w=="function")j=function(){w(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,X=z.port2;z.port1.onmessage=I,j=function(){X.postMessage(null)}}else j=function(){T(I,0)};function q(L){E=L,R||(R=!0,j())}function J(L,U){_=T(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,q(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var K=p;p=U;try{return L()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=p;p=L;try{return U()}finally{p=K}},t.unstable_scheduleCallback=function(L,U,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,L={id:h++,callback:U,priorityLevel:L,startTime:K,expirationTime:H,sortIndex:-1},K>V?(L.sortIndex=K,e(d,L),n(c)===null&&L===n(d)&&(v?(b(_),_=-1):v=!0,J(A,K-V))):(L.sortIndex=H,e(c,L),S||y||(S=!0,q(O))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var U=p;return function(){var K=p;p=U;try{return L.apply(this,arguments)}finally{p=K}}}})(Db);Pb.exports=Db;var PA=Pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=g,Cn=PA;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lb=new Set,Nl={};function Xi(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Nl[t]=e,t=0;t<e.length;t++)Lb.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,LA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ix={},jx={};function OA(t){return Np.call(jx,t)?!0:Np.call(Ix,t)?!1:LA.test(t)?jx[t]=!0:(Ix[t]=!0,!1)}function MA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VA(t,e,n,r){if(e===null||typeof e>"u"||MA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fg,pg);Ft[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fg,pg);Ft[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fg,pg);Ft[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mg(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VA(e,n,s,r)&&(n=null),r||s===null?OA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var es=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),Ax=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Tf;function el(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Sf=!1;function Cf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function FA(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case Ip:return"Profiler";case gg:return"StrictMode";case jp:return"Suspense";case Ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mb:return(t.displayName||"Context")+".Consumer";case Ob:return(t._context.displayName||"Context")+".Provider";case yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vg:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function UA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BA(t){var e=Fb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zc(t){t._valueTracker||(t._valueTracker=BA(t))}function Ub(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rp(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&mg(t,"checked",e,!1)}function Pp(t,e){Bb(t,e);var n=Ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ws(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Px(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(tl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ws(n)}}function $b(t,e){var n=Ws(e.value),r=Ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,Hb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$A=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(t){$A.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dl[e]=dl[t]})});function Wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dl.hasOwnProperty(t)&&dl[t]?(""+e).trim():e+"px"}function qb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zA=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(t,e){if(e){if(zA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,No=null,Io=null;function Lx(t){if(t=cc(t)){if(typeof Up!="function")throw Error(W(280));var e=t.stateNode;e&&(e=sh(e),Up(t.stateNode,t.type,e))}}function Gb(t){No?Io?Io.push(t):Io=[t]:No=t}function Kb(){if(No){var t=No,e=Io;if(Io=No=null,Lx(t),e)for(t=0;t<e.length;t++)Lx(e[t])}}function Qb(t,e){return t(e)}function Yb(){}var Nf=!1;function Xb(t,e,n){if(Nf)return t(e,n);Nf=!0;try{return Qb(t,e,n)}finally{Nf=!1,(No!==null||Io!==null)&&(Yb(),Kb())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Bp=!1;if($r)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Bp=!1}function HA(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var hl=!1,Ku=null,Qu=!1,$p=null,WA={onError:function(t){hl=!0,Ku=t}};function qA(t,e,n,r,s,i,a,l,c){hl=!1,Ku=null,HA.apply(WA,arguments)}function GA(t,e,n,r,s,i,a,l,c){if(qA.apply(this,arguments),hl){if(hl){var d=Ku;hl=!1,Ku=null}else throw Error(W(198));Qu||(Qu=!0,$p=d)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ox(t){if(Ji(t)!==t)throw Error(W(188))}function KA(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ox(s),t;if(i===r)return Ox(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Zb(t){return t=KA(t),t!==null?eE(t):null}function eE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eE(t);if(e!==null)return e;t=t.sibling}return null}var tE=Cn.unstable_scheduleCallback,Mx=Cn.unstable_cancelCallback,QA=Cn.unstable_shouldYield,YA=Cn.unstable_requestPaint,at=Cn.unstable_now,XA=Cn.unstable_getCurrentPriorityLevel,wg=Cn.unstable_ImmediatePriority,nE=Cn.unstable_UserBlockingPriority,Yu=Cn.unstable_NormalPriority,JA=Cn.unstable_LowPriority,rE=Cn.unstable_IdlePriority,eh=null,mr=null;function ZA(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:n2,e2=Math.log,t2=Math.LN2;function n2(t){return t>>>=0,t===0?32:31-(e2(t)/t2|0)|0}var Wc=64,qc=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=nl(l):(i&=a,i!==0&&(r=nl(i)))}else a=n&~s,a!==0?r=nl(a):i!==0&&(r=nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),s=1<<n,r|=t[n],e&=~s;return r}function r2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Xn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=r2(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function zp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sE(){var t=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function i2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _g(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function iE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oE,bg,aE,lE,cE,Hp=!1,Gc=[],ks=null,Rs=null,Ps=null,Al=new Map,kl=new Map,xs=[],o2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function Wa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cc(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function a2(t,e,n,r,s){switch(e){case"focusin":return ks=Wa(ks,t,e,n,r,s),!0;case"dragenter":return Rs=Wa(Rs,t,e,n,r,s),!0;case"mouseover":return Ps=Wa(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Al.set(i,Wa(Al.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kl.set(i,Wa(kl.get(i)||null,t,e,n,r,s)),!0}return!1}function uE(t){var e=Ti(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=Jb(n),e!==null){t.blockedOn=e,cE(t.priority,function(){aE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fp=r,n.target.dispatchEvent(r),Fp=null}else return e=cc(n),e!==null&&bg(e),t.blockedOn=n,!1;e.shift()}return!0}function Fx(t,e,n){bu(t)&&n.delete(e)}function l2(){Hp=!1,ks!==null&&bu(ks)&&(ks=null),Rs!==null&&bu(Rs)&&(Rs=null),Ps!==null&&bu(Ps)&&(Ps=null),Al.forEach(Fx),kl.forEach(Fx)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Hp||(Hp=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,l2)))}function Rl(t){function e(s){return qa(s,t)}if(0<Gc.length){qa(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&qa(ks,t),Rs!==null&&qa(Rs,t),Ps!==null&&qa(Ps,t),Al.forEach(e),kl.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)uE(n),n.blockedOn===null&&xs.shift()}var jo=es.ReactCurrentBatchConfig,Ju=!0;function c2(t,e,n,r){var s=De,i=jo.transition;jo.transition=null;try{De=1,Eg(t,e,n,r)}finally{De=s,jo.transition=i}}function u2(t,e,n,r){var s=De,i=jo.transition;jo.transition=null;try{De=4,Eg(t,e,n,r)}finally{De=s,jo.transition=i}}function Eg(t,e,n,r){if(Ju){var s=Wp(t,e,n,r);if(s===null)Vf(t,e,r,Zu,n),Vx(t,r);else if(a2(s,t,e,n,r))r.stopPropagation();else if(Vx(t,r),e&4&&-1<o2.indexOf(t)){for(;s!==null;){var i=cc(s);if(i!==null&&oE(i),i=Wp(t,e,n,r),i===null&&Vf(t,e,r,Zu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vf(t,e,r,null,n)}}var Zu=null;function Wp(t,e,n,r){if(Zu=null,t=xg(r),t=Ti(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zu=t,null}function dE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XA()){case wg:return 1;case nE:return 4;case Yu:case JA:return 16;case rE:return 536870912;default:return 16}default:return 16}}var Cs=null,Tg=null,Eu=null;function hE(){if(Eu)return Eu;var t,e=Tg,n=e.length,r,s="value"in Cs?Cs.value:Cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Eu=s.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function Ux(){return!1}function In(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kc:Ux,this.isPropagationStopped=Ux,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=In(la),lc=Xe({},la,{view:0,detail:0}),d2=In(lc),jf,Af,Ga,th=Xe({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(jf=t.screenX-Ga.screenX,Af=t.screenY-Ga.screenY):Af=jf=0,Ga=t),jf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),Bx=In(th),h2=Xe({},th,{dataTransfer:0}),f2=In(h2),p2=Xe({},lc,{relatedTarget:0}),kf=In(p2),m2=Xe({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),g2=In(m2),y2=Xe({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v2=In(y2),x2=Xe({},la,{data:0}),$x=In(x2),w2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b2[t])?!!e[t]:!1}function Cg(){return E2}var T2=Xe({},lc,{key:function(t){if(t.key){var e=w2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S2=In(T2),C2=Xe({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=In(C2),N2=Xe({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),I2=In(N2),j2=Xe({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=In(j2),k2=Xe({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R2=In(k2),P2=[9,13,27,32],Ng=$r&&"CompositionEvent"in window,fl=null;$r&&"documentMode"in document&&(fl=document.documentMode);var D2=$r&&"TextEvent"in window&&!fl,fE=$r&&(!Ng||fl&&8<fl&&11>=fl),Hx=" ",Wx=!1;function pE(t,e){switch(t){case"keyup":return P2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function L2(t,e){switch(t){case"compositionend":return mE(e);case"keypress":return e.which!==32?null:(Wx=!0,Hx);case"textInput":return t=e.data,t===Hx&&Wx?null:t;default:return null}}function O2(t,e){if(go)return t==="compositionend"||!Ng&&pE(t,e)?(t=hE(),Eu=Tg=Cs=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fE&&e.locale!=="ko"?null:e.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M2[t.type]:e==="textarea"}function gE(t,e,n,r){Gb(r),e=ed(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,Pl=null;function V2(t){NE(t,0)}function nh(t){var e=xo(t);if(Ub(e))return t}function F2(t,e){if(t==="change")return e}var yE=!1;if($r){var Rf;if($r){var Pf="oninput"in document;if(!Pf){var Gx=document.createElement("div");Gx.setAttribute("oninput","return;"),Pf=typeof Gx.oninput=="function"}Rf=Pf}else Rf=!1;yE=Rf&&(!document.documentMode||9<document.documentMode)}function Kx(){pl&&(pl.detachEvent("onpropertychange",vE),Pl=pl=null)}function vE(t){if(t.propertyName==="value"&&nh(Pl)){var e=[];gE(e,Pl,t,xg(t)),Xb(V2,e)}}function U2(t,e,n){t==="focusin"?(Kx(),pl=e,Pl=n,pl.attachEvent("onpropertychange",vE)):t==="focusout"&&Kx()}function B2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(Pl)}function $2(t,e){if(t==="click")return nh(e)}function z2(t,e){if(t==="input"||t==="change")return nh(e)}function H2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:H2;function Dl(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Np.call(e,s)||!er(t[s],e[s]))return!1}return!0}function Qx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yx(t,e){var n=Qx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qx(n)}}function xE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wE(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W2(t){var e=wE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xE(n.ownerDocument.documentElement,n)){if(r!==null&&Ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yx(n,i);var a=Yx(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q2=$r&&"documentMode"in document&&11>=document.documentMode,yo=null,qp=null,ml=null,Gp=!1;function Xx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||yo==null||yo!==Gu(r)||(r=yo,"selectionStart"in r&&Ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Dl(ml,r)||(ml=r,r=ed(qp,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yo)))}function Qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Df={},_E={};$r&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function rh(t){if(Df[t])return Df[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _E)return Df[t]=e[n];return t}var bE=rh("animationend"),EE=rh("animationiteration"),TE=rh("animationstart"),SE=rh("transitionend"),CE=new Map,Jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){CE.set(t,e),Xi(e,[t])}for(var Lf=0;Lf<Jx.length;Lf++){var Of=Jx[Lf],G2=Of.toLowerCase(),K2=Of[0].toUpperCase()+Of.slice(1);ri(G2,"on"+K2)}ri(bE,"onAnimationEnd");ri(EE,"onAnimationIteration");ri(TE,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(SE,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Zx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GA(r,e,void 0,t),t.currentTarget=null}function NE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Zx(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Zx(s,l,d),i=c}}}if(Qu)throw t=$p,Qu=!1,$p=null,t}function He(t,e){var n=e[Jp];n===void 0&&(n=e[Jp]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Ll(t){if(!t[Yc]){t[Yc]=!0,Lb.forEach(function(n){n!=="selectionchange"&&(Q2.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,Mf("selectionchange",!1,e))}}function IE(t,e,n,r){switch(dE(e)){case 1:var s=c2;break;case 4:s=u2;break;default:s=Eg}n=s.bind(null,e,n,t),s=void 0,!Bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ti(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Xb(function(){var d=i,h=xg(n),f=[];e:{var p=CE.get(t);if(p!==void 0){var y=Sg,S=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":y=S2;break;case"focusin":S="focus",y=kf;break;case"focusout":S="blur",y=kf;break;case"beforeblur":case"afterblur":y=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=I2;break;case bE:case EE:case TE:y=g2;break;case SE:y=A2;break;case"scroll":y=d2;break;case"wheel":y=R2;break;case"copy":case"cut":case"paste":y=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zx}var v=(e&4)!==0,T=!v&&t==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var w=d,C;w!==null;){C=w;var A=C.stateNode;if(C.tag===5&&A!==null&&(C=A,b!==null&&(A=jl(w,b),A!=null&&v.push(Ol(w,A,C)))),T)break;w=w.return}0<v.length&&(p=new y(p,S,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Fp&&(S=n.relatedTarget||n.fromElement)&&(Ti(S)||S[zr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=d,S=S?Ti(S):null,S!==null&&(T=Ji(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=d),y!==S)){if(v=Bx,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=zx,A="onPointerLeave",b="onPointerEnter",w="pointer"),T=y==null?p:xo(y),C=S==null?p:xo(S),p=new v(A,w+"leave",y,n,h),p.target=T,p.relatedTarget=C,A=null,Ti(h)===d&&(v=new v(b,w+"enter",S,n,h),v.target=C,v.relatedTarget=T,A=v),T=A,y&&S)t:{for(v=y,b=S,w=0,C=v;C;C=oo(C))w++;for(C=0,A=b;A;A=oo(A))C++;for(;0<w-C;)v=oo(v),w--;for(;0<C-w;)b=oo(b),C--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=oo(v),b=oo(b)}v=null}else v=null;y!==null&&ew(f,p,y,v,!1),S!==null&&T!==null&&ew(f,T,S,v,!0)}}e:{if(p=d?xo(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var O=F2;else if(qx(p))if(yE)O=z2;else{O=B2;var R=U2}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=$2);if(O&&(O=O(t,d))){gE(f,O,n,h);break e}R&&R(t,p,d),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Dp(p,"number",p.value)}switch(R=d?xo(d):window,t){case"focusin":(qx(R)||R.contentEditable==="true")&&(yo=R,qp=d,ml=null);break;case"focusout":ml=qp=yo=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,Xx(f,n,h);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":Xx(f,n,h)}var E;if(Ng)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else go?pE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fE&&n.locale!=="ko"&&(go||_!=="onCompositionStart"?_==="onCompositionEnd"&&go&&(E=hE()):(Cs=h,Tg="value"in Cs?Cs.value:Cs.textContent,go=!0)),R=ed(d,_),0<R.length&&(_=new $x(_,t,null,n,h),f.push({event:_,listeners:R}),E?_.data=E:(E=mE(n),E!==null&&(_.data=E)))),(E=D2?L2(t,n):O2(t,n))&&(d=ed(d,"onBeforeInput"),0<d.length&&(h=new $x("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=E))}NE(f,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jl(t,n),i!=null&&r.unshift(Ol(t,i,s)),i=jl(t,e),i!=null&&r.push(Ol(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ew(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=jl(n,i),c!=null&&a.unshift(Ol(n,c,l))):s||(c=jl(n,i),c!=null&&a.push(Ol(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Y2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function tw(t){return(typeof t=="string"?t:""+t).replace(Y2,`
`).replace(X2,"")}function Xc(t,e,n){if(e=tw(e),tw(t)!==e&&n)throw Error(W(425))}function td(){}var Kp=null,Qp=null;function Yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,J2=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(t){return nw.resolve(null).then(t).catch(ek)}:Xp;function ek(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rl(e)}function Ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),dr="__reactFiber$"+ca,Ml="__reactProps$"+ca,zr="__reactContainer$"+ca,Jp="__reactEvents$"+ca,tk="__reactListeners$"+ca,nk="__reactHandles$"+ca;function Ti(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rw(t);t!==null;){if(n=t[dr])return n;t=rw(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[dr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function sh(t){return t[Ml]||null}var Zp=[],wo=-1;function si(t){return{current:t}}function qe(t){0>wo||(t.current=Zp[wo],Zp[wo]=null,wo--)}function Be(t,e){wo++,Zp[wo]=t.current,t.current=e}var qs={},Gt=si(qs),hn=si(!1),Oi=qs;function $o(t,e){var n=t.type.contextTypes;if(!n)return qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function nd(){qe(hn),qe(Gt)}function sw(t,e,n){if(Gt.current!==qs)throw Error(W(168));Be(Gt,e),Be(hn,n)}function jE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,UA(t)||"Unknown",s));return Xe({},n,r)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qs,Oi=Gt.current,Be(Gt,t),Be(hn,hn.current),!0}function iw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=jE(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,qe(hn),qe(Gt),Be(Gt,t)):qe(hn),Be(hn,n)}var Pr=null,ih=!1,Uf=!1;function AE(t){Pr===null?Pr=[t]:Pr.push(t)}function rk(t){ih=!0,AE(t)}function ii(){if(!Uf&&Pr!==null){Uf=!0;var t=0,e=De;try{var n=Pr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,ih=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(t+1)),tE(wg,ii),s}finally{De=e,Uf=!1}}return null}var _o=[],bo=0,sd=null,id=0,jn=[],An=0,Mi=null,Lr=1,Or="";function _i(t,e){_o[bo++]=id,_o[bo++]=sd,sd=t,id=e}function kE(t,e,n){jn[An++]=Lr,jn[An++]=Or,jn[An++]=Mi,Mi=t;var r=Lr;t=Or;var s=32-Xn(r)-1;r&=~(1<<s),n+=1;var i=32-Xn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Lr=1<<32-Xn(e)+s|n<<s|r,Or=i+t}else Lr=1<<i|n<<s|r,Or=t}function jg(t){t.return!==null&&(_i(t,1),kE(t,1,0))}function Ag(t){for(;t===sd;)sd=_o[--bo],_o[bo]=null,id=_o[--bo],_o[bo]=null;for(;t===Mi;)Mi=jn[--An],jn[An]=null,Or=jn[--An],jn[An]=null,Lr=jn[--An],jn[An]=null}var En=null,wn=null,Ge=!1,Gn=null;function RE(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ow(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=Ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Lr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tm(t){if(Ge){var e=wn;if(e){var n=e;if(!ow(t,e)){if(em(t))throw Error(W(418));e=Ds(n.nextSibling);var r=En;e&&ow(t,e)?RE(r,n):(t.flags=t.flags&-4097|2,Ge=!1,En=t)}}else{if(em(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ge=!1,En=t}}}function aw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Jc(t){if(t!==En)return!1;if(!Ge)return aw(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yp(t.type,t.memoizedProps)),e&&(e=wn)){if(em(t))throw PE(),Error(W(418));for(;e;)RE(t,e),e=Ds(e.nextSibling)}if(aw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?Ds(t.stateNode.nextSibling):null;return!0}function PE(){for(var t=wn;t;)t=Ds(t.nextSibling)}function zo(){wn=En=null,Ge=!1}function kg(t){Gn===null?Gn=[t]:Gn.push(t)}var sk=es.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lw(t){var e=t._init;return e(t._payload)}function DE(t){function e(b,w){if(t){var C=b.deletions;C===null?(b.deletions=[w],b.flags|=16):C.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Vs(b,w),b.index=0,b.sibling=null,b}function i(b,w,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<w?(b.flags|=2,w):C):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,C,A){return w===null||w.tag!==6?(w=Gf(C,b.mode,A),w.return=b,w):(w=s(w,C),w.return=b,w)}function c(b,w,C,A){var O=C.type;return O===mo?h(b,w,C.props.children,A,C.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ys&&lw(O)===w.type)?(A=s(w,C.props),A.ref=Ka(b,w,C),A.return=b,A):(A=ku(C.type,C.key,C.props,null,b.mode,A),A.ref=Ka(b,w,C),A.return=b,A)}function d(b,w,C,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Kf(C,b.mode,A),w.return=b,w):(w=s(w,C.children||[]),w.return=b,w)}function h(b,w,C,A,O){return w===null||w.tag!==7?(w=Ri(C,b.mode,A,O),w.return=b,w):(w=s(w,C),w.return=b,w)}function f(b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Gf(""+w,b.mode,C),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:return C=ku(w.type,w.key,w.props,null,b.mode,C),C.ref=Ka(b,null,w),C.return=b,C;case po:return w=Kf(w,b.mode,C),w.return=b,w;case ys:var A=w._init;return f(b,A(w._payload),C)}if(tl(w)||za(w))return w=Ri(w,b.mode,C,null),w.return=b,w;Zc(b,w)}return null}function p(b,w,C,A){var O=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:l(b,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $c:return C.key===O?c(b,w,C,A):null;case po:return C.key===O?d(b,w,C,A):null;case ys:return O=C._init,p(b,w,O(C._payload),A)}if(tl(C)||za(C))return O!==null?null:h(b,w,C,A,null);Zc(b,C)}return null}function y(b,w,C,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(C)||null,l(w,b,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $c:return b=b.get(A.key===null?C:A.key)||null,c(w,b,A,O);case po:return b=b.get(A.key===null?C:A.key)||null,d(w,b,A,O);case ys:var R=A._init;return y(b,w,C,R(A._payload),O)}if(tl(A)||za(A))return b=b.get(C)||null,h(w,b,A,O,null);Zc(w,A)}return null}function S(b,w,C,A){for(var O=null,R=null,E=w,_=w=0,k=null;E!==null&&_<C.length;_++){E.index>_?(k=E,E=null):k=E.sibling;var N=p(b,E,C[_],A);if(N===null){E===null&&(E=k);break}t&&E&&N.alternate===null&&e(b,E),w=i(N,w,_),R===null?O=N:R.sibling=N,R=N,E=k}if(_===C.length)return n(b,E),Ge&&_i(b,_),O;if(E===null){for(;_<C.length;_++)E=f(b,C[_],A),E!==null&&(w=i(E,w,_),R===null?O=E:R.sibling=E,R=E);return Ge&&_i(b,_),O}for(E=r(b,E);_<C.length;_++)k=y(E,b,_,C[_],A),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?_:k.key),w=i(k,w,_),R===null?O=k:R.sibling=k,R=k);return t&&E.forEach(function(D){return e(b,D)}),Ge&&_i(b,_),O}function v(b,w,C,A){var O=za(C);if(typeof O!="function")throw Error(W(150));if(C=O.call(C),C==null)throw Error(W(151));for(var R=O=null,E=w,_=w=0,k=null,N=C.next();E!==null&&!N.done;_++,N=C.next()){E.index>_?(k=E,E=null):k=E.sibling;var D=p(b,E,N.value,A);if(D===null){E===null&&(E=k);break}t&&E&&D.alternate===null&&e(b,E),w=i(D,w,_),R===null?O=D:R.sibling=D,R=D,E=k}if(N.done)return n(b,E),Ge&&_i(b,_),O;if(E===null){for(;!N.done;_++,N=C.next())N=f(b,N.value,A),N!==null&&(w=i(N,w,_),R===null?O=N:R.sibling=N,R=N);return Ge&&_i(b,_),O}for(E=r(b,E);!N.done;_++,N=C.next())N=y(E,b,_,N.value,A),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?_:N.key),w=i(N,w,_),R===null?O=N:R.sibling=N,R=N);return t&&E.forEach(function(I){return e(b,I)}),Ge&&_i(b,_),O}function T(b,w,C,A){if(typeof C=="object"&&C!==null&&C.type===mo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $c:e:{for(var O=C.key,R=w;R!==null;){if(R.key===O){if(O=C.type,O===mo){if(R.tag===7){n(b,R.sibling),w=s(R,C.props.children),w.return=b,b=w;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ys&&lw(O)===R.type){n(b,R.sibling),w=s(R,C.props),w.ref=Ka(b,R,C),w.return=b,b=w;break e}n(b,R);break}else e(b,R);R=R.sibling}C.type===mo?(w=Ri(C.props.children,b.mode,A,C.key),w.return=b,b=w):(A=ku(C.type,C.key,C.props,null,b.mode,A),A.ref=Ka(b,w,C),A.return=b,b=A)}return a(b);case po:e:{for(R=C.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(b,w.sibling),w=s(w,C.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Kf(C,b.mode,A),w.return=b,b=w}return a(b);case ys:return R=C._init,T(b,w,R(C._payload),A)}if(tl(C))return S(b,w,C,A);if(za(C))return v(b,w,C,A);Zc(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,C),w.return=b,b=w):(n(b,w),w=Gf(C,b.mode,A),w.return=b,b=w),a(b)):n(b,w)}return T}var Ho=DE(!0),LE=DE(!1),od=si(null),ad=null,Eo=null,Rg=null;function Pg(){Rg=Eo=ad=null}function Dg(t){var e=od.current;qe(od),t._currentValue=e}function nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){ad=t,Rg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Rg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(ad===null)throw Error(W(308));Eo=t,ad.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Si=null;function Lg(t){Si===null?Si=[t]:Si.push(t)}function OE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function Og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ME(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hr(t,n)}return s=r.interleaved,s===null?(e.next=e,Lg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hr(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}function cw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ld(t,e,n,r){var s=t.updateQueue;vs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,v=l;switch(p=e,y=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(y,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,p=typeof S=="function"?S.call(y,f,p):S,p==null)break e;f=Xe({},f,p);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fi|=a,t.lanes=a,t.memoizedState=f}}function uw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var uc={},gr=si(uc),Vl=si(uc),Fl=si(uc);function Ci(t){if(t===uc)throw Error(W(174));return t}function Mg(t,e){switch(Be(Fl,e),Be(Vl,t),Be(gr,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}qe(gr),Be(gr,e)}function Wo(){qe(gr),qe(Vl),qe(Fl)}function VE(t){Ci(Fl.current);var e=Ci(gr.current),n=Op(e,t.type);e!==n&&(Be(Vl,t),Be(gr,n))}function Vg(t){Vl.current===t&&(qe(gr),qe(Vl))}var Qe=si(0);function cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bf=[];function Fg(){for(var t=0;t<Bf.length;t++)Bf[t]._workInProgressVersionPrimary=null;Bf.length=0}var Cu=es.ReactCurrentDispatcher,$f=es.ReactCurrentBatchConfig,Vi=0,Ye=null,xt=null,It=null,ud=!1,gl=!1,Ul=0,ik=0;function Bt(){throw Error(W(321))}function Ug(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Bg(t,e,n,r,s,i){if(Vi=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cu.current=t===null||t.memoizedState===null?ck:uk,t=n(r,s),gl){i=0;do{if(gl=!1,Ul=0,25<=i)throw Error(W(301));i+=1,It=xt=null,e.updateQueue=null,Cu.current=dk,t=n(r,s)}while(gl)}if(Cu.current=dd,e=xt!==null&&xt.next!==null,Vi=0,It=xt=Ye=null,ud=!1,e)throw Error(W(300));return t}function $g(){var t=Ul!==0;return Ul=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ye.memoizedState=It=t:It=It.next=t,It}function Vn(){if(xt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=It===null?Ye.memoizedState:It.next;if(e!==null)It=e,xt=t;else{if(t===null)throw Error(W(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?Ye.memoizedState=It=t:It=It.next=t}return It}function Bl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Vi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ye.lanes|=h,Fi|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,er(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,Fi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);er(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FE(){}function UE(t,e){var n=Ye,r=Vn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,zg(zE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,$l(9,$E.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(W(349));Vi&30||BE(n,e,s)}return s}function BE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $E(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&WE(t)}function zE(t,e,n){return n(function(){HE(e)&&WE(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function WE(t){var e=Hr(t,1);e!==null&&Jn(e,t,1,-1)}function dw(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=lk.bind(null,Ye,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qE(){return Vn().memoizedState}function Nu(t,e,n,r){var s=cr();Ye.flags|=t,s.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function oh(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var a=xt.memoizedState;if(i=a.destroy,r!==null&&Ug(r,a.deps)){s.memoizedState=$l(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=$l(1|e,n,i,r)}function hw(t,e){return Nu(8390656,8,t,e)}function zg(t,e){return oh(2048,8,t,e)}function GE(t,e){return oh(4,2,t,e)}function KE(t,e){return oh(4,4,t,e)}function QE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,oh(4,4,QE.bind(null,e,t),n)}function Hg(){}function XE(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ug(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JE(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ug(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZE(t,e,n){return Vi&21?(er(n,e)||(n=sE(),Ye.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function ok(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{De=n,$f.transition=r}}function e1(){return Vn().memoizedState}function ak(t,e,n){var r=Ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t1(t))n1(e,n);else if(n=OE(t,e,n,r),n!==null){var s=Zt();Jn(n,t,r,s),r1(n,e,r)}}function lk(t,e,n){var r=Ms(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t1(t))n1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=e.interleaved;c===null?(s.next=s,Lg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=OE(t,e,s,r),n!==null&&(s=Zt(),Jn(n,t,r,s),r1(n,e,r))}}function t1(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function n1(t,e){gl=ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}var dd={readContext:Mn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},ck={readContext:Mn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:hw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4194308,4,QE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nu(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ak.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:dw,useDebugValue:Hg,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=dw(!1),e=t[0];return t=ok.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=cr();if(Ge){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Rt===null)throw Error(W(349));Vi&30||BE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,hw(zE.bind(null,r,i,t),[t]),r.flags|=2048,$l(9,$E.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cr(),e=Rt.identifierPrefix;if(Ge){var n=Or,r=Lr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ik++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uk={readContext:Mn,useCallback:XE,useContext:Mn,useEffect:zg,useImperativeHandle:YE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:JE,useReducer:zf,useRef:qE,useState:function(){return zf(Bl)},useDebugValue:Hg,useDeferredValue:function(t){var e=Vn();return ZE(e,xt.memoizedState,t)},useTransition:function(){var t=zf(Bl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:e1,unstable_isNewReconciler:!1},dk={readContext:Mn,useCallback:XE,useContext:Mn,useEffect:zg,useImperativeHandle:YE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:JE,useReducer:Hf,useRef:qE,useState:function(){return Hf(Bl)},useDebugValue:Hg,useDeferredValue:function(t){var e=Vn();return xt===null?e.memoizedState=t:ZE(e,xt.memoizedState,t)},useTransition:function(){var t=Hf(Bl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:e1,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Ms(t),i=Fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Jn(e,t,s,r),Su(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Ms(t),i=Fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Jn(e,t,s,r),Su(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Ms(t),s=Fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Jn(e,t,r,n),Su(e,t,r))}};function fw(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(s,i):!0}function s1(t,e,n){var r=!1,s=qs,i=e.contextType;return typeof i=="object"&&i!==null?i=Mn(i):(s=fn(e)?Oi:Gt.current,r=e.contextTypes,i=(r=r!=null)?$o(t,s):qs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Og(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mn(i):(i=fn(e)?Oi:Gt.current,s.context=$o(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ah.enqueueReplaceState(s,s.state,null),ld(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=FA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hk=typeof WeakMap=="function"?WeakMap:Map;function i1(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fd||(fd=!0,mm=r),im(t,e)},n}function o1(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){im(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){im(t,e),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function mw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ck.bind(null,t,e,n),e.then(t,t))}function gw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var fk=es.ReactCurrentOwner,dn=!1;function Jt(t,e,n,r){e.child=t===null?LE(e,null,n,r):Ho(e,t.child,n,r)}function vw(t,e,n,r,s){n=n.render;var i=e.ref;return Ao(e,s),r=Bg(t,e,n,r,i,s),n=$g(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Ge&&n&&jg(e),e.flags|=1,Jt(t,e,r,s),e.child)}function xw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Jg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,a1(t,e,i,r,s)):(t=ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(a,r)&&t.ref===e.ref)return Wr(t,e,s)}return e.flags|=1,t=Vs(i,r),t.ref=e.ref,t.return=e,e.child=t}function a1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dl(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Wr(t,e,s)}return om(t,e,n,r,s)}function l1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(So,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(So,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(So,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(So,vn),vn|=r;return Jt(t,e,s,n),e.child}function c1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function om(t,e,n,r,s){var i=fn(n)?Oi:Gt.current;return i=$o(e,i),Ao(e,s),n=Bg(t,e,n,r,i,s),r=$g(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Ge&&r&&jg(e),e.flags|=1,Jt(t,e,n,s),e.child)}function ww(t,e,n,r,s){if(fn(n)){var i=!0;rd(e)}else i=!1;if(Ao(e,s),e.stateNode===null)Iu(t,e),s1(e,n,r),sm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=fn(n)?Oi:Gt.current,d=$o(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&pw(e,a,r,d),vs=!1;var p=e.memoizedState;a.state=p,ld(e,r,a,s),c=e.memoizedState,l!==r||p!==c||hn.current||vs?(typeof h=="function"&&(rm(e,n,h,r),c=e.memoizedState),(l=vs||fw(e,n,l,r,p,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ME(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Wn(e.type,l),a.props=d,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=fn(n)?Oi:Gt.current,c=$o(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&pw(e,a,r,c),vs=!1,p=e.memoizedState,a.state=p,ld(e,r,a,s);var S=e.memoizedState;l!==f||p!==S||hn.current||vs?(typeof y=="function"&&(rm(e,n,y,r),S=e.memoizedState),(d=vs||fw(e,n,d,r,p,S,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return am(t,e,n,r,i,s)}function am(t,e,n,r,s,i){c1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&iw(e,n,!1),Wr(t,e,i);r=e.stateNode,fk.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ho(e,t.child,null,i),e.child=Ho(e,null,l,i)):Jt(t,e,l,i),e.memoizedState=r.state,s&&iw(e,n,!0),e.child}function u1(t){var e=t.stateNode;e.pendingContext?sw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sw(t,e.context,!1),Mg(t,e.containerInfo)}function _w(t,e,n,r,s){return zo(),kg(s),e.flags|=256,Jt(t,e,n,r),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function d1(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Qe,s&1),t===null)return tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=uh(a,r,0,null),t=Ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cm(n),e.memoizedState=lm,t):Wg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pk(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Vs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Vs(l,i):(i=Ri(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=lm,r}return i=t.child,t=i.sibling,r=Vs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wg(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&kg(r),Ho(e,t.child,null,n),t=Wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pk(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Wf(Error(W(422))),eu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uh({mode:"visible",children:r.children},s,0,null),i=Ri(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ho(e,t.child,null,a),e.child.memoizedState=cm(a),e.memoizedState=lm,i);if(!(e.mode&1))return eu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(W(419)),r=Wf(i,r,void 0),eu(t,e,a,r)}if(l=(a&t.childLanes)!==0,dn||l){if(r=Rt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hr(t,s),Jn(r,t,s,-1))}return Xg(),r=Wf(Error(W(421))),eu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=Ds(s.nextSibling),En=e,Ge=!0,Gn=null,t!==null&&(jn[An++]=Lr,jn[An++]=Or,jn[An++]=Mi,Lr=t.id,Or=t.overflow,Mi=e),e=Wg(e,r.children),e.flags|=4096,e)}function bw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nm(t.return,e,n)}function qf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function h1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bw(t,n,e);else if(t.tag===19)bw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qf(e,!0,n,null,i);break;case"together":qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mk(t,e,n){switch(e.tag){case 3:u1(e),zo();break;case 5:VE(e);break;case 1:fn(e.type)&&rd(e);break;case 4:Mg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(od,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?d1(t,e,n):(Be(Qe,Qe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,l1(t,e,n)}return Wr(t,e,n)}var f1,um,p1,m1;f1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};um=function(){};p1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(gr.current);var i=null;switch(n){case"input":s=Rp(t,s),r=Rp(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Lp(t,s),r=Lp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=td)}Mp(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};m1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gk(t,e,n){var r=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return fn(e.type)&&nd(),$t(e),null;case 3:return r=e.stateNode,Wo(),qe(hn),qe(Gt),Fg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(vm(Gn),Gn=null))),um(t,e),$t(e),null;case 5:Vg(e);var s=Ci(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)p1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return $t(e),null}if(t=Ci(gr.current),Jc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dr]=e,r[Ml]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)He(rl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":kx(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Px(r,i),He("invalid",r)}Mp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xc(r.textContent,l,t),s=["children",""+l]):Nl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":zc(r),Rx(r,i,!0);break;case"textarea":zc(r),Dx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=td)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[dr]=e,t[Ml]=r,f1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vp(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)He(rl[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":kx(t,r),s=Rp(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),He("invalid",t);break;case"textarea":Px(t,r),s=Lp(t,r),He("invalid",t);break;default:s=r}Mp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Il(t,c):typeof c=="number"&&Il(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",t):c!=null&&mg(t,i,c,a))}switch(n){case"input":zc(t),Rx(t,r,!1);break;case"textarea":zc(t),Dx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ws(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Co(t,!!r.multiple,i,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)m1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ci(Fl.current),Ci(gr.current),Jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return $t(e),null;case 13:if(qe(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&wn!==null&&e.mode&1&&!(e.flags&128))PE(),zo(),e.flags|=98560,i=!1;else if(i=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[dr]=e}else zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else Gn!==null&&(vm(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?bt===0&&(bt=3):Xg())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Wo(),um(t,e),t===null&&Ll(e.stateNode.containerInfo),$t(e),null;case 10:return Dg(e.type._context),$t(e),null;case 17:return fn(e.type)&&nd(),$t(e),null;case 19:if(qe(Qe),i=e.memoizedState,i===null)return $t(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Qa(i,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=cd(t),a!==null){for(e.flags|=128,Qa(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>Go&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=cd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ge)return $t(e),null}else 2*at()-i.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function yk(t,e){switch(Ag(e),e.tag){case 1:return fn(e.type)&&nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),qe(hn),qe(Gt),Fg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(qe(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Qe),null;case 4:return Wo(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var tu=!1,Wt=!1,vk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function dm(t,e,n){try{n()}catch(r){et(t,e,r)}}var Ew=!1;function xk(t,e){if(Kp=Ju,t=wE(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=a),p===i&&++h===r&&(c=a),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qp={focusedElem:t,selectionRange:n},Ju=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,T=S.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Wn(e.type,v),T);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){et(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return S=Ew,Ew=!1,S}function yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&dm(e,n,i)}s=s.next}while(s!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g1(t){var e=t.alternate;e!==null&&(t.alternate=null,g1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Ml],delete e[Jp],delete e[tk],delete e[nk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y1(t){return t.tag===5||t.tag===3||t.tag===4}function Tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=td));else if(r!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}var Dt=null,qn=!1;function us(t,e,n){for(n=n.child;n!==null;)v1(t,e,n),n=n.sibling}function v1(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:Wt||To(n,e);case 6:var r=Dt,s=qn;Dt=null,us(t,e,n),Dt=r,qn=s,Dt!==null&&(qn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(qn?(t=Dt,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),Rl(t)):Ff(Dt,n.stateNode));break;case 4:r=Dt,s=qn,Dt=n.stateNode.containerInfo,qn=!0,us(t,e,n),Dt=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dm(n,e,a),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Wt&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,e,l)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,us(t,e,n),Wt=r):us(t,e,n);break;default:us(t,e,n)}}function Sw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vk),e.forEach(function(r){var s=Ik.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,qn=!1;break e;case 3:Dt=l.stateNode.containerInfo,qn=!0;break e;case 4:Dt=l.stateNode.containerInfo,qn=!0;break e}l=l.return}if(Dt===null)throw Error(W(160));v1(i,a,s),Dt=null,qn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){et(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x1(e,t),e=e.sibling}function x1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),lr(t),r&4){try{yl(3,t,t.return),lh(3,t)}catch(v){et(t,t.return,v)}try{yl(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:zn(e,t),lr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(zn(e,t),lr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(v){et(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Bb(s,i),Vp(l,a);var d=Vp(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?qb(s,f):h==="dangerouslySetInnerHTML"?Hb(s,f):h==="children"?Il(s,f):mg(s,h,f,d)}switch(l){case"input":Pp(s,i);break;case"textarea":$b(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Co(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Co(s,!!i.multiple,i.defaultValue,!0):Co(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ml]=i}catch(v){et(t,t.return,v)}}break;case 6:if(zn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){et(t,t.return,v)}}break;case 3:if(zn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:zn(e,t),lr(t);break;case 13:zn(e,t),lr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kg=at())),r&4&&Sw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(d=Wt)||h,zn(e,t),Wt=d):zn(e,t),lr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,y=p.child,p.tag){case 0:case 11:case 14:case 15:yl(4,p,p.return);break;case 1:To(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){Nw(f);continue}}y!==null?(y.return=p,ne=y):Nw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Wb("display",a))}catch(v){et(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){et(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),lr(t),r&4&&Sw(t);break;case 21:break;default:zn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var i=Tw(t);pm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Tw(t);fm(t,l,a);break;default:throw Error(W(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wk(t,e,n){ne=t,w1(t)}function w1(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||tu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=tu;var d=Wt;if(tu=a,(Wt=c)&&!d)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?Iw(s):c!==null?(c.return=a,ne=c):Iw(s);for(;i!==null;)ne=i,w1(i),i=i.sibling;ne=s,tu=l,Wt=d}Cw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Cw(t)}}function Cw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uw(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uw(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Rl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Wt||e.flags&512&&hm(e)}catch(p){et(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Nw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Iw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lh(4,e)}catch(c){et(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){et(e,s,c)}}var i=e.return;try{hm(e)}catch(c){et(e,i,c)}break;case 5:var a=e.return;try{hm(e)}catch(c){et(e,a,c)}}}catch(c){et(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var _k=Math.ceil,hd=es.ReactCurrentDispatcher,qg=es.ReactCurrentOwner,Pn=es.ReactCurrentBatchConfig,Se=0,Rt=null,ht=null,Vt=0,vn=0,So=si(0),bt=0,zl=null,Fi=0,ch=0,Gg=0,vl=null,ln=null,Kg=0,Go=1/0,Rr=null,fd=!1,mm=null,Os=null,nu=!1,Ns=null,pd=0,xl=0,gm=null,ju=-1,Au=0;function Zt(){return Se&6?at():ju!==-1?ju:ju=at()}function Ms(t){return t.mode&1?Se&2&&Vt!==0?Vt&-Vt:sk.transition!==null?(Au===0&&(Au=sE()),Au):(t=De,t!==0||(t=window.event,t=t===void 0?16:dE(t.type)),t):1}function Jn(t,e,n,r){if(50<xl)throw xl=0,gm=null,Error(W(185));ac(t,n,r),(!(Se&2)||t!==Rt)&&(t===Rt&&(!(Se&2)&&(ch|=n),bt===4&&ws(t,Vt)),pn(t,r),n===1&&Se===0&&!(e.mode&1)&&(Go=at()+500,ih&&ii()))}function pn(t,e){var n=t.callbackNode;s2(t,e);var r=Xu(t,t===Rt?Vt:0);if(r===0)n!==null&&Mx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mx(n),e===1)t.tag===0?rk(jw.bind(null,t)):AE(jw.bind(null,t)),Z2(function(){!(Se&6)&&ii()}),n=null;else{switch(iE(r)){case 1:n=wg;break;case 4:n=nE;break;case 16:n=Yu;break;case 536870912:n=rE;break;default:n=Yu}n=I1(n,_1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _1(t,e){if(ju=-1,Au=0,Se&6)throw Error(W(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Xu(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var s=Se;Se|=2;var i=E1();(Rt!==t||Vt!==e)&&(Rr=null,Go=at()+500,ki(t,e));do try{Tk();break}catch(l){b1(t,l)}while(!0);Pg(),hd.current=i,Se=s,ht!==null?e=0:(Rt=null,Vt=0,e=bt)}if(e!==0){if(e===2&&(s=zp(t),s!==0&&(r=s,e=ym(t,s))),e===1)throw n=zl,ki(t,0),ws(t,r),pn(t,at()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!bk(s)&&(e=md(t,r),e===2&&(i=zp(t),i!==0&&(r=i,e=ym(t,i))),e===1))throw n=zl,ki(t,0),ws(t,r),pn(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:bi(t,ln,Rr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=Kg+500-at(),10<e)){if(Xu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xp(bi.bind(null,t,ln,Rr),e);break}bi(t,ln,Rr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Xn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_k(r/1960))-r,10<r){t.timeoutHandle=Xp(bi.bind(null,t,ln,Rr),r);break}bi(t,ln,Rr);break;case 5:bi(t,ln,Rr);break;default:throw Error(W(329))}}}return pn(t,at()),t.callbackNode===n?_1.bind(null,t):null}function ym(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=md(t,e),t!==2&&(e=ln,ln=n,e!==null&&vm(e)),t}function vm(t){ln===null?ln=t:ln.push.apply(ln,t)}function bk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~Gg,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function jw(t){if(Se&6)throw Error(W(327));ko();var e=Xu(t,0);if(!(e&1))return pn(t,at()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=zp(t);r!==0&&(e=r,n=ym(t,r))}if(n===1)throw n=zl,ki(t,0),ws(t,e),pn(t,at()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bi(t,ln,Rr),pn(t,at()),null}function Qg(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Go=at()+500,ih&&ii())}}function Ui(t){Ns!==null&&Ns.tag===0&&!(Se&6)&&ko();var e=Se;Se|=1;var n=Pn.transition,r=De;try{if(Pn.transition=null,De=1,t)return t()}finally{De=r,Pn.transition=n,Se=e,!(Se&6)&&ii()}}function Yg(){vn=So.current,qe(So)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J2(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Wo(),qe(hn),qe(Gt),Fg();break;case 5:Vg(r);break;case 4:Wo();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Dg(r.type._context);break;case 22:case 23:Yg()}n=n.return}if(Rt=t,ht=t=Vs(t.current,null),Vt=vn=e,bt=0,zl=null,Gg=ch=Fi=0,ln=vl=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Si=null}return t}function b1(t,e){do{var n=ht;try{if(Pg(),Cu.current=dd,ud){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ud=!1}if(Vi=0,It=xt=Ye=null,gl=!1,Ul=0,qg.current=null,n===null||n.return===null){bt=1,zl=e,ht=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=gw(a);if(y!==null){y.flags&=-257,yw(y,a,l,i,e),y.mode&1&&mw(i,d,e),e=y,c=d;var S=e.updateQueue;if(S===null){var v=new Set;v.add(c),e.updateQueue=v}else S.add(c);break e}else{if(!(e&1)){mw(i,d,e),Xg();break e}c=Error(W(426))}}else if(Ge&&l.mode&1){var T=gw(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),yw(T,a,l,i,e),kg(qo(c,l));break e}}i=c=qo(c,l),bt!==4&&(bt=2),vl===null?vl=[i]:vl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=i1(i,c,e);cw(i,b);break e;case 1:l=c;var w=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Os===null||!Os.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=o1(i,l,e);cw(i,A);break e}}i=i.return}while(i!==null)}S1(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function E1(){var t=hd.current;return hd.current=dd,t===null?dd:t}function Xg(){(bt===0||bt===3||bt===2)&&(bt=4),Rt===null||!(Fi&268435455)&&!(ch&268435455)||ws(Rt,Vt)}function md(t,e){var n=Se;Se|=2;var r=E1();(Rt!==t||Vt!==e)&&(Rr=null,ki(t,e));do try{Ek();break}catch(s){b1(t,s)}while(!0);if(Pg(),Se=n,hd.current=r,ht!==null)throw Error(W(261));return Rt=null,Vt=0,bt}function Ek(){for(;ht!==null;)T1(ht)}function Tk(){for(;ht!==null&&!QA();)T1(ht)}function T1(t){var e=N1(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?S1(t):ht=e,qg.current=null}function S1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yk(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,ht=null;return}}else if(n=gk(n,e,vn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);bt===0&&(bt=5)}function bi(t,e,n){var r=De,s=Pn.transition;try{Pn.transition=null,De=1,Sk(t,e,n,r)}finally{Pn.transition=s,De=r}return null}function Sk(t,e,n,r){do ko();while(Ns!==null);if(Se&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(i2(t,i),t===Rt&&(ht=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,I1(Yu,function(){return ko(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var a=De;De=1;var l=Se;Se|=4,qg.current=null,xk(t,n),x1(n,t),W2(Qp),Ju=!!Kp,Qp=Kp=null,t.current=n,wk(n),YA(),Se=l,De=a,Pn.transition=i}else t.current=n;if(nu&&(nu=!1,Ns=t,pd=s),i=t.pendingLanes,i===0&&(Os=null),ZA(n.stateNode),pn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fd)throw fd=!1,t=mm,mm=null,t;return pd&1&&t.tag!==0&&ko(),i=t.pendingLanes,i&1?t===gm?xl++:(xl=0,gm=t):xl=0,ii(),null}function ko(){if(Ns!==null){var t=iE(pd),e=Pn.transition,n=De;try{if(Pn.transition=null,De=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,pd=0,Se&6)throw Error(W(331));var s=Se;for(Se|=4,ne=t.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:yl(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,y=h.return;if(g1(h),h===d){ne=null;break}if(p!==null){p.return=y,ne=p;break}ne=y}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ne=b;break e}ne=i.return}}var w=t.current;for(ne=w;ne!==null;){a=ne;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,ne=C;else e:for(a=w;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lh(9,l)}}catch(O){et(l,l.return,O)}if(l===a){ne=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,ne=A;break e}ne=l.return}}if(Se=s,ii(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{De=n,Pn.transition=e}}return!1}function Aw(t,e,n){e=qo(n,e),e=i1(t,e,1),t=Ls(t,e,1),e=Zt(),t!==null&&(ac(t,1,e),pn(t,e))}function et(t,e,n){if(t.tag===3)Aw(t,t,n);else for(;e!==null;){if(e.tag===3){Aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=qo(n,t),t=o1(e,t,1),e=Ls(e,t,1),t=Zt(),e!==null&&(ac(e,1,t),pn(e,t));break}}e=e.return}}function Ck(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(bt===4||bt===3&&(Vt&130023424)===Vt&&500>at()-Kg?ki(t,0):Gg|=n),pn(t,e)}function C1(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var n=Zt();t=Hr(t,e),t!==null&&(ac(t,e,n),pn(t,n))}function Nk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C1(t,n)}function Ik(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),C1(t,n)}var N1;N1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,mk(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ge&&e.flags&1048576&&kE(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var s=$o(e,Gt.current);Ao(e,n),s=Bg(null,e,r,t,s,n);var i=$g();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(i=!0,rd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Og(e),s.updater=ah,e.stateNode=s,s._reactInternals=e,sm(e,r,t,n),e=am(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&jg(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ak(r),t=Wn(r,t),s){case 0:e=om(null,e,r,t,n);break e;case 1:e=ww(null,e,r,t,n);break e;case 11:e=vw(null,e,r,t,n);break e;case 14:e=xw(null,e,r,Wn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),om(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),ww(t,e,r,s,n);case 3:e:{if(u1(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ME(t,e),ld(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qo(Error(W(423)),e),e=_w(t,e,r,n,s);break e}else if(r!==s){s=qo(Error(W(424)),e),e=_w(t,e,r,n,s);break e}else for(wn=Ds(e.stateNode.containerInfo.firstChild),En=e,Ge=!0,Gn=null,n=LE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===s){e=Wr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return VE(e),t===null&&tm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Yp(r,s)?a=null:i!==null&&Yp(r,i)&&(e.flags|=32),c1(t,e),Jt(t,e,a,n),e.child;case 6:return t===null&&tm(e),null;case 13:return d1(t,e,n);case 4:return Mg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),vw(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Be(od,r._currentValue),r._currentValue=a,i!==null)if(er(i.value,a)){if(i.children===s.children&&!hn.current){e=Wr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Fr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ao(e,n),s=Mn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Wn(r,e.pendingProps),s=Wn(r.type,s),xw(t,e,r,s,n);case 15:return a1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Iu(t,e),e.tag=1,fn(r)?(t=!0,rd(e)):t=!1,Ao(e,n),s1(e,r,s),sm(e,r,s,n),am(null,e,r,!0,t,n);case 19:return h1(t,e,n);case 22:return l1(t,e,n)}throw Error(W(156,e.tag))};function I1(t,e){return tE(t,e)}function jk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new jk(t,e,n,r)}function Jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ak(t){if(typeof t=="function")return Jg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yg)return 11;if(t===vg)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Jg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case mo:return Ri(n.children,s,i,e);case gg:a=8,s|=8;break;case Ip:return t=Rn(12,n,e,s|2),t.elementType=Ip,t.lanes=i,t;case jp:return t=Rn(13,n,e,s),t.elementType=jp,t.lanes=i,t;case Ap:return t=Rn(19,n,e,s),t.elementType=Ap,t.lanes=i,t;case Vb:return uh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ob:a=10;break e;case Mb:a=9;break e;case yg:a=11;break e;case vg:a=14;break e;case ys:a=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Rn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ri(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=Vb,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zg(t,e,n,r,s,i,a,l,c){return t=new kk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(i),t}function Rk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j1(t){if(!t)return qs;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(fn(n))return jE(t,n,e)}return e}function A1(t,e,n,r,s,i,a,l,c){return t=Zg(n,r,!0,t,s,i,a,l,c),t.context=j1(null),n=t.current,r=Zt(),s=Ms(n),i=Fr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,ac(t,s,r),pn(t,r),t}function dh(t,e,n,r){var s=e.current,i=Zt(),a=Ms(s);return n=j1(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,a),t!==null&&(Jn(t,s,a,i),Su(t,s,a)),a}function gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ey(t,e){kw(t,e),(t=t.alternate)&&kw(t,e)}function Pk(){return null}var k1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ty(t){this._internalRoot=t}hh.prototype.render=ty.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));dh(t,e,null,null)};hh.prototype.unmount=ty.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ui(function(){dh(null,t,null,null)}),e[zr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=lE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&uE(t)}};function ny(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function Dk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=gd(a);i.call(d)}}var a=A1(e,r,t,0,null,!1,!1,"",Rw);return t._reactRootContainer=a,t[zr]=a.current,Ll(t.nodeType===8?t.parentNode:t),Ui(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=gd(c);l.call(d)}}var c=Zg(t,0,!1,null,null,!1,!1,"",Rw);return t._reactRootContainer=c,t[zr]=c.current,Ll(t.nodeType===8?t.parentNode:t),Ui(function(){dh(e,c,n,r)}),c}function ph(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=gd(a);l.call(c)}}dh(e,a,t,s)}else a=Dk(n,e,t,s,r);return gd(a)}oE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(_g(e,n|1),pn(e,at()),!(Se&6)&&(Go=at()+500,ii()))}break;case 13:Ui(function(){var r=Hr(t,1);if(r!==null){var s=Zt();Jn(r,t,1,s)}}),ey(t,1)}};bg=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=Zt();Jn(e,t,134217728,n)}ey(t,134217728)}};aE=function(t){if(t.tag===13){var e=Ms(t),n=Hr(t,e);if(n!==null){var r=Zt();Jn(n,t,e,r)}ey(t,e)}};lE=function(){return De};cE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Up=function(t,e,n){switch(e){case"input":if(Pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=sh(r);if(!s)throw Error(W(90));Ub(r),Pp(r,s)}}}break;case"textarea":$b(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};Qb=Qg;Yb=Ui;var Lk={usingClientEntryPoint:!1,Events:[cc,xo,sh,Gb,Kb,Qg]},Ya={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{eh=ru.inject(Ok),mr=ru}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(e))throw Error(W(200));return Rk(t,e,null,n)};Nn.createRoot=function(t,e){if(!ny(t))throw Error(W(299));var n=!1,r="",s=k1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zg(t,1,!1,null,null,n,!1,r,s),t[zr]=e.current,Ll(t.nodeType===8?t.parentNode:t),new ty(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Zb(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ui(t)};Nn.hydrate=function(t,e,n){if(!fh(e))throw Error(W(200));return ph(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!ny(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=k1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=A1(e,null,t,1,n??null,s,!1,i,a),t[zr]=e.current,Ll(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hh(e)};Nn.render=function(t,e,n){if(!fh(e))throw Error(W(200));return ph(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!fh(t))throw Error(W(40));return t._reactRootContainer?(Ui(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};Nn.unstable_batchedUpdates=Qg;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ph(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function R1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R1)}catch(t){console.error(t)}}R1(),Rb.exports=Nn;var ua=Rb.exports;const Mk=wb(ua);var P1,Pw=ua;P1=Pw.createRoot,Pw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const Dw="popstate";function Vk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return xm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yd(s)}return Uk(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ry(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fk(){return Math.random().toString(36).substr(2,8)}function Lw(t,e){return{usr:t.state,key:t.key,idx:e}}function xm(t,e,n,r){return n===void 0&&(n=null),Hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||Fk()})}function yd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Uk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Is.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(Hl({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=Is.Pop;let T=h(),b=T==null?null:T-d;d=T,c&&c({action:l,location:v.location,delta:b})}function p(T,b){l=Is.Push;let w=xm(v.location,T,b);d=h()+1;let C=Lw(w,d),A=v.createHref(w);try{a.pushState(C,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&c&&c({action:l,location:v.location,delta:1})}function y(T,b){l=Is.Replace;let w=xm(v.location,T,b);d=h();let C=Lw(w,d),A=v.createHref(w);a.replaceState(C,"",A),i&&c&&c({action:l,location:v.location,delta:0})}function S(T){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof T=="string"?T:yd(T);return w=w.replace(/ $/,"%20"),ct(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return l},get location(){return t(s,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Dw,f),c=T,()=>{s.removeEventListener(Dw,f),c=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let b=S(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(T){return a.go(T)}};return v}var Ow;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ow||(Ow={}));function Bk(t,e,n){return n===void 0&&(n="/"),$k(t,e,n)}function $k(t,e,n,r){let s=typeof e=="string"?da(e):e,i=sy(s.pathname||"/",n);if(i==null)return null;let a=D1(t);zk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=tR(i);l=Jk(a[c],d)}return l}function D1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Fs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),D1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Yk(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of L1(i.path))s(i,a,c)}),e}function L1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=L1(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function zk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Xk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hk=/^:[\w-]+$/,Wk=3,qk=2,Gk=1,Kk=10,Qk=-2,Mw=t=>t==="*";function Yk(t,e){let n=t.split("/"),r=n.length;return n.some(Mw)&&(r+=Qk),e&&(r+=qk),n.filter(s=>!Mw(s)).reduce((s,i)=>s+(Hk.test(i)?Wk:i===""?Gk:Kk),r)}function Xk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Jk(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Zk({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Fs([i,f.pathname]),pathnameBase:oR(Fs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Fs([i,f.pathnameBase]))}return a}function Zk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=l[f];return y&&!S?d[p]=void 0:d[p]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function eR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ry(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ry(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const nR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=t=>nR.test(t);function sR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?da(t):t,i;if(n)if(rR(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),ry(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Vw(n.substring(1),"/"):i=Vw(n,e)}else i=e;return{pathname:i,search:aR(r),hash:lR(s)}}function Vw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t,e){let n=iR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=da(t):(s=Hl({},t),ct(!s.pathname||!s.pathname.includes("?"),Qf("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Qf("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Qf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=sR(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Fs=t=>t.join("/").replace(/\/\/+/g,"/"),oR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O1=["post","put","patch","delete"];new Set(O1);const uR=["get",...O1];new Set(uR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}const ay=g.createContext(null),dR=g.createContext(null),oi=g.createContext(null),mh=g.createContext(null),ts=g.createContext({outlet:null,matches:[],isDataRoute:!1}),M1=g.createContext(null);function hR(t,e){let{relative:n}=e===void 0?{}:e;ha()||ct(!1);let{basename:r,navigator:s}=g.useContext(oi),{hash:i,pathname:a,search:l}=F1(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Fs([r,a])),s.createHref({pathname:c,search:l,hash:i})}function ha(){return g.useContext(mh)!=null}function fa(){return ha()||ct(!1),g.useContext(mh).location}function V1(t){g.useContext(oi).static||g.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=g.useContext(ts);return t?CR():fR()}function fR(){ha()||ct(!1);let t=g.useContext(ay),{basename:e,future:n,navigator:r}=g.useContext(oi),{matches:s}=g.useContext(ts),{pathname:i}=fa(),a=JSON.stringify(iy(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return V1(()=>{l.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=oy(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function pR(){let{matches:t}=g.useContext(ts),e=t[t.length-1];return e?e.params:{}}function F1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(oi),{matches:s}=g.useContext(ts),{pathname:i}=fa(),a=JSON.stringify(iy(s,r.v7_relativeSplatPath));return g.useMemo(()=>oy(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function mR(t,e){return gR(t,e)}function gR(t,e,n,r){ha()||ct(!1);let{navigator:s}=g.useContext(oi),{matches:i}=g.useContext(ts),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=fa(),h;if(e){var f;let T=typeof e=="string"?da(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||ct(!1),h=T}else h=d;let p=h.pathname||"/",y=p;if(c!=="/"){let T=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=Bk(t,{pathname:y}),v=_R(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Fs([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Fs([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&v?g.createElement(mh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Is.Pop}},v):v}function yR(){let t=SR(),e=cR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const vR=g.createElement(yR,null);class xR extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(ts.Provider,{value:this.props.routeContext},g.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wR(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(ay);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ts.Provider,{value:e},r)}function _R(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ct(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:y}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let y,S=!1,v=null,T=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||vR,c&&(d<0&&p===0?(NR("route-fallback"),S=!0,T=null):d===p&&(S=!0,T=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,p+1)),w=()=>{let C;return y?C=v:S?C=T:f.route.Component?C=g.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,g.createElement(wR,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement(xR,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var U1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U1||{}),B1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(B1||{});function bR(t){let e=g.useContext(ay);return e||ct(!1),e}function ER(t){let e=g.useContext(dR);return e||ct(!1),e}function TR(t){let e=g.useContext(ts);return e||ct(!1),e}function $1(t){let e=TR(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function SR(){var t;let e=g.useContext(M1),n=ER(),r=$1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CR(){let{router:t}=bR(U1.UseNavigateStable),e=$1(B1.UseNavigateStable),n=g.useRef(!1);return V1(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wl({fromRouteId:e},i)))},[t,e])}const Fw={};function NR(t,e,n){Fw[t]||(Fw[t]=!0)}function IR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jR(t){let{to:e,replace:n,state:r,relative:s}=t;ha()||ct(!1);let{future:i,static:a}=g.useContext(oi),{matches:l}=g.useContext(ts),{pathname:c}=fa(),d=ir(),h=oy(e,iy(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function on(t){ct(!1)}function AR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Is.Pop,navigator:i,static:a=!1,future:l}=t;ha()&&ct(!1);let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:a,future:Wl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=da(r));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:S="default"}=r,v=g.useMemo(()=>{let T=sy(h,c);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:S},navigationType:s}},[c,h,f,p,y,S,s]);return v==null?null:g.createElement(oi.Provider,{value:d},g.createElement(mh.Provider,{children:n,value:v}))}function kR(t){let{children:e,location:n}=t;return mR(wm(e),n)}new Promise(()=>{});function wm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,wm(r.props.children,i));return}r.type!==on&&ct(!1),!r.props.index||!r.props.children||ct(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function RR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function PR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DR(t,e){return t.button===0&&(!e||e==="_self")&&!PR(t)}const LR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OR="6";try{window.__reactRouterVersion=OR}catch{}const MR="startTransition",Uw=Zd[MR];function VR(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=Vk({window:s,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=g.useCallback(f=>{d&&Uw?Uw(()=>c(f)):c(f)},[c,d]);return g.useLayoutEffect(()=>a.listen(h),[a,h]),g.useEffect(()=>IR(r),[r]),g.createElement(AR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const FR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=RR(e,LR),{basename:y}=g.useContext(oi),S,v=!1;if(typeof d=="string"&&UR.test(d)&&(S=d,FR))try{let C=new URL(window.location.href),A=d.startsWith("//")?new URL(C.protocol+d):new URL(d),O=sy(A.pathname,y);A.origin===C.origin&&O!=null?d=O+A.search+A.hash:v=!0}catch{}let T=hR(d,{relative:s}),b=BR(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(C){r&&r(C),C.defaultPrevented||b(C)}return g.createElement("a",_m({},p,{href:S||T,onClick:v||i?r:w,ref:n,target:c}))});var Bw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bw||(Bw={}));var $w;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($w||($w={}));function BR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=ir(),d=fa(),h=F1(t,{relative:a});return g.useCallback(f=>{if(DR(f,n)){f.preventDefault();let p=r!==void 0?r:yd(d)===yd(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,s,n,t,i,a,l])}const $R=()=>{};var zw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new HR;const p=i<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),f!==64){const S=d<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(t){const e=z1(t);return H1.encodeByteArray(e,!0)},vd=function(t){return WR(t).replace(/\./g,"")},W1=function(t){try{return H1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=()=>qR().__FIREBASE_DEFAULTS__,KR=()=>{if(typeof process>"u"||typeof zw>"u")return;const t=zw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W1(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return $R()||GR()||KR()||QR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q1=t=>{var e,n;return(n=(e=gh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},G1=t=>{const e=q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K1=()=>{var t;return(t=gh())==null?void 0:t.config},Q1=t=>{var e;return(e=gh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ly(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vd(JSON.stringify(n)),vd(JSON.stringify(a)),""].join(".")}const wl={};function XR(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function JR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hw=!1;function cy(t,e){if(typeof window>"u"||typeof document>"u"||!ai(window.location.host)||wl[t]===e||wl[t]||Hw)return;wl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=XR().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Hw=!0,a()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=JR(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;l(C),h(T,v);const A=d();c(w,b),C.append(w,S,T,A),document.body.appendChild(C)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function eP(){var e;const t=(e=gh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rP(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sP(){return!eP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function iP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oP,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?aP(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Bn(s,l,r)}}function aP(t,e){return t.replace(lP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lP=/\{\$([^}]+)}/g;function cP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Ww(i)&&Ww(a)){if(!qr(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uP(t,e){const n=new dP(t,e);return n.subscribe.bind(n)}class dP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yf),s.error===void 0&&(s.error=Yf),s.complete===void 0&&(s.complete=Yf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1e3,pP=2,mP=4*60*60*1e3,gP=.5;function qw(t,e=fP,n=pP){const r=e*Math.pow(n,t),s=Math.round(gP*r*(Math.random()-.5)*2);return Math.min(mP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xP(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vP(t){return t===Ei?void 0:t}function xP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const _P={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},bP=xe.INFO,EP={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},TP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yh{constructor(e){this.name=e,this._logLevel=bP,this._logHandler=TP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const SP=(t,e)=>e.some(n=>t instanceof n);let Gw,Kw;function CP(){return Gw||(Gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NP(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,bm=new WeakMap,tT=new WeakMap,Xf=new WeakMap,uy=new WeakMap;function IP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Us(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&eT.set(n,t)}).catch(()=>{}),uy.set(e,t),e}function jP(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});bm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){Em=t(Em)}function kP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return tT.set(r,e.sort?e.sort():[e]),Us(r)}:NP().includes(t)?function(...e){return t.apply(Jf(this),e),Us(eT.get(this))}:function(...e){return Us(t.apply(Jf(this),e))}}function RP(t){return typeof t=="function"?kP(t):(t instanceof IDBTransaction&&jP(t),SP(t,CP())?new Proxy(t,Em):t)}function Us(t){if(t instanceof IDBRequest)return IP(t);if(Xf.has(t))return Xf.get(t);const e=RP(t);return e!==t&&(Xf.set(t,e),uy.set(e,t)),e}const Jf=t=>uy.get(t);function nT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Us(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Us(a.result),c.oldVersion,c.newVersion,Us(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const PP=["get","getKey","getAll","getAllKeys","count"],DP=["put","add","delete","clear"],Zf=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PP.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Zf.set(e,i),i}AP(t=>({...t,get:(e,n,r)=>Qw(e,n)||t.get(e,n,r),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",Yw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new yh("@firebase/app"),MP="@firebase/app-compat",VP="@firebase/analytics-compat",FP="@firebase/analytics",UP="@firebase/app-check-compat",BP="@firebase/app-check",$P="@firebase/auth",zP="@firebase/auth-compat",HP="@firebase/database",WP="@firebase/data-connect",qP="@firebase/database-compat",GP="@firebase/functions",KP="@firebase/functions-compat",QP="@firebase/installations",YP="@firebase/installations-compat",XP="@firebase/messaging",JP="@firebase/messaging-compat",ZP="@firebase/performance",e4="@firebase/performance-compat",t4="@firebase/remote-config",n4="@firebase/remote-config-compat",r4="@firebase/storage",s4="@firebase/storage-compat",i4="@firebase/firestore",o4="@firebase/ai",a4="@firebase/firestore-compat",l4="firebase",c4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",u4={[Tm]:"fire-core",[MP]:"fire-core-compat",[FP]:"fire-analytics",[VP]:"fire-analytics-compat",[BP]:"fire-app-check",[UP]:"fire-app-check-compat",[$P]:"fire-auth",[zP]:"fire-auth-compat",[HP]:"fire-rtdb",[WP]:"fire-data-connect",[qP]:"fire-rtdb-compat",[GP]:"fire-fn",[KP]:"fire-fn-compat",[QP]:"fire-iid",[YP]:"fire-iid-compat",[XP]:"fire-fcm",[JP]:"fire-fcm-compat",[ZP]:"fire-perf",[e4]:"fire-perf-compat",[t4]:"fire-rc",[n4]:"fire-rc-compat",[r4]:"fire-gcs",[s4]:"fire-gcs-compat",[i4]:"fire-fst",[a4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,d4=new Map,Cm=new Map;function Xw(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tr(t){const e=t.name;if(Cm.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,t);for(const n of xd.values())Xw(n,t);for(const n of d4.values())Xw(n,t);return!0}function li(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Zi("app","Firebase",h4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=c4;function rT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=K1()),!n)throw Bs.create("no-options");const i=xd.get(s);if(i){if(qr(n,i.options)&&qr(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const a=new wP(s);for(const c of Cm.values())a.addComponent(c);const l=new f4(n,r,a);return xd.set(s,l),l}function vh(t=Sm){const e=xd.get(t);if(!e&&t===Sm&&K1())return rT();if(!e)throw Bs.create("no-app",{appName:t});return e}function mn(t,e,n){let r=u4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}tr(new Fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebase-heartbeat-database",m4=1,ql="firebase-heartbeat-store";let ep=null;function sT(){return ep||(ep=nT(p4,m4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),ep}async function g4(t){try{const n=(await sT()).transaction(ql),r=await n.objectStore(ql).get(iT(t));return await n.done,r}catch(e){if(e instanceof Bn)Gr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function Jw(t,e){try{const r=(await sT()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,iT(t)),await r.done}catch(n){if(n instanceof Bn)Gr.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function iT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1024,v4=30;class x4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>v4){const a=b4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zw(),{heartbeatsToSend:r,unsentEntries:s}=w4(this._heartbeatsCache.heartbeats),i=vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gr.warn(n),""}}}function Zw(){return new Date().toISOString().substring(0,10)}function w4(t,e=y4){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),e0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),e0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e0(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}function b4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){tr(new Fn("platform-logger",e=>new LP(e),"PRIVATE")),tr(new Fn("heartbeat",e=>new x4(e),"PRIVATE")),mn(Tm,Yw,t),mn(Tm,Yw,"esm2020"),mn("fire-js","")}E4("");function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=oT,aT=new Zi("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new yh("@firebase/auth");function S4(t,...e){wd.logLevel<=xe.WARN&&wd.warn(`Auth (${eo}): ${t}`,...e)}function Ru(t,...e){wd.logLevel<=xe.ERROR&&wd.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw hy(t,...e)}function Zn(t,...e){return hy(t,...e)}function dy(t,e,n){const r={...T4(),[e]:n};return new Zi("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function le(t,e,...n){if(!t)throw hy(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ru(e),new Error(e)}function Kr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function N4(){return t0()==="http:"||t0()==="https:"}function t0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||X1()||"connection"in navigator)?navigator.onLine:!0}function j4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||nP()}get(){return I4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R4=new hc(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,r,s={}){return cT(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=dc({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return tP()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ai(t.emulatorConfig.host)&&(d.credentials="include"),lT.fetch()(await uT(t,t.config.apiHost,n,l),d)})}async function cT(t,e,n){t._canInitEmulator=!1;const r={...A4,...e};try{const s=new D4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw su(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw su(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw su(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dy(t,h,d);Un(t,h)}}catch(s){if(s instanceof Bn)throw s;Un(t,"network-request-failed",{message:String(s)})}}async function fc(t,e,n,r,s={}){const i=await ns(t,e,n,r,s);return"mfaPendingCredential"in i&&Un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?fy(t.config,s):`${t.config.apiScheme}://${s}`;return k4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function P4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),R4.get())})}}function su(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zn(t,e,r);return s.customData._tokenResponse=n,s}function n0(t){return t!==void 0&&t.enterprise!==void 0}class L4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O4(t,e){return ns(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function _d(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V4(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),s=py(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_l(tp(s.auth_time)),issuedAtTime:_l(tp(s.iat)),expirationTime:_l(tp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function tp(t){return Number(t)*1e3}function py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const s=W1(n);return s?JSON.parse(s):(Ru("Failed to decode base64 JWT payload"),null)}catch(s){return Ru("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r0(t){const e=py(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&F4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function F4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ko(t,_d(e,{idToken:n}));le(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?dT(s.providerUserInfo):[],a=$4(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function B4(t){const e=Fe(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){const n=await cT(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await uT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ai(t.emulatorConfig.host)&&(c.credentials="include"),lT.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H4(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await z4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ro;return r&&(le(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new U4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Im(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Ko(this,M4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:y,providerData:S,stsTokenManager:v}=n;le(f&&v,e,"internal-error");const T=Ro.fromJSON(this.name,v);le(typeof f=="string",e,"internal-error"),ds(r,e.name),ds(s,e.name),le(typeof p=="boolean",e,"internal-error"),le(typeof y=="boolean",e,"internal-error"),ds(i,e.name),ds(a,e.name),ds(l,e.name),ds(c,e.name),ds(d,e.name),ds(h,e.name);const b=new Qn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:T,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(b.providerData=S.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ro;s.updateFromServerResponse(n);const i=new Qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dT(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ro;l.updateFromIdToken(r);const c=new Qn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;function Vr(t){Kr(t instanceof Function,"Expected a class definition");let e=s0.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hT.type="NONE";const i0=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _d(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Vr(i0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Vr(i0);const a=Pu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let f;if(typeof h=="string"){const p=await _d(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Qn._fromGetAccountInfoResponse(e,p,h)}else f=Qn._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Po(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Po(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(xT(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fT(t=Kt()){return/firefox\//i.test(t)}function pT(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(t=Kt()){return/crios\//i.test(t)}function gT(t=Kt()){return/iemobile/i.test(t)}function yT(t=Kt()){return/android/i.test(t)}function vT(t=Kt()){return/blackberry/i.test(t)}function xT(t=Kt()){return/webos/i.test(t)}function my(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W4(t=Kt()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function q4(){return rP()&&document.documentMode===10}function wT(t=Kt()){return my(t)||yT(t)||xT(t)||vT(t)||/windows phone/i.test(t)||gT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e=[]){let n;switch(t){case"Browser":n=o0(Kt());break;case"Worker":n=`${o0(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=6;class Y4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _d(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(Ur(this));const n=e?Fe(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ui(t){return Fe(t)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=uP(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J4(t){xh=t}function bT(t){return xh.loadJS(t)}function Z4(){return xh.recaptchaEnterpriseScript}function eD(){return xh.gapiScript}function tD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nD{constructor(){this.enterprise=new rD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sD="recaptcha-enterprise",ET="NO_RECAPTCHA";class iD{constructor(e){this.type=sD,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{O4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new L4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;n0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(ET)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nD().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&n0(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Z4();c.length!==0&&(c+=l),bT(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function l0(t,e,n,r=!1,s=!1){const i=new iD(t);let a;if(s)a=ET;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function jm(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await l0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await l0(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){const n=li(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(qr(i,e??{}))return s;Un(s,"already-initialized")}return n.initialize({options:e})}function aD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lD(t,e,n){const r=ui(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TT(e),{host:a,port:l}=cD(e),c=l===null?"":`:${l}`,d={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(qr(d,r.config.emulator)&&qr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ai(a)?(ly(`${i}//${a}${c}`),cy("Auth",!0)):uD()}function TT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cD(t){const e=TT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:c0(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:c0(a)}}}function c0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function dD(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function pD(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends gy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",hD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,r,"signUpPassword",dD);case"emailLink":return pD(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Bi extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Bi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(t){const e=sl(il(t)).link,n=e?sl(il(e)).deep_link_id:null,r=sl(il(t)).deep_link_id;return(r?sl(il(r)).link:null)||r||n||e||t}class yy{constructor(e){const n=sl(il(e)),r=n.apiKey??null,s=n.oobCode??null,i=gD(n.mode??null);le(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yD(e);try{return new yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yy.parseLink(n);return le(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends pc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends pc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends pc{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return fc(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qn._fromIdTokenResponse(e,r,s),a=u0(r);return new $i({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=u0(r);return new $i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function u0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Bn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ed(e,n,r,s)}}function ST(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,i,e,r):i})}async function xD(t,e,n=!1){const r=await Ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject(Ur(r));const s="reauthenticate";try{const i=await Ko(t,ST(r,s,e,t),n);le(i.idToken,r,"internal-error");const a=py(i.idToken);le(a,r,"internal-error");const{sub:l}=a;return le(t.uid===l,r,"user-mismatch"),$i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e,n=!1){if(cn(t.app))return Promise.reject(Ur(t));const r="signIn",s=await ST(t,r,e),i=await $i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _D(t,e){return CT(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bD(t,e,n){if(cn(t.app))return Promise.reject(Ur(t));const r=ui(t),a=await jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vD).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&NT(t),c}),l=await $i._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function ED(t,e,n){return cn(t.app)?Promise.reject(Ur(t)):_D(Fe(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Fe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ko(r,TD(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function SD(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function CD(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function ND(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function ID(t){return Fe(t).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1e3,AD=10;class AT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);q4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const kD=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kT.type="SESSION";const RT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await RD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=xy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function DD(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function LD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function MD(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebaseLocalStorageDb",VD=1,Sd="firebaseLocalStorage",LT="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function FD(){const t=indexedDB.deleteDatabase(DT);return new mc(t).toPromise()}function Am(){const t=indexedDB.open(DT,VD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sd,{keyPath:LT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await FD(),e(await Am()))})})}async function d0(t,e,n){const r=_h(t,!0).put({[LT]:e,value:n});return new mc(r).toPromise()}async function UD(t,e){const n=_h(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function h0(t,e){const n=_h(t,!0).delete(e);return new mc(n).toPromise()}const BD=800,$D=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$D)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new PD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await d0(e,Td,"1"),await h0(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_h(s,!1).getAll();return new mc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const zD=OT;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){return e?Vr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HD(t){return CT(t.auth,new wy(t),t.bypassAuthState)}function WD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),wD(n,new wy(t),t.bypassAuthState)}async function qD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),xD(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return WD;default:Un(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new hc(2e3,1e4);async function KD(t,e,n){if(cn(t.app))return Promise.reject(Zn(t,"operation-not-supported-in-this-environment"));const r=ui(t);C4(t,e,vy);const s=MT(r,n);return new Ni(r,"signInViaPopup",e,s).executeNotNull()}class Ni extends VT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GD.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",Du=new Map;class YD extends VT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(t,e){const n=eL(e),r=ZD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function JD(t,e){Du.set(t._key(),e)}function ZD(t){return Vr(t._redirectPersistence)}function eL(t){return Pu(QD,t.config.apiKey,t.name)}async function tL(t,e,n=!1){if(cn(t.app))return Promise.reject(Ur(t));const r=ui(t),s=MT(r,e),a=await new YD(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=10*60*1e3;class rL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function lL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iL(t);for(const n of e)try{if(cL(n))return}catch{}Un(t,"unauthorized-domain")}function cL(t){const e=Nm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!aL.test(n))return!1;if(oL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new hc(3e4,6e4);function p0(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dL(t){return new Promise((e,n)=>{var s,i,a;function r(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(Zn(t,"network-request-failed"))},timeout:uL.get()})}if((i=(s=yr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=yr().gapi)!=null&&a.load)r();else{const l=tD("iframefcb");return yr()[l]=()=>{gapi.load?r():n(Zn(t,"network-request-failed"))},bT(`${eD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function hL(t){return Lu=Lu||dL(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new hc(5e3,15e3),pL="__/auth/iframe",mL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,mL):`https://${t.config.authDomain}/${pL}`,r={apiKey:e.apiKey,appName:t.name,v:eo},s=yL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${dc(r).slice(1)}`}async function xL(t){const e=await hL(t),n=yr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Zn(t,"network-request-failed"),l=yr().setTimeout(()=>{i(a)},fL.get());function c(){yr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_L=500,bL=600,EL="_blank",TL="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SL(t,e,n,r=_L,s=bL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...wL,width:r.toString(),height:s.toString(),top:i,left:a},d=Kt().toLowerCase();n&&(l=mT(d)?EL:n),fT(d)&&(e=e||TL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,S])=>`${p}${y}=${S},`,"");if(W4(d)&&l!=="_self")return CL(e||"",l),new m0(null);const f=window.open(e||"",l,h);le(f,t,"popup-blocked");try{f.focus()}catch{}return new m0(f)}function CL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="__/auth/handler",IL="emulator/auth/handler",jL=encodeURIComponent("fac");async function g0(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:s};if(e instanceof vy){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",cP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof pc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${jL}=${encodeURIComponent(c)}`:"";return`${AL(t)}?${dc(l).slice(1)}${d}`}function AL({config:t}){return t.emulator?fy(t,IL):`https://${t.authDomain}/${NL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class kL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=tL,this._overrideRedirectResult=JD}async _openPopup(e,n,r,s){var a;Kr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await g0(e,n,r,Nm(),s);return SL(e,i,xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g0(e,n,r,Nm(),s);return DD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Kr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xL(e),r=new rL(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[np];i!==void 0&&n(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||pT()||my()}}const RL=kL;var y0="@firebase/auth",v0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LL(t){tr(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;le(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(t)},d=new X4(r,s,i,c);return aD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tr(new Fn("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new PL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(y0,v0,DL(t)),mn(y0,v0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=5*60,ML=Q1("authIdTokenMaxAge")||OL;let x0=null;const VL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ML)return;const s=n==null?void 0:n.token;x0!==s&&(x0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FL(t=vh()){const e=li(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oD(t,{popupRedirectResolver:RL,persistence:[zD,kD,RT]}),r=Q1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=VL(i.toString());CD(n,a,()=>a(n.currentUser)),SD(n,l=>a(l))}}const s=q1("auth");return s&&lD(n,`http://${s}`),n}function UL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}J4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",UL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LL("Browser");var BL="firebase",$L="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(BL,$L,"app");const UT="@firebase/installations",_y="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=1e4,$T=`w:${_y}`,zT="FIS_v2",zL="https://firebaseinstallations.googleapis.com/v1",HL=60*60*1e3,WL="installations",qL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zi=new Zi(WL,qL,GL);function HT(t){return t instanceof Bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT({projectId:t}){return`${zL}/projects/${t}/installations`}function qT(t){return{token:t.token,requestStatus:2,expiresIn:QL(t.expiresIn),creationTime:Date.now()}}async function GT(t,e){const r=(await e.json()).error;return zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KL(t,{refreshToken:e}){const n=KT(t);return n.append("Authorization",YL(e)),n}async function QT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function QL(t){return Number(t.replace("s","000"))}function YL(t){return`${zT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WT(t),s=KT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:zT,appId:t.appId,sdkVersion:$T},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await QT(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:qT(d.authToken)}}else throw await GT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^[cdef][\w-]{21}$/,km="";function eO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tO(t);return ZL.test(n)?n:km}catch{return km}}function tO(t){return JL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function JT(t,e){const n=bh(t);ZT(n,e),nO(n,e)}function ZT(t,e){const n=XT.get(t);if(n)for(const r of n)r(e)}function nO(t,e){const n=rO();n&&n.postMessage({key:t,fid:e}),sO()}let Ii=null;function rO(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=t=>{ZT(t.data.key,t.data.fid)}),Ii}function sO(){XT.size===0&&Ii&&(Ii.close(),Ii=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebase-installations-database",oO=1,Hi="firebase-installations-store";let rp=null;function by(){return rp||(rp=nT(iO,oO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),rp}async function Cd(t,e){const n=bh(t),s=(await by()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&JT(t,e.fid),e}async function eS(t){const e=bh(t),r=(await by()).transaction(Hi,"readwrite");await r.objectStore(Hi).delete(e),await r.done}async function Eh(t,e){const n=bh(t),s=(await by()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&JT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(t){let e;const n=await Eh(t.appConfig,r=>{const s=aO(r),i=lO(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===km?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aO(t){const e=t||{fid:eO(),registrationStatus:0};return tS(e)}function lO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(zi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uO(t)}:{installationEntry:e}}async function cO(t,e){try{const n=await XL(t,e);return Cd(t.appConfig,n)}catch(n){throw HT(n)&&n.customData.serverCode===409?await eS(t.appConfig):await Cd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uO(t){let e=await w0(t.appConfig);for(;e.registrationStatus===1;)await YT(100),e=await w0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ey(t);return r||n}return e}function w0(t){return Eh(t,e=>{if(!e)throw zi.create("installation-not-found");return tS(e)})}function tS(t){return dO(t)?{fid:t.fid,registrationStatus:0}:t}function dO(t){return t.registrationStatus===1&&t.registrationTime+BT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO({appConfig:t,heartbeatServiceProvider:e},n){const r=fO(t,n),s=KL(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:$T,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await QT(()=>fetch(r,l));if(c.ok){const d=await c.json();return qT(d)}else throw await GT("Generate Auth Token",c)}function fO(t,{fid:e}){return`${WT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t,e=!1){let n;const r=await Eh(t.appConfig,i=>{if(!nS(i))throw zi.create("not-registered");const a=i.authToken;if(!e&&gO(a))return i;if(a.requestStatus===1)return n=pO(t,e),i;{if(!navigator.onLine)throw zi.create("app-offline");const l=vO(i);return n=mO(t,l),l}});return n?await n:r.authToken}async function pO(t,e){let n=await _0(t.appConfig);for(;n.authToken.requestStatus===1;)await YT(100),n=await _0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ty(t,e):r}function _0(t){return Eh(t,e=>{if(!nS(e))throw zi.create("not-registered");const n=e.authToken;return xO(n)?{...e,authToken:{requestStatus:0}}:e})}async function mO(t,e){try{const n=await hO(t,e),r={...e,authToken:n};return await Cd(t.appConfig,r),n}catch(n){if(HT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Cd(t.appConfig,r)}throw n}}function nS(t){return t!==void 0&&t.registrationStatus===2}function gO(t){return t.requestStatus===2&&!yO(t)}function yO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HL}function vO(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function xO(t){return t.requestStatus===1&&t.requestTime+BT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ey(e);return r?r.catch(console.error):Ty(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e=!1){const n=t;return await bO(n),(await Ty(n,e)).token}async function bO(t){const{registrationPromise:e}=await Ey(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){if(!t||!t.options)throw sp("App Configuration");if(!t.name)throw sp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sp(t){return zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="installations",TO="installations-internal",SO=t=>{const e=t.getProvider("app").getImmediate(),n=EO(e),r=li(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CO=t=>{const e=t.getProvider("app").getImmediate(),n=li(e,rS).getImmediate();return{getId:()=>wO(n),getToken:s=>_O(n,s)}};function NO(){tr(new Fn(rS,SO,"PUBLIC")),tr(new Fn(TO,CO,"PRIVATE"))}NO();mn(UT,_y);mn(UT,_y,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="analytics",IO="firebase_id",jO="origin",AO=60*1e3,kO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Zi("analytics","Analytics",RO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){if(!t.startsWith(Sy)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return en.warn(e.message),""}return t}function sS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function LO(t,e){const n=DO("firebase-js-sdk-policy",{createScriptURL:PO}),r=document.createElement("script"),s=`${Sy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function OO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function MO(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await sS(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){en.error(l)}t("config",s,i)}async function VO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await sS(n);for(const c of a){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){en.error(i)}}function FO(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await VO(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await MO(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,d]=a;t("get",l,c,d)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){en.error(l)}}return s}function UO(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=FO(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function BO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=30,zO=1e3;class HO{constructor(e={},n=zO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iS=new HO;function WO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qO(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:WO(n)},s=kO.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function GO(t,e=iS,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Tn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new YO;return setTimeout(async()=>{l.abort()},AO),oS({appId:r,apiKey:s,measurementId:i},a,l,e)}async function oS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=iS){var l;const{appId:i,measurementId:a}=t;try{await KO(r,e)}catch(c){if(a)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await qO(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!QO(d)){if(s.deleteThrottleMetadata(i),a)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:a};throw c}const h=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?qw(n,s.intervalMillis,$O):qw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),en.debug(`Calling attemptFetch again in ${h} millis`),oS(t,f,r,s)}}function KO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QO(t){if(!(t instanceof Bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class YO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function JO(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(){if(J1())try{await Z1()}catch(t){return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eM(t,e,n,r,s,i,a){const l=GO(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>en.error(p)),e.push(l);const c=ZO().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([l,c]);BO(i)||LO(i,d.measurementId),s("js",new Date);const f=(a==null?void 0:a.config)??{};return f[jO]="firebase",f.update=!0,h!=null&&(f[IO]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},b0=[];const E0={};let ip="dataLayer",nM="gtag",T0,Cy,S0=!1;function rM(){const t=[];if(X1()&&t.push("This is a browser extension environment."),iP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}function sM(t,e,n){rM();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Lo[r]!=null)throw Tn.create("already-exists",{id:r});if(!S0){OO(ip);const{wrappedGtag:i,gtagCore:a}=UO(Lo,b0,E0,ip,nM);Cy=i,T0=a,S0=!0}return Lo[r]=eM(t,b0,E0,e,T0,ip,n),new tM(t)}function iM(t=vh()){t=Fe(t);const e=li(t,Nd);return e.isInitialized()?e.getImmediate():oM(t)}function oM(t,e={}){const n=li(t,Nd);if(n.isInitialized()){const s=n.getImmediate();if(qr(e,n.getOptions()))return s;throw Tn.create("already-initialized")}return n.initialize({options:e})}function aM(t,e,n){t=Fe(t),JO(Cy,Lo[t.app.options.appId],e,n).catch(r=>en.error(r))}function lM(t,e,n,r){t=Fe(t),XO(Cy,Lo[t.app.options.appId],e,n,r).catch(s=>en.error(s))}const C0="@firebase/analytics",N0="0.10.19";function cM(){tr(new Fn(Nd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return sM(r,s,n)},"PUBLIC")),tr(new Fn("analytics-internal",t,"PRIVATE")),mn(C0,N0),mn(C0,N0,"esm2020");function t(e){try{const n=e.getProvider(Nd).getImmediate();return{logEvent:(r,s,i)=>lM(n,r,s,i),setUserProperties:(r,s)=>aM(n,r,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}cM();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,aS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,_){function k(){}k.prototype=_.prototype,E.F=_.prototype,E.prototype=new k,E.prototype.constructor=E,E.D=function(N,D,I){for(var j=Array(arguments.length-2),z=2;z<arguments.length;z++)j[z-2]=arguments[z];return _.prototype[D].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,_,k){k||(k=0);const N=Array(16);if(typeof _=="string")for(var D=0;D<16;++D)N[D]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(D=0;D<16;++D)N[D]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=E.g[0],k=E.g[1],D=E.g[2];let I=E.g[3],j;j=_+(I^k&(D^I))+N[0]+3614090360&4294967295,_=k+(j<<7&4294967295|j>>>25),j=I+(D^_&(k^D))+N[1]+3905402710&4294967295,I=_+(j<<12&4294967295|j>>>20),j=D+(k^I&(_^k))+N[2]+606105819&4294967295,D=I+(j<<17&4294967295|j>>>15),j=k+(_^D&(I^_))+N[3]+3250441966&4294967295,k=D+(j<<22&4294967295|j>>>10),j=_+(I^k&(D^I))+N[4]+4118548399&4294967295,_=k+(j<<7&4294967295|j>>>25),j=I+(D^_&(k^D))+N[5]+1200080426&4294967295,I=_+(j<<12&4294967295|j>>>20),j=D+(k^I&(_^k))+N[6]+2821735955&4294967295,D=I+(j<<17&4294967295|j>>>15),j=k+(_^D&(I^_))+N[7]+4249261313&4294967295,k=D+(j<<22&4294967295|j>>>10),j=_+(I^k&(D^I))+N[8]+1770035416&4294967295,_=k+(j<<7&4294967295|j>>>25),j=I+(D^_&(k^D))+N[9]+2336552879&4294967295,I=_+(j<<12&4294967295|j>>>20),j=D+(k^I&(_^k))+N[10]+4294925233&4294967295,D=I+(j<<17&4294967295|j>>>15),j=k+(_^D&(I^_))+N[11]+2304563134&4294967295,k=D+(j<<22&4294967295|j>>>10),j=_+(I^k&(D^I))+N[12]+1804603682&4294967295,_=k+(j<<7&4294967295|j>>>25),j=I+(D^_&(k^D))+N[13]+4254626195&4294967295,I=_+(j<<12&4294967295|j>>>20),j=D+(k^I&(_^k))+N[14]+2792965006&4294967295,D=I+(j<<17&4294967295|j>>>15),j=k+(_^D&(I^_))+N[15]+1236535329&4294967295,k=D+(j<<22&4294967295|j>>>10),j=_+(D^I&(k^D))+N[1]+4129170786&4294967295,_=k+(j<<5&4294967295|j>>>27),j=I+(k^D&(_^k))+N[6]+3225465664&4294967295,I=_+(j<<9&4294967295|j>>>23),j=D+(_^k&(I^_))+N[11]+643717713&4294967295,D=I+(j<<14&4294967295|j>>>18),j=k+(I^_&(D^I))+N[0]+3921069994&4294967295,k=D+(j<<20&4294967295|j>>>12),j=_+(D^I&(k^D))+N[5]+3593408605&4294967295,_=k+(j<<5&4294967295|j>>>27),j=I+(k^D&(_^k))+N[10]+38016083&4294967295,I=_+(j<<9&4294967295|j>>>23),j=D+(_^k&(I^_))+N[15]+3634488961&4294967295,D=I+(j<<14&4294967295|j>>>18),j=k+(I^_&(D^I))+N[4]+3889429448&4294967295,k=D+(j<<20&4294967295|j>>>12),j=_+(D^I&(k^D))+N[9]+568446438&4294967295,_=k+(j<<5&4294967295|j>>>27),j=I+(k^D&(_^k))+N[14]+3275163606&4294967295,I=_+(j<<9&4294967295|j>>>23),j=D+(_^k&(I^_))+N[3]+4107603335&4294967295,D=I+(j<<14&4294967295|j>>>18),j=k+(I^_&(D^I))+N[8]+1163531501&4294967295,k=D+(j<<20&4294967295|j>>>12),j=_+(D^I&(k^D))+N[13]+2850285829&4294967295,_=k+(j<<5&4294967295|j>>>27),j=I+(k^D&(_^k))+N[2]+4243563512&4294967295,I=_+(j<<9&4294967295|j>>>23),j=D+(_^k&(I^_))+N[7]+1735328473&4294967295,D=I+(j<<14&4294967295|j>>>18),j=k+(I^_&(D^I))+N[12]+2368359562&4294967295,k=D+(j<<20&4294967295|j>>>12),j=_+(k^D^I)+N[5]+4294588738&4294967295,_=k+(j<<4&4294967295|j>>>28),j=I+(_^k^D)+N[8]+2272392833&4294967295,I=_+(j<<11&4294967295|j>>>21),j=D+(I^_^k)+N[11]+1839030562&4294967295,D=I+(j<<16&4294967295|j>>>16),j=k+(D^I^_)+N[14]+4259657740&4294967295,k=D+(j<<23&4294967295|j>>>9),j=_+(k^D^I)+N[1]+2763975236&4294967295,_=k+(j<<4&4294967295|j>>>28),j=I+(_^k^D)+N[4]+1272893353&4294967295,I=_+(j<<11&4294967295|j>>>21),j=D+(I^_^k)+N[7]+4139469664&4294967295,D=I+(j<<16&4294967295|j>>>16),j=k+(D^I^_)+N[10]+3200236656&4294967295,k=D+(j<<23&4294967295|j>>>9),j=_+(k^D^I)+N[13]+681279174&4294967295,_=k+(j<<4&4294967295|j>>>28),j=I+(_^k^D)+N[0]+3936430074&4294967295,I=_+(j<<11&4294967295|j>>>21),j=D+(I^_^k)+N[3]+3572445317&4294967295,D=I+(j<<16&4294967295|j>>>16),j=k+(D^I^_)+N[6]+76029189&4294967295,k=D+(j<<23&4294967295|j>>>9),j=_+(k^D^I)+N[9]+3654602809&4294967295,_=k+(j<<4&4294967295|j>>>28),j=I+(_^k^D)+N[12]+3873151461&4294967295,I=_+(j<<11&4294967295|j>>>21),j=D+(I^_^k)+N[15]+530742520&4294967295,D=I+(j<<16&4294967295|j>>>16),j=k+(D^I^_)+N[2]+3299628645&4294967295,k=D+(j<<23&4294967295|j>>>9),j=_+(D^(k|~I))+N[0]+4096336452&4294967295,_=k+(j<<6&4294967295|j>>>26),j=I+(k^(_|~D))+N[7]+1126891415&4294967295,I=_+(j<<10&4294967295|j>>>22),j=D+(_^(I|~k))+N[14]+2878612391&4294967295,D=I+(j<<15&4294967295|j>>>17),j=k+(I^(D|~_))+N[5]+4237533241&4294967295,k=D+(j<<21&4294967295|j>>>11),j=_+(D^(k|~I))+N[12]+1700485571&4294967295,_=k+(j<<6&4294967295|j>>>26),j=I+(k^(_|~D))+N[3]+2399980690&4294967295,I=_+(j<<10&4294967295|j>>>22),j=D+(_^(I|~k))+N[10]+4293915773&4294967295,D=I+(j<<15&4294967295|j>>>17),j=k+(I^(D|~_))+N[1]+2240044497&4294967295,k=D+(j<<21&4294967295|j>>>11),j=_+(D^(k|~I))+N[8]+1873313359&4294967295,_=k+(j<<6&4294967295|j>>>26),j=I+(k^(_|~D))+N[15]+4264355552&4294967295,I=_+(j<<10&4294967295|j>>>22),j=D+(_^(I|~k))+N[6]+2734768916&4294967295,D=I+(j<<15&4294967295|j>>>17),j=k+(I^(D|~_))+N[13]+1309151649&4294967295,k=D+(j<<21&4294967295|j>>>11),j=_+(D^(k|~I))+N[4]+4149444226&4294967295,_=k+(j<<6&4294967295|j>>>26),j=I+(k^(_|~D))+N[11]+3174756917&4294967295,I=_+(j<<10&4294967295|j>>>22),j=D+(_^(I|~k))+N[2]+718787259&4294967295,D=I+(j<<15&4294967295|j>>>17),j=k+(I^(D|~_))+N[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+I&4294967295}r.prototype.v=function(E,_){_===void 0&&(_=E.length);const k=_-this.blockSize,N=this.C;let D=this.h,I=0;for(;I<_;){if(D==0)for(;I<=k;)s(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<_;)if(N[D++]=E.charCodeAt(I++),D==this.blockSize){s(this,N),D=0;break}}else for(;I<_;)if(N[D++]=E[I++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=_},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var k=E.length-8;k<E.length;++k)E[k]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)E[_++]=this.g[k]>>>N&255;return E};function i(E,_){var k=l;return Object.prototype.hasOwnProperty.call(k,E)?k[E]:k[E]=_(E)}function a(E,_){this.h=_;const k=[];let N=!0;for(let D=E.length-1;D>=0;D--){const I=E[D]|0;N&&I==_||(k[D]=I,N=!1)}this.g=k}var l={};function c(E){return-128<=E&&E<128?i(E,function(_){return new a([_|0],_<0?-1:0)}):new a([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return T(d(-E));const _=[];let k=1;for(let N=0;E>=k;N++)_[N]=E/k|0,k*=4294967296;return new a(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return T(h(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(_,8));let N=f;for(let I=0;I<E.length;I+=8){var D=Math.min(8,E.length-I);const j=parseInt(E.substring(I,I+D),_);D<8?(D=d(Math.pow(_,D)),N=N.j(D).add(d(j))):(N=N.j(k),N=N.add(d(j)))}return N}var f=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-T(this).m();let E=0,_=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);E+=(N>=0?N:4294967296+N)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(v(this))return"-"+T(this).toString(E);const _=d(Math.pow(E,6));var k=this;let N="";for(;;){const D=A(k,_).g;k=b(k,D.j(_));let I=((k.g.length>0?k.g[0]:k.h)>>>0).toString(E);if(k=D,S(k))return I+N;for(;I.length<6;)I="0"+I;N=I+N}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function v(E){return E.h==-1}t.l=function(E){return E=b(this,E),v(E)?-1:S(E)?0:1};function T(E){const _=E.g.length,k=[];for(let N=0;N<_;N++)k[N]=~E.g[N];return new a(k,~E.h).add(p)}t.abs=function(){return v(this)?T(this):this},t.add=function(E){const _=Math.max(this.g.length,E.g.length),k=[];let N=0;for(let D=0;D<=_;D++){let I=N+(this.i(D)&65535)+(E.i(D)&65535),j=(I>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);N=j>>>16,I&=65535,j&=65535,k[D]=j<<16|I}return new a(k,k[k.length-1]&-2147483648?-1:0)};function b(E,_){return E.add(T(_))}t.j=function(E){if(S(this)||S(E))return f;if(v(this))return v(E)?T(this).j(T(E)):T(T(this).j(E));if(v(E))return T(this.j(T(E)));if(this.l(y)<0&&E.l(y)<0)return d(this.m()*E.m());const _=this.g.length+E.g.length,k=[];for(var N=0;N<2*_;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<E.g.length;D++){const I=this.i(N)>>>16,j=this.i(N)&65535,z=E.i(D)>>>16,X=E.i(D)&65535;k[2*N+2*D]+=j*X,w(k,2*N+2*D),k[2*N+2*D+1]+=I*X,w(k,2*N+2*D+1),k[2*N+2*D+1]+=j*z,w(k,2*N+2*D+1),k[2*N+2*D+2]+=I*z,w(k,2*N+2*D+2)}for(E=0;E<_;E++)k[E]=k[2*E+1]<<16|k[2*E];for(E=_;E<2*_;E++)k[E]=0;return new a(k,0)};function w(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function C(E,_){this.g=E,this.h=_}function A(E,_){if(S(_))throw Error("division by zero");if(S(E))return new C(f,f);if(v(E))return _=A(T(E),_),new C(T(_.g),T(_.h));if(v(_))return _=A(E,T(_)),new C(T(_.g),_.h);if(E.g.length>30){if(v(E)||v(_))throw Error("slowDivide_ only works with positive integers.");for(var k=p,N=_;N.l(E)<=0;)k=O(k),N=O(N);var D=R(k,1),I=R(N,1);for(N=R(N,2),k=R(k,2);!S(N);){var j=I.add(N);j.l(E)<=0&&(D=D.add(k),I=j),N=R(N,1),k=R(k,1)}return _=b(E,D.j(_)),new C(D,_)}for(D=f;E.l(_)>=0;){for(k=Math.max(1,Math.floor(E.m()/_.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),I=d(k),j=I.j(_);v(j)||j.l(E)>0;)k-=N,I=d(k),j=I.j(_);S(I)&&(I=p),D=D.add(I),E=b(E,j)}return new C(D,E)}t.B=function(E){return A(this,E).h},t.and=function(E){const _=Math.max(this.g.length,E.g.length),k=[];for(let N=0;N<_;N++)k[N]=this.i(N)&E.i(N);return new a(k,this.h&E.h)},t.or=function(E){const _=Math.max(this.g.length,E.g.length),k=[];for(let N=0;N<_;N++)k[N]=this.i(N)|E.i(N);return new a(k,this.h|E.h)},t.xor=function(E){const _=Math.max(this.g.length,E.g.length),k=[];for(let N=0;N<_;N++)k[N]=this.i(N)^E.i(N);return new a(k,this.h^E.h)};function O(E){const _=E.g.length+1,k=[];for(let N=0;N<_;N++)k[N]=E.i(N)<<1|E.i(N-1)>>>31;return new a(k,E.h)}function R(E,_){const k=_>>5;_%=32;const N=E.g.length-k,D=[];for(let I=0;I<N;I++)D[I]=_>0?E.i(I+k)>>>_|E.i(I+k+1)<<32-_:E.i(I+k);return new a(D,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,$s=a}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lS,ol,cS,Ou,Rm,uS,dS,hS;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var x=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var M=u[P];if(!(M in x))break e;x=x[M]}u=u[u.length-1],P=x[u],m=m(P),m!=P&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var x=[],P;for(P in m)Object.prototype.hasOwnProperty.call(m,P)&&x.push([P,m[P]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,x){return u.call.apply(u.bind,arguments)}function d(u,m,x){return d=c,d.apply(null,arguments)}function h(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function f(u,m){function x(){}x.prototype=m.prototype,u.Z=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(P,M,F){for(var Q=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Q[ge-2]=arguments[ge];return m.prototype[M].apply(P,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const m=u.length;if(m>0){const x=Array(m);for(let P=0;P<m;P++)x[P]=u[P];return x}return[]}function S(u,m){for(let P=1;P<arguments.length;P++){const M=arguments[P];var x=typeof M;if(x=x!="object"?x:M?Array.isArray(M)?"array":x:"null",x=="array"||x=="object"&&typeof M.length=="number"){x=u.length||0;const F=M.length||0;u.length=x+F;for(let Q=0;Q<F;Q++)u[x+Q]=M[Q]}else u.push(M)}}class v{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function T(u){a.setTimeout(()=>{throw u},0)}function b(){var u=E;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,x){const P=C.get();P.set(m,x),this.h?this.h.next=P:this.g=P,this.h=P}}var C=new v(()=>new A,u=>u.reset());class A{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let O,R=!1,E=new w,_=()=>{const u=Promise.resolve(void 0);O=()=>{u.then(k)}};function k(){for(var u;u=b();){try{u.h.call(u.g)}catch(x){T(x)}var m=C;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}R=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,m),a.removeEventListener("test",x,m)}catch{}return u}();function j(u){return/^[\s\xa0]*$/.test(u)}function z(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(z,D),z.prototype.init=function(u,m){const x=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(u,m,x,P,M){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!P,this.ha=M,this.key=++q,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,m,x){for(const P in u)m.call(x,u[P],P,u)}function K(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function V(u){const m={};for(const x in u)m[x]=u[x];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,m){let x,P;for(let M=1;M<arguments.length;M++){P=arguments[M];for(x in P)u[x]=P[x];for(let F=0;F<H.length;F++)x=H[F],Object.prototype.hasOwnProperty.call(P,x)&&(u[x]=P[x])}}function pe(u){this.src=u,this.g={},this.h=0}pe.prototype.add=function(u,m,x,P,M){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const Q=Ae(u,m,P,M);return Q>-1?(m=u[Q],x||(m.fa=!1)):(m=new J(m,this.src,F,!!P,M),m.fa=x,u.push(m)),m};function Ke(u,m){const x=m.type;if(x in u.g){var P=u.g[x],M=Array.prototype.indexOf.call(P,m,void 0),F;(F=M>=0)&&Array.prototype.splice.call(P,M,1),F&&(L(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ae(u,m,x,P){for(let M=0;M<u.length;++M){const F=u[M];if(!F.da&&F.listener==m&&F.capture==!!x&&F.ha==P)return M}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),Ce={};function yt(u,m,x,P,M){if(Array.isArray(m)){for(let F=0;F<m.length;F++)yt(u,m[F],x,P,M);return null}return x=Ic(x),u&&u[X]?u.J(m,x,l(P)?!!P.capture:!1,M):Oe(u,m,x,!1,P,M)}function Oe(u,m,x,P,M,F){if(!m)throw Error("Invalid event type");const Q=l(M)?!!M.capture:!!M;let ge=jr(u);if(ge||(u[ie]=ge=new pe(u)),x=ge.add(m,x,P,Q,F),x.proxy)return x;if(P=ke(),x.proxy=P,P.src=u,P.listener=x,u.addEventListener)I||(M=Q),M===void 0&&(M=!1),u.addEventListener(m.toString(),P,M);else if(u.attachEvent)u.attachEvent(gn(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ke(){function u(x){return m.call(u.src,u.listener,x)}const m=mi;return u}function Ne(u,m,x,P,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ne(u,m[F],x,P,M);else P=l(P)?!!P.capture:!!P,x=Ic(x),u&&u[X]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],x=Ae(m,x,P,M),x>-1&&(L(m[x]),Array.prototype.splice.call(m,x,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=jr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,x,P,M)),(x=u>-1?m[u]:null)&&Pt(x))}function Pt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[X])Ke(m.i,u);else{var x=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(x,P,u.capture):m.detachEvent?m.detachEvent(gn(x),P):m.addListener&&m.removeListener&&m.removeListener(P),(x=jr(m))?(Ke(x,u),x.h==0&&(x.src=null,m[ie]=null)):L(u)}}}function gn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function mi(u,m){if(u.da)u=!0;else{m=new z(m,this);const x=u.listener,P=u.ha||u.src;u.fa&&Pt(u),u=x.call(P,m)}return u}function jr(u){return u=u[ie],u instanceof pe?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ic(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function it(){N.call(this),this.i=new pe(this),this.M=this,this.G=null}f(it,N),it.prototype[X]=!0,it.prototype.removeEventListener=function(u,m,x,P){Ne(this,u,m,x,P)};function Qt(u,m){var x,P=u.G;if(P)for(x=[];P;P=P.G)x.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var M=m;m=new D(P,u),ue(m,M)}M=!0;let F,Q;if(x)for(Q=x.length-1;Q>=0;Q--)F=m.g=x[Q],M=jc(F,P,!0,m)&&M;if(F=m.g=u,M=jc(F,P,!0,m)&&M,M=jc(F,P,!1,m)&&M,x)for(Q=0;Q<x.length;Q++)F=m.g=x[Q],M=jc(F,P,!1,m)&&M}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const x=u.g[m];for(let P=0;P<x.length;P++)L(x[P]);delete u.g[m],u.h--}}this.G=null},it.prototype.J=function(u,m,x,P){return this.i.add(String(u),m,!1,x,P)},it.prototype.K=function(u,m,x,P){return this.i.add(String(u),m,!0,x,P)};function jc(u,m,x,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let M=!0;for(let F=0;F<m.length;++F){const Q=m[F];if(Q&&!Q.da&&Q.capture==x){const ge=Q.listener,vt=Q.ha||Q.src;Q.fa&&Ke(u.i,Q),M=ge.call(vt,P)!==!1&&M}}return M&&!P.defaultPrevented}function Fj(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(u,m||0)}function kv(u){u.g=Fj(()=>{u.g=null,u.i&&(u.i=!1,kv(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uj extends N{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(u){N.call(this),this.h=u,this.g={}}f(Na,N);var Rv=[];function Pv(u){U(u.g,function(m,x){this.g.hasOwnProperty(x)&&Pt(m)},u),u.g={}}Na.prototype.N=function(){Na.Z.N.call(this),Pv(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var of=a.JSON.stringify,Bj=a.JSON.parse,$j=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Dv(){}function Lv(){}var Ia={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function af(){D.call(this,"d")}f(af,D);function lf(){D.call(this,"c")}f(lf,D);var gi={},Ov=null;function Ac(){return Ov=Ov||new it}gi.Ia="serverreachability";function Mv(u){D.call(this,gi.Ia,u)}f(Mv,D);function ja(u){const m=Ac();Qt(m,new Mv(m))}gi.STAT_EVENT="statevent";function Vv(u,m){D.call(this,gi.STAT_EVENT,u),this.stat=m}f(Vv,D);function Yt(u){const m=Ac();Qt(m,new Vv(m,u))}gi.Ja="timingevent";function Fv(u,m){D.call(this,gi.Ja,u),this.size=m}f(Fv,D);function Aa(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ka(){this.g=!0}ka.prototype.ua=function(){this.g=!1};function zj(u,m,x,P,M,F){u.info(function(){if(u.g)if(F){var Q="",ge=F.split("&");for(let Me=0;Me<ge.length;Me++){var vt=ge[Me].split("=");if(vt.length>1){const Ct=vt[0];vt=vt[1];const ar=Ct.split("_");Q=ar.length>=2&&ar[1]=="type"?Q+(Ct+"="+vt+"&"):Q+(Ct+"=redacted&")}}}else Q=null;else Q=F;return"XMLHTTP REQ ("+P+") [attempt "+M+"]: "+m+`
`+x+`
`+Q})}function Hj(u,m,x,P,M,F,Q){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+M+"]: "+m+`
`+x+`
`+F+" "+Q})}function ro(u,m,x,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qj(u,x)+(P?" "+P:"")})}function Wj(u,m){u.info(function(){return"TIMEOUT: "+m})}ka.prototype.info=function(){};function qj(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var x=F[u];if(!(x.length<2)){var P=x[1];if(Array.isArray(P)&&!(P.length<1)){var M=P[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Q=1;Q<P.length;Q++)P[Q]=""}}}}return of(F)}catch{return m}}var kc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bv;function cf(){}f(cf,Dv),cf.prototype.g=function(){return new XMLHttpRequest},Bv=new cf;function Ra(u){return encodeURIComponent(String(u))}function Gj(u){var m=1;u=u.split(":");const x=[];for(;m>0&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function ss(u,m,x,P){this.j=u,this.i=m,this.l=x,this.S=P||1,this.V=new Na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $v}function $v(){this.i=null,this.g="",this.h=!1}var zv={},uf={};function df(u,m,x){u.M=1,u.A=Pc(or(m)),u.u=x,u.R=!0,Hv(u,null)}function Hv(u,m){u.F=Date.now(),Rc(u),u.B=or(u.A);var x=u.B,P=u.S;Array.isArray(P)||(P=[String(P)]),rx(x.i,"t",P),u.C=0,x=u.j.L,u.h=new $v,u.g=_x(u.j,x?m:null,!u.u),u.P>0&&(u.O=new Uj(d(u.Y,u,u.g),u.P)),m=u.V,x=u.g,P=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(Rv[0]=M.toString()),M=Rv);for(let F=0;F<M.length;F++){const Q=yt(x,M[F],P||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ja(),zj(u.i,u.v,u.B,u.l,u.S,u.u)}ss.prototype.ba=function(u){u=u.target;const m=this.O;m&&as(u)==3?m.j():this.Y(u)},ss.prototype.Y=function(u){try{if(u==this.g)e:{const ge=as(this.g),vt=this.g.ya(),Me=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||ux(this.g)))){this.K||ge!=4||vt==7||(vt==8||Me<=0?ja(3):ja(2)),hf(this);var m=this.g.ca();this.X=m;var x=Kj(this);if(this.o=m==200,Hj(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var P,M=this.g;if((P=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(P)){var F=P;break t}}F=null}if(u=F)ro(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ff(this,u);else{this.o=!1,this.m=3,Yt(12),yi(this),Pa(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<x.length;)if(Ct=Qj(this,x),Ct==uf){ge==4&&(this.m=4,Yt(14),u=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==zv){this.m=4,Yt(15),ro(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else ro(this.i,this.l,Ct,null),ff(this,Ct);if(Wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||x.length!=0||this.h.h||(this.m=1,Yt(16),u=!1),this.o=this.o&&u,!u)ro(this.i,this.l,x,"[Invalid Chunked Response]"),yi(this),Pa(this);else if(x.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),_f(Q),Q.P=!0,Yt(11))}}else ro(this.i,this.l,x,null),ff(this,x);ge==4&&yi(this),this.o&&!this.K&&(ge==4?yx(this.j,this):(this.o=!1,Rc(this)))}else cA(this.g),m==400&&x.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),yi(this),Pa(this)}}}catch{}finally{}};function Kj(u){if(!Wv(u))return u.g.la();const m=ux(u.g);if(m==="")return"";let x="";const P=m.length,M=as(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yi(u),Pa(u),"";u.h.i=new a.TextDecoder}for(let F=0;F<P;F++)u.h.h=!0,x+=u.h.i.decode(m[F],{stream:!(M&&F==P-1)});return m.length=0,u.h.g+=x,u.C=0,u.h.g}function Wv(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qj(u,m){var x=u.C,P=m.indexOf(`
`,x);return P==-1?uf:(x=Number(m.substring(x,P)),isNaN(x)?zv:(P+=1,P+x>m.length?uf:(m=m.slice(P,P+x),u.C=P+x,m)))}ss.prototype.cancel=function(){this.K=!0,yi(this)};function Rc(u){u.T=Date.now()+u.H,qv(u,u.H)}function qv(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Aa(d(u.aa,u),m)}function hf(u){u.D&&(a.clearTimeout(u.D),u.D=null)}ss.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wj(this.i,this.B),this.M!=2&&(ja(),Yt(17)),yi(this),this.m=2,Pa(this)):qv(this,this.T-u)};function Pa(u){u.j.I==0||u.K||yx(u.j,u)}function yi(u){hf(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Pv(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ff(u,m){try{var x=u.j;if(x.I!=0&&(x.g==u||pf(x.h,u))){if(!u.L&&pf(x.h,u)&&x.I==3){try{var P=x.Ba.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var M=P;if(M[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Vc(x),Oc(x);else break e;wf(x),Yt(18)}}else x.xa=M[1],0<x.xa-x.K&&M[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Aa(d(x.Va,x),6e3));Qv(x.h)<=1&&x.ta&&(x.ta=void 0)}else xi(x,11)}else if((u.L||x.g==u)&&Vc(x),!j(m))for(M=x.Ba.g.parse(m),m=0;m<M.length;m++){let Me=M[m];const Ct=Me[0];if(!(Ct<=x.K))if(x.K=Ct,Me=Me[1],x.I==2)if(Me[0]=="c"){x.M=Me[1],x.ba=Me[2];const ar=Me[3];ar!=null&&(x.ka=ar,x.j.info("VER="+x.ka));const wi=Me[4];wi!=null&&(x.za=wi,x.j.info("SVER="+x.za));const ls=Me[5];ls!=null&&typeof ls=="number"&&ls>0&&(P=1.5*ls,x.O=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const cs=u.g;if(cs){const Uc=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var F=P.h;F.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(mf(F,F.h),F.h=null))}if(P.G){const bf=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(P.wa=bf,$e(P.J,P.G,bf))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),P=x;var Q=u;if(P.na=wx(P,P.L?P.ba:null,P.W),Q.L){Yv(P.h,Q);var ge=Q,vt=P.O;vt&&(ge.H=vt),ge.D&&(hf(ge),Rc(ge)),P.g=Q}else mx(P);x.i.length>0&&Mc(x)}else Me[0]!="stop"&&Me[0]!="close"||xi(x,7);else x.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?xi(x,7):xf(x):Me[0]!="noop"&&x.l&&x.l.qa(Me),x.A=0)}}ja(4)}catch{}}var Yj=class{constructor(u,m){this.g=u,this.map=m}};function Gv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qv(u){return u.h?1:u.g?u.g.size:0}function pf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function mf(u,m){u.g?u.g.add(m):u.h=m}function Yv(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gv.prototype.cancel=function(){if(this.i=Xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xv(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.G);return m}return y(u.i)}var Jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xj(u,m){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const P=u[x].indexOf("=");let M,F=null;P>=0?(M=u[x].substring(0,P),F=u[x].substring(P+1)):M=u[x],m(M,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function is(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof is?(this.l=u.l,Da(this,u.j),this.o=u.o,this.g=u.g,La(this,u.u),this.h=u.h,gf(this,sx(u.i)),this.m=u.m):u&&(m=String(u).match(Jv))?(this.l=!1,Da(this,m[1]||"",!0),this.o=Oa(m[2]||""),this.g=Oa(m[3]||"",!0),La(this,m[4]),this.h=Oa(m[5]||"",!0),gf(this,m[6]||"",!0),this.m=Oa(m[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}is.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ma(m,Zv,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ma(m,Zv,!0),"@"),u.push(Ra(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ma(x,x.charAt(0)=="/"?eA:Zj,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ma(x,nA)),u.join("")},is.prototype.resolve=function(u){const m=or(this);let x=!!u.j;x?Da(m,u.j):x=!!u.o,x?m.o=u.o:x=!!u.g,x?m.g=u.g:x=u.u!=null;var P=u.h;if(x)La(m,u.u);else if(x=!!u.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var M=m.h.lastIndexOf("/");M!=-1&&(P=m.h.slice(0,M+1)+P)}if(M=P,M==".."||M==".")P="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){P=M.lastIndexOf("/",0)==0,M=M.split("/");const F=[];for(let Q=0;Q<M.length;){const ge=M[Q++];ge=="."?P&&Q==M.length&&F.push(""):ge==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),P&&Q==M.length&&F.push("")):(F.push(ge),P=!0)}P=F.join("/")}else P=M}return x?m.h=P:x=u.i.toString()!=="",x?gf(m,sx(u.i)):x=!!u.m,x&&(m.m=u.m),m};function or(u){return new is(u)}function Da(u,m,x){u.j=x?Oa(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function La(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function gf(u,m,x){m instanceof Va?(u.i=m,rA(u.i,u.l)):(x||(m=Ma(m,tA)),u.i=new Va(m,u.l))}function $e(u,m,x){u.i.set(m,x)}function Pc(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oa(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ma(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,Jj),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zv=/[#\/\?@]/g,Zj=/[#\?:]/g,eA=/[#\?]/g,tA=/[#\?@]/g,nA=/#/g;function Va(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vi(u){u.g||(u.g=new Map,u.h=0,u.i&&Xj(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Va.prototype,t.add=function(u,m){vi(this),this.i=null,u=so(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function ex(u,m){vi(u),m=so(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tx(u,m){return vi(u),m=so(u,m),u.g.has(m)}t.forEach=function(u,m){vi(this),this.g.forEach(function(x,P){x.forEach(function(M){u.call(m,M,P,this)},this)},this)};function nx(u,m){vi(u);let x=[];if(typeof m=="string")tx(u,m)&&(x=x.concat(u.g.get(so(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)x=x.concat(u[m]);return x}t.set=function(u,m){return vi(this),this.i=null,u=so(this,u),tx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=nx(this,u),u.length>0?String(u[0]):m):m};function rx(u,m,x){ex(u,m),x.length>0&&(u.i=null,u.g.set(so(u,m),y(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let P=0;P<m.length;P++){var x=m[P];const M=Ra(x);x=nx(this,x);for(let F=0;F<x.length;F++){let Q=M;x[F]!==""&&(Q+="="+Ra(x[F])),u.push(Q)}}return this.i=u.join("&")};function sx(u){const m=new Va;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function so(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rA(u,m){m&&!u.j&&(vi(u),u.i=null,u.g.forEach(function(x,P){const M=P.toLowerCase();P!=M&&(ex(this,P),rx(this,M,x))},u)),u.j=m}function sA(u,m){const x=new ka;if(a.Image){const P=new Image;P.onload=h(os,x,"TestLoadImage: loaded",!0,m,P),P.onerror=h(os,x,"TestLoadImage: error",!1,m,P),P.onabort=h(os,x,"TestLoadImage: abort",!1,m,P),P.ontimeout=h(os,x,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function iA(u,m){const x=new ka,P=new AbortController,M=setTimeout(()=>{P.abort(),os(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(F=>{clearTimeout(M),F.ok?os(x,"TestPingServer: ok",!0,m):os(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),os(x,"TestPingServer: error",!1,m)})}function os(u,m,x,P,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),P(x)}catch{}}function oA(){this.g=new $j}function yf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(yf,Dv),yf.prototype.g=function(){return new Dc(this.i,this.h)};function Dc(u,m){it.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Dc,it),t=Dc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ua(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ix(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ix(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fa(this):Ua(this),this.readyState==3&&ix(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Fa(this))},t.Na=function(u){this.g&&(this.response=u,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ua(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function Ua(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ox(u){let m="";return U(u,function(x,P){m+=P,m+=":",m+=x,m+=`\r
`}),m}function vf(u,m,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=ox(x),typeof u=="string"?x!=null&&Ra(x):$e(u,m,x))}function Ze(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ze,it);var aA=/^https?$/i,lA=["POST","PUT"];t=Ze.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bv.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){ax(this,F);return}if(u=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var M in P)x.set(M,P[M]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())x.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(lA,m,void 0)>=0)||P||M||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of x)this.g.setRequestHeader(F,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){ax(this,F)}};function ax(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,lx(u),Lc(u)}function lx(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Qt(this,"complete"),Qt(this,"abort"),Lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cx(this):this.Xa())},t.Xa=function(){cx(this)};function cx(u){if(u.h&&typeof i<"u"){if(u.v&&as(u)==4)setTimeout(u.Ca.bind(u),0);else if(Qt(u,"readystatechange"),as(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var P;if(P=F===0){let Q=String(u.D).match(Jv)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),P=!aA.test(Q?Q.toLowerCase():"")}x=P}if(x)Qt(u,"complete"),Qt(u,"success");else{u.o=6;try{var M=as(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",lx(u)}}finally{Lc(u)}}}}function Lc(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,m||Qt(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function as(u){return u.g?u.g.readyState:0}t.ca=function(){try{return as(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bj(m)}};function ux(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cA(u){const m={};u=(u.g&&as(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(j(u[P]))continue;var x=Gj(u[P]);const M=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const F=m[M]||[];m[M]=F,F.push(x)}K(m,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function dx(u){this.za=0,this.i=[],this.j=new ka,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ba("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ba("baseRetryDelayMs",5e3,u),this.Za=Ba("retryDelaySeedMs",1e4,u),this.Ta=Ba("forwardChannelMaxRetries",2,u),this.va=Ba("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Gv(u&&u.concurrentRequestLimit),this.Ba=new oA,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dx.prototype,t.ka=8,t.I=1,t.connect=function(u,m,x,P){Yt(0),this.W=u,this.H=m||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.J=wx(this,null,this.W),Mc(this)};function xf(u){if(hx(u),u.I==3){var m=u.V++,x=or(u.J);if($e(x,"SID",u.M),$e(x,"RID",m),$e(x,"TYPE","terminate"),$a(u,x),m=new ss(u,u.j,m),m.M=2,m.A=Pc(or(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!x&&a.Image&&(new Image().src=m.A,x=!0),x||(m.g=_x(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Rc(m)}xx(u)}function Oc(u){u.g&&(_f(u),u.g.cancel(),u.g=null)}function hx(u){Oc(u),u.v&&(a.clearTimeout(u.v),u.v=null),Vc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Mc(u){if(!Kv(u.h)&&!u.m){u.m=!0;var m=u.Ea;O||_(),R||(O(),R=!0),E.add(m,u),u.D=0}}function uA(u,m){return Qv(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Aa(d(u.Ea,u,m),vx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new ss(this,this.j,u);let F=this.o;if(this.U&&(F?(F=V(F),ue(F,this.U)):F=this.U),this.u!==null||this.R||(M.J=F,F=null),this.S)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,m>4096){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=px(this,M,m),x=or(this.J),$e(x,"RID",u),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),$a(this,x),F&&(this.R?m="headers="+Ra(ox(F))+"&"+m:this.u&&vf(x,this.u,F)),mf(this.h,M),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",m),$e(x,"SID","null"),M.U=!0,df(M,x,null)):df(M,x,m),this.I=2}}else this.I==3&&(u?fx(this,u):this.i.length==0||Kv(this.h)||fx(this))};function fx(u,m){var x;m?x=m.l:x=u.V++;const P=or(u.J);$e(P,"SID",u.M),$e(P,"RID",x),$e(P,"AID",u.K),$a(u,P),u.u&&u.o&&vf(P,u.u,u.o),x=new ss(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),m&&(u.i=m.G.concat(u.i)),m=px(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),mf(u.h,x),df(x,P,m)}function $a(u,m){u.H&&U(u.H,function(x,P){$e(m,P,x)}),u.l&&U({},function(x,P){$e(m,P,x)})}function px(u,m,x){x=Math.min(u.i.length,x);const P=u.l?d(u.l.Ka,u.l,u):null;e:{var M=u.i;let ge=-1;for(;;){const vt=["count="+x];ge==-1?x>0?(ge=M[0].g,vt.push("ofs="+ge)):ge=0:vt.push("ofs="+ge);let Me=!0;for(let Ct=0;Ct<x;Ct++){var F=M[Ct].g;const ar=M[Ct].map;if(F-=ge,F<0)ge=Math.max(0,M[Ct].g-100),Me=!1;else try{F="req"+F+"_"||"";try{var Q=ar instanceof Map?ar:Object.entries(ar);for(const[wi,ls]of Q){let cs=ls;l(ls)&&(cs=of(ls)),vt.push(F+wi+"="+encodeURIComponent(cs))}}catch(wi){throw vt.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{P&&P(ar)}}if(Me){Q=vt.join("&");break e}}Q=void 0}return u=u.i.splice(0,x),m.G=u,Q}function mx(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;O||_(),R||(O(),R=!0),E.add(m,u),u.A=0}}function wf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Aa(d(u.Da,u),vx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,gx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Aa(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),Oc(this),gx(this))};function _f(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function gx(u){u.g=new ss(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=or(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),$a(u,m),u.u&&u.o&&vf(m,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Pc(or(m)),x.u=null,x.R=!0,Hv(x,u)}t.Va=function(){this.C!=null&&(this.C=null,Oc(this),wf(this),Yt(19))};function Vc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function yx(u,m){var x=null;if(u.g==m){Vc(u),_f(u),u.g=null;var P=2}else if(pf(u.h,m))x=m.G,Yv(u.h,m),P=1;else return;if(u.I!=0){if(m.o)if(P==1){x=m.u?m.u.length:0,m=Date.now()-m.F;var M=u.D;P=Ac(),Qt(P,new Fv(P,x)),Mc(u)}else mx(u);else if(M=m.m,M==3||M==0&&m.X>0||!(P==1&&uA(u,m)||P==2&&wf(u)))switch(x&&x.length>0&&(m=u.h,m.i=m.i.concat(x)),M){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function vx(u,m){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var x=d(u.bb,u),P=u.Ua;const M=!P;P=new is(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Da(P,"https"),Pc(P),M?sA(P.toString(),x):iA(P.toString(),x)}else Yt(2);u.I=0,u.l&&u.l.pa(m),xx(u),hx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function xx(u){if(u.I=0,u.ja=[],u.l){const m=Xv(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ja,m),S(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function wx(u,m,x){var P=x instanceof is?or(x):new is(x);if(P.g!="")m&&(P.g=m+"."+P.g),La(P,P.u);else{var M=a.location;P=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;const F=new is(null);P&&Da(F,P),m&&(F.g=m),M&&La(F,M),x&&(F.h=x),P=F}return x=u.G,m=u.wa,x&&m&&$e(P,x,m),$e(P,"VER",u.ka),$a(u,P),P}function _x(u,m,x){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new yf({ab:x})):new Ze(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bx(){}t=bx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fc(){}Fc.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){it.call(this),this.g=new dx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!j(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!j(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new io(this)}f(yn,it),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){xf(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=of(u),u=x);m.i.push(new Yj(m.Ya++,u)),m.I==3&&Mc(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,xf(this.g),delete this.g,yn.Z.N.call(this)};function Ex(u){af.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(Ex,af);function Tx(){lf.call(this),this.status=1}f(Tx,lf);function io(u){this.g=u}f(io,bx),io.prototype.ra=function(){Qt(this.g,"a")},io.prototype.qa=function(u){Qt(this.g,new Ex(u))},io.prototype.pa=function(u){Qt(this.g,new Tx)},io.prototype.oa=function(){Qt(this.g,"b")},Fc.prototype.createWebChannel=Fc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,hS=function(){return new Fc},dS=function(){return Ac()},uS=gi,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kc.NO_ERROR=0,kc.TIMEOUT=8,kc.HTTP_ERROR=6,Ou=kc,Uv.COMPLETE="complete",cS=Uv,Lv.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",it.prototype.listen=it.prototype.J,ol=Lv,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,lS=Ze}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",A0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new yh("@firebase/firestore");function uo(){return Wi.logLevel}function te(t,...e){if(Wi.logLevel<=xe.DEBUG){const n=e.map(Ny);Wi.debug(`Firestore (${ma}): ${t}`,...n)}}function Qr(t,...e){if(Wi.logLevel<=xe.ERROR){const n=e.map(Ny);Wi.error(`Firestore (${ma}): ${t}`,...n)}}function Qo(t,...e){if(Wi.logLevel<=xe.WARN){const n=e.map(Ny);Wi.warn(`Firestore (${ma}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fS(t,r,n)}function fS(t,e,n){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fS(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class dM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new pS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Pm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return op(s)===op(i)?we(s,i):op(s)?1:-1}return we(t.length,e.length)}const yM=55296,vM=57343;function op(t){const e=t.charCodeAt(0);return e>=yM&&e<=vM}function Yo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ur.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=ur.isNumericId(e),s=ur.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ur.extractNumericId(e).compare(ur.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class Ue extends ur{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ur{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return xM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Ot([R0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ue.fromString(e))}static fromName(e){return new ae(Ue.fromString(e).popFirst(5))}static empty(){return new ae(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wM(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P0(t){if(!ae.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D0(t){if(ae.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _M(t,e){if(e<=0)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gc(t,e){if(!gS(t))throw new Z(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-62135596800,O0=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*O0);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L0)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gc(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:pt("string",We._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new We(0,0))}static max(){return new fe(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function bM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Gs(s,ae.empty(),e)}function EM(t){return new Gs(t.readTime,t.key,Kl)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(fe.min(),ae.empty(),Kl)}static max(){return new Gs(fe.max(),ae.empty(),Kl)}}function TM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==SM)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function NM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-1;function Ch(t){return t==null}function Id(t){return t===0&&1/t==-1/0}function IM(t){return typeof t=="number"&&Number.isInteger(t)&&!Id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="";function jM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M0(e)),e=AM(t.get(n),e);return M0(e)}function AM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case yS:n+="";break;default:n+=i}}return n}function M0(t){return t+yS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kM(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Tt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xS("Invalid base64 string: "+i):i}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=RM.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",_S="__type__",bS="__previous_value__",ES="__local_write_time__";function Ay(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_S])==null?void 0:r.stringValue)===wS}function Nh(t){const e=t.mapValue.fields[bS];return Ay(e)?Nh(e):e}function Ql(t){const e=Ks(t.mapValue.fields[ES].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,s,i,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const jd="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",DM="__max__",au={mapValue:{}},SS="__vector__",Ad="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:OM(t)?9007199254740991:LM(t)?10:11:ce(28295,{value:t})}function Sr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ks(s.timestampValue),l=Ks(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qs(s.bytesValue).isEqual(Qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ot(s.doubleValue),l=ot(i.doubleValue);return a===l?Id(a)===Id(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(V0(a)!==V0(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Sr(a[c],l[c])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function Xl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=ot(i.integerValue||i.doubleValue),c=ot(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return U0(t.timestampValue,e.timestampValue);case 4:return U0(Ql(t),Ql(e));case 5:return Pm(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Qs(i),c=Qs(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=we(l[d],c[d]);if(h!==0)return h}return we(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=we(ot(i.latitude),ot(a.latitude));return l!==0?l:we(ot(i.longitude),ot(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B0(t.arrayValue,e.arrayValue);case 10:return function(i,a){var p,y,S,v;const l=i.fields||{},c=a.fields||{},d=(p=l[Ad])==null?void 0:p.arrayValue,h=(y=c[Ad])==null?void 0:y.arrayValue,f=we(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:B0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===au.mapValue&&a===au.mapValue)return 0;if(i===au.mapValue)return 1;if(a===au.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Pm(c[f],h[f]);if(p!==0)return p;const y=Xo(l[c[f]],d[h[f]]);if(y!==0)return y}return we(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function U0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Ks(t),r=Ks(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function B0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xo(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function Jo(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Dm(n.fields[a])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function Mu(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(t);return e?16+Mu(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Mu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return di(r.fields,(i,a)=>{s+=i.length+Mu(a)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function $0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lm(t){return!!t&&"integerValue"in t}function ky(t){return!!t&&"arrayValue"in t}function z0(t){return!!t&&"nullValue"in t}function H0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function LM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TS])==null?void 0:r.stringValue)===SS}function bl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return{...t}}function OM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=bl(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(bl(this.value))}}function CS(t){const e=[];return di(t.fields,(n,r)=>{const s=new Ot([n]);if(Vu(r)){const i=CS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qt(e,0,fe.min(),fe.min(),fe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,fe.min(),fe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,fe.min(),fe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.position=e,this.inclusive=n}}function W0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(a.referenceValue),n.key):r=Xo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function q0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function MM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NS=class{};class ft extends NS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FM(e,n,r):n==="array-contains"?new $M(e,r):n==="in"?new zM(e,r):n==="not-in"?new HM(e,r):n==="array-contains-any"?new WM(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UM(e,r):new BM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends NS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return IS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IS(t){return t.op==="and"}function jS(t){return VM(t)&&IS(t)}function VM(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Om(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(jS(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Sr(r.value,s.value)}(t,e):t instanceof nr?function(r,s){return s instanceof nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&AS(a,s.filters[l]),!0):!1}(t,e):void ce(19439)}function kS(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(kS).join(" ,")+"}"}(t):"Filter"}class FM extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class UM extends ft{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BM extends ft{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class $M extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ky(n)&&Xl(n.arrayValue,this.value)}}class zM extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class HM extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class WM extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function G0(t,e=null,n=[],r=[],s=null,i=null,a=null){return new qM(t,e,n,r,s,i,a)}function Ry(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.Te=n}return e.Te}function Py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q0(t.startAt,e.startAt)&&q0(t.endAt,e.endAt)}function Mm(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GM(t,e,n,r,s,i,a,l){return new va(t,e,n,r,s,i,a,l)}function Ih(t){return new va(t)}function K0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PS(t){return t.collectionGroup!==null}function El(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Tt(Ot.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Jl(i,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new Jl(Ot.keyField(),r))}return e.Ie}function xr(t){const e=he(t);return e.Ee||(e.Ee=DS(e,El(t))),e.Ee}function KM(t){const e=he(t);return e.de||(e.de=DS(e,t.explicitOrderBy)),e.de}function DS(t,e){if(t.limitType==="F")return G0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jl(s.field,i)});const n=t.endAt?new kd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kd(t.startAt.position,t.startAt.inclusive):null;return G0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vm(t,e){const n=t.filters.concat([e]);return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rd(t,e,n){return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return Py(xr(t),xr(e))&&t.limitType===e.limitType}function LS(t){return`${Ry(xr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kS(s)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jo(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of El(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=W0(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,El(r),s)||r.endAt&&!function(a,l,c){const d=W0(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,El(r),s))}(t,e)}function QM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let r=!1;for(const s of El(t)){const i=YM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function YM(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Xo(c,d):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Je(ae.comparator);function Yr(){return XM}const MS=new Je(ae.comparator);function al(...t){let e=MS;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=MS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Tl()}function FS(){return Tl()}function Tl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const JM=new Je(ae.comparator),ZM=new Tt(ae.comparator);function Ee(...t){let e=ZM;for(const n of t)e=e.add(n);return e}const eV=new Tt(we);function tV(){return eV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function US(t){return{integerValue:""+t}}function nV(t,e){return IM(e)?US(e):Dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function rV(t,e,n){return t instanceof Pd?function(s,i){const a={fields:{[_S]:{stringValue:wS},[ES]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ay(i)&&(i=Nh(i)),i&&(a.fields[bS]=i),{mapValue:a}}(n,e):t instanceof Zo?$S(t,e):t instanceof Zl?zS(t,e):function(s,i){const a=BS(s,i),l=Q0(a)+Q0(s.Ae);return Lm(a)&&Lm(s.Ae)?US(l):Dy(s.serializer,l)}(t,e)}function sV(t,e,n){return t instanceof Zo?$S(t,e):t instanceof Zl?zS(t,e):n}function BS(t,e){return t instanceof Dd?function(r){return Lm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pd extends kh{}class Zo extends kh{constructor(e){super(),this.elements=e}}function $S(t,e){const n=HS(e);for(const r of t.elements)n.some(s=>Sr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends kh{constructor(e){super(),this.elements=e}}function zS(t,e){let n=HS(e);for(const r of t.elements)n=n.filter(s=>!Sr(s,r));return{arrayValue:{values:n}}}class Dd extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q0(t){return ot(t.integerValue||t.doubleValue)}function HS(t){return ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.field=e,this.transform=n}}function oV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zo&&s instanceof Zo||r instanceof Zl&&s instanceof Zl?Yo(r.elements,s.elements,Sr):r instanceof Dd&&s instanceof Dd?Sr(r.Ae,s.Ae):r instanceof Pd&&s instanceof Pd}(t.transform,e.transform)}class aV{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function WS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ly(t.key,Dn.none()):new yc(t.key,t.data,Dn.none());{const n=t.data,r=un.empty();let s=new Tt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new hi(t.key,r,new _n(s.toArray()),Dn.none())}}function lV(t,e,n){t instanceof yc?function(s,i,a){const l=s.value.clone(),c=X0(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,a){if(!Fu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=X0(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(qS(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof yc?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const d=i.value.clone(),h=J0(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const d=J0(i.fieldTransforms,c,a),h=a.data;return h.setAll(qS(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Fu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function cV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=BS(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function Y0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yo(r,s,(i,a)=>oV(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends Rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X0(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,sV(a,l,n[s]))}return r}function J0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,rV(i,a,e))}return r}class Ly extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uV extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FS();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=WS(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>Y0(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>Y0(n,r))}}class Oy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return JM}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Oy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Te;function mV(t){switch(t){case B.OK:return ce(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function GS(t){if(t===void 0)return Qr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=dt||(dt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new $s([4294967295,4294967295],0);function Z0(t){const e=gV().encode(t),n=new aS;return n.update(e),new Uint8Array(n.digest())}function e_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $s([n,r],0),new $s([s,i],0)]}class My{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ll(`Invalid padding: ${n}`);if(r<0)throw new ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$s.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply($s.fromNumber(r)));return s.compare(yV)===1&&(s=new $s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z0(e),[r,s]=e_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new My(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Z0(e),[r,s]=e_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(fe.min(),s,new Je(we),Yr(),Ee())}}class vc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class KS{constructor(e,n){this.targetId=e,this.Ce=n}}class QS{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class t_{constructor(){this.ve=0,this.Fe=n_(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new vc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=n_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=lu(),this.He=lu(),this.Ye=new Je(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Mm(i))if(r===0){const a=new ae(i.path);this.et(n,a,qt.newNoDocument(a,fe.min()))}else je(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Qs(r).toUint8Array()}catch(c){if(c instanceof xS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new My(a,s,i)}catch(c){return Qo(c instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Mm(l.target)){const c=new ae(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,qt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Ph(e,n,this.Ye,this.je,r);return this.je=Yr(),this.Je=lu(),this.He=lu(),this.Ye=new Je(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lu(){return new Je(ae.comparator)}function n_(){return new Je(ae.comparator)}const xV={asc:"ASCENDING",desc:"DESCENDING"},wV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_V={and:"AND",or:"OR"};class bV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EV(t,e){return Ld(t,e.toTimestamp())}function wr(t){return je(!!t,49232),fe.fromTimestamp(function(n){const r=Ks(n);return new We(r.seconds,r.nanos)}(t))}function Vy(t,e){return Um(t,e).canonicalString()}function Um(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XS(t){const e=Ue.fromString(t);return je(rC(e),10190,{key:e.toString()}),e}function Bm(t,e){return Vy(t.databaseId,e.path)}function ap(t,e){const n=XS(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(ZS(n))}function JS(t,e){return Vy(t.databaseId,e)}function TV(t){const e=XS(t);return e.length===4?Ue.emptyPath():ZS(e)}function $m(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZS(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r_(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function SV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),Ut.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?B.UNKNOWN:GS(d.code);return new Z(h,d.message||"")}(a);n=new QS(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ap(t,r.document.name),i=wr(r.document.updateTime),a=r.document.createTime?wr(r.document.createTime):fe.min(),l=new un({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Uu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ap(t,r.document),i=r.readTime?wr(r.readTime):fe.min(),a=qt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Uu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ap(t,r.document),i=r.removedTargetIds||[];n=new Uu([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new pV(s,i),l=r.targetId;n=new KS(l,a)}}return n}function CV(t,e){let n;if(e instanceof yc)n={update:r_(t,e.key,e.value)};else if(e instanceof Ly)n={delete:Bm(t,e.key)};else if(e instanceof hi)n={update:r_(t,e.key,e.data),updateMask:LV(e.fieldMask)};else{if(!(e instanceof uV))return ce(16599,{Vt:e.type});n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Pd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dd)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ce(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:EV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function NV(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?wr(s.updateTime):wr(i);return a.isEqual(fe.min())&&(a=wr(i)),new aV(a,s.transformResults||[])}(n,e))):[]}function IV(t,e){return{documents:[JS(t,e.path)]}}function eC(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JS(t,s);const i=function(d){if(d.length!==0)return nC(nr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ts(p.field),direction:RV(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function jV(t,e,n,r){const{ft:s,parent:i}=eC(t,e),a={},l=[];let c=0;return n.forEach(d=>{const h="aggregate_"+c++;a[h]=d.alias,d.aggregateType==="count"?l.push({alias:h,count:{}}):d.aggregateType==="avg"?l.push({alias:h,avg:{field:Ts(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:h,sum:{field:Ts(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},gt:a,parent:i}}function AV(t){let e=TV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=tC(f);return p instanceof nr&&jS(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(S){return new Jl(fo(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Ch(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new kd(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new kd(y,p)}(n.endAt)),GM(e,s,a,i,l,"F",c,d)}function kV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fo(n.unaryFilter.field);return ft.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(fo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>tC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function RV(t){return xV[t]}function PV(t){return wV[t]}function DV(t){return _V[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function fo(t){return Ot.fromServerFormat(t.fieldPath)}function nC(t){return t instanceof ft?function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(z0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(z0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:PV(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(s=>nC(s));return r.length===1?r[0]:{compositeFilter:{op:DV(n.op),filters:r}}}(t):ce(54877,{filter:t})}function LV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=fe.min(),a=fe.min(),l=Ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.yt=e}}function MV(t){const e=AV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Cn=new FV}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Gs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class FV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(sC,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",UV=1048576;function o_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class BV{constructor(e){this.Ir=e,this.buffer=new Tt(o_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $V{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(i_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?te(i_,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Vr(3e5)})}}class zV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Sh.ce);const r=new BV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),uo()<=xe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function HV(t,e){return new zV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,_n.empty(),We.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=al();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Yr();const a=Tl(),l=function(){return Tl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Sl(h.mutation,d,h.mutation.getFieldMask(),We.now())):a.set(d.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new qV(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Tl();let s=new Je((a,l)=>a-l),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||_n.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||Ee()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=FS();h.forEach(p=>{if(!i.has(p)){const y=WS(n.get(p),r.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(ji());let l=Kl,c=i;return a.next(d=>$.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ee())).next(h=>({batchId:l,changes:VS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=al();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=al();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,c=>{const d=function(f,p){return new va(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,qt.newInvalidDocument(h)))});let l=al();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Sl(h.mutation,d,_n.empty(),We.now()),Ah(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:MV(s.bundledQuery),readTime:wr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.overlays=new Je(ae.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=ji(),i=n.length+1,a=new ae(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ji(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ji(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return $.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hV(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Qr=new Tt(Nt.$r),this.Ur=new Tt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new Ue([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new Ue([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Nt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new dV(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jy:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(we);return n.forEach(s=>{const i=new Nt(s,0),a=new Nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const a=new Nt(new ae(i),0);let l=new Tt(we);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},a),$.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Nt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.ri=e,this.docs=function(){return new Je(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yr();const a=n.path,l=new ae(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||TM(EM(h),r)<=0||(s.has(h.key)||Ah(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZV(this)}getSize(e){return $.resolve(this.size)}}class ZV extends WV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.persistence=e,this.si=new to(n=>Ry(n),Py),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Fy,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new YV,this.referenceDelegate=e(this),this.Pi=new eF(this),this.indexManager=new VV,this.remoteDocumentCache=function(s){return new JV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new OV(n),this.Ii=new KV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new tF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tF extends CM{constructor(e){super(),this.currentSequenceNumber=e}}class Uy{constructor(e){this.persistence=e,this.Ri=new Fy,this.Vi=null}static mi(e){return new Uy(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Od{constructor(e,n){this.persistence=e,this.pi=new to(r=>jM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=HV(this,n)}static mi(e,n){return new Od(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new By(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sP()?8:NM(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new nF;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(uo()<=xe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(uo()<=xe.DEBUG&&te("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(uo()<=xe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):$.resolve())}ys(e,n){if(K0(n))return $.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rd(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ee(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,Rd(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return K0(n)||s.isEqual(fe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?$.resolve(null):(uo()<=xe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.vs(e,a,n,bM(s,Kl)).next(l=>l))})}Ds(e,n){let r=new Tt(OS(e));return n.forEach((s,i)=>{Ah(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return uo()<=xe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Gs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",sF=3e8;class iF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(we),this.xs=new to(i=>Ry(i),Py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oF(t,e,n,r){return new iF(t,e,n,r)}async function oC(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=Ee();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function aF(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let y=$.resolve();return p.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(v=>{const T=d.docVersions.get(S);je(T!==null,48541),v.version.compareTo(T)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ee();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function aC(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lF(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Ut.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,T,b){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=sF?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,y,h)&&l.push(n.Pi.updateTargetData(i,y))});let c=Yr(),d=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(cF(i,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return $.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function cF(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Yr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):te($y,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:s}})}function uF(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new js(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function zm(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ya(a))throw a;te($y,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function a_(t,e,n){const r=he(t);let s=fe.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=he(c),p=f.xs.get(h);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,a,xr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:fe.min(),n?i:Ee())).next(l=>(hF(r,QM(e),l),{documents:l,Qs:i})))}function hF(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class l_{constructor(){this.activeTargetIds=tV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fF{constructor(){this.Mo=new l_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="ConnectivityMonitor";class u_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(c_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(c_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function Hm(){return cu===null?cu=function(){return 268435456+Math.round(2147483648*Math.random())}():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="RestConnection",mF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Hm(),l=this.zo(e,n.toUriEncodedString());te(lp,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=ai(d);return this.Jo(e,l,c,r,h).then(f=>(te(lp,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Qo(lp,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=mF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class vF extends gF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Hm();return new Promise((l,c)=>{const d=new lS;d.setWithCredentials(!0),d.listenOnce(cS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ou.NO_ERROR:const f=d.getResponseJson();te(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Ou.TIMEOUT:te(zt,`RPC '${e}' ${a} timed out`),c(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const p=d.getStatus();if(te(zt,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(S.status);c(new Z(v,S.message))}else c(new Z(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{te(zt,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);te(zt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Hm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hS(),l=dS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te(zt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let p=!1,y=!1;const S=new yF({Yo:T=>{y?te(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(te(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te(zt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),v=(T,b,w)=>{T.listen(b,C=>{try{w(C)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,ol.EventType.OPEN,()=>{y||(te(zt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(f,ol.EventType.CLOSE,()=>{y||(y=!0,te(zt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),v(f,ol.EventType.ERROR,T=>{y||(y=!0,Qo(zt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),v(f,ol.EventType.MESSAGE,T=>{var b;if(!y){const w=T.data[0];je(!!w,16349);const C=w,A=(C==null?void 0:C.error)||((b=C[0])==null?void 0:b.error);if(A){te(zt,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let R=function(k){const N=dt[k];if(N!==void 0)return GS(N)}(O),E=A.message;R===void 0&&(R=B.INTERNAL,E="Unknown error status: "+O+" with message "+A.message),y=!0,S.a_(new Z(R,E)),f.close()}else te(zt,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),v(l,uS.STAT_EVENT,T=>{T.stat===Rm.PROXY?te(zt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Rm.NOPROXY&&te(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new bV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="PersistentStream";class cC{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(d_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xF extends cC{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SV(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?fe.min():a.readTime?wr(a.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Mm(c)?{documents:IV(i,c)}:{query:eC(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=YS(i,a.resumeToken);const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(fe.min())>0){l.readTime=Ld(i,a.snapshotVersion.toTimestamp());const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=kV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class wF extends cC{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NV(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{}class bF extends _F{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Um(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Um(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(B.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class TF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{no(this)&&(te(qi,"Restarting streams for network reachability change."),await async function(c){const d=he(c);d.Ea.add(4),await xc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Lh(d)}(this))})}),this.Ra=new EF(r,s)}}async function Lh(t){if(no(t))for(const e of t.da)await e(!0)}async function xc(t){for(const e of t.da)await e(!1)}function uC(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qy(n)?Wy(n):xa(n).O_()&&Hy(n,e))}function zy(t,e){const n=he(t),r=xa(n);n.Ia.delete(e),r.O_()&&dC(n,e),n.Ia.size===0&&(r.O_()?r.L_():no(n)&&n.Ra.set("Unknown"))}function Hy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).Y_(e)}function dC(t,e){t.Va.Ue(e),xa(t).Z_(e)}function Wy(t){t.Va=new vV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.Ra.ua()}function qy(t){return no(t)&&!xa(t).x_()&&t.Ia.size>0}function no(t){return he(t).Ea.size===0}function hC(t){t.Va=void 0}async function SF(t){t.Ra.set("Online")}async function CF(t){t.Ia.forEach((e,n)=>{Hy(t,e)})}async function NF(t,e){hC(t),qy(t)?(t.Ra.ha(e),Wy(t)):t.Ra.set("Unknown")}async function IF(t,e,n){if(t.Ra.set("Online"),e instanceof QS&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){te(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(t,r)}else if(e instanceof Uu?t.Va.Ze(e):e instanceof KS?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await aC(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Ut.EMPTY_BYTE_STRING,h.snapshotVersion)),dC(i,c);const f=new js(h.target,c,d,h.sequenceNumber);Hy(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){te(qi,"Failed to raise snapshot:",r),await Md(t,r)}}async function Md(t,e,n){if(!ya(e))throw e;t.Ea.add(1),await xc(t),t.Ra.set("Offline"),n||(n=()=>aC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lh(t)})}function fC(t,e){return e().catch(n=>Md(t,n,e))}async function Oh(t){const e=he(t),n=Xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jy;for(;jF(e);)try{const s=await uF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,AF(e,s)}catch(s){await Md(e,s)}pC(e)&&mC(e)}function jF(t){return no(t)&&t.Ta.length<10}function AF(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pC(t){return no(t)&&!Xs(t).x_()&&t.Ta.length>0}function mC(t){Xs(t).start()}async function kF(t){Xs(t).ra()}async function RF(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function PF(t,e,n){const r=t.Ta.shift(),s=Oy.from(r,e,n);await fC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Oh(t)}async function DF(t,e){e&&Xs(t).X_&&await async function(r,s){if(function(a){return mV(a)&&a!==B.ABORTED}(s.code)){const i=r.Ta.shift();Xs(r).B_(),await fC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Oh(r)}}(t,e),pC(t)&&mC(t)}async function h_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),te(qi,"RemoteStore received new credentials");const r=no(n);n.Ea.add(3),await xc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lh(n)}async function LF(t,e){const n=he(t);e?(n.Ea.delete(2),await Lh(n)):e||(n.Ea.add(2),await xc(n),n.Ra.set("Unknown"))}function xa(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new xF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:SF.bind(null,t),t_:CF.bind(null,t),r_:NF.bind(null,t),H_:IF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qy(t)?Wy(t):t.Ra.set("Unknown")):(await t.ma.stop(),hC(t))})),t.ma}function Xs(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new wF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kF.bind(null,t),r_:DF.bind(null,t),ta:RF.bind(null,t),na:PF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Oh(t)):(await t.fa.stop(),t.Ta.length>0&&(te(qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Gy(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),ya(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.ga=new Je(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ta{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ta(e,n,Oo.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class MF{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=p_(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function p_(){return new to(t=>LS(t),jh)}async function Qy(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new OF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Ky(a,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Xy(n)}async function Yy(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VF(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&Xy(n)}function FF(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Xy(t){t.Ca.forEach(e=>{e.next()})}var Wm,m_;(m_=Wm||(Wm={})).Ma="default",m_.Cache="cache";class Jy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.key=e}}class yC{constructor(e){this.key=e}}class UF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=OS(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new f_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=Ah(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;p&&y?p.data.isEqual(y.data)?S!==v&&(r.track({type:3,doc:y}),T=!0):this.su(p,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),T=!0):p&&!y&&(r.track({type:1,doc:p}),T=!0,(c||d)&&(l=!0)),T&&(y?(a=a.add(y),i=v?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(y,S){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:T})}};return v(y)-v(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new ta(this.query,e.tu,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new yC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new gC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zy="SyncEngine";class BF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $F{constructor(e){this.key=e,this.hu=!1}}class zF{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new to(l=>LS(l),jh),this.Iu=new Map,this.Eu=new Set,this.du=new Je(ae.comparator),this.Au=new Map,this.Ru=new Fy,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HF(t,e,n=!0){const r=EC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await vC(r,e,n,!0),s}async function WF(t,e){const n=EC(t);await vC(n,e,!0,!1)}async function vC(t,e,n,r){const s=await dF(t.localStore,xr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await qF(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&uC(t.remoteStore,s),l}async function qF(t,e,n,r,s){t.pu=(f,p,y)=>async function(v,T,b,w){let C=T.view.ru(b);C.Cs&&(C=await a_(v.localStore,T.query,!1).then(({documents:E})=>T.view.ru(E,C)));const A=w&&w.targetChanges.get(T.targetId),O=w&&w.targetMismatches.get(T.targetId)!=null,R=T.view.applyChanges(C,v.isPrimaryClient,A,O);return y_(v,T.targetId,R.au),R.snapshot}(t,f,p,y);const i=await a_(t.localStore,e,!0),a=new UF(e,i.Qs),l=a.ru(i.documents),c=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);y_(t,n,d.au);const h=new BF(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function GF(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!jh(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zy(r.remoteStore,s.targetId),qm(r,s.targetId)}).catch(ga)):(qm(r,s.targetId),await zm(r.localStore,s.targetId,!0))}async function KF(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function QF(t,e,n){const r=n3(t);try{const s=await function(a,l){const c=he(a),d=We.now(),h=l.reduce((y,S)=>y.add(S.key),Ee());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Yr(),v=Ee();return c.Ns.getEntries(y,h).next(T=>{S=T,S.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(T=>{f=T;const b=[];for(const w of l){const C=cV(w,f.get(w.key).overlayedDocument);C!=null&&b.push(new hi(w.key,C,CS(C.value.mapValue),Dn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,b,l)}).next(T=>{p=T;const b=T.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(y,T.batchId,b)})}).then(()=>({batchId:p.batchId,changes:VS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new Je(we)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d}(r,s.batchId,n),await wc(r,s.changes),await Oh(r.remoteStore)}catch(s){const i=Ky(s,"Failed to persist write");n.reject(i)}}async function xC(t,e){const n=he(t);try{const r=await lF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?je(a.hu,14607):s.removedDocuments.size>0&&(je(a.hu,42227),a.hu=!1))}),await wc(n,r,e)}catch(r){await ga(r)}}function g_(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=he(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&Xy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YF(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Je(ae.comparator);a=a.insert(i,qt.newNoDocument(i,fe.min()));const l=Ee().add(i),c=new Ph(fe.min(),new Map,new Je(we),a,l);await xC(r,c),r.du=r.du.remove(i),r.Au.delete(e),ev(r)}else await zm(r.localStore,e,!1).then(()=>qm(r,e,n)).catch(ga)}async function XF(t,e){const n=he(t),r=e.batch.batchId;try{const s=await aF(n.localStore,e);_C(n,r,null),wC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,s)}catch(s){await ga(s)}}async function JF(t,e,n){const r=he(t);try{const s=await function(a,l){const c=he(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(je(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);_C(r,e,n),wC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,s)}catch(s){await ga(s)}}function wC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _C(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||bC(t,r)})}function bC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ev(t))}function y_(t,e,n){for(const r of n)r instanceof gC?(t.Ru.addReference(r.key,e),ZF(t,r)):r instanceof yC?(te(Zy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||bC(t,r.key)):ce(19791,{wu:r})}function ZF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(Zy,"New document in limbo: "+n),t.Eu.add(r),ev(t))}function ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new $F(n)),t.du=t.du.insert(n,r),uC(t.remoteStore,new js(xr(Ih(n.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function wc(t,e,n){const r=he(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=By.As(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,d){const h=he(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>$.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!ya(f))throw f;te($y,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),S=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,v)}}}(r.localStore,i))}async function e3(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){te(Zy,"User change. New user:",e.toKey());const r=await oC(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Z(B.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(n,r.Ls)}}function t3(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function EC(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YF.bind(null,e),e.Pu.H_=VF.bind(null,e.eventManager),e.Pu.yu=FF.bind(null,e.eventManager),e}function n3(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JF.bind(null,e),e}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oF(this.persistence,new rF,e.initialUser,this.serializer)}Cu(e){return new iC(Uy.mi,this.serializer)}Du(e){return new fF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class r3 extends Vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $V(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new iC(r=>Od.mi(r,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e3.bind(null,this.syncEngine),await LF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MF}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(i){return new vF(i)}(e.databaseInfo);return function(i,a,l,c){return new bF(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new TF(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>g_(this.syncEngine,n,0),function(){return u_.v()?new u_:new pF}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new zF(s,i,a,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);te(qi,"RemoteStore shutting down."),i.Ea.add(5),await xc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class s3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=Iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{te(Js,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(te(Js,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ky(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function up(t,e){t.asyncQueue.verifyOperationInProgress(),te(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await oC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i3(t);te(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>h_(e.remoteStore,s)),t._onlineComponents=e}async function i3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Js,"Using user provided OfflineComponentProvider");try{await up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await up(t,new Vd)}}else te(Js,"Using default OfflineComponentProvider"),await up(t,new r3(void 0));return t._offlineComponents}async function nv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Js,"Using user provided OnlineComponentProvider"),await v_(t,t._uninitializedComponentsProvider._online)):(te(Js,"Using default OnlineComponentProvider"),await v_(t,new Gm))),t._onlineComponents}function o3(t){return nv(t).then(e=>e.syncEngine)}function a3(t){return nv(t).then(e=>e.datastore)}async function Fd(t){const e=await nv(t),n=e.eventManager;return n.onListen=HF.bind(null,e.syncEngine),n.onUnlisten=GF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KF.bind(null,e.syncEngine),n}function l3(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new tv({next:p=>{h.Nu(),a.enqueueAndForget(()=>Yy(i,f));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Jy(Ih(l.path),h,{includeMetadataChanges:!0,qa:!0});return Qy(i,f)}(await Fd(t),t.asyncQueue,e,n,r)),r.promise}function c3(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new tv({next:p=>{h.Nu(),a.enqueueAndForget(()=>Yy(i,f)),p.fromCache&&c.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Jy(l,h,{includeMetadataChanges:!0,qa:!0});return Qy(i,f)}(await Fd(t),t.asyncQueue,e,n,r)),r.promise}function u3(t,e,n){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await a3(t);r.resolve(async function(a,l,c){var v;const d=he(a),{request:h,gt:f,parent:p}=jV(d.serializer,KM(l),c);d.connection.$o||delete h.parent;const y=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,p,h,1)).filter(T=>!!T.result);je(y.length===1,64727);const S=(v=y[0].result)==null?void 0:v.aggregateFields;return Object.keys(S).reduce((T,b)=>(T[f[b]]=S[b],T),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firestore.googleapis.com",w_=!0;class __{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SC,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UV)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new pM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x_.get(n);r&&(te("ComponentProvider","Removing Datastore"),x_.delete(n),r.terminate())}(this),Promise.resolve()}}function d3(t,e,n,r={}){var d;t=tn(t,Mh);const s=ai(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(ly(`https://${l}`),cy("Firestore",!0)),i.host!==SC&&i.host!==l&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!qr(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ht.MOCK_USER;else{h=Y1(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(p)}t._authCredentials=new dM(new pS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gc(n,tt._jsonSchema))return new tt(e,r||null,new ae(Ue.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:pt("string",tt._jsonSchemaVersion),referencePath:pt("string")};class zs extends rs{constructor(e,n,r){super(e,n,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new ae(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function jt(t,e,...n){if(t=Fe(t),mS("collection","path",e),t instanceof Mh){const r=Ue.fromString(e,...n);return D0(r),new zs(t,null,r)}{if(!(t instanceof tt||t instanceof zs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return D0(r),new zs(t.firestore,null,r)}}function lt(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=Iy.newId()),mS("doc","path",e),t instanceof Mh){const r=Ue.fromString(e,...n);return P0(r),new tt(t,null,new ae(r))}{if(!(t instanceof tt||t instanceof zs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return P0(r),new tt(t.firestore,t instanceof zs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lC(this,"async_queue_retry"),this._c=()=>{const r=cp();r&&te(b_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ya(e))throw e;te(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",T_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Gy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Cr extends Mh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function h3(t,e){const n=typeof t=="object"?t:vh(),r=typeof t=="string"?t:jd,s=li(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=G1("firestore");i&&d3(s,...i)}return s}function _c(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f3(t),t._firestoreClient}function f3(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new PM(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new s3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class m3{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Ut.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gc(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:pt("string",kn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(gc(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:pt("string",_r._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gc(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new br(e.vectorValues);throw new Z(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:pt("string",br._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^__.*__$/;class y3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}class CC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Uh{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NC(this.Ac)&&g3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Cc(e,n,r,s=!1){return new Uh({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new v3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IC(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);sv("Data must be an object, but it was:",a,r);const l=jC(r,a);let c,d;if(i.merge)c=new _n(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Km(e,f,n);if(!a.contains(p))throw new Z(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kC(h,p)||h.push(p)}c=new _n(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new y3(new un(l),c,d)}class $h extends Fh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function x3(t,e,n){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rv extends Fh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=x3(this,e,!0),r=this.vc.map(i=>wa(i,n)),s=new Zo(r);return new iV(e.path,s)}isEqual(e){return e instanceof rv&&qr(this.vc,e.vc)}}function w3(t,e,n,r){const s=t.Cc(1,e,n);sv("Data must be an object, but it was:",s,r);const i=[],a=un.empty();di(r,(c,d)=>{const h=iv(e,c,n);d=Fe(d);const f=s.yc(h);if(d instanceof $h)i.push(h);else{const p=wa(d,f);p!=null&&(i.push(h),a.set(h,p))}});const l=new _n(i);return new CC(a,l,s.fieldTransforms)}function _3(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[Km(e,r,n)],c=[s];if(i.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Km(e,i[p])),c.push(i[p+1]);const d=[],h=un.empty();for(let p=l.length-1;p>=0;--p)if(!kC(d,l[p])){const y=l[p];let S=c[p];S=Fe(S);const v=a.yc(y);if(S instanceof $h)d.push(y);else{const T=wa(S,v);T!=null&&(d.push(y),h.set(y,T))}}const f=new _n(d);return new CC(h,f,a.fieldTransforms)}function b3(t,e,n,r=!1){return wa(n,t.Cc(r?4:3,e))}function wa(t,e){if(AC(t=Fe(t)))return sv("Unsupported field value:",e,t),jC(t,e);if(t instanceof Fh)return function(r,s){if(!NC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=wa(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=We.fromDate(r);return{timestampValue:Ld(s.serializer,i)}}if(r instanceof We){const i=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(s.serializer,i)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:YS(s.serializer,r._byteString)};if(r instanceof tt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof br)return function(a,l){return{mapValue:{fields:{[TS]:{stringValue:SS},[Ad]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Dy(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Th(r)}`)}(t,e)}function jC(t,e){const n={};return vS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const i=wa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function AC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof _r||t instanceof kn||t instanceof tt||t instanceof Fh||t instanceof br)}function sv(t,e,n){if(!AC(n)||!gS(n)){const r=Th(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Km(t,e,n){if((e=Fe(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const E3=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(E3)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vh(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Z(B.INVALID_ARGUMENT,l+t+c)}function kC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T3 extends RC{data(){return super.data()}}function zh(t,e){return typeof e=="string"?iv(t,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class av extends ov{}function Er(t,e,...n){let r=[];e instanceof ov&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof lv).length,l=i.filter(c=>c instanceof Hh).length;if(a>1||a>0&&l>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hh extends av{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hh(e,n,r)}_apply(e){const n=this._parse(e);return DC(e._query,n),new rs(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=Bh(e.firestore);return function(i,a,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){N_(f,h);const S=[];for(const v of f)S.push(C_(c,i,v));p={arrayValue:{values:S}}}else p=C_(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||N_(f,h),p=b3(l,a,f,h==="in"||h==="not-in");return ft.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Br(t,e,n){const r=e,s=zh("where",t);return Hh._create(s,r,n)}class lv extends ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)DC(a,c),a=Vm(a,c)}(e._query,n),new rs(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(i,a)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new va(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Hs(t,e="asc"){const n=e,r=zh("orderBy",t);return cv._create(r,n)}class uv extends av{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uv(e,n,r)}_apply(e){return new rs(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}function dp(t){return _M("limit",t),uv._create("limit",t,"F")}function C_(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!ae.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $0(t,new ae(r))}if(n instanceof tt)return $0(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S3{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ad].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>ot(a.doubleValue));return new br(n)}convertGeoPoint(e){return new _r(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);je(rC(r),9688,{name:e});const s=new Yl(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function C3(){return new p3("count")}class cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pi extends RC{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pi._jsonSchema={type:pt("string",Pi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Bu extends Pi{data(e={}){return super.data(e)}}class Di{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new cl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bu(this._firestore,this._userDataWriter,r.key,r,new cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Bu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new cl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Bu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new cl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:N3(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){t=tn(t,tt);const e=tn(t.firestore,Cr);return l3(_c(e),t._key).then(n=>VC(e,t,n))}Di._jsonSchemaVersion="firestore/querySnapshot/1.0",Di._jsonSchema={type:pt("string",Di._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class Wh extends S3{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function Ln(t){t=tn(t,rs);const e=tn(t.firestore,Cr),n=_c(e),r=new Wh(e);return PC(t._query),c3(n,t._query).then(s=>new Di(e,r,t,s))}function OC(t,e,n){t=tn(t,tt);const r=tn(t.firestore,Cr),s=LC(t.converter,e);return qh(r,[IC(Bh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dn.none())])}function Kn(t,e,n,...r){t=tn(t,tt);const s=tn(t.firestore,Cr),i=Bh(s);let a;return a=typeof(e=Fe(e))=="string"||e instanceof Vh?_3(i,"updateDoc",t._key,e,n,r):w3(i,"updateDoc",t._key,e),qh(s,[a.toMutation(t._key,Dn.exists(!0))])}function I3(t){return qh(tn(t.firestore,Cr),[new Ly(t._key,Dn.none())])}function MC(t,e){const n=tn(t.firestore,Cr),r=lt(t),s=LC(t.converter,e);return qh(n,[IC(Bh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}function j3(t,...e){var c,d,h;t=Fe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||S_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(S_(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,a,l;if(t instanceof tt)a=tn(t.firestore,Cr),l=Ih(t._key.path),i={next:f=>{e[r]&&e[r](VC(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=tn(t,rs);a=tn(f.firestore,Cr),l=f._query;const p=new Wh(a);i={next:y=>{e[r]&&e[r](new Di(a,p,f,y))},error:e[r+1],complete:e[r+2]},PC(t._query)}return function(p,y,S,v){const T=new tv(v),b=new Jy(y,T,S);return p.asyncQueue.enqueueAndForget(async()=>Qy(await Fd(p),b)),()=>{T.Nu(),p.asyncQueue.enqueueAndForget(async()=>Yy(await Fd(p),b))}}(_c(a),l,s,i)}function qh(t,e){return function(r,s){const i=new vr;return r.asyncQueue.enqueueAndForget(async()=>QF(await o3(r),s,i)),i.promise}(_c(t),e)}function VC(t,e,n){const r=n.docs.get(e._key),s=new Wh(t);return new Pi(t,s,e._key,r,new cl(n.hasPendingWrites,n.fromCache),e.converter)}function uu(t){return A3(t,{count:C3()})}function A3(t,e){const n=tn(t.firestore,Cr),r=_c(n),s=kM(e,(i,a)=>new fV(a,i.aggregateType,i._internalFieldPath));return u3(r,t._query,s).then(i=>function(l,c,d){const h=new Wh(l);return new m3(c,h,d)}(n,t,i))}function k3(...t){return new rv("arrayUnion",t)}(function(e,n=!0){(function(s){ma=s})(eo),tr(new Fn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Cr(new hM(r.getProvider("auth-internal")),new mM(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(d.options.projectId,h)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),mn(j0,A0,e),mn(j0,A0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebasestorage.googleapis.com",UC="storageBucket",R3=2*60*1e3,P3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Bn{constructor(e,n,r=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function hp(t){return"storage/"+t}function dv(){const t="An unknown error occurred, please check the error payload for server response.";return new st(rt.UNKNOWN,t)}function D3(t){return new st(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function L3(t){return new st(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(rt.UNAUTHENTICATED,t)}function M3(){return new st(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V3(t){return new st(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function F3(){return new st(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U3(){return new st(rt.CANCELED,"User canceled the upload/download.")}function B3(t){return new st(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function $3(t){return new st(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function z3(){return new st(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UC+"' property when initializing the app?")}function H3(){return new st(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W3(){return new st(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q3(t){return new st(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qm(t){return new st(rt.INVALID_ARGUMENT,t)}function BC(){return new st(rt.APP_DELETED,"The Firebase app was deleted.")}function G3(t){return new st(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new st(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xa(t){throw new st(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw $3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),S={bucket:1,path:3},v=n===FC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",b=new RegExp(`^https?://${v}/${s}/${T}`,"i"),C=[{regex:l,indices:c,postModify:i},{regex:y,indices:S,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let A=0;A<C.length;A++){const O=C[A],R=O.regex.exec(e);if(R){const E=R[O.indices.bucket];let _=R[O.indices.path];_||(_=""),r=new bn(E,_),O.postModify(r);break}}if(r==null)throw B3(e);return r}}class K3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...T){d||(d=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(y,c())},T)}function p(){i&&clearTimeout(i)}function y(T,...b){if(d){p();return}if(T){p(),h.call(null,T,...b);return}if(c()||a){p(),h.call(null,T,...b);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,f(C)}let S=!1;function v(T){S||(S=!0,p(),!d&&(s!==null?(T||(l=2),clearTimeout(s),f(0)):T||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}function Y3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return t!==void 0}function J3(t){return typeof t=="object"&&!Array.isArray(t)}function hv(t){return typeof t=="string"||t instanceof String}function I_(t){return fv()&&t instanceof Blob}function fv(){return typeof Blob<"u"}function j_(t,e,n,r){if(r<e)throw Qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $C(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,s,i,a,l,c,d,h,f,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,v)=>{this.resolve_=S,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new du(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Li.NO_ERROR,c=i.getStatus();if(!l||Z3(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Li.ABORT;r(!1,new du(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new du(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());X3(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=dv();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?BC():U3();a(c)}else{const c=F3();a(c)}};this.canceled_?n(!1,new du(!1,null,!0)):this.backoffId_=Q3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class du{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i6(t,e,n,r,s,i,a=!0,l=!1){const c=$C(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return r6(h,e),t6(h,n),n6(h,i),s6(h,r),new e6(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a6(...t){const e=o6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(fv())return new Blob(t);throw new st(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){if(typeof atob>"u")throw q3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fp{constructor(e,n){this.data=e,this.contentType=n||null}}function u6(t,e){switch(t){case fr.RAW:return new fp(zC(e));case fr.BASE64:case fr.BASE64URL:return new fp(HC(t,e));case fr.DATA_URL:return new fp(h6(e),f6(e))}throw dv()}function zC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function d6(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl(fr.DATA_URL,"Malformed data URL.")}return zC(e)}function HC(t,e){switch(t){case fr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=c6(e)}catch(s){throw s.message.includes("polyfill")?s:Cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class WC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=p6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function h6(t){const e=new WC(t);return e.base64?HC(fr.BASE64,e.rest):d6(e.rest)}function f6(t){return new WC(t).contentType}function p6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){let r=0,s="";I_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(I_(this.data_)){const r=this.data_,s=l6(r,e,n);return s===null?null:new Ss(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ss(r,!0)}}static getBlob(...e){if(fv()){const n=e.map(r=>r instanceof Ss?r.data_:r);return new Ss(a6.apply(null,n))}else{const n=e.map(a=>hv(a)?u6(fr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Ss(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){let e;try{e=JSON.parse(t)}catch{return null}return J3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function g6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function GC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t,e){return e}class Xt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||y6}}let hu=null;function v6(t){return!hv(t)||t.length<2?t:GC(t)}function KC(){if(hu)return hu;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(i,a){return v6(a)}const n=new Xt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Xt("size");return s.xform=r,t.push(s),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),hu=t,hu}function x6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function w6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return x6(r,t),r}function QC(t,e,n){const r=qC(e);return r===null?null:w6(t,r,n)}function _6(t,e,n,r){const s=qC(e);if(s===null||!hv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,p="/b/"+a(h)+"/o/"+a(f),y=pv(p,n,r),S=$C({alt:"media",token:d});return y+S})[0]}function b6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class YC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){if(!t)throw dv()}function E6(t,e){function n(r,s){const i=QC(t,s,e);return XC(i!==null),i}return n}function T6(t,e){function n(r,s){const i=QC(t,s,e);return XC(i!==null),_6(i,s,t.host,t._protocol)}return n}function JC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=M3():s=O3():n.getStatus()===402?s=L3(t.bucket):n.getStatus()===403?s=V3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function S6(t){const e=JC(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=D3(t.path)),i.serverResponse=s.serverResponse,i}return n}function C6(t,e,n){const r=e.fullServerUrl(),s=pv(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new YC(s,i,T6(t,n),a);return l.errorHandler=S6(e),l}function N6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function I6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=N6(null,e)),r}function j6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let A=0;A<2;A++)C=C+Math.random().toString().slice(2);return C}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=I6(e,r,s),h=b6(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",y=Ss.getBlob(f,r,p);if(y===null)throw H3();const S={name:d.fullPath},v=pv(i,t.host,t._protocol),T="POST",b=t.maxUploadRetryTime,w=new YC(v,T,E6(t,n),b);return w.urlParams=S,w.headers=a,w.body=y.uploadData(),w.errorHandler=JC(e),w}class A6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Xa("cannot .send() more than once");if(ai(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class k6 extends A6{initXhr(){this.xhr_.responseType="text"}}function ZC(){return new k6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gi(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GC(this._location.path)}get storage(){return this._service}get parent(){const e=m6(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Gi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G3(e)}}function R6(t,e,n){t._throwIfRoot("uploadBytes");const r=j6(t.storage,t._location,KC(),new Ss(e,!0),n);return t.storage.makeRequestWithTokens(r,ZC).then(s=>({metadata:s,ref:t}))}function P6(t){t._throwIfRoot("getDownloadURL");const e=C6(t.storage,t._location,KC());return t.storage.makeRequestWithTokens(e,ZC).then(n=>{if(n===null)throw W3();return n})}function D6(t,e){const n=g6(t._location.path,e),r=new bn(t._location.bucket,n);return new Gi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){return/^[A-Za-z]+:\/\//.test(t)}function O6(t,e){return new Gi(t,e)}function eN(t,e){if(t instanceof mv){const n=t;if(n._bucket==null)throw z3();const r=new Gi(n,n._bucket);return e!=null?eN(r,e):r}else return e!==void 0?D6(t,e):t}function M6(t,e){if(e&&L6(e)){if(t instanceof mv)return O6(t,e);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return eN(t,e)}function A_(t,e){const n=e==null?void 0:e[UC];return n==null?null:bn.makeFromBucketSpec(n,t)}function V6(t,e,n,r={}){t.host=`${e}:${n}`;const s=ai(e);s&&(ly(`https://${t.host}/b`),cy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Y1(i,t.app.options.projectId))}class mv{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=FC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R3,this._maxUploadRetryTime=P3,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=A_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=A_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new K3(BC());{const a=i6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const k_="@firebase/storage",R_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="storage";function F6(t,e,n){return t=Fe(t),R6(t,e,n)}function U6(t){return t=Fe(t),P6(t)}function B6(t,e){return t=Fe(t),M6(t,e)}function $6(t=vh(),e){t=Fe(t);const r=li(t,tN).getImmediate({identifier:e}),s=G1("storage");return s&&z6(r,...s),r}function z6(t,e,n,r={}){V6(t,e,n,r)}function H6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new mv(n,r,s,e,eo)}function W6(){tr(new Fn(tN,H6,"PUBLIC").setMultipleInstances(!0)),mn(k_,R_,""),mn(k_,R_,"esm2020")}W6();const q6={apiKey:"AIzaSyAVk3CIK5hyAmjwVPh1p4i01vq-0Z5IsEA",authDomain:"zedctf.firebaseapp.com",projectId:"zedctf",storageBucket:"zedctf.firebasestorage.app",messagingSenderId:"574551910114",appId:"1:574551910114:web:8bcce937be224e1575a0bb",measurementId:"G-MEYRJGR69W"},Gh=rT(q6);iM(Gh);const ec=FL(Gh),ye=h3(Gh),G6=$6(Gh),nN=g.createContext({user:null,loading:!0}),rN=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0);return g.useEffect(()=>ND(ec,a=>{n(a),s(!1)}),[]),o.jsx(nN.Provider,{value:{user:e,loading:r},children:t})},$n=()=>{const t=g.useContext(nN);if(!t)throw new Error("useAuthContext must be used within an AuthProvider");return t},sN=g.createContext({isAdmin:!1,isModerator:!1,permissions:[],loading:!0}),K6=({children:t})=>{const{user:e}=$n(),[n,r]=g.useState({isAdmin:!1,isModerator:!1,permissions:[],loading:!0});return g.useEffect(()=>{if(!e){console.log(" AdminProvider: No user found"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1});return}return console.log(" AdminProvider: Checking user role for UID:",e.uid),j3(lt(ye,"users",e.uid),i=>{if(i.exists()){const a=i.data();console.log(" User document found:",a);const l=a.role||"user",c=a.permissions||["read"];console.log(" User role:",l),console.log(" User permissions:",c),r({isAdmin:l==="admin",isModerator:l==="moderator"||l==="admin",permissions:c,loading:!1})}else console.log(" No user document found in Firestore"),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})},i=>{console.error(" Firestore error in AdminContext:",i),console.error("Error details:",i.code,i.message),r({isAdmin:!1,isModerator:!1,permissions:[],loading:!1})})},[e]),o.jsx(sN.Provider,{value:n,children:t})},iN=()=>{const t=g.useContext(sN);if(!t)throw new Error("useAdminContext must be used within an AdminProvider");return t},Q6=({children:t})=>{const{loading:e}=$n();return e?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsx(o.Fragment,{children:t})},hs=({children:t})=>{const{user:e,loading:n}=$n();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(jR,{to:"/login",replace:!0})};function P_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ec(...t){return e=>{let n=!1;const r=t.map(s=>{const i=P_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():P_(t[s],null)}}}}function ut(...t){return g.useCallback(Ec(...t),t)}var Y6=Symbol.for("react.lazy"),Bd=Zd[" use ".trim().toString()];function X6(t){return typeof t=="object"&&t!==null&&"then"in t}function oN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Y6&&"_payload"in t&&X6(t._payload)}function gv(t){const e=Z6(t),n=g.forwardRef((r,s)=>{let{children:i,...a}=r;oN(i)&&typeof Bd=="function"&&(i=Bd(i._payload));const l=g.Children.toArray(i),c=l.find(t5);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var J6=gv("Slot");function Z6(t){const e=g.forwardRef((n,r)=>{let{children:s,...i}=n;if(oN(s)&&typeof Bd=="function"&&(s=Bd(s._payload)),g.isValidElement(s)){const a=r5(s),l=n5(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Ec(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var e5=Symbol("radix.slottable");function t5(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===e5}function n5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function r5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aN(t))&&(r&&(r+=" "),r+=e);return r}const D_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,L_=lN,Kh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return L_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=D_(h)||D_(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(S=>{let[v,T]=S;return Array.isArray(T)?T.includes({...i,...l}[v]):{...i,...l}[v]===T})?[...d,f,p]:d},[]);return L_(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},yv="-",s5=t=>{const e=o5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(yv);return l[0]===""&&l.length!==1&&l.shift(),cN(l,e)||i5(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},cN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?cN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yv);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},O_=/^\[(.+)\]$/,i5=t=>{if(O_.test(t)){const e=O_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},o5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return l5(Object.entries(t.classGroups),n).forEach(([i,a])=>{Ym(a,r,i,e)}),r},Ym=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:M_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(a5(s)){Ym(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Ym(a,M_(e,i),n,r)})})},M_=(t,e)=>{let n=t;return e.split(yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a5=t=>t.isThemeGetter,l5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,c5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},uN="!",u5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let d=0,h=0,f;for(let T=0;T<l.length;T++){let b=l[T];if(d===0){if(b===s&&(r||l.slice(T,T+i)===e)){c.push(l.slice(h,T)),h=T+i;continue}if(b==="/"){f=T;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(h),y=p.startsWith(uN),S=y?p.substring(1):p,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},d5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},h5=t=>({cache:c5(t.cacheSize),parseClassName:u5(t),...s5(t)}),f5=/\s+/,p5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(f5);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(d);let S=!!y,v=r(S?p.substring(0,y):p);if(!v){if(!S){l=d+(l.length>0?" "+l:l);continue}if(v=r(p),!v){l=d+(l.length>0?" "+l:l);continue}S=!1}const T=d5(h).join(":"),b=f?T+uN:T,w=b+v;if(i.includes(w))continue;i.push(w);const C=s(v,S);for(let A=0;A<C.length;++A){const O=C[A];i.push(b+O)}l=d+(l.length>0?" "+l:l)}return l};function m5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dN(e))&&(r&&(r+=" "),r+=n);return r}const dN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dN(t[r]))&&(n&&(n+=" "),n+=e);return n};function g5(t,...e){let n,r,s,i=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return n=h5(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=p5(c,n);return s(c,h),h}return function(){return i(m5.apply(null,arguments))}}const ze=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hN=/^\[(?:([a-z-]+):)?(.+)\]$/i,y5=/^\d+\/\d+$/,v5=new Set(["px","full","screen"]),x5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=t=>Mo(t)||v5.has(t)||y5.test(t),fs=t=>_a(t,"length",k5),Mo=t=>!!t&&!Number.isNaN(Number(t)),pp=t=>_a(t,"number",Mo),Ja=t=>!!t&&Number.isInteger(Number(t)),T5=t=>t.endsWith("%")&&Mo(t.slice(0,-1)),me=t=>hN.test(t),ps=t=>x5.test(t),S5=new Set(["length","size","percentage"]),C5=t=>_a(t,S5,fN),N5=t=>_a(t,"position",fN),I5=new Set(["image","url"]),j5=t=>_a(t,I5,P5),A5=t=>_a(t,"",R5),Za=()=>!0,_a=(t,e,n)=>{const r=hN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},k5=t=>w5.test(t)&&!_5.test(t),fN=()=>!1,R5=t=>b5.test(t),P5=t=>E5.test(t),D5=()=>{const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),a=ze("borderSpacing"),l=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),h=ze("hueRotate"),f=ze("invert"),p=ze("gap"),y=ze("gradientColorStops"),S=ze("gradientColorStopPositions"),v=ze("inset"),T=ze("margin"),b=ze("opacity"),w=ze("padding"),C=ze("saturate"),A=ze("scale"),O=ze("sepia"),R=ze("skew"),E=ze("space"),_=ze("translate"),k=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",me,e],I=()=>[me,e],j=()=>["",kr,fs],z=()=>["auto",Mo,me],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",me],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Mo,me];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[kr,fs],blur:["none","",ps,me],brightness:V(),borderColor:[t],borderRadius:["none","","full",ps,me],borderSpacing:I(),borderWidth:j(),contrast:V(),grayscale:U(),hueRotate:V(),invert:U(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[T5,fs],inset:D(),margin:D(),opacity:V(),padding:I(),saturate:V(),scale:V(),sepia:U(),skew:V(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),me]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,me]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ja,me]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,me]},me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,me]},me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pp]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Mo,pp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,fs]}],"underline-offset":[{"underline-offset":["auto",kr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),N5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[kr,me]}],"outline-w":[{outline:[kr,fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[kr,fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ps,A5]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ps,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ja,me]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kr,fs,pp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L5=g5(D5);function Pe(...t){return L5(lN(t))}const O5=Kh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 shadow-[0_0_20px_rgba(0,255,136,0.3)] hover:shadow-[0_0_30px_rgba(0,255,136,0.6)]",terminal:"bg-card border border-primary/30 text-primary hover:border-primary hover:bg-primary/10 font-mono"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?J6:"button";return o.jsx(a,{className:Pe(O5({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...V5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pN("lucide",s),...l},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(F5,{ref:i,iconNode:e,className:pN(`lucide-${M5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=re("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=re("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=re("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=re("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=re("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=re("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=re("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),aU="/ZedCTF/favicon.png",mt=()=>{var d;const[t,e]=g.useState(!1),{user:n}=$n(),{isAdmin:r,isModerator:s}=iN(),i=ir(),[a,l]=g.useState(!1),c=async()=>{l(!0);try{await ID(ec),i("/"),e(!1)}catch(h){console.error("Error signing out:",h)}finally{l(!1)}};return o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur-lg supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:aU,alt:"ZedCTF",className:"w-8 h-8"}),o.jsx("span",{className:"text-2xl font-bold text-green-600 animate-pulse-glow",children:"ZedCTF"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(B_,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Home"]}),o.jsxs(Ve,{to:"/dashboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx($d,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Dashboard"]}),o.jsxs(Ve,{to:"/practice",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(Yn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Practice"]}),o.jsxs(Ve,{to:"/live",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsx(U_,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"LIVE CTF"]}),o.jsxs(Ve,{to:"/leaderboard",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(nn,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Leaderboard"]}),o.jsxs(Ve,{to:"/writeups",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(zd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Writeups"]}),(r||s)&&o.jsxs(Ve,{to:"/admin",className:"flex items-center gap-2 text-foreground/80 hover:text-green-600 transition-colors group",children:[o.jsx(nt,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Admin"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ee,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:o.jsx(Tc,{className:"w-5 h-5"})}),o.jsxs(ee,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(B5,{className:"w-5 h-5"}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),o.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:o.jsx(tU,{className:"w-5 h-5"})}),n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-foreground/80 hidden sm:block",children:n.displayName||((d=n.email)==null?void 0:d.split("@")[0])}),o.jsxs(ee,{variant:"default",size:"sm",className:"bg-red-500 hover:bg-red-600 text-white gap-2",onClick:c,disabled:a,children:[a?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(z_,{className:"w-4 h-4"}),a?"...":"Logout"]})]}):o.jsx(Ve,{to:"/login",children:o.jsxs(ee,{variant:"default",size:"sm",className:"bg-green-500 hover:bg-green-600 text-white animate-glow gap-2",children:[o.jsx(On,{className:"w-4 h-4"}),"Sign In"]})})]})]}),t&&o.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-lg animate-fade-in",children:o.jsxs("div",{className:"py-4 space-y-4",children:[o.jsxs(Ve,{to:"/",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(B_,{className:"w-5 h-5"}),"Home"]}),o.jsxs(Ve,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx($d,{className:"w-5 h-5"}),"Dashboard"]}),o.jsxs(Ve,{to:"/practice",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(Yn,{className:"w-5 h-5"}),"Practice"]}),o.jsxs(Ve,{to:"/live",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),o.jsx(U_,{className:"w-5 h-5"}),"LIVE CTF"]}),o.jsxs(Ve,{to:"/leaderboard",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(nn,{className:"w-5 h-5"}),"Leaderboard"]}),o.jsxs(Ve,{to:"/writeups",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(zd,{className:"w-5 h-5"}),"Writeups"]}),(r||s)&&o.jsxs(Ve,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-foreground/80 hover:text-green-600 hover:bg-accent rounded-lg transition-all",onClick:()=>e(!1),children:[o.jsx(nt,{className:"w-5 h-5"}),"Admin"]}),o.jsx("div",{className:"px-4 pt-2 border-t border-border",children:n?o.jsxs(ee,{variant:"default",className:"w-full justify-start gap-2 bg-red-500 hover:bg-red-600",onClick:c,disabled:a,children:[a?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(z_,{className:"w-4 h-4"}),a?"Signing out...":"Logout"]}):o.jsx(Ve,{to:"/login",onClick:()=>e(!1),children:o.jsxs(ee,{variant:"default",className:"w-full justify-start gap-2 bg-green-500 hover:bg-green-600",children:[o.jsx(On,{className:"w-4 h-4"}),"Sign In"]})})})]})})]})})},lU="/ZedCTF/assets/hero-bg-x4dJ88o_.jpg",cU=()=>{const[t,e]=g.useState({totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0}),[n,r]=g.useState(!0),s=ir(),i=async()=>{try{const c={totalUsers:0,totalChallenges:0,liveEvents:0,totalCompletions:0},d=["users","user","members","profiles"];for(const y of d)try{const v=(await uu(jt(ye,y))).data().count;if(v>0){c.totalUsers=v;break}}catch{continue}const h=["challenges","challenge","ctfChallenges","practice"];for(const y of h)try{const v=(await uu(jt(ye,y))).data().count;if(v>0){c.totalChallenges=v;break}}catch{continue}const f=["events","event","liveEvents","competitions"];for(const y of f)try{const v=(await uu(jt(ye,y))).data().count;if(v>0){c.liveEvents=v;break}}catch{continue}const p=["submissions","submission","solves","completions"];for(const y of p)try{const v=(await uu(jt(ye,y))).data().count;if(v>0){c.totalCompletions=v;break}}catch{continue}if(c.totalCompletions===0&&c.totalUsers>0)try{const y=await Ln(jt(ye,"users"));let S=0;y.forEach(v=>{const T=v.data();S+=T.challengesSolved||T.solvedChallenges||T.totalSolved||0}),c.totalCompletions=S}catch{}e(c)}catch{console.log("Stats loading completed")}finally{r(!1)}};g.useEffect(()=>{i()},[]);const a=()=>{s("/practice")},l=()=>{s("/live")};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${lU})`}}),o.jsx("div",{className:"absolute inset-0 cyber-grid opacity-10"}),o.jsx("div",{className:"container relative z-10 px-4 py-32",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-primary/30 bg-primary/5 mb-4",children:[o.jsx(xN,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm text-primary font-mono",children:"Zambia's Premier CTF Platform"})]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Master Cybersecurity",o.jsx("br",{}),o.jsx("span",{className:"neon-text animate-pulse-glow",children:"Capture The Flag"})]}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sharpen your hacking skills, compete in real-time challenges, and climb the leaderboard. From beginner to expert, ZedCTF is your gateway to cybersecurity mastery."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[o.jsxs(ee,{onClick:a,variant:"neon",size:"lg",className:"group",children:["Start Practicing",o.jsx(U5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(ee,{onClick:l,variant:"terminal",size:"lg",children:[o.jsx(G5,{className:"w-5 h-5"}),"Join LIVE Event"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-12 max-w-3xl mx-auto",children:[o.jsx(fu,{loading:n,value:t.totalUsers,label:"Registered Users",icon:o.jsx(nn,{className:"w-5 h-5"})}),o.jsx(fu,{loading:n,value:t.totalChallenges,label:"Challenges",icon:o.jsx(nt,{className:"w-5 h-5"})}),o.jsx(fu,{loading:n,value:t.liveEvents,label:"Live Events",icon:o.jsx(Zs,{className:"w-5 h-5"})}),o.jsx(fu,{loading:n,value:t.totalCompletions,label:"Completions",icon:o.jsx(Yn,{className:"w-5 h-5"})})]}),!n&&o.jsx("div",{className:"mt-4",children:o.jsx(ee,{variant:"outline",size:"sm",onClick:i,children:"Refresh Stats"})})]})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"})]})},fu=({loading:t,value:e,label:n,icon:r})=>t?o.jsxs("div",{className:"text-center animate-pulse",children:[o.jsx("div",{className:"h-8 bg-muted rounded w-16 mx-auto mb-2"}),o.jsx("div",{className:"h-4 bg-muted rounded w-20 mx-auto"})]}):o.jsxs("div",{className:"text-center group",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl md:text-3xl font-bold text-primary mb-1",children:[r,e.toLocaleString()]}),o.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:n})]}),gt=()=>o.jsx("footer",{className:"border-t border-border bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(nt,{className:"w-8 h-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold neon-text",children:"ZedCTF"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Zambia's premier platform for cybersecurity challenges and training."}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"An initiative by IT Society of Kapasa Makasa University"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Platform"}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("li",{children:o.jsx(Ve,{to:"/dashboard",className:"hover:text-primary transition-colors",children:"Dashboard"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/practice",className:"hover:text-primary transition-colors",children:"Practice"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/live",className:"hover:text-primary transition-colors",children:"LIVE Events"})}),o.jsx("li",{children:o.jsx(Ve,{to:"/leaderboard",className:"hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Resources"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.jsx("li",{children:o.jsx(Ve,{to:"/writeups",className:"hover:text-primary transition-colors",children:"Walkthroughs"})})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-primary",children:"Connect"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx("a",{href:"https://github.com/ZedCTF/ZedCTF",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(Y5,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(iU,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(Z5,{className:"w-5 h-5"})}),o.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:o.jsx(_N,{className:"w-5 h-5"})})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-sm mb-2 text-primary flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),"Contributors"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[o.jsx("a",{href:"https://github.com/SokoJames",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"James Soko"}),o.jsx("a",{href:"https://github.com/abbymwale24",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Abby Mwale"}),o.jsx("a",{href:"https://github.com/Joylad-Jangazya",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Joylad Jangazya"}),o.jsx("a",{href:"https://github.com/Kono-hub",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Mary Chanda"}),o.jsx("a",{href:"https://github.com/ronny-brawn",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Aaron Nyakapanda"}),o.jsx("a",{href:"https://github.com/threat23",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Humphery Chileshe"})]})]})]})]}),o.jsxs("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:" 2025 ZedCTF. All rights reserved. Made with  in Zambia"}),o.jsx("p",{className:"mt-1",children:"IT Society of Kapasa Makasa University"})]})]})}),uU=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(mt,{}),o.jsx(cU,{}),o.jsx(gt,{})]}),dU=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState({email:"",password:"",rememberMe:!1}),h=ir(),f=new Dr;f.addScope("read:user"),f.addScope("user:email");const p=async T=>{T.preventDefault(),l(""),i(!0);try{await ED(ec,c.email,c.password),h("/dashboard")}catch(b){console.error("Login error:",b),l(S(b.code))}finally{i(!1)}},y=async()=>{var T,b,w;r(!0),l("");try{const A=(await KD(ec,f)).user;(await bc(lt(ye,"users",A.uid))).exists()||await OC(lt(ye,"users",A.uid),{uid:A.uid,firstName:((T=A.displayName)==null?void 0:T.split(" ")[0])||"GitHub",lastName:((b=A.displayName)==null?void 0:b.split(" ").slice(1).join(" "))||"User",username:((w=A.email)==null?void 0:w.split("@")[0])||`github_${A.uid.slice(0,8)}`,email:A.email,displayName:A.displayName||"GitHub User",photoURL:A.photoURL,provider:"github",createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(C){console.error("GitHub login error:",C),C.code==="auth/account-exists-with-different-credential"?l("An account already exists with the same email address but different sign-in credentials."):C.code==="auth/popup-closed-by-user"?console.log("GitHub login popup closed by user"):l("GitHub login failed. Please try again.")}finally{r(!1)}},S=T=>{switch(T){case"auth/invalid-email":return"Invalid email address format.";case"auth/user-disabled":return"This account has been disabled.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials.";default:return"Login failed. Please try again."}},v=T=>{const{name:b,value:w,type:C,checked:A}=T.target;d(O=>({...O,[b]:C==="checkbox"?A:w}))};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx(nt,{className:"w-10 h-10 text-primary"}),o.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-muted-foreground",children:"Access your cybersecurity dashboard"})]}),a&&o.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:a}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),o.jsx("div",{className:"relative",children:o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:v,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:v,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all pr-12",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?o.jsx(Wd,{className:"w-5 h-5"}):o.jsx(ra,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{name:"rememberMe",type:"checkbox",checked:c.rememberMe,onChange:v,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2",disabled:s}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),o.jsx("a",{href:"#",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),o.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?o.jsx(qd,{className:"w-5 h-5 animate-spin"}):o.jsx(eU,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),s?"Signing in...":"Access Dashboard"]})]}),o.jsxs("div",{className:"my-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-border"}),o.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or continue with"}),o.jsx("div",{className:"flex-1 border-t border-border"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("button",{onClick:y,disabled:n||s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-muted/50 border border-border rounded-lg text-foreground hover:bg-muted transition-colors hover:border-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:[n?o.jsx(qd,{className:"w-5 h-5 animate-spin"}):o.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),n?"Signing in with GitHub...":"Continue with GitHub"]})}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-muted-foreground",children:["New to ZedCTF?"," ",o.jsx(Ve,{to:"/signup",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Create an account"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),o.jsx(gt,{})]})},hU=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState({firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:"",agreeToTerms:!1}),h=ir(),f=async S=>{if(S.preventDefault(),l(""),c.password!==c.confirmPassword){l("Passwords don't match!");return}if(c.password.length<6){l("Password should be at least 6 characters");return}if(!c.agreeToTerms){l("Please agree to the terms and conditions");return}i(!0);try{const T=(await bD(ec,c.email,c.password)).user;await IT(T,{displayName:`${c.firstName} ${c.lastName}`.trim()}),await OC(lt(ye,"users",T.uid),{uid:T.uid,firstName:c.firstName,lastName:c.lastName,username:c.username,email:c.email,displayName:`${c.firstName} ${c.lastName}`.trim(),createdAt:new Date,updatedAt:new Date,totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m"}),h("/dashboard")}catch(v){console.error("Registration error:",v),l(p(v.code))}finally{i(!1)}},p=S=>{switch(S){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/invalid-email":return"Invalid email address format.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled.";case"auth/weak-password":return"Password is too weak.";default:return"Registration failed. Please try again."}},y=S=>{const{name:v,value:T,type:b,checked:w}=S.target;d(C=>({...C,[v]:b==="checkbox"?w:T}))};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx(nt,{className:"w-10 h-10 text-primary"}),o.jsx("span",{className:"text-3xl font-bold text-foreground",children:"ZedCTF"})]}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Join the Community"}),o.jsx("p",{className:"text-muted-foreground",children:"Start your cybersecurity journey today"})]}),a&&o.jsx("div",{className:"mb-6 bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg text-sm",children:a}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:c.firstName,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"John",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-2",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:c.lastName,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Doe",disabled:s})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"hacker@zedctf.com",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-2",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:c.username,onChange:y,className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"cyber_hacker",disabled:s})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:c.password,onChange:y,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:t?o.jsx(Wd,{className:"w-5 h-5"}):o.jsx(ra,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:c.confirmPassword,onChange:y,className:"w-full pl-10 pr-12 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",disabled:s}),o.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:s,children:n?o.jsx(Wd,{className:"w-5 h-5"}):o.jsx(ra,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"flex items-start",children:o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{name:"agreeToTerms",type:"checkbox",checked:c.agreeToTerms,onChange:y,className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary focus:ring-2 mt-1",disabled:s}),o.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Privacy Policy"})]})]})}),o.jsxs("button",{type:"submit",disabled:s||!c.agreeToTerms,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[s?o.jsx(qd,{className:"w-5 h-5 animate-spin"}):o.jsx(oU,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s?"Creating Account...":"Create Account"]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",o.jsx(Ve,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Sign in"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:" Your security is our priority. All connections are encrypted."})})]})}),o.jsx(gt,{})]})},fU=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(""),[h,f]=g.useState("all"),[p,y]=g.useState("all"),[S,v]=g.useState("all"),[T,b]=g.useState(!0),[w]=g.useState(!1),C=async()=>{try{b(!0);const E=await fetch("/api/writeups");if(E.ok){const _=await E.json();e(_),r(_);const k=Array.from(new Set(_.map(D=>D.category))).filter(Boolean),N=Array.from(new Set(_.map(D=>D.difficulty))).filter(Boolean);i(k),l(N)}else e([]),r([]),i([]),l([])}catch{e([]),r([]),i([]),l([])}finally{b(!1)}};g.useEffect(()=>{C()},[]),g.useEffect(()=>{let R=t;c&&(R=R.filter(E=>E.title.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase())||E.tags.some(_=>_.toLowerCase().includes(c.toLowerCase())))),h!=="all"&&(R=R.filter(E=>E.category===h)),p!=="all"&&(R=R.filter(E=>E.difficulty===p)),S!=="all"&&(R=R.filter(E=>E.status===S)),r(R)},[c,h,p,S,t]);const A=R=>{switch(R){case"approved":return o.jsx(Ai,{className:"w-4 h-4 text-green-400"});case"rejected":return o.jsx(Hd,{className:"w-4 h-4 text-red-400"});default:return o.jsx(Zs,{className:"w-4 h-4 text-yellow-400"})}},O=R=>{switch(R.toLowerCase()){case"easy":return"bg-primary/20 text-primary border-primary/30";case"medium":return"bg-secondary/20 text-secondary border-secondary/30";case"hard":return"bg-destructive/20 text-destructive border-destructive/30";case"insane":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"expert":return"bg-red-500/20 text-red-500 border-red-500/30";case"beginner":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted-foreground border-muted/30"}};return T?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading writeups..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(nt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Community ",o.jsx("span",{className:"text-primary",children:"Writeups"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Learn from other players' solutions and share your own approaches"})]}),o.jsxs("div",{className:"bg-muted/20 border border-border rounded-lg p-6 mb-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search writeups, tags, challenges...",value:c,onChange:R=>d(R.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})}),o.jsx("div",{children:o.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Categories"}),s.map(R=>o.jsx("option",{value:R,children:R},R))]})}),o.jsx("div",{children:o.jsxs("select",{value:p,onChange:R=>y(R.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Difficulties"}),a.map(R=>o.jsx("option",{value:R,children:R},R))]})})]}),w&&o.jsx("div",{className:"mt-4",children:o.jsxs("select",{value:S,onChange:R=>v(R.target.value),className:"w-full md:w-auto px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs(Ve,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[o.jsx(ei,{className:"w-5 h-5"}),"New Writeup"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(R=>o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(R.difficulty)}`,children:R.difficulty}),o.jsxs("div",{className:"flex items-center gap-1",children:[A(R.status),o.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:R.status})]})]}),o.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded border border-primary/20 mb-3",children:R.category}),o.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:R.title}),o.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:R.description}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[o.jsx(zd,{className:"w-4 h-4"}),o.jsxs("span",{children:["Challenge: ",R.challenge]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[R.tags.slice(0,3).map((E,_)=>o.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["#",E]},_)),R.tags.length>3&&o.jsxs("span",{className:"px-2 py-1 bg-muted text-muted-foreground text-xs rounded border border-border",children:["+",R.tags.length-3]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center",children:o.jsx(On,{className:"w-3 h-3 text-primary"})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:R.author.name})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ra,{className:"w-4 h-4"}),o.jsx("span",{children:R.views})]}),o.jsx("span",{children:new Date(R.createdAt).toLocaleDateString()})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Ve,{to:`/writeups/${R.id}`,className:"flex-1 bg-primary/10 text-primary border border-primary/20 py-2 px-4 rounded-lg text-center hover:bg-primary/20 transition-colors",children:"Read"}),w&&R.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"flex-1 bg-green-500/10 text-green-500 border border-green-500/20 py-2 px-4 rounded-lg hover:bg-green-500/20 transition-colors",children:"Approve"}),o.jsx("button",{className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 py-2 px-4 rounded-lg hover:bg-red-500/20 transition-colors",children:"Reject"})]})]})]},R.id))}),n.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zd,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No writeups found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"No writeups have been submitted yet. Be the first to share your solution!":"Try adjusting your search or filters"}),o.jsxs(Ve,{to:"/writeups/create",className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 inline-flex items-center gap-2",children:[o.jsx(ei,{className:"w-5 h-5"}),"Create First Writeup"]})]})]})}),o.jsx(gt,{})]})},pU=()=>{const t=ir(),[e,n]=g.useState(""),[r,s]=g.useState(""),[i,a]=g.useState(""),[l,c]=g.useState(""),[d,h]=g.useState(""),[f,p]=g.useState(""),[y,S]=g.useState(""),[v,T]=g.useState(!1),[b,w]=g.useState([]),[C,A]=g.useState([]),[O,R]=g.useState([]),[E,_]=g.useState(!0),k=async()=>{try{_(!0);const I="/api/challenges/available",j="/api/categories",z="/api/difficulties",[X,q,J]=await Promise.all([fetch(I),fetch(j),fetch(z)]);if(X.ok){const L=await X.json();w(L)}else w([]);if(q.ok){const L=await q.json();A(L),L.length>0&&h(L[0])}else A([]);if(J.ok){const L=await J.json();R(L),L.length>0&&p(L[0])}else R([])}catch{w([]),A([]),R([])}finally{_(!1)}},N=async I=>{I.preventDefault(),T(!0);try{(await fetch("/api/writeups/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:r,content:i,challengeId:l,category:d,difficulty:f,tags:y.split(",").map(z=>z.trim()).filter(z=>z)})})).ok?t("/writeups"):console.error("Failed to create writeup")}catch(j){console.error("Error creating writeup:",j)}finally{T(!1)}},D=(I,j)=>{document.execCommand(I,!1,j)};return g.useEffect(()=>{if(l){const I=b.find(j=>j.id===l);I&&(h(I.category),p(I.difficulty))}},[l,b]),g.useEffect(()=>{k()},[]),E?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading form data..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto max-w-4xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(nt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Create ",o.jsx("span",{className:"text-primary",children:"Writeup"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Share your solution and help others learn from your approach"})]}),o.jsxs("form",{id:"writeup-form",onSubmit:N,className:"space-y-8",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Basic Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Writeup Title *"}),o.jsx("input",{type:"text",required:!0,value:e,onChange:I=>n(I.target.value),placeholder:"Enter a compelling title for your writeup...",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-lg font-semibold"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),o.jsx("textarea",{required:!0,value:r,onChange:I=>s(I.target.value),placeholder:"Brief description of your writeup...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Challenge *"}),o.jsxs("select",{required:!0,value:l,onChange:I=>c(I.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[o.jsx("option",{value:"",children:"Select a challenge"}),b.map(I=>o.jsx("option",{value:I.id,children:I.title},I.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category *"}),o.jsx("select",{required:!0,value:d,onChange:I=>h(I.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:C.map(I=>o.jsx("option",{value:I,children:I},I))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty *"}),o.jsx("select",{required:!0,value:f,onChange:I=>p(I.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:O.map(I=>o.jsx("option",{value:I,children:I},I))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),o.jsx("input",{type:"text",value:y,onChange:I=>S(I.target.value),placeholder:"Comma-separated tags (e.g., sql-injection, web, bypass)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-card-foreground mb-6",children:"Writeup Content"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 p-3 bg-muted/20 rounded-lg border border-border",children:[o.jsx("button",{type:"button",onClick:()=>D("bold"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bold",children:o.jsx($5,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>D("italic"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Italic",children:o.jsx(J5,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>D("insertUnorderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Bullet List",children:o.jsx(Xm,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>D("insertOrderedList"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Numbered List",children:o.jsx(Xm,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>{const I=prompt("Enter URL:");I&&D("createLink",I)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Link",children:o.jsx(sa,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>D("formatBlock","<pre>"),className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Code Block",children:o.jsx(K5,{className:"w-4 h-4 text-foreground"})}),o.jsx("button",{type:"button",onClick:()=>{const I=prompt("Enter image URL:");I&&D("insertImage",I)},className:"p-2 rounded hover:bg-primary/10 transition-colors",title:"Insert Image",children:o.jsx(X5,{className:"w-4 h-4 text-foreground"})})]}),o.jsx("div",{contentEditable:!0,onInput:I=>a(I.currentTarget.innerHTML),className:"min-h-[400px] px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all prose prose-invert max-w-none",style:{fontFamily:"Georgia, serif",fontSize:"16px",lineHeight:"1.6"},"data-placeholder":"Start writing your amazing writeup here... You can include code snippets, images, and formatted text."}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Pro tips:"})]}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Use the toolbar above to format your text"}),o.jsx("li",{children:"Include code snippets using the code block button"}),o.jsx("li",{children:"Add images to illustrate your steps"}),o.jsx("li",{children:"Break down complex solutions into clear steps"}),o.jsx("li",{children:"Share your thought process and learning moments"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 bg-muted text-muted-foreground rounded-lg font-semibold hover:bg-muted/80 transition-colors",onClick:()=>t("/writeups"),children:[o.jsx(ra,{className:"w-4 h-4"}),"Cancel"]}),o.jsxs("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[v?o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}):o.jsx(bN,{className:"w-4 h-4"}),v?"Publishing...":"Publish Writeup"]})]})]})]})}),o.jsx(gt,{})]})},q_=()=>new Promise(t=>{setTimeout(()=>{const e={id:"github-"+Date.now(),username:"zedctf_user",email:"user@zedctf.com",name:"ZedCTF User",avatar:"https://github.com/github.png",provider:"github"};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true"),t(e)},1500)}),mU=()=>{const[t,e]=g.useState("loading"),[n,r]=g.useState(""),s=ir();return g.useEffect(()=>{(async()=>{const a=new URLSearchParams(window.location.search),l=a.get("code");if(a.get("error")){e("error"),r("GitHub authentication failed. Please try again.");return}try{if(await new Promise(d=>setTimeout(d,2e3)),l){const d=await q_();e("success"),r(`Welcome, ${d.username}! Successfully authenticated with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}else{const d=await q_();e("success"),r(`Welcome, ${d.username}! Successfully signed in with GitHub.`),setTimeout(()=>s("/ZedCTF/"),2e3)}}catch(d){e("error"),r("Authentication failed. Please try again."),console.error("GitHub callback error:",d)}})()},[s]),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsx(nt,{className:"w-10 h-10 text-green-400"}),o.jsx("span",{className:"text-3xl font-bold text-white",children:"ZedCTF"})]}),o.jsxs("div",{className:"space-y-4",children:[t==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx(qd,{className:"w-12 h-12 text-green-400 animate-spin mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Connecting to GitHub..."}),o.jsx("p",{className:"text-gray-300",children:"Please wait while we authenticate your account."})]}),t==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(Ai,{className:"w-12 h-12 text-green-400 mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Successful!"}),o.jsx("p",{className:"text-gray-300",children:n}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Redirecting to homepage..."})]}),t==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(Hd,{className:"w-12 h-12 text-red-400 mx-auto"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-300",children:n}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Back to Login"}),o.jsx("button",{onClick:()=>s("/signup"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Sign Up"})]})]})]})]})})},gU=()=>{const t=fa();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},se=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));se.displayName="Card";const _e=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const be=g.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));be.displayName="CardTitle";const Et=g.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));Et.displayName="CardDescription";const oe=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("p-6 pt-0",t),...e}));oe.displayName="CardContent";const yU=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",t),...e}));yU.displayName="CardFooter";const vU=({isOpen:t,onClose:e})=>{const{user:n}=$n(),[r,s]=g.useState(!1),[i,a]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[h,f]=g.useState({displayName:"",bio:"",role:"student",institution:""}),[p,y]=g.useState(null),[S,v]=g.useState("");g.useEffect(()=>{t&&n&&(async()=>{try{const E=await bc(lt(ye,"users",n.uid));if(E.exists()){const _=E.data();f({displayName:_.displayName||n.displayName||"",bio:_.bio||"",role:_.role||"student",institution:_.institution||""}),v(_.photoURL||n.photoURL||"")}else f({displayName:n.displayName||"",bio:"",role:"student",institution:""}),v(n.photoURL||"")}catch(E){console.error("Error fetching user data:",E)}})()},[t,n]);const T=R=>{const{name:E,value:_}=R.target;f(k=>({...k,[E]:_}))},b=async R=>{var _;const E=(_=R.target.files)==null?void 0:_[0];if(E){if(!E.type.startsWith("image/")){alert("Please select an image file");return}if(E.size>2*1024*1024){alert("Image size should be less than 2MB for faster upload");return}y(E);const k=URL.createObjectURL(E);v(k)}},w=(R,E=800,_=.8)=>new Promise((k,N)=>{const D=document.createElement("canvas"),I=D.getContext("2d"),j=new Image;j.onload=()=>{let z=j.width,X=j.height;z>E&&(X=X*E/z,z=E),D.width=z,D.height=X,I==null||I.drawImage(j,0,0,z,X),D.toBlob(q=>{if(q){const J=new File([q],R.name,{type:"image/jpeg",lastModified:Date.now()});k(J)}else N(new Error("Image compression failed"))},"image/jpeg",_)},j.onerror=N,j.src=URL.createObjectURL(R)}),C=async(R,E)=>{const _=await w(R),N=`profile_${Date.now()}.jpg`,D=B6(G6,`profile-pictures/${E}/${N}`),I=await F6(D,_);return await U6(I.ref)},A=async R=>{if(R.preventDefault(),!!n){s(!0),c(!1);try{let E=n.photoURL;if(p){a(!0);try{E=await C(p,n.uid),console.log("Profile image uploaded successfully")}catch(k){console.error("Error uploading image:",k)}finally{a(!1)}}const _=[];(h.displayName!==n.displayName||E!==n.photoURL)&&_.push(IT(n,{displayName:h.displayName,photoURL:E})),_.push(Kn(lt(ye,"users",n.uid),{displayName:h.displayName,bio:h.bio,role:h.role,institution:h.institution,photoURL:E,updatedAt:new Date})),await Promise.all(_),console.log("Profile updated successfully"),c(!0),setTimeout(()=>{e(),window.location.reload()},1e3)}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Please try again.")}finally{s(!1)}}},O=()=>{var R;(R=d.current)==null||R.click()};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Edit Profile"}),o.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",disabled:r,children:o.jsx(nc,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[l&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[o.jsx(Ai,{className:"w-5 h-5"}),"Profile updated successfully!"]}),o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-muted/50 border-2 border-border flex items-center justify-center overflow-hidden",children:S?o.jsx("img",{src:S,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx(On,{className:"w-12 h-12 text-muted-foreground"})}),o.jsx("button",{type:"button",onClick:O,disabled:i||r,className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 hover:bg-primary/90 transition-colors disabled:opacity-50",children:i?o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}):o.jsx(z5,{className:"w-4 h-4"})}),o.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:b,className:"hidden",disabled:i||r})]}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:i?"Uploading image...":"Click the camera icon to upload a profile picture (max 2MB)"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-2",children:"Display Name"}),o.jsx("input",{id:"displayName",name:"displayName",type:"text",value:h.displayName,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Enter your display name",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-foreground mb-2",children:"Bio"}),o.jsx("textarea",{id:"bio",name:"bio",rows:3,value:h.bio,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",placeholder:"Tell us about yourself...",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"I am a"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"student",label:"Student",icon:wN},{value:"lecturer",label:"Lecturer",icon:nn},{value:"expert",label:"Expert",icon:mN},{value:"general",label:"General User",icon:On}].map(({value:R,label:E,icon:_})=>o.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-all ${h.role===R?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 text-foreground"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("input",{type:"radio",name:"role",value:R,checked:h.role===R,onChange:T,className:"hidden",disabled:r}),o.jsx(_,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:E})]},R))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-foreground mb-2",children:"Institution"}),o.jsx("input",{id:"institution",name:"institution",type:"text",value:h.institution,onChange:T,className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Your school, university, or organization",disabled:r})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,disabled:r,className:"flex-1 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-muted transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r||i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Saving..."]}):"Save Changes"})]})]})]})}):null},xU=()=>{var w,C;const{user:t}=$n();ir();const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState([]),[d,h]=g.useState(!0),[f,p]=g.useState(!1),[y,S]=g.useState(null),v=A=>{switch(A){case"student":return o.jsx(wN,{className:"w-4 h-4"});case"lecturer":return o.jsx(nn,{className:"w-4 h-4"});case"expert":return o.jsx(mN,{className:"w-4 h-4"});default:return o.jsx(On,{className:"w-4 h-4"})}},T=A=>{switch(A){case"student":return"Student";case"lecturer":return"Lecturer";case"expert":return"Expert";default:return"General User"}},b=async()=>{var A,O,R;if(t)try{h(!0),console.log("Fetching real dashboard data for user:",t.uid);const E=await bc(lt(ye,"users",t.uid));if(E.exists()){const _=E.data();console.log("Real user data from Firestore:",_),S(_),n({totalPoints:_.totalPoints||0,challengesSolved:_.challengesSolved||0,currentRank:_.currentRank||0,timeSpent:_.timeSpent||"0h 0m",username:_.username||((A=t==null?void 0:t.email)==null?void 0:A.split("@")[0])||"Hacker",joinDate:_.createdAt||(t==null?void 0:t.metadata.creationTime)||new Date().toISOString(),firstName:_.firstName,lastName:_.lastName,displayName:_.displayName,bio:_.bio,role:_.role,institution:_.institution,photoURL:_.photoURL})}else console.log("No user document found in Firestore"),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((O=t==null?void 0:t.email)==null?void 0:O.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()});try{const _=Er(jt(ye,"challenges"),Br("solvedBy","array-contains",t.uid),Hs("solvedAt","desc"),dp(5)),N=(await Ln(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real solved challenges:",N),s(N)}catch{console.log("No challenges collection or no solved challenges yet"),s([])}try{const _=Er(jt(ye,"events"),Br("participants","array-contains",t.uid),Hs("date","desc"),dp(5)),N=(await Ln(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real events participated:",N),a(N)}catch{console.log("No events collection or no events participated yet"),a([])}try{const _=Er(jt(ye,"activity"),Br("userId","==",t.uid),Hs("timestamp","desc"),dp(10)),N=(await Ln(_)).docs.map(D=>({id:D.id,...D.data()}));console.log("Real user activity:",N),c(N)}catch{console.log("No activity collection yet, creating default activity");const k={id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date,userId:t.uid};c([k])}}catch(E){console.error("Error fetching real dashboard data:",E),n({totalPoints:0,challengesSolved:0,currentRank:0,timeSpent:"0h 0m",username:((R=t==null?void 0:t.email)==null?void 0:R.split("@")[0])||"Hacker",joinDate:(t==null?void 0:t.metadata.creationTime)||new Date().toISOString()}),s([]),a([]),c([{id:"welcome",action:"Account Created",description:"Welcome to ZedCTF! Start your cybersecurity journey.",timestamp:(t==null?void 0:t.metadata.creationTime)||new Date}])}finally{h(!1)}};return g.useEffect(()=>{t&&b()},[t]),d?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"dashboard",className:"pt-24 pb-16 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center overflow-hidden border-2 border-primary/30",children:t!=null&&t.photoURL||y!=null&&y.photoURL?o.jsx("img",{src:(t==null?void 0:t.photoURL)||(y==null?void 0:y.photoURL),alt:"Profile",className:"w-full h-full object-cover"}):o.jsx(On,{className:"w-8 h-8 text-primary"})}),o.jsx("button",{onClick:()=>p(!0),className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/90 transition-colors",title:"Edit Profile",children:o.jsx(EN,{className:"w-3 h-3"})})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-4xl font-bold",children:["Welcome back,"," ",o.jsx("span",{className:"text-primary",children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||(e==null?void 0:e.username)||((w=t==null?void 0:t.email)==null?void 0:w.split("@")[0])||"Hacker"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("span",{children:t==null?void 0:t.email}),(y==null?void 0:y.role)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[v(y.role),o.jsx("span",{children:T(y.role)})]})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Member since"," ",e!=null&&e.joinDate?new Date(e.joinDate).toLocaleDateString():"recently"]})]}),(y==null?void 0:y.institution)&&o.jsx("p",{className:"text-sm text-muted-foreground",children:y.institution}),(y==null?void 0:y.bio)&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-md",children:y.bio})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Total Points"}),o.jsx(Yn,{className:"w-5 h-5 text-primary"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:((C=e==null?void 0:e.totalPoints)==null?void 0:C.toLocaleString())||"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime points earned"})]})]}),o.jsxs(se,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Challenges Solved"}),o.jsx(mp,{className:"w-5 h-5 text-secondary"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.challengesSolved)||"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total challenges completed"})]})]}),o.jsxs(se,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Current Rank"}),o.jsx(sU,{className:"w-5 h-5 text-primary"})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["#",(e==null?void 0:e.currentRank)||"0"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Global leaderboard position"})]})]}),o.jsxs(se,{className:"border-border hover:border-primary/50 transition-all duration-300",children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),o.jsx(Zs,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2",children:(e==null?void 0:e.timeSpent)||"0h 0m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total practice time"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(se,{className:"border-border",children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center gap-2",children:[o.jsx(mp,{className:"w-5 h-5 text-primary"}),"Recently Solved Challenges"]})}),o.jsx(oe,{children:r.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(mp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No challenges solved yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Start practicing to see your progress here"})]}):o.jsx("div",{className:"space-y-4",children:r.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.title}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:A.category}),o.jsx("span",{children:""}),o.jsx("span",{children:A.difficulty}),o.jsx("span",{children:""}),o.jsx("span",{children:A.solvedAt?new Date(A.solvedAt.toDate?A.solvedAt.toDate():A.solvedAt).toLocaleDateString():"Recently"})]})]}),o.jsxs("div",{className:"text-primary font-bold",children:["+",A.points]})]},A.id))})})]}),o.jsxs(se,{className:"border-border",children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-5 h-5 text-primary"}),"Events Participated In"]})}),o.jsx(oe,{children:i.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(na,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No events participated yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Join live events to appear here"})]}):o.jsx("div",{className:"space-y-4",children:i.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:A.date}),A.position&&o.jsxs("span",{children:[" Position: #",A.position]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-secondary font-bold",children:A.prize}),A.pointsEarned>0&&o.jsxs("div",{className:"text-xs text-primary",children:["+",A.pointsEarned," pts"]})]})]},A.id))})})]}),o.jsxs(se,{className:"border-border lg:col-span-2",children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center gap-2",children:[o.jsx($d,{className:"w-5 h-5 text-primary"}),"Recent Activity"]})}),o.jsx(oe,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($d,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No recent activity"}),o.jsx("p",{className:"text-sm mt-2",children:"Your activity will appear here"})]}):o.jsx("div",{className:"space-y-3",children:l.map(A=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:A.action}),o.jsx("div",{className:"text-sm text-muted-foreground",children:A.description})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:A.timestamp?new Date(A.timestamp.toDate?A.timestamp.toDate():A.timestamp).toLocaleDateString():"Recently"}),A.points&&o.jsxs("div",{className:"text-sm text-primary font-bold",children:["+",A.points]})]})]},A.id))})})]})]})]})}),o.jsx(gt,{}),o.jsx(vU,{isOpen:f,onClose:()=>p(!1)})]})},wU=Kh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ie({className:t,variant:e,...n}){return o.jsx("div",{className:Pe(wU({variant:e}),t),...n})}const de=g.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));de.displayName="Input";function G_(t,[e,n]){return Math.min(n,Math.max(e,t))}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ba(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const d=f=>{var b;const{scope:p,children:y,...S}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,T=g.useMemo(()=>S,Object.values(S));return o.jsx(v.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,p){var v;const y=((v=p==null?void 0:p[t])==null?void 0:v[c])||l,S=g.useContext(y);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,_U(s,...e)]}function _U(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function K_(t){const e=bU(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(TU);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function bU(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=CU(s),l=SU(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Ec(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EU=Symbol("radix.slottable");function TU(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EU}function SU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function CU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function SN(t){const e=t+"CollectionProvider",[n,r]=ba(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:T,children:b}=v,w=ms.useRef(null),C=ms.useRef(new Map).current;return o.jsx(s,{scope:T,itemMap:C,collectionRef:w,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=K_(l),d=ms.forwardRef((v,T)=>{const{scope:b,children:w}=v,C=i(l,b),A=ut(T,C.collectionRef);return o.jsx(c,{ref:A,children:w})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=K_(h),y=ms.forwardRef((v,T)=>{const{scope:b,children:w,...C}=v,A=ms.useRef(null),O=ut(T,A),R=i(h,b);return ms.useEffect(()=>(R.itemMap.set(A,{ref:A,...C}),()=>void R.itemMap.delete(A))),o.jsx(p,{[f]:"",ref:O,children:w})});y.displayName=h;function S(v){const T=i(t+"CollectionConsumer",v);return ms.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((R,E)=>C.indexOf(R.ref.current)-C.indexOf(E.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:a,Slot:d,ItemSlot:y},S,r]}var NU=g.createContext(void 0);function vv(t){const e=g.useContext(NU);return t||e||"ltr"}function IU(t){const e=jU(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(kU);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function jU(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=PU(s),l=RU(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Ec(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AU=Symbol("radix.slottable");function kU(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AU}function RU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function PU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=DU.reduce((t,e)=>{const n=IU(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function LU(t,e){t&&ua.flushSync(()=>t.dispatchEvent(e))}function Xr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OU(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MU="DismissableLayer",Jm="dismissableLayer.update",VU="dismissableLayer.pointerDownOutside",FU="dismissableLayer.focusOutside",Q_,CN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NN=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,d=g.useContext(CN),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),S=ut(e,E=>f(E)),v=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(T),w=h?v.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,A=w>=b,O=$U(E=>{const _=E.target,k=[...d.branches].some(N=>N.contains(_));!A||k||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},p),R=zU(E=>{const _=E.target;[...d.branches].some(N=>N.contains(_))||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},p);return OU(E=>{w===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Q_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Y_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Q_)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Y_())},[h,d]),g.useEffect(()=>{const E=()=>y({});return document.addEventListener(Jm,E),()=>document.removeEventListener(Jm,E)},[]),o.jsx(Le.div,{...c,ref:S,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,O.onPointerDownCapture)})});NN.displayName=MU;var UU="DismissableLayerBranch",BU=g.forwardRef((t,e)=>{const n=g.useContext(CN),r=g.useRef(null),s=ut(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Le.div,{...t,ref:s})});BU.displayName=UU;function $U(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){IN(VU,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zU(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&IN(FU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Y_(){const t=new CustomEvent(Jm);document.dispatchEvent(t)}function IN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?LU(s,i):s.dispatchEvent(i)}var gp=0;function HU(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X_()),document.body.insertAdjacentElement("beforeend",t[1]??X_()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gp--}},[])}function X_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yp="focusScope.autoFocusOnMount",vp="focusScope.autoFocusOnUnmount",J_={bubbles:!1,cancelable:!0},WU="FocusScope",jN=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=g.useState(null),d=Xr(s),h=Xr(i),f=g.useRef(null),p=ut(e,v=>c(v)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(C){if(y.paused||!l)return;const A=C.target;l.contains(A)?f.current=A:gs(f.current,{select:!0})},T=function(C){if(y.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||gs(f.current,{select:!0}))},b=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&gs(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",T);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",T),w.disconnect()}}},[r,l,y.paused]),g.useEffect(()=>{if(l){eb.add(y);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(yp,J_);l.addEventListener(yp,d),l.dispatchEvent(b),b.defaultPrevented||(qU(XU(AN(l)),{select:!0}),document.activeElement===v&&gs(l))}return()=>{l.removeEventListener(yp,d),setTimeout(()=>{const b=new CustomEvent(vp,J_);l.addEventListener(vp,h),l.dispatchEvent(b),b.defaultPrevented||gs(v??document.body,{select:!0}),l.removeEventListener(vp,h),eb.remove(y)},0)}}},[l,d,h,y]);const S=g.useCallback(v=>{if(!n&&!r||y.paused)return;const T=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(T&&b){const w=v.currentTarget,[C,A]=GU(w);C&&A?!v.shiftKey&&b===A?(v.preventDefault(),n&&gs(C,{select:!0})):v.shiftKey&&b===C&&(v.preventDefault(),n&&gs(A,{select:!0})):b===w&&v.preventDefault()}},[n,r,y.paused]);return o.jsx(Le.div,{tabIndex:-1,...a,ref:p,onKeyDown:S})});jN.displayName=WU;function qU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gs(r,{select:e}),document.activeElement!==n)return}function GU(t){const e=AN(t),n=Z_(e,t),r=Z_(e.reverse(),t);return[n,r]}function AN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Z_(t,e){for(const n of t)if(!KU(n,{upTo:e}))return n}function KU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function QU(t){return t instanceof HTMLInputElement&&"select"in t}function gs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&QU(t)&&e&&t.select()}}var eb=YU();function YU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tb(t,e),t.unshift(e)},remove(e){var n;t=tb(t,e),(n=t[0])==null||n.resume()}}}function tb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XU(t){return t.filter(e=>e.tagName!=="A")}var St=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},JU=Zd[" useId ".trim().toString()]||(()=>{}),ZU=0;function Sc(t){const[e,n]=g.useState(JU());return St(()=>{n(r=>r??String(ZU++))},[t]),e?`radix-${e}`:""}const e9=["top","right","bottom","left"],ti=Math.min,xn=Math.max,Gd=Math.round,pu=Math.floor,Tr=t=>({x:t,y:t}),t9={left:"right",right:"left",bottom:"top",top:"bottom"},n9={start:"end",end:"start"};function Zm(t,e,n){return xn(t,ti(e,n))}function Jr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function Ea(t){return t.split("-")[1]}function xv(t){return t==="x"?"y":"x"}function wv(t){return t==="y"?"height":"width"}const r9=new Set(["top","bottom"]);function pr(t){return r9.has(Zr(t))?"y":"x"}function _v(t){return xv(pr(t))}function s9(t,e,n){n===void 0&&(n=!1);const r=Ea(t),s=_v(t),i=wv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Kd(a)),[a,Kd(a)]}function i9(t){const e=Kd(t);return[eg(t),e,eg(e)]}function eg(t){return t.replace(/start|end/g,e=>n9[e])}const nb=["left","right"],rb=["right","left"],o9=["top","bottom"],a9=["bottom","top"];function l9(t,e,n){switch(t){case"top":case"bottom":return n?e?rb:nb:e?nb:rb;case"left":case"right":return e?o9:a9;default:return[]}}function c9(t,e,n,r){const s=Ea(t);let i=l9(Zr(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(eg)))),i}function Kd(t){return t.replace(/left|right|bottom|top/g,e=>t9[e])}function u9(t){return{top:0,right:0,bottom:0,left:0,...t}}function kN(t){return typeof t!="number"?u9(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function sb(t,e,n){let{reference:r,floating:s}=t;const i=pr(e),a=_v(e),l=wv(a),c=Zr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Ea(e)){case"start":y[a]-=p*(n&&d?-1:1);break;case"end":y[a]+=p*(n&&d?-1:1);break}return y}const d9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=sb(d,r,c),p=r,y={},S=0;for(let v=0;v<l.length;v++){const{name:T,fn:b}=l[v],{x:w,y:C,data:A,reset:O}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});h=w??h,f=C??f,y={...y,[T]:{...y[T],...A}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(d=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=sb(d,p,c)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:y}};async function rc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Jr(e,t),S=kN(y),T=l[p?f==="floating"?"reference":"floating":f],b=Qd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Qd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:C,strategy:c}):w);return{top:(b.top-O.top+S.top)/A.y,bottom:(O.bottom-b.bottom+S.bottom)/A.y,left:(b.left-O.left+S.left)/A.x,right:(O.right-b.right+S.right)/A.x}}const h9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Jr(t,e)||{};if(d==null)return{};const f=kN(h),p={x:n,y:r},y=_v(s),S=wv(y),v=await a.getDimensions(d),T=y==="y",b=T?"top":"left",w=T?"bottom":"right",C=T?"clientHeight":"clientWidth",A=i.reference[S]+i.reference[y]-p[y]-i.floating[S],O=p[y]-i.reference[y],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let E=R?R[C]:0;(!E||!await(a.isElement==null?void 0:a.isElement(R)))&&(E=l.floating[C]||i.floating[S]);const _=A/2-O/2,k=E/2-v[S]/2-1,N=ti(f[b],k),D=ti(f[w],k),I=N,j=E-v[S]-D,z=E/2-v[S]/2+_,X=Zm(I,z,j),q=!c.arrow&&Ea(s)!=null&&z!==X&&i.reference[S]/2-(z<I?N:D)-v[S]/2<0,J=q?z<I?z-I:z-j:0;return{[y]:p[y]+J,data:{[y]:X,centerOffset:z-X-J,...q&&{alignmentOffset:J}},reset:q}}}),f9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...T}=Jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Zr(s),w=pr(l),C=Zr(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=p||(C||!v?[Kd(l)]:i9(l)),R=S!=="none";!p&&R&&O.push(...c9(l,v,S,A));const E=[l,...O],_=await rc(e,T),k=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&k.push(_[b]),f){const z=s9(s,a,A);k.push(_[z[0]],_[z[1]])}if(N=[...N,{placement:s,overflows:k}],!k.every(z=>z<=0)){var D,I;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,X=E[z];if(X&&(!(f==="alignment"?w!==pr(X):!1)||N.every(L=>pr(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:z,overflows:N},reset:{placement:X}};let q=(I=N.filter(J=>J.overflows[0]<=0).sort((J,L)=>J.overflows[1]-L.overflows[1])[0])==null?void 0:I.placement;if(!q)switch(y){case"bestFit":{var j;const J=(j=N.filter(L=>{if(R){const U=pr(L.placement);return U===w||U==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((L,U)=>L[1]-U[1])[0])==null?void 0:j[0];J&&(q=J);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function ib(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ob(t){return e9.some(e=>t[e]>=0)}const p9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Jr(t,e);switch(r){case"referenceHidden":{const i=await rc(e,{...s,elementContext:"reference"}),a=ib(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ob(a)}}}case"escaped":{const i=await rc(e,{...s,altBoundary:!0}),a=ib(i,n.floating);return{data:{escapedOffsets:a,escaped:ob(a)}}}default:return{}}}}},RN=new Set(["left","top"]);async function m9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Zr(n),l=Ea(n),c=pr(n)==="y",d=RN.has(a)?-1:1,h=i&&c?-1:1,f=Jr(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(y=l==="end"?S*-1:S),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const g9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await m9(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},y9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:T=>{let{x:b,y:w}=T;return{x:b,y:w}}},...c}=Jr(t,e),d={x:n,y:r},h=await rc(e,c),f=pr(Zr(s)),p=xv(f);let y=d[p],S=d[f];if(i){const T=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=y+h[T],C=y-h[b];y=Zm(w,y,C)}if(a){const T=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=S+h[T],C=S-h[b];S=Zm(w,S,C)}const v=l.fn({...e,[p]:y,[f]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:a}}}}}},v9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Jr(t,e),h={x:n,y:r},f=pr(s),p=xv(f);let y=h[p],S=h[f];const v=Jr(l,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const C=p==="y"?"height":"width",A=i.reference[p]-i.floating[C]+T.mainAxis,O=i.reference[p]+i.reference[C]-T.mainAxis;y<A?y=A:y>O&&(y=O)}if(d){var b,w;const C=p==="y"?"width":"height",A=RN.has(Zr(s)),O=i.reference[f]-i.floating[C]+(A&&((b=a.offset)==null?void 0:b[f])||0)+(A?0:T.crossAxis),R=i.reference[f]+i.reference[C]+(A?0:((w=a.offset)==null?void 0:w[f])||0)-(A?T.crossAxis:0);S<O?S=O:S>R&&(S=R)}return{[p]:y,[f]:S}}}},x9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...d}=Jr(t,e),h=await rc(e,d),f=Zr(s),p=Ea(s),y=pr(s)==="y",{width:S,height:v}=i.floating;let T,b;f==="top"||f==="bottom"?(T=f,b=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,T=p==="end"?"top":"bottom");const w=v-h.top-h.bottom,C=S-h.left-h.right,A=ti(v-h[T],w),O=ti(S-h[b],C),R=!e.middlewareData.shift;let E=A,_=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),R&&!p){const N=xn(h.left,0),D=xn(h.right,0),I=xn(h.top,0),j=xn(h.bottom,0);y?_=S-2*(N!==0||D!==0?N+D:xn(h.left,h.right)):E=v-2*(I!==0||j!==0?I+j:xn(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:E});const k=await a.getDimensions(l.floating);return S!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function Ta(t){return PN(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ir(t){var e;return(e=(PN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PN(t){return Qh()?t instanceof Node||t instanceof Sn(t).Node:!1}function rr(t){return Qh()?t instanceof Element||t instanceof Sn(t).Element:!1}function Nr(t){return Qh()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function ab(t){return!Qh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}const w9=new Set(["inline","contents"]);function Cc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!w9.has(s)}const _9=new Set(["table","td","th"]);function b9(t){return _9.has(Ta(t))}const E9=[":popover-open",":modal"];function Yh(t){return E9.some(e=>{try{return t.matches(e)}catch{return!1}})}const T9=["transform","translate","scale","rotate","perspective"],S9=["transform","translate","scale","rotate","perspective","filter"],C9=["paint","layout","strict","content"];function bv(t){const e=Ev(),n=rr(t)?sr(t):t;return T9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||S9.some(r=>(n.willChange||"").includes(r))||C9.some(r=>(n.contain||"").includes(r))}function N9(t){let e=ni(t);for(;Nr(e)&&!ia(e);){if(bv(e))return e;if(Yh(e))return null;e=ni(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const I9=new Set(["html","body","#document"]);function ia(t){return I9.has(Ta(t))}function sr(t){return Sn(t).getComputedStyle(t)}function Xh(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ni(t){if(Ta(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ab(t)&&t.host||Ir(t);return ab(e)?e.host:e}function DN(t){const e=ni(t);return ia(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&Cc(e)?e:DN(e)}function sc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Sn(s);if(i){const l=tg(a);return e.concat(a,a.visualViewport||[],Cc(s)?s:[],l&&n?sc(l):[])}return e.concat(s,sc(s,[],n))}function tg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LN(t){const e=sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Gd(n)!==i||Gd(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Tv(t){return rr(t)?t:t.contextElement}function Fo(t){const e=Tv(t);if(!Nr(e))return Tr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=LN(e);let a=(i?Gd(n.width):n.width)/r,l=(i?Gd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const j9=Tr(0);function ON(t){const e=Sn(t);return!Ev()||!e.visualViewport?j9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Tv(t);let a=Tr(1);e&&(r?rr(r)&&(a=Fo(r)):a=Fo(t));const l=A9(i,n,r)?ON(i):Tr(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const p=Sn(i),y=r&&rr(r)?Sn(r):r;let S=p,v=tg(S);for(;v&&r&&y!==S;){const T=Fo(v),b=v.getBoundingClientRect(),w=sr(v),C=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*T.x,A=b.top+(v.clientTop+parseFloat(w.paddingTop))*T.y;c*=T.x,d*=T.y,h*=T.x,f*=T.y,c+=C,d+=A,S=Sn(v),v=tg(S)}}return Qd({width:h,height:f,x:c,y:d})}function Jh(t,e){const n=Xh(t).scrollLeft;return e?e.left+n:Ki(Ir(t)).left+n}function MN(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Jh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function k9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ir(r),l=e?Yh(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Tr(1);const h=Tr(0),f=Nr(r);if((f||!f&&!i)&&((Ta(r)!=="body"||Cc(a))&&(c=Xh(r)),Nr(r))){const y=Ki(r);d=Fo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=a&&!f&&!i?MN(a,c):Tr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function R9(t){return Array.from(t.getClientRects())}function P9(t){const e=Ir(t),n=Xh(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Jh(t);const l=-n.scrollTop;return sr(r).direction==="rtl"&&(a+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}const lb=25;function D9(t,e){const n=Sn(t),r=Ir(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const h=Ev();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Jh(r);if(d<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),y=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-y);S<=lb&&(i-=S)}else d<=lb&&(i+=d);return{width:i,height:a,x:l,y:c}}const L9=new Set(["absolute","fixed"]);function O9(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?Fo(t):Tr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function cb(t,e,n){let r;if(e==="viewport")r=D9(t,n);else if(e==="document")r=P9(Ir(t));else if(rr(e))r=O9(e,n);else{const s=ON(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qd(r)}function VN(t,e){const n=ni(t);return n===e||!rr(n)||ia(n)?!1:sr(n).position==="fixed"||VN(n,e)}function M9(t,e){const n=e.get(t);if(n)return n;let r=sc(t,[],!1).filter(l=>rr(l)&&Ta(l)!=="body"),s=null;const i=sr(t).position==="fixed";let a=i?ni(t):t;for(;rr(a)&&!ia(a);){const l=sr(a),c=bv(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&L9.has(s.position)||Cc(a)&&!c&&VN(t,a))?r=r.filter(h=>h!==a):s=l,a=ni(a)}return e.set(t,r),r}function V9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Yh(e)?[]:M9(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,h)=>{const f=cb(e,h,s);return d.top=xn(f.top,d.top),d.right=ti(f.right,d.right),d.bottom=ti(f.bottom,d.bottom),d.left=xn(f.left,d.left),d},cb(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function F9(t){const{width:e,height:n}=LN(t);return{width:e,height:n}}function U9(t,e,n){const r=Nr(e),s=Ir(e),i=n==="fixed",a=Ki(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);function d(){c.x=Jh(s)}if(r||!r&&!i)if((Ta(e)!=="body"||Cc(s))&&(l=Xh(e)),r){const y=Ki(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?MN(s,l):Tr(0),f=a.left+l.scrollLeft-c.x-h.x,p=a.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function xp(t){return sr(t).position==="static"}function ub(t,e){if(!Nr(t)||sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ir(t)===n&&(n=n.ownerDocument.body),n}function FN(t,e){const n=Sn(t);if(Yh(t))return n;if(!Nr(t)){let s=ni(t);for(;s&&!ia(s);){if(rr(s)&&!xp(s))return s;s=ni(s)}return n}let r=ub(t,e);for(;r&&b9(r)&&xp(r);)r=ub(r,e);return r&&ia(r)&&xp(r)&&!bv(r)?n:r||N9(t)||n}const B9=async function(t){const e=this.getOffsetParent||FN,n=this.getDimensions,r=await n(t.floating);return{reference:U9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $9(t){return sr(t).direction==="rtl"}const z9={convertOffsetParentRelativeRectToViewportRelativeRect:k9,getDocumentElement:Ir,getClippingRect:V9,getOffsetParent:FN,getElementRects:B9,getClientRects:R9,getDimensions:F9,getScale:Fo,isElement:rr,isRTL:$9};function UN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H9(t,e){let n=null,r;const s=Ir(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const S=pu(f),v=pu(s.clientWidth-(h+p)),T=pu(s.clientHeight-(f+y)),b=pu(h),C={rootMargin:-S+"px "+-v+"px "+-T+"px "+-b+"px",threshold:xn(0,ti(1,c))||1};let A=!0;function O(R){const E=R[0].intersectionRatio;if(E!==c){if(!A)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!UN(d,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(O,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return a(!0),i}function W9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Tv(t),h=s||i?[...d?sc(d):[],...sc(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=d&&l?H9(d,n):null;let p=-1,y=null;a&&(y=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let S,v=c?Ki(t):null;c&&T();function T(){const b=Ki(t);v&&!UN(v,b)&&n(),v=b,S=requestAnimationFrame(T)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const q9=g9,G9=y9,K9=f9,Q9=x9,Y9=p9,db=h9,X9=v9,J9=(t,e,n)=>{const r=new Map,s={platform:z9,...n},i={...s.platform,_c:r};return d9(t,e,{...s,platform:i})};var Z9=typeof document<"u",e8=function(){},$u=Z9?g.useLayoutEffect:e8;function Yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Yd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function BN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hb(t,e){const n=BN(t);return Math.round(e*n)/n}function wp(t){const e=g.useRef(t);return $u(()=>{e.current=t}),e}function t8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(r);Yd(p,r)||y(r);const[S,v]=g.useState(null),[T,b]=g.useState(null),w=g.useCallback(L=>{L!==R.current&&(R.current=L,v(L))},[]),C=g.useCallback(L=>{L!==E.current&&(E.current=L,b(L))},[]),A=i||S,O=a||T,R=g.useRef(null),E=g.useRef(null),_=g.useRef(h),k=c!=null,N=wp(c),D=wp(s),I=wp(d),j=g.useCallback(()=>{if(!R.current||!E.current)return;const L={placement:e,strategy:n,middleware:p};D.current&&(L.platform=D.current),J9(R.current,E.current,L).then(U=>{const K={...U,isPositioned:I.current!==!1};z.current&&!Yd(_.current,K)&&(_.current=K,ua.flushSync(()=>{f(K)}))})},[p,e,n,D,I]);$u(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const z=g.useRef(!1);$u(()=>(z.current=!0,()=>{z.current=!1}),[]),$u(()=>{if(A&&(R.current=A),O&&(E.current=O),A&&O){if(N.current)return N.current(A,O,j);j()}},[A,O,j,N,k]);const X=g.useMemo(()=>({reference:R,floating:E,setReference:w,setFloating:C}),[w,C]),q=g.useMemo(()=>({reference:A,floating:O}),[A,O]),J=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const U=hb(q.floating,h.x),K=hb(q.floating,h.y);return l?{...L,transform:"translate("+U+"px, "+K+"px)",...BN(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,l,q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:j,refs:X,elements:q,floatingStyles:J}),[h,j,X,q,J])}const n8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?db({element:r.current,padding:s}).fn(n):{}:r?db({element:r,padding:s}).fn(n):{}}}},r8=(t,e)=>({...q9(t),options:[t,e]}),s8=(t,e)=>({...G9(t),options:[t,e]}),i8=(t,e)=>({...X9(t),options:[t,e]}),o8=(t,e)=>({...K9(t),options:[t,e]}),a8=(t,e)=>({...Q9(t),options:[t,e]}),l8=(t,e)=>({...Y9(t),options:[t,e]}),c8=(t,e)=>({...n8(t),options:[t,e]});var u8="Arrow",$N=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});$N.displayName=u8;var d8=$N;function zN(t){const[e,n]=g.useState(void 0);return St(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[HN,WN]=ba(Sv),[h8,qN]=HN(Sv),GN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return o.jsx(h8,{scope:e,anchor:r,onAnchorChange:s,children:n})};GN.displayName=Sv;var KN="PopperAnchor",QN=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qN(KN,n),a=g.useRef(null),l=ut(e,a),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||a.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:o.jsx(Le.div,{...s,ref:l})});QN.displayName=KN;var Cv="PopperContent",[f8,p8]=HN(Cv),YN=g.forwardRef((t,e)=>{var ie,Ce,yt,Oe,ke,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:S,...v}=t,T=qN(Cv,n),[b,w]=g.useState(null),C=ut(e,Pt=>w(Pt)),[A,O]=g.useState(null),R=zN(A),E=(R==null?void 0:R.width)??0,_=(R==null?void 0:R.height)??0,k=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],I=D.length>0,j={padding:N,boundary:D.filter(g8),altBoundary:I},{refs:z,floatingStyles:X,placement:q,isPositioned:J,middlewareData:L}=t8({strategy:"fixed",placement:k,whileElementsMounted:(...Pt)=>W9(...Pt,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[r8({mainAxis:s+_,alignmentAxis:a}),c&&s8({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?i8():void 0,...j}),c&&o8({...j}),a8({...j,apply:({elements:Pt,rects:gn,availableWidth:mi,availableHeight:jr})=>{const{width:Ar,height:Ic}=gn.reference,it=Pt.floating.style;it.setProperty("--radix-popper-available-width",`${mi}px`),it.setProperty("--radix-popper-available-height",`${jr}px`),it.setProperty("--radix-popper-anchor-width",`${Ar}px`),it.setProperty("--radix-popper-anchor-height",`${Ic}px`)}}),A&&c8({element:A,padding:l}),y8({arrowWidth:E,arrowHeight:_}),p&&l8({strategy:"referenceHidden",...j})]}),[U,K]=ZN(q),V=Xr(S);St(()=>{J&&(V==null||V())},[J,V]);const H=(ie=L.arrow)==null?void 0:ie.x,ue=(Ce=L.arrow)==null?void 0:Ce.y,pe=((yt=L.arrow)==null?void 0:yt.centerOffset)!==0,[Ke,Ae]=g.useState();return St(()=>{b&&Ae(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:J?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(Oe=L.transformOrigin)==null?void 0:Oe.x,(ke=L.transformOrigin)==null?void 0:ke.y].join(" "),...((Ne=L.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(f8,{scope:n,placedSide:U,onArrowChange:O,arrowX:H,arrowY:ue,shouldHideArrow:pe,children:o.jsx(Le.div,{"data-side":U,"data-align":K,...v,ref:C,style:{...v.style,animation:J?void 0:"none"}})})})});YN.displayName=Cv;var XN="PopperArrow",m8={top:"bottom",right:"left",bottom:"top",left:"right"},JN=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=p8(XN,r),a=m8[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(d8,{...s,ref:n,style:{...s.style,display:"block"}})})});JN.displayName=XN;function g8(t){return t!==null}var y8=t=>({name:"transformOrigin",options:t,fn(e){var T,b,w;const{placement:n,rects:r,middlewareData:s}=e,a=((T=s.arrow)==null?void 0:T.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=ZN(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let S="",v="";return d==="bottom"?(S=a?f:`${p}px`,v=`${-c}px`):d==="top"?(S=a?f:`${p}px`,v=`${r.floating.height+c}px`):d==="right"?(S=`${-c}px`,v=a?f:`${y}px`):d==="left"&&(S=`${r.floating.width+c}px`,v=a?f:`${y}px`),{data:{x:S,y:v}}}});function ZN(t){const[e,n="center"]=t.split("-");return[e,n]}var v8=GN,x8=QN,w8=YN,_8=JN,b8="Portal",eI=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);St(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Mk.createPortal(o.jsx(Le.div,{...r,ref:e}),a):null});eI.displayName=b8;function E8(t){const e=T8(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(C8);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function T8(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=I8(s),l=N8(i,s.props);return s.type!==g.Fragment&&(l.ref=r?Ec(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var S8=Symbol("radix.slottable");function C8(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===S8}function N8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function I8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var j8=Zd[" useInsertionEffect ".trim().toString()]||St;function ic({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=A8({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=g.useCallback(h=>{var f;if(l){const p=k8(h)?h(t):h;p!==t&&((f=a.current)==null||f.call(a,p))}else i(h)},[l,t,i,a]);return[c,d]}function A8({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return j8(()=>{i.current=e},[e]),g.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function k8(t){return typeof t=="function"}function tI(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var nI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R8="VisuallyHidden",P8=g.forwardRef((t,e)=>o.jsx(Le.span,{...t,ref:e,style:{...nI,...t.style}}));P8.displayName=R8;var D8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ao=new WeakMap,mu=new WeakMap,gu={},_p=0,rI=function(t){return t&&(t.host||rI(t.parentNode))},L8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},O8=function(t,e,n,r){var s=L8(e,Array.isArray(t)?t:[t]);gu[n]||(gu[n]=new WeakMap);var i=gu[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),S=y!==null&&y!=="false",v=(ao.get(p)||0)+1,T=(i.get(p)||0)+1;ao.set(p,v),i.set(p,T),a.push(p),v===1&&S&&mu.set(p,!0),T===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),_p++,function(){a.forEach(function(f){var p=ao.get(f)-1,y=i.get(f)-1;ao.set(f,p),i.set(f,y),p||(mu.has(f)||f.removeAttribute(r),mu.delete(f)),y||f.removeAttribute(n)}),_p--,_p||(ao=new WeakMap,ao=new WeakMap,mu=new WeakMap,gu={})}},M8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=D8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),O8(r,s,n,"aria-hidden")):function(){return null}},hr=function(){return hr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hr.apply(this,arguments)};function sI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function V8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zu="right-scroll-bar-position",Hu="width-before-scroll-bar",F8="with-scroll-bars-hidden",U8="--removed-body-scroll-bar-size";function bp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function B8(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var $8=typeof window<"u"?g.useLayoutEffect:g.useEffect,fb=new WeakMap;function z8(t,e){var n=B8(null,function(r){return t.forEach(function(s){return bp(s,r)})});return $8(function(){var r=fb.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||bp(l,null)}),i.forEach(function(l){s.has(l)||bp(l,a)})}fb.set(n,t)},[t]),n}function H8(t){return t}function W8(t,e){e===void 0&&(e=H8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function q8(t){t===void 0&&(t={});var e=W8(null);return e.options=hr({async:!0,ssr:!1},t),e}var iI=function(t){var e=t.sideCar,n=sI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,hr({},n))};iI.isSideCarExport=!0;function G8(t,e){return t.useMedium(e),iI}var oI=q8(),Ep=function(){},Zh=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Ep,onWheelCapture:Ep,onTouchMoveCapture:Ep}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,S=t.noIsolation,v=t.inert,T=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,C=t.gapMode,A=sI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,R=z8([n,e]),E=hr(hr({},A),s);return g.createElement(g.Fragment,null,h&&g.createElement(O,{sideCar:oI,removeScrollBar:d,shards:f,noRelative:y,noIsolation:S,inert:v,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:C}),a?g.cloneElement(g.Children.only(l),hr(hr({},E),{ref:R})):g.createElement(w,hr({},E,{className:c,ref:R}),l))});Zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zh.classNames={fullWidth:Hu,zeroRight:zu};var K8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=K8();return e&&t.setAttribute("nonce",e),t}function Y8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function X8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q8())&&(Y8(e,n),X8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z8=function(){var t=J8();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aI=function(){var t=Z8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},eB={left:0,top:0,right:0,gap:0},Tp=function(t){return parseInt(t||"",10)||0},tB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tp(n),Tp(r),Tp(s)]},nB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eB;var e=tB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rB=aI(),Uo="data-scroll-locked",sB=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(F8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Hu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zu," .").concat(zu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hu," .").concat(Hu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(U8,": ").concat(l,`px;
  }
`)},pb=function(){var t=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(t)?t:0},iB=function(){g.useEffect(function(){return document.body.setAttribute(Uo,(pb()+1).toString()),function(){var t=pb()-1;t<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,t.toString())}},[])},oB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iB();var i=g.useMemo(function(){return nB(s)},[s]);return g.createElement(rB,{styles:sB(i,!e,s,n?"":"!important")})},ng=!1;if(typeof window<"u")try{var yu=Object.defineProperty({},"passive",{get:function(){return ng=!0,!0}});window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{ng=!1}var lo=ng?{passive:!1}:!1,aB=function(t){return t.tagName==="TEXTAREA"},lI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aB(t)&&n[e]==="visible")},lB=function(t){return lI(t,"overflowY")},cB=function(t){return lI(t,"overflowX")},mb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cI(t,r);if(s){var i=uI(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cI=function(t,e){return t==="v"?lB(e):cB(e)},uI=function(t,e){return t==="v"?uB(e):dB(e)},hB=function(t,e){return t==="h"&&e==="rtl"?-1:1},fB=function(t,e,n,r,s){var i=hB(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),d=!1,h=a>0,f=0,p=0;do{if(!l)break;var y=uI(t,l),S=y[0],v=y[1],T=y[2],b=v-T-i*S;(S||b)&&cI(t,l)&&(f+=b,p+=S);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},vu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gb=function(t){return[t.deltaX,t.deltaY]},yb=function(t){return t&&"current"in t?t.current:t},pB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gB=0,co=[];function yB(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(gB++)[0],i=g.useState(aI)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=V8([t.lockRef.current],(t.shards||[]).map(yb),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=vu(v),w=n.current,C="deltaX"in v?v.deltaX:w[0]-b[0],A="deltaY"in v?v.deltaY:w[1]-b[1],O,R=v.target,E=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in v&&E==="h"&&R.type==="range")return!1;var _=mb(E,R);if(!_)return!0;if(_?O=E:(O=E==="v"?"h":"v",_=mb(E,R)),!_)return!1;if(!r.current&&"changedTouches"in v&&(C||A)&&(r.current=O),!O)return!0;var k=r.current||O;return fB(k,T,v,k==="h"?C:A)},[]),c=g.useCallback(function(v){var T=v;if(!(!co.length||co[co.length-1]!==i)){var b="deltaY"in T?gb(T):vu(T),w=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&pB(O.delta,b)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var C=(a.current.shards||[]).map(yb).filter(Boolean).filter(function(O){return O.contains(T.target)}),A=C.length>0?l(T,C[0]):!a.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),d=g.useCallback(function(v,T,b,w){var C={name:v,delta:T,target:b,should:w,shadowParent:vB(b)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(A){return A!==C})},1)},[]),h=g.useCallback(function(v){n.current=vu(v),r.current=void 0},[]),f=g.useCallback(function(v){d(v.type,gb(v),v.target,l(v,t.lockRef.current))},[]),p=g.useCallback(function(v){d(v.type,vu(v),v.target,l(v,t.lockRef.current))},[]);g.useEffect(function(){return co.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,lo),document.addEventListener("touchmove",c,lo),document.addEventListener("touchstart",h,lo),function(){co=co.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,lo),document.removeEventListener("touchmove",c,lo),document.removeEventListener("touchstart",h,lo)}},[]);var y=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(i,{styles:mB(s)}):null,y?g.createElement(oB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xB=G8(oI,yB);var dI=g.forwardRef(function(t,e){return g.createElement(Zh,hr({},t,{ref:e,sideCar:xB}))});dI.classNames=Zh.classNames;var wB=[" ","Enter","ArrowUp","ArrowDown"],_B=[" ","Enter"],Qi="Select",[ef,tf,bB]=SN(Qi),[Sa]=ba(Qi,[bB,WN]),nf=WN(),[EB,fi]=Sa(Qi),[TB,SB]=Sa(Qi),hI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:S}=t,v=nf(e),[T,b]=g.useState(null),[w,C]=g.useState(null),[A,O]=g.useState(!1),R=vv(d),[E,_]=ic({prop:r,defaultProp:s??!1,onChange:i,caller:Qi}),[k,N]=ic({prop:a,defaultProp:l,onChange:c,caller:Qi}),D=g.useRef(null),I=T?S||!!T.closest("form"):!0,[j,z]=g.useState(new Set),X=Array.from(j).map(q=>q.props.value).join(";");return o.jsx(v8,{...v,children:o.jsxs(EB,{required:y,scope:e,trigger:T,onTriggerChange:b,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Sc(),value:k,onValueChange:N,open:E,onOpenChange:_,dir:R,triggerPointerDownPosRef:D,disabled:p,children:[o.jsx(ef.Provider,{scope:e,children:o.jsx(TB,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{z(J=>new Set(J).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{z(J=>{const L=new Set(J);return L.delete(q),L})},[]),children:n})}),I?o.jsxs(OI,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:k,onChange:q=>N(q.target.value),disabled:p,form:S,children:[k===void 0?o.jsx("option",{value:""}):null,Array.from(j)]},X):null]})})};hI.displayName=Qi;var fI="SelectTrigger",pI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=nf(n),a=fi(fI,n),l=a.disabled||r,c=ut(e,a.onTriggerChange),d=tf(n),h=g.useRef("touch"),[f,p,y]=VI(v=>{const T=d().filter(C=>!C.disabled),b=T.find(C=>C.value===a.value),w=FI(T,v,b);w!==void 0&&a.onValueChange(w.value)}),S=v=>{l||(a.onOpenChange(!0),y()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(x8,{asChild:!0,...i,children:o.jsx(Le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MI(a.value)?"":void 0,...s,ref:c,onClick:Re(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:Re(s.onPointerDown,v=>{h.current=v.pointerType;const T=v.target;T.hasPointerCapture(v.pointerId)&&T.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Re(s.onKeyDown,v=>{const T=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(T&&v.key===" ")&&wB.includes(v.key)&&(S(),v.preventDefault())})})})});pI.displayName=fI;var mI="SelectValue",gI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=fi(mI,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=ut(e,c.onValueNodeChange);return St(()=>{d(h)},[d,h]),o.jsx(Le.span,{...l,ref:f,style:{pointerEvents:"none"},children:MI(c.value)?o.jsx(o.Fragment,{children:a}):i})});gI.displayName=mI;var CB="SelectIcon",yI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});yI.displayName=CB;var NB="SelectPortal",vI=t=>o.jsx(eI,{asChild:!0,...t});vI.displayName=NB;var Yi="SelectContent",xI=g.forwardRef((t,e)=>{const n=fi(Yi,t.__scopeSelect),[r,s]=g.useState();if(St(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ua.createPortal(o.jsx(wI,{scope:t.__scopeSelect,children:o.jsx(ef.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(_I,{...t,ref:e})});xI.displayName=Yi;var Hn=10,[wI,pi]=Sa(Yi),IB="SelectContentImpl",jB=E8("SelectContent.RemoveScroll"),_I=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:S,hideWhenDetached:v,avoidCollisions:T,...b}=t,w=fi(Yi,n),[C,A]=g.useState(null),[O,R]=g.useState(null),E=ut(e,ie=>A(ie)),[_,k]=g.useState(null),[N,D]=g.useState(null),I=tf(n),[j,z]=g.useState(!1),X=g.useRef(!1);g.useEffect(()=>{if(C)return M8(C)},[C]),HU();const q=g.useCallback(ie=>{const[Ce,...yt]=I().map(Ne=>Ne.ref.current),[Oe]=yt.slice(-1),ke=document.activeElement;for(const Ne of ie)if(Ne===ke||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===Ce&&O&&(O.scrollTop=0),Ne===Oe&&O&&(O.scrollTop=O.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==ke))return},[I,O]),J=g.useCallback(()=>q([_,C]),[q,_,C]);g.useEffect(()=>{j&&J()},[j,J]);const{onOpenChange:L,triggerPointerDownPosRef:U}=w;g.useEffect(()=>{if(C){let ie={x:0,y:0};const Ce=Oe=>{var ke,Ne;ie={x:Math.abs(Math.round(Oe.pageX)-(((ke=U.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ne=U.current)==null?void 0:Ne.y)??0))}},yt=Oe=>{ie.x<=10&&ie.y<=10?Oe.preventDefault():C.contains(Oe.target)||L(!1),document.removeEventListener("pointermove",Ce),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",yt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",yt,{capture:!0})}}},[C,L,U]),g.useEffect(()=>{const ie=()=>L(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[L]);const[K,V]=VI(ie=>{const Ce=I().filter(ke=>!ke.disabled),yt=Ce.find(ke=>ke.ref.current===document.activeElement),Oe=FI(Ce,ie,yt);Oe&&setTimeout(()=>Oe.ref.current.focus())}),H=g.useCallback((ie,Ce,yt)=>{const Oe=!X.current&&!yt;(w.value!==void 0&&w.value===Ce||Oe)&&(k(ie),Oe&&(X.current=!0))},[w.value]),ue=g.useCallback(()=>C==null?void 0:C.focus(),[C]),pe=g.useCallback((ie,Ce,yt)=>{const Oe=!X.current&&!yt;(w.value!==void 0&&w.value===Ce||Oe)&&D(ie)},[w.value]),Ke=r==="popper"?rg:bI,Ae=Ke===rg?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:S,hideWhenDetached:v,avoidCollisions:T}:{};return o.jsx(wI,{scope:n,content:C,viewport:O,onViewportChange:R,itemRefCallback:H,selectedItem:_,onItemLeave:ue,itemTextRefCallback:pe,focusSelectedItem:J,selectedItemText:N,position:r,isPositioned:j,searchRef:K,children:o.jsx(dI,{as:jB,allowPinchZoom:!0,children:o.jsx(jN,{asChild:!0,trapped:w.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Re(s,ie=>{var Ce;(Ce=w.trigger)==null||Ce.focus({preventScroll:!0}),ie.preventDefault()}),children:o.jsx(NN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ie=>ie.preventDefault(),...b,...Ae,onPlaced:()=>z(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Re(b.onKeyDown,ie=>{const Ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Ce&&ie.key.length===1&&V(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Oe=I().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const ke=ie.target,Ne=Oe.indexOf(ke);Oe=Oe.slice(Ne+1)}setTimeout(()=>q(Oe)),ie.preventDefault()}})})})})})})});_I.displayName=IB;var AB="SelectItemAlignedPosition",bI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=fi(Yi,n),a=pi(Yi,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=ut(e,E=>h(E)),p=tf(n),y=g.useRef(!1),S=g.useRef(!0),{viewport:v,selectedItem:T,selectedItemText:b,focusSelectedItem:w}=a,C=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&T&&b){const E=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),N=b.getBoundingClientRect();if(i.dir!=="rtl"){const ke=N.left-_.left,Ne=k.left-ke,Pt=E.left-Ne,gn=E.width+Pt,mi=Math.max(gn,_.width),jr=window.innerWidth-Hn,Ar=G_(Ne,[Hn,Math.max(Hn,jr-mi)]);l.style.minWidth=gn+"px",l.style.left=Ar+"px"}else{const ke=_.right-N.right,Ne=window.innerWidth-k.right-ke,Pt=window.innerWidth-E.right-Ne,gn=E.width+Pt,mi=Math.max(gn,_.width),jr=window.innerWidth-Hn,Ar=G_(Ne,[Hn,Math.max(Hn,jr-mi)]);l.style.minWidth=gn+"px",l.style.right=Ar+"px"}const D=p(),I=window.innerHeight-Hn*2,j=v.scrollHeight,z=window.getComputedStyle(d),X=parseInt(z.borderTopWidth,10),q=parseInt(z.paddingTop,10),J=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),U=X+q+j+L+J,K=Math.min(T.offsetHeight*5,U),V=window.getComputedStyle(v),H=parseInt(V.paddingTop,10),ue=parseInt(V.paddingBottom,10),pe=E.top+E.height/2-Hn,Ke=I-pe,Ae=T.offsetHeight/2,ie=T.offsetTop+Ae,Ce=X+q+ie,yt=U-Ce;if(Ce<=pe){const ke=D.length>0&&T===D[D.length-1].ref.current;l.style.bottom="0px";const Ne=d.clientHeight-v.offsetTop-v.offsetHeight,Pt=Math.max(Ke,Ae+(ke?ue:0)+Ne+J),gn=Ce+Pt;l.style.height=gn+"px"}else{const ke=D.length>0&&T===D[0].ref.current;l.style.top="0px";const Pt=Math.max(pe,X+v.offsetTop+(ke?H:0)+Ae)+yt;l.style.height=Pt+"px",v.scrollTop=Ce-pe+v.offsetTop}l.style.margin=`${Hn}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,l,d,v,T,b,i.dir,r]);St(()=>C(),[C]);const[A,O]=g.useState();St(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const R=g.useCallback(E=>{E&&S.current===!0&&(C(),w==null||w(),S.current=!1)},[C,w]);return o.jsx(RB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:o.jsx(Le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bI.displayName=AB;var kB="SelectPopperPosition",rg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,a=nf(n);return o.jsx(w8,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rg.displayName=kB;var[RB,Nv]=Sa(Yi,{}),sg="SelectViewport",EI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(sg,n),a=Nv(sg,n),l=ut(e,i.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ef.Slot,{scope:n,children:o.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const S=window.innerHeight-Hn*2,v=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),b=Math.max(v,T);if(b<S){const w=b+y,C=Math.min(S,w),A=w-C;f.style.height=C+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});EI.displayName=sg;var TI="SelectGroup",[PB,DB]=Sa(TI),LB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Sc();return o.jsx(PB,{scope:n,id:s,children:o.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});LB.displayName=TI;var SI="SelectLabel",CI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=DB(SI,n);return o.jsx(Le.div,{id:s.id,...r,ref:e})});CI.displayName=SI;var Xd="SelectItem",[OB,NI]=Sa(Xd),II=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=fi(Xd,n),c=pi(Xd,n),d=l.value===r,[h,f]=g.useState(i??""),[p,y]=g.useState(!1),S=ut(e,w=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,w,r,s)}),v=Sc(),T=g.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(OB,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(w=>{f(C=>C||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(ef.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:S,onFocus:Re(a.onFocus,()=>y(!0)),onBlur:Re(a.onBlur,()=>y(!1)),onClick:Re(a.onClick,()=>{T.current!=="mouse"&&b()}),onPointerUp:Re(a.onPointerUp,()=>{T.current==="mouse"&&b()}),onPointerDown:Re(a.onPointerDown,w=>{T.current=w.pointerType}),onPointerMove:Re(a.onPointerMove,w=>{var C;T.current=w.pointerType,s?(C=c.onItemLeave)==null||C.call(c):T.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,w=>{var C;w.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:Re(a.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(_B.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});II.displayName=Xd;var ul="SelectItemText",jI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=fi(ul,n),l=pi(ul,n),c=NI(ul,n),d=SB(ul,n),[h,f]=g.useState(null),p=ut(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,S=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:T}=d;return St(()=>(v(S),()=>T(S)),[v,T,S]),o.jsxs(o.Fragment,{children:[o.jsx(Le.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ua.createPortal(i.children,a.valueNode):null]})});jI.displayName=ul;var AI="SelectItemIndicator",kI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return NI(AI,n).isSelected?o.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});kI.displayName=AI;var ig="SelectScrollUpButton",RI=g.forwardRef((t,e)=>{const n=pi(ig,t.__scopeSelect),r=Nv(ig,t.__scopeSelect),[s,i]=g.useState(!1),a=ut(e,r.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(DI,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RI.displayName=ig;var og="SelectScrollDownButton",PI=g.forwardRef((t,e)=>{const n=pi(og,t.__scopeSelect),r=Nv(og,t.__scopeSelect),[s,i]=g.useState(!1),a=ut(e,r.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(DI,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PI.displayName=og;var DI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),a=g.useRef(null),l=tf(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),St(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{c()})})}),MB="SelectSeparator",LI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});LI.displayName=MB;var ag="SelectArrow",VB=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nf(n),i=fi(ag,n),a=pi(ag,n);return i.open&&a.position==="popper"?o.jsx(_8,{...s,...r,ref:e}):null});VB.displayName=ag;var FB="SelectBubbleInput",OI=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=ut(r,s),a=tI(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Le.select,{...n,style:{...nI,...n.style},ref:i,defaultValue:e})});OI.displayName=FB;function MI(t){return t===""||t===void 0}function VI(t){const e=Xr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function FI(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=UB(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function UB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BB=hI,UI=pI,$B=gI,zB=yI,HB=vI,BI=xI,WB=EI,$I=CI,zI=II,qB=jI,GB=kI,HI=RI,WI=PI,qI=LI;const At=BB,kt=$B,wt=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(UI,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(zB,{asChild:!0,children:o.jsx(yN,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=UI.displayName;const GI=g.forwardRef(({className:t,...e},n)=>o.jsx(HI,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(W5,{className:"h-4 w-4"})}));GI.displayName=HI.displayName;const KI=g.forwardRef(({className:t,...e},n)=>o.jsx(WI,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(yN,{className:"h-4 w-4"})}));KI.displayName=WI.displayName;const _t=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(HB,{children:o.jsxs(BI,{ref:s,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(GI,{}),o.jsx(WB,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(KI,{})]})}));_t.displayName=BI.displayName;const KB=g.forwardRef(({className:t,...e},n)=>o.jsx($I,{ref:n,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));KB.displayName=$I.displayName;const Y=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(zI,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(GB,{children:o.jsx(H5,{className:"h-4 w-4"})})}),o.jsx(qB,{children:e})]}));Y.displayName=zI.displayName;const QB=g.forwardRef(({className:t,...e},n)=>o.jsx(qI,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));QB.displayName=qI.displayName;const YB=()=>{const{user:t}=$n(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState(!0),[d,h]=g.useState(""),[f,p]=g.useState("all"),[y,S]=g.useState("all"),[v,T]=g.useState("featured"),[b,w]=g.useState(""),C="/ZedCTF";g.useEffect(()=>{A()},[]),g.useEffect(()=>{O()},[d,f,y,v,e]);const A=async()=>{try{c(!0),w("");const I=Er(jt(ye,"challenges"),Br("isActive","==",!0)),X=(await Ln(I)).docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.availableInPractice===!0);n(X);const q=X.filter(J=>J.featuredOnPractice===!0);a(q)}catch(I){console.error("Error fetching practice challenges:",I),w("Failed to load challenges. Please check your permissions.");try{const j=Er(jt(ye,"challenges")),q=(await Ln(j)).docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.isActive!==!1&&J.availableInPractice===!0);n(q),a(q.filter(J=>J.featuredOnPractice))}catch(j){console.error("Fallback also failed:",j)}}finally{c(!1)}},O=()=>{let I=[...e];switch(d&&(I=I.filter(j=>j.title.toLowerCase().includes(d.toLowerCase())||j.description.toLowerCase().includes(d.toLowerCase())||(j.finalCategory||j.category).toLowerCase().includes(d.toLowerCase()))),f!=="all"&&(I=I.filter(j=>(j.finalCategory||j.category)===f)),y!=="all"&&(I=I.filter(j=>j.difficulty===y)),v){case"featured":I=I.sort((j,z)=>{const X=j.featuredOnPractice===!0,q=z.featuredOnPractice===!0;return X&&!q?-1:!X&&q?1:(z.totalPoints||z.points)-(j.totalPoints||j.points)});break;case"points_high":I=I.sort((j,z)=>(z.totalPoints||z.points)-(j.totalPoints||j.points));break;case"points_low":I=I.sort((j,z)=>(j.totalPoints||j.points)-(z.totalPoints||z.points));break;case"newest":I=I.sort((j,z)=>{var J,L,U,K;const X=((L=(J=j.createdAt)==null?void 0:J.toDate)==null?void 0:L.call(J))||new Date(j.createdAt);return(((K=(U=z.createdAt)==null?void 0:U.toDate)==null?void 0:K.call(U))||new Date(z.createdAt)).getTime()-X.getTime()});break;case"solves":I=I.sort((j,z)=>{var X,q;return(((X=z.solvedBy)==null?void 0:X.length)||0)-(((q=j.solvedBy)==null?void 0:q.length)||0)});break}s(I)},R=I=>{switch(I){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";case"expert":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=I=>({web:"bg-blue-100 text-blue-800 border-blue-200",crypto:"bg-purple-100 text-purple-800 border-purple-200",forensics:"bg-orange-100 text-orange-800 border-orange-200",pwn:"bg-red-100 text-red-800 border-red-200",reversing:"bg-indigo-100 text-indigo-800 border-indigo-200",misc:"bg-gray-100 text-gray-800 border-gray-200"})[I]||"bg-gray-100 text-gray-800 border-gray-200",_=()=>{const I=e.map(j=>j.finalCategory||j.category);return Array.from(new Set(I)).filter(Boolean)},k=I=>{window.location.href=`${C}/challenge/${I}`},N=()=>{window.location.href=`${C}/live-events`},D=()=>{A()};return l?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading practice challenges..."})]})})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(nt,{className:"w-16 h-16 text-primary"})}),o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Practice Challenges"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-6",children:"Sharpen your cybersecurity skills with our curated collection of practice challenges. Perfect for beginners and experts alike."}),b&&o.jsx(se,{className:"max-w-2xl mx-auto mb-6 border-red-200 bg-red-50",children:o.jsx(oe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(q5,{className:"w-5 h-5 text-red-600"}),o.jsx("p",{className:"text-red-800",children:b})]})})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto mb-8",children:[o.jsx(se,{className:"text-center",children:o.jsxs(oe,{className:"p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:e.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Available"})]})}),o.jsx(se,{className:"text-center",children:o.jsxs(oe,{className:"p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Featured"})]})}),o.jsx(se,{className:"text-center",children:o.jsxs(oe,{className:"p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.reduce((I,j)=>{var z;return I+(((z=j.solvedBy)==null?void 0:z.length)||0)},0)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Solves"})]})}),o.jsx(se,{className:"text-center",children:o.jsxs(oe,{className:"p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_().length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]})})]}),o.jsx(se,{className:"max-w-4xl mx-auto mb-8 bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(As,{className:"w-8 h-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Ready for Live Competition?"}),o.jsx("p",{className:"text-muted-foreground",children:"Join our live events to compete against other players!"})]})]}),o.jsxs(ee,{variant:"terminal",onClick:N,children:[o.jsx(As,{className:"w-4 h-4 mr-2"}),"View Live Events"]})]})})})]}),e.length>0&&o.jsx(se,{className:"mb-8",children:o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Search challenges...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),o.jsx("div",{children:o.jsxs(At,{value:f,onValueChange:p,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Categories"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Categories"}),_().map(I=>o.jsx(Y,{value:I,children:I},I))]})]})}),o.jsx("div",{children:o.jsxs(At,{value:y,onValueChange:S,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Difficulties"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Difficulties"}),o.jsx(Y,{value:"easy",children:"Easy"}),o.jsx(Y,{value:"medium",children:"Medium"}),o.jsx(Y,{value:"hard",children:"Hard"}),o.jsx(Y,{value:"expert",children:"Expert"})]})]})}),o.jsx("div",{children:o.jsxs(At,{value:v,onValueChange:T,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"Sort by"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"featured",children:"Featured First"}),o.jsx(Y,{value:"points_high",children:"Points (High to Low)"}),o.jsx(Y,{value:"points_low",children:"Points (Low to High)"}),o.jsx(Y,{value:"newest",children:"Newest First"}),o.jsx(Y,{value:"solves",children:"Most Solved"})]})]})})]})})}),i.length>0&&o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Vo,{className:"w-6 h-6 text-yellow-500"}),o.jsx("h2",{className:"text-2xl font-bold",children:"Featured Challenges"}),o.jsx(Ie,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Recommended"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(I=>{var j,z,X,q;return o.jsxs(se,{className:"border-2 border-yellow-200 bg-gradient-to-br from-yellow-50 to-transparent hover:shadow-lg transition-all cursor-pointer group",onClick:()=>k(I.id),children:[o.jsxs(_e,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(be,{className:"text-lg group-hover:text-primary transition-colors",children:I.title}),o.jsx(Vo,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 ml-2"})]}),o.jsx(Et,{className:"line-clamp-2",children:I.description})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[o.jsx(Ie,{className:R(I.difficulty),children:I.difficulty}),o.jsx(Ie,{className:E(I.finalCategory||I.category),children:I.finalCategory||I.category}),o.jsxs(Ie,{variant:"outline",className:"font-mono",children:[I.totalPoints||I.points," pts"]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nn,{className:"w-4 h-4"}),o.jsxs("span",{children:[((j=I.solvedBy)==null?void 0:j.length)||0," solves"]})]}),I.createdAt&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zs,{className:"w-4 h-4"}),o.jsx("span",{children:((q=(X=(z=I.createdAt)==null?void 0:z.toDate)==null?void 0:X.call(z))==null?void 0:q.toLocaleDateString())||new Date(I.createdAt).toLocaleDateString()})]})]})]})]},I.id)})})]}),e.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:i.length>0?"All Practice Challenges":"Practice Challenges"}),o.jsxs(ee,{variant:"outline",onClick:D,size:"sm",children:[o.jsx(W_,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),r.length===0?o.jsx(se,{children:o.jsxs(oe,{className:"p-12 text-center",children:[o.jsx(Q5,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Challenges Match Filters"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters to find more challenges."}),o.jsx(ee,{variant:"outline",onClick:()=>{h(""),p("all"),S("all")},children:"Clear Filters"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(I=>{var j,z,X,q;return o.jsxs(se,{className:`hover:shadow-md transition-all cursor-pointer group ${I.featuredOnPractice?"border-yellow-200 bg-yellow-50/30":"border-border"}`,onClick:()=>k(I.id),children:[o.jsxs(_e,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(be,{className:"text-lg group-hover:text-primary transition-colors",children:I.title}),I.featuredOnPractice&&o.jsx(Vo,{className:"w-4 h-4 text-yellow-500 flex-shrink-0 ml-2"})]}),o.jsx(Et,{className:"line-clamp-2",children:I.description})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[o.jsx(Ie,{className:R(I.difficulty),children:I.difficulty}),o.jsx(Ie,{className:E(I.finalCategory||I.category),children:I.finalCategory||I.category}),o.jsxs(Ie,{variant:"outline",className:"font-mono",children:[I.totalPoints||I.points," pts"]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nn,{className:"w-4 h-4"}),o.jsxs("span",{children:[((j=I.solvedBy)==null?void 0:j.length)||0," solves"]})]}),I.createdAt&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zs,{className:"w-4 h-4"}),o.jsx("span",{children:((q=(X=(z=I.createdAt)==null?void 0:z.toDate)==null?void 0:X.call(z))==null?void 0:q.toLocaleDateString())||new Date(I.createdAt).toLocaleDateString()})]})]})]})]},I.id)})})]}),e.length===0&&!l&&o.jsx(se,{className:"text-center",children:o.jsxs(oe,{className:"p-12",children:[o.jsx(nt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Practice Challenges Available"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back later for new practice challenges, or join a live event to test your skills."}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsxs(ee,{variant:"terminal",onClick:D,children:[o.jsx(W_,{className:"w-4 h-4 mr-2"}),"Refresh"]}),o.jsxs(ee,{variant:"outline",onClick:N,children:[o.jsx(As,{className:"w-4 h-4 mr-2"}),"View Live Events"]})]})]})})]})}),o.jsx(gt,{})]})},vb="/ZedCTF",XB=()=>{const{user:t}=$n(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),l=async()=>{try{const p=Er(jt(ye,"events"),Br("status","in",["LIVE","STARTING_SOON"]),Hs("startTime","asc")),y=Er(jt(ye,"events"),Br("status","==","UPCOMING"),Hs("startTime","asc")),[S,v]=await Promise.all([Ln(p),Ln(y)]),T=S.docs.map(w=>({id:w.id,...w.data()})),b=v.docs.map(w=>{var C;return{id:w.id,...w.data(),registered:t&&((C=w.data().registeredUsers)==null?void 0:C.includes(t.uid))||!1}});n(T),s(b)}catch(p){console.error("Error fetching events:",p),n([]),s([])}finally{a(!1)}},c=async p=>{var y;if(!t){alert("Please log in to register for events");return}try{const S=lt(ye,"events",p);await Kn(S,{registeredUsers:k3(t.uid),participants:(((y=r.find(v=>v.id===p))==null?void 0:y.participants)||0)+1}),l()}catch(S){console.error("Failed to register for event:",S),alert("Failed to register for event. Please try again.")}},d=async p=>{var y;if(!t){alert("Please log in to join events");return}try{const S=lt(ye,"events",p);await Kn(S,{participants:(((y=e.find(v=>v.id===p))==null?void 0:y.participants)||0)+1}),window.location.href=`${vb}/competition/${p}`}catch(S){console.error("Failed to join live event:",S),alert("Failed to join event. Please try again.")}},h=()=>{window.location.href=`${vb}/practice`};if(g.useEffect(()=>{l();const p=setInterval(l,1e4);return()=>clearInterval(p)},[t]),i)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading events..."})]})}),o.jsx(gt,{})]});const f=e[0];return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"live",className:"py-24 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx(As,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[o.jsx("span",{className:"text-primary",children:"LIVE"})," Events"]}),o.jsx("p",{className:"text-muted-foreground",children:"Compete in real-time for prizes"})]}),f?o.jsxs(se,{className:"max-w-4xl mx-auto border-primary/50 bg-gradient-to-br from-primary/5 to-transparent mb-8 animate-glow",children:[o.jsx(_e,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(be,{className:"text-2xl flex items-center gap-2",children:[o.jsxs("span",{className:"relative flex h-3 w-3",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),f.title]}),o.jsx(Ie,{className:"bg-primary text-primary-foreground font-bold px-4 py-1",children:f.status==="LIVE"?"LIVE NOW":"STARTING SOON"})]})}),o.jsxs(oe,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Zs,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold font-mono",children:f.timeLeft}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Time Left"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(nn,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.participants}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Players"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Yn,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.prize}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Prize Pool"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(As,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:f.difficulty}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Difficulty"})]})]}),o.jsxs(ee,{variant:"neon",size:"lg",className:"w-full",onClick:()=>d(f.id),children:[o.jsx(As,{className:"w-5 h-5"}),f.status==="LIVE"?"Join Event Now":"Prepare for Event"]})]})]}):o.jsx(se,{className:"max-w-4xl mx-auto border-border mb-8",children:o.jsxs(oe,{className:"p-12 text-center",children:[o.jsx(As,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Live Events"}),o.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming competitions"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[o.jsx(nt,{className:"w-12 h-12 text-primary mx-auto mb-3"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Want to Practice?"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Sharpen your skills with our practice challenges while you wait for the next live event."}),o.jsxs(ee,{variant:"terminal",onClick:h,children:[o.jsx(nt,{className:"w-4 h-4 mr-2"}),"Explore Practice Challenges"]})]})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Upcoming Events"}),r.length===0?o.jsx(se,{className:"border-border",children:o.jsxs(oe,{className:"p-8 text-center",children:[o.jsx(na,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled"})]})}):o.jsx("div",{className:"space-y-4",children:r.map(p=>o.jsx(se,{className:"border-border hover:border-primary/30 transition-all",children:o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("h4",{className:"font-bold text-xl",children:p.title}),o.jsx(Ie,{variant:"outline",className:"border-primary/30 text-primary",children:p.difficulty})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-4 h-4"}),p.date]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),p.participants," registered",p.maxParticipants&&` / ${p.maxParticipants} max`]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yn,{className:"w-4 h-4"}),"Prize: ",p.prize]})]}),p.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:p.description})]}),o.jsx(ee,{variant:p.registered?"outline":"terminal",className:"md:ml-4",onClick:()=>!p.registered&&c(p.id),disabled:p.registered,children:p.registered?"Registered ":"Register"})]})})},p.id))})]}),o.jsx("div",{className:"max-w-4xl mx-auto mt-16",children:o.jsx(se,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:o.jsxs(oe,{className:"p-8 text-center",children:[o.jsx(nt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to Practice?"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Access our extensive library of practice challenges covering web security, cryptography, forensics, and more. Perfect for beginners and experts alike."}),o.jsxs(ee,{variant:"terminal",size:"lg",onClick:h,children:[o.jsx(nt,{className:"w-5 h-5 mr-2"}),"Explore Practice Challenges"]})]})})})]})}),o.jsx(gt,{})]})};function JB(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a);l.displayName=i+"Context";const c=n.length;n=[...n,a];const d=f=>{var b;const{scope:p,children:y,...S}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,T=g.useMemo(()=>S,Object.values(S));return o.jsx(v.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,p){var v;const y=((v=p==null?void 0:p[t])==null?void 0:v[c])||l,S=g.useContext(y);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,ZB(s,...e)]}function ZB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var e$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Iv=e$.reduce((t,e)=>{const n=gv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),QI={exports:{}},YI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=g;function t$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n$=typeof Object.is=="function"?Object.is:t$,r$=oa.useState,s$=oa.useEffect,i$=oa.useLayoutEffect,o$=oa.useDebugValue;function a$(t,e){var n=e(),r=r$({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return i$(function(){s.value=n,s.getSnapshot=e,Sp(s)&&i({inst:s})},[t,n,e]),s$(function(){return Sp(s)&&i({inst:s}),t(function(){Sp(s)&&i({inst:s})})},[t]),o$(n),n}function Sp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!n$(t,n)}catch{return!0}}function l$(t,e){return e()}var c$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l$:a$;YI.useSyncExternalStore=oa.useSyncExternalStore!==void 0?oa.useSyncExternalStore:c$;QI.exports=YI;var u$=QI.exports;function d$(){return u$.useSyncExternalStore(h$,()=>!0,()=>!1)}function h$(){return()=>{}}var jv="Avatar",[f$]=JB(jv),[p$,XI]=f$(jv),JI=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return o.jsx(p$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(Iv.span,{...r,ref:e})})});JI.displayName=jv;var ZI="AvatarImage",ej=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=XI(ZI,n),l=m$(r,i),c=Xr(d=>{s(d),a.onImageLoadingStatusChange(d)});return St(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Iv.img,{...i,ref:e,src:r}):null});ej.displayName=ZI;var tj="AvatarFallback",nj=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=XI(tj,n),[a,l]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(Iv.span,{...s,ref:e}):null});nj.displayName=tj;function xb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function m$(t,{referrerPolicy:e,crossOrigin:n}){const r=d$(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=g.useState(()=>xb(i,t));return St(()=>{l(xb(i,t))},[i,t]),St(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),a}var rj=JI,sj=ej,ij=nj;const oj=g.forwardRef(({className:t,...e},n)=>o.jsx(rj,{ref:n,className:Pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));oj.displayName=rj.displayName;const g$=g.forwardRef(({className:t,...e},n)=>o.jsx(sj,{ref:n,className:Pe("aspect-square h-full w-full",t),...e}));g$.displayName=sj.displayName;const aj=g.forwardRef(({className:t,...e},n)=>o.jsx(ij,{ref:n,className:Pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aj.displayName=ij.displayName;const y$=({eventName:t="CTF Competition"})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),l=async()=>{try{const c="/api/ctf/leaderboard",d="/api/platform/top-users",[h,f]=await Promise.all([fetch(c,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(d)]);if(h.ok){const p=await h.json();n(p)}else n([]);if(f.ok){const p=await f.json();s(p)}else s([])}catch{n([]),s([])}finally{a(!1)}};return g.useEffect(()=>{l();const c=setInterval(l,5e3);return()=>clearInterval(c)},[]),i?o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"leaderboard",className:"pt-24 pb-16 bg-muted/20 min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto text-center",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading leaderboard data..."})]})}),o.jsx(gt,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{id:"ctf-leaderboard",className:"pt-24 pb-16 bg-background min-h-screen",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx(Yn,{className:"w-12 h-12 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[t," - ",o.jsx("span",{className:"text-primary",children:"Live Scoreboard"})]})]}),o.jsxs(se,{className:"max-w-6xl mx-auto border-border",children:[o.jsx(_e,{className:"bg-muted/30",children:o.jsxs(be,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(H_,{className:"w-5 h-5 text-primary"}),"Live Competition Rankings"]}),o.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:e.length>0?`${e.length} Teams Competing`:"No active competition"})]})}),o.jsx(oe,{className:"p-0",children:e.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx(Yn,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg mb-2",children:"No scores available yet"}),o.jsx("p",{className:"text-sm",children:"Leaderboard will update when competition starts"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Team"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Captain"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Points"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Activity"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Challenge"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e.map(c=>o.jsxs("tr",{className:"hover:bg-muted/20 transition-colors duration-200",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:`text-lg font-bold ${c.rank<=3?"text-primary":"text-foreground"}`,children:c.rank})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:c.team}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-muted-foreground",children:c.captain}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-lg font-bold text-primary",children:c.points})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:c.lastActivity}),o.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground max-w-xs truncate",children:c.challenge})]},c.rank))})]})})})]})]})}),o.jsx("section",{id:"platform-leaderboard",className:"py-16 bg-muted/20",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx(Yn,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Global ",o.jsx("span",{className:"text-primary",children:"Leaderboard"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Top performers this month"})]}),o.jsxs(se,{className:"max-w-4xl mx-auto border-border",children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center gap-2",children:[o.jsx(H_,{className:"w-5 h-5 text-primary"}),"Top Platform Hackers"]})}),o.jsx(oe,{children:r.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Yn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No platform rankings available yet"})]}):o.jsx("div",{className:"space-y-3",children:r.map(c=>o.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-all duration-300 ${c.rank<=3?"bg-primary/10 border-2 border-primary/30 hover:border-primary/50":"bg-muted/30 border border-border hover:border-primary/30"}`,children:[o.jsx("div",{className:`text-2xl font-bold w-12 text-center ${c.rank<=3?"text-primary":"text-muted-foreground"}`,children:c.badge||`#${c.rank}`}),o.jsx(oj,{className:"w-12 h-12 border-2 border-primary/30",children:o.jsx(aj,{className:"bg-primary/20 text-primary font-bold",children:c.name.substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-bold text-lg",children:c.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.solved," challenges solved"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:c.points.toLocaleString()}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]},c.rank))})})]})]})}),o.jsx(gt,{})]})},v$=({onBack:t})=>{const[e,n]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),[l,c]=g.useState("");g.useEffect(()=>{d()},[]),g.useEffect(()=>{const y=e.filter(S=>{var v,T,b;return((v=S.displayName)==null?void 0:v.toLowerCase().includes(l.toLowerCase()))||((T=S.email)==null?void 0:T.toLowerCase().includes(l.toLowerCase()))||((b=S.role)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))});s(y)},[l,e]);const d=async()=>{try{const S=(await Ln(jt(ye,"users"))).docs.map(v=>({id:v.id,...v.data()}));n(S),s(S)}catch(y){console.error("Error fetching users:",y)}finally{a(!1)}},h=async(y,S)=>{try{await Kn(lt(ye,"users",y),{role:S}),n(e.map(v=>v.id===y?{...v,role:S}:v))}catch(v){console.error("Error updating user role:",v)}},f=async(y,S)=>{try{await Kn(lt(ye,"users",y),{isActive:!S}),n(e.map(v=>v.id===y?{...v,isActive:!S}:v))}catch(v){console.error("Error updating user status:",v)}},p=y=>{switch(y){case"admin":return"destructive";case"moderator":return"default";default:return"secondary"}};return i?o.jsx(se,{children:o.jsx(oe,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:"Loading users..."})})}):o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"User Management"}),o.jsxs(Et,{children:["Manage user roles and permissions (",e.length," total users)"]})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Search users by name, email, or role...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"space-y-4",children:[r.map(y=>{var S,v;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"font-medium text-sm",children:((S=y.displayName)==null?void 0:S.charAt(0).toUpperCase())||((v=y.email)==null?void 0:v.charAt(0).toUpperCase())})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:y.displayName||"No Name"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:y.email})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ie,{variant:p(y.role),children:y.role}),o.jsx(Ie,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:y.role,onChange:T=>h(y.id,T.target.value),className:"p-2 border rounded text-sm",children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"moderator",children:"Moderator"}),o.jsx("option",{value:"admin",children:"Admin"})]}),o.jsx(ee,{variant:"outline",size:"sm",onClick:()=>f(y.id,y.isActive||!0),children:y.isActive?"Suspend":"Activate"})]})]},y.id)}),r.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found matching your search."})]})]})]})},Ca=g.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ca.displayName="Textarea";var x$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w$=x$.reduce((t,e)=>{const n=gv(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_$="Label",lj=g.forwardRef((t,e)=>o.jsx(w$.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lj.displayName=_$;var cj=lj;const b$=Kh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=g.forwardRef(({className:t,...e},n)=>o.jsx(cj,{ref:n,className:Pe(b$(),t),...e}));G.displayName=cj.displayName;var rf="Switch",[E$]=ba(rf),[T$,S$]=E$(rf),uj=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,y]=g.useState(null),S=ut(e,C=>y(C)),v=g.useRef(!1),T=p?h||!!p.closest("form"):!0,[b,w]=ic({prop:s,defaultProp:i??!1,onChange:d,caller:rf});return o.jsxs(T$,{scope:n,checked:b,disabled:l,children:[o.jsx(Le.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":pj(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:S,onClick:Re(t.onClick,C=>{w(A=>!A),T&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),T&&o.jsx(fj,{control:p,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});uj.displayName=rf;var dj="SwitchThumb",hj=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=S$(dj,n);return o.jsx(Le.span,{"data-state":pj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});hj.displayName=dj;var C$="SwitchBubbleInput",fj=g.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=g.useRef(null),l=ut(a,i),c=tI(n),d=zN(e);return g.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const S=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(S)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fj.displayName=C$;function pj(t){return t?"checked":"unchecked"}var mj=uj,N$=hj;const Mt=g.forwardRef(({className:t,...e},n)=>o.jsx(mj,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(N$,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Mt.displayName=mj.displayName;const I$=({onBack:t})=>{const{user:e}=$n(),[n,r]=g.useState({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),[s,i]=g.useState([{id:"1",question:"",points:0,flag:""}]),[a,l]=g.useState(!1),[c,d]=g.useState(!1),h=async R=>{R.preventDefault(),l(!0);try{const E={...n,finalCategory:c?n.customCategory:n.category,questions:n.hasMultipleQuestions?s:[],createdAt:new Date,isActive:!0,solvedBy:[],hints:n.hints.filter(_=>_.trim()!==""),totalPoints:n.hasMultipleQuestions?s.reduce((_,k)=>_+k.points,0):n.points,createdBy:e==null?void 0:e.uid,createdByName:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),featuredOnPractice:n.featuredOnPractice,availableInPractice:n.availableInPractice,challengeType:n.challengeType,...n.isExternalChallenge&&{attribution:{...n.externalSource,importedBy:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),importedById:e==null?void 0:e.uid,importedAt:new Date}},...n.creator&&{originalCreator:{name:n.creator,url:n.creatorUrl}}};await MC(jt(ye,"challenges"),E),alert("Challenge created successfully!"),f()}catch(E){console.error("Error creating challenge:",E),alert("Error creating challenge. Please try again.")}finally{l(!1)}},f=()=>{r({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),i([{id:"1",question:"",points:0,flag:""}]),d(!1)},p=()=>{r({...n,hints:[...n.hints,""]})},y=(R,E)=>{const _=[...n.hints];_[R]=E,r({...n,hints:_})},S=R=>{const E=n.hints.filter((_,k)=>k!==R);r({...n,hints:E})},v=()=>{const R={id:Date.now().toString(),question:"",points:0,flag:""};i([...s,R])},T=(R,E,_)=>{i(s.map(k=>k.id===R?{...k,[E]:_}:k))},b=R=>{s.length>1&&i(s.filter(E=>E.id!==R))},w=R=>{if(R==="link"){const E=prompt("Enter the URL:");if(E){const _={id:Date.now().toString(),name:`Link - ${new Date().toLocaleDateString()}`,url:E,type:"link"};r({...n,files:[...n.files,_]})}}else{const E=document.createElement("input");E.type="file",E.onchange=_=>{var N;const k=(N=_.target.files)==null?void 0:N[0];if(k){const D={id:Date.now().toString(),name:k.name,url:URL.createObjectURL(k),type:"file"};r({...n,files:[...n.files,D]})}},E.click()}},C=R=>{r({...n,files:n.files.filter(E=>E.id!==R)})},A=R=>{R==="custom"?(d(!0),r({...n,category:"custom"})):(d(!1),r({...n,category:R}))},O=(R,E)=>{r({...n,externalSource:{...n.externalSource,[R]:E}})};return o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Create New Challenge"}),o.jsx(Et,{children:"Add a new CTF challenge to the platform with advanced options"})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"title",children:"Challenge Title *"}),o.jsx(de,{id:"title",value:n.title,onChange:R=>r({...n,title:R.target.value}),placeholder:"Enter challenge title",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"category",children:"Category"}),o.jsxs(At,{value:n.category,onValueChange:A,children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"web",children:"Web"}),o.jsx(Y,{value:"crypto",children:"Cryptography"}),o.jsx(Y,{value:"forensics",children:"Forensics"}),o.jsx(Y,{value:"pwn",children:"Pwn"}),o.jsx(Y,{value:"reversing",children:"Reverse Engineering"}),o.jsx(Y,{value:"misc",children:"Miscellaneous"}),o.jsx(Y,{value:"custom",children:"Custom Category"})]})]})]}),c&&o.jsxs("div",{children:[o.jsx(G,{htmlFor:"customCategory",children:"Custom Category Name *"}),o.jsx(de,{id:"customCategory",value:n.customCategory,onChange:R=>r({...n,customCategory:R.target.value}),placeholder:"Enter your custom category name",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"difficulty",children:"Difficulty"}),o.jsxs(At,{value:n.difficulty,onValueChange:R=>r({...n,difficulty:R}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"easy",children:"Easy (1-100 points)"}),o.jsx(Y,{value:"medium",children:"Medium (101-300 points)"}),o.jsx(Y,{value:"hard",children:"Hard (301-500 points)"})]})]})]}),!n.hasMultipleQuestions&&o.jsxs("div",{children:[o.jsx(G,{htmlFor:"points",children:"Points *"}),o.jsx(de,{id:"points",type:"number",value:n.points,onChange:R=>r({...n,points:parseInt(R.target.value)||0}),min:"1",max:"1000",required:!0})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(G,{htmlFor:"description",children:"Description *"}),o.jsx(Ca,{id:"description",value:n.description,onChange:R=>r({...n,description:R.target.value}),placeholder:"Enter detailed challenge description, requirements, and any setup instructions...",rows:8,required:!0})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(nt,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"Practice Visibility"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:"availableInPractice",checked:n.availableInPractice,onCheckedChange:R=>r({...n,availableInPractice:R})}),o.jsx(G,{htmlFor:"availableInPractice",className:"text-sm",children:"Available in Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:"featuredOnPractice",checked:n.featuredOnPractice,onCheckedChange:R=>r({...n,featuredOnPractice:R})}),o.jsxs(G,{htmlFor:"featuredOnPractice",className:"text-sm",children:[o.jsx(Vo,{className:"w-4 h-4 inline mr-1"}),"Featured on Practice"]})]})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"challengeType",children:"Challenge Type"}),o.jsxs(At,{value:n.challengeType,onValueChange:R=>r({...n,challengeType:R}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"practice",children:"Practice Challenge"}),o.jsx(Y,{value:"live",children:"Live Event Challenge"}),o.jsx(Y,{value:"past_event",children:"Past Event Challenge"})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'"Practice" challenges appear in the Practice section. "Live Event" challenges are only available during events.'})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"Creator Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"creator",children:"Original Creator (Optional)"}),o.jsx(de,{id:"creator",value:n.creator,onChange:R=>r({...n,creator:R.target.value}),placeholder:"Name of the original challenge creator"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this if the challenge was created by someone else in your community"})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"creatorUrl",children:"Creator Profile URL"}),o.jsx(de,{id:"creatorUrl",value:n.creatorUrl,onChange:R=>r({...n,creatorUrl:R.target.value}),placeholder:"https://github.com/username"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vN,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"External CTF Challenge"})]}),o.jsx(Mt,{checked:n.isExternalChallenge,onCheckedChange:R=>r({...n,isExternalChallenge:R})})]}),n.isExternalChallenge&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide attribution for challenges downloaded from other CTF platforms"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"ctfName",children:"Original CTF Name *"}),o.jsx(de,{id:"ctfName",value:n.externalSource.ctfName,onChange:R=>O("ctfName",R.target.value),placeholder:"e.g., HackTheBox, TryHackMe, CTFtime",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"ctfUrl",children:"CTF Website URL"}),o.jsx(de,{id:"ctfUrl",value:n.externalSource.ctfUrl,onChange:R=>O("ctfUrl",R.target.value),placeholder:"https://ctf.example.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"originalAuthor",children:"Original Author *"}),o.jsx(de,{id:"originalAuthor",value:n.externalSource.originalAuthor,onChange:R=>O("originalAuthor",R.target.value),placeholder:"Name of the original challenge author",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"authorUrl",children:"Author Profile URL"}),o.jsx(de,{id:"authorUrl",value:n.externalSource.authorUrl,onChange:R=>O("authorUrl",R.target.value),placeholder:"https://github.com/original-author"})]})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"license",children:"License"}),o.jsxs(At,{value:n.externalSource.license,onValueChange:R=>O("license",R),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"unknown",children:"Unknown"}),o.jsx(Y,{value:"MIT",children:"MIT License"}),o.jsx(Y,{value:"apache-2.0",children:"Apache 2.0"}),o.jsx(Y,{value:"gpl-3.0",children:"GPL v3.0"}),o.jsx(Y,{value:"cc-by-4.0",children:"Creative Commons BY 4.0"}),o.jsx(Y,{value:"custom",children:"Custom License"})]})]}),n.externalSource.license==="custom"&&o.jsx(de,{placeholder:"Specify custom license",className:"mt-2",onChange:R=>O("license",R.target.value)})]}),o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Attribution Notice:"})," This challenge will be displayed with proper attribution to the original author and CTF platform."]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"multipleQuestions",className:"text-base",children:"Multiple Questions Challenge"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if this challenge contains multiple sub-questions with separate flags"})]}),o.jsx(Mt,{id:"multipleQuestions",checked:n.hasMultipleQuestions,onCheckedChange:R=>r({...n,hasMultipleQuestions:R})})]}),n.hasMultipleQuestions&&o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(G,{className:"text-base",children:"Challenge Questions"}),o.jsxs(ee,{type:"button",onClick:v,variant:"outline",size:"sm",children:[o.jsx(ei,{className:"w-4 h-4 mr-1"}),"Add Question"]})]}),s.map((R,E)=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(G,{children:["Question ",E+1]}),s.length>1&&o.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(R.id),children:o.jsx(nc,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:`question-${R.id}`,children:"Question Text *"}),o.jsx(de,{id:`question-${R.id}`,value:R.question,onChange:_=>T(R.id,"question",_.target.value),placeholder:"Enter the question text",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:`points-${R.id}`,children:"Points *"}),o.jsx(de,{id:`points-${R.id}`,type:"number",value:R.points,onChange:_=>T(R.id,"points",parseInt(_.target.value)||0),min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:`flag-${R.id}`,children:"Flag *"}),o.jsx(de,{id:`flag-${R.id}`,value:R.flag,onChange:_=>T(R.id,"flag",_.target.value),placeholder:"Flag for this question",required:!0})]})]})]},R.id)),s.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Points: ",s.reduce((R,E)=>R+E.points,0)]})]}),!n.hasMultipleQuestions&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"flag",children:"Flag *"}),o.jsx(de,{id:"flag",value:n.flag,onChange:R=>r({...n,flag:R.target.value}),placeholder:"CTF{...} or any flag format",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"flagFormat",children:"Flag Format (Regex)"}),o.jsxs(At,{value:n.flagFormat,onValueChange:R=>r({...n,flagFormat:R}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsxs(Y,{value:"CTF{.*}",children:["CTF","{text}"]}),o.jsxs(Y,{value:"FLAG{.*}",children:["FLAG","{text}"]}),o.jsx(Y,{value:".*",children:"Any format"}),o.jsx(Y,{value:"[A-Za-z0-9]{8,}",children:"Alphanumeric (8+ chars)"}),o.jsx(Y,{value:"custom",children:"Custom Regex"})]})]}),n.flagFormat==="custom"&&o.jsx(de,{placeholder:"Enter custom regex pattern",className:"mt-2",onChange:R=>r({...n,flagFormat:R.target.value})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(G,{children:"Files & Links"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{type:"button",variant:"outline",onClick:()=>w("file"),children:[o.jsx(TN,{className:"w-4 h-4 mr-2"}),"Upload File"]}),o.jsxs(ee,{type:"button",variant:"outline",onClick:()=>w("link"),children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),n.files.length>0&&o.jsx("div",{className:"space-y-2",children:n.files.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[R.type==="file"?o.jsx(tc,{className:"w-4 h-4"}):o.jsx(sa,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:R.name}),R.type==="link"&&o.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs",children:"(View Link)"})]}),o.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(R.id),children:o.jsx(nc,{className:"w-4 h-4"})})]},R.id))})]}),o.jsxs("div",{children:[o.jsx(G,{children:"Hints (Optional)"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[n.hints.map((R,E)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{value:R,onChange:_=>y(E,_.target.value),placeholder:`Hint ${E+1}`}),n.hints.length>1&&o.jsx(ee,{type:"button",variant:"outline",onClick:()=>S(E),children:"Remove"})]},E)),o.jsx(ee,{type:"button",variant:"outline",onClick:p,children:"Add Hint"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(ee,{type:"submit",disabled:a,children:a?"Creating...":"Create Challenge"}),o.jsx(ee,{type:"button",variant:"outline",onClick:f,children:"Reset Form"}),o.jsx(ee,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},j$=({onBack:t,onCreateNew:e,onEditChallenge:n})=>{const{user:r}=$n(),[s,i]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(!0),[h,f]=g.useState(""),[p,y]=g.useState("all"),[S,v]=g.useState("all"),[T,b]=g.useState("all"),[w,C]=g.useState("all"),[A,O]=g.useState([]),[R,E]=g.useState(!1);g.useEffect(()=>{_(),k()},[]),g.useEffect(()=>{N()},[h,p,S,T,w,s]);const _=async()=>{try{const V=Er(jt(ye,"challenges"),Hs("createdAt","desc")),ue=(await Ln(V)).docs.map(pe=>({id:pe.id,...pe.data()}));i(ue)}catch(V){console.error("Error fetching challenges:",V)}finally{d(!1)}},k=async()=>{try{E(!0);const V=Er(jt(ye,"events"),Br("status","in",["LIVE","UPCOMING"]),Hs("startTime","asc")),ue=(await Ln(V)).docs.map(pe=>({id:pe.id,...pe.data()}));O(ue)}catch(V){console.error("Error fetching events:",V),O([])}finally{E(!1)}},N=()=>{let V=s;h&&(V=V.filter(H=>H.title.toLowerCase().includes(h.toLowerCase())||H.description.toLowerCase().includes(h.toLowerCase())||(H.finalCategory||H.category).toLowerCase().includes(h.toLowerCase()))),p!=="all"&&(V=V.filter(H=>(H.finalCategory||H.category)===p)),S!=="all"&&(V=V.filter(H=>H.difficulty===S)),T!=="all"&&(V=V.filter(H=>T==="active"?H.isActive:!H.isActive)),w!=="all"&&(V=V.filter(H=>{switch(w){case"practice":return H.challengeType==="practice"||H.featuredOnPractice||H.availableInPractice;case"live":return H.challengeType==="live";case"upcoming":return H.challengeType==="upcoming";case"past":return H.challengeType==="past_event";case"featured":return H.featuredOnPractice;default:return!0}})),l(V)},D=async(V,H)=>{try{await Kn(lt(ye,"challenges",V),{isActive:!H}),i(s.map(ue=>ue.id===V?{...ue,isActive:!H}:ue))}catch(ue){console.error("Error updating challenge status:",ue)}},I=async(V,H)=>{try{await Kn(lt(ye,"challenges",V),{featuredOnPractice:!H,availableInPractice:!0,challengeType:H?void 0:"practice"}),i(s.map(ue=>ue.id===V?{...ue,featuredOnPractice:!H,availableInPractice:!0,challengeType:H?ue.challengeType:"practice"}:ue))}catch(ue){console.error("Error updating featured status:",ue)}},j=async(V,H,ue)=>{try{const pe=A.find(Ke=>Ke.id===H);await Kn(lt(ye,"challenges",V),{eventId:H,eventName:ue,challengeType:(pe==null?void 0:pe.status)==="LIVE"?"live":"upcoming",availableInPractice:!1,featuredOnPractice:!1}),i(s.map(Ke=>Ke.id===V?{...Ke,eventId:H,eventName:ue,challengeType:(pe==null?void 0:pe.status)==="LIVE"?"live":"upcoming",availableInPractice:!1,featuredOnPractice:!1}:Ke))}catch(pe){console.error("Error assigning challenge to event:",pe)}},z=async V=>{try{await Kn(lt(ye,"challenges",V),{eventId:null,eventName:null,challengeType:"practice",availableInPractice:!0,featuredOnPractice:!1}),i(s.map(H=>H.id===V?{...H,eventId:void 0,eventName:void 0,challengeType:"practice",availableInPractice:!0,featuredOnPractice:!1}:H))}catch(H){console.error("Error removing challenge from event:",H)}},X=async(V,H)=>{try{await Kn(lt(ye,"challenges",V),{availableInPractice:H,challengeType:H?"practice":void 0,featuredOnPractice:H?!1:void 0}),i(s.map(ue=>ue.id===V?{...ue,availableInPractice:H,challengeType:H?"practice":ue.challengeType,featuredOnPractice:H?ue.featuredOnPractice:!1}:ue))}catch(ue){console.error("Error updating practice availability:",ue)}},q=async V=>{if(confirm("Are you sure you want to delete this challenge? This action cannot be undone."))try{await I3(lt(ye,"challenges",V)),i(s.filter(H=>H.id!==V))}catch(H){console.error("Error deleting challenge:",H)}},J=V=>{switch(V){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";case"expert":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},L=V=>({web:"bg-blue-100 text-blue-800",crypto:"bg-purple-100 text-purple-800",forensics:"bg-orange-100 text-orange-800",pwn:"bg-red-100 text-red-800",reversing:"bg-indigo-100 text-indigo-800",misc:"bg-gray-100 text-gray-800"})[V]||"bg-gray-100 text-gray-800",U=V=>V.challengeType==="live"?o.jsxs(Ie,{className:"bg-red-100 text-red-800",children:[o.jsx(As,{className:"w-3 h-3 mr-1"}),"Live Event"]}):V.challengeType==="upcoming"?o.jsxs(Ie,{className:"bg-yellow-100 text-yellow-800",children:[o.jsx(na,{className:"w-3 h-3 mr-1"}),"Upcoming"]}):V.challengeType==="past_event"?o.jsx(Ie,{className:"bg-gray-100 text-gray-800",children:"Past Event"}):V.featuredOnPractice?o.jsxs(Ie,{className:"bg-purple-100 text-purple-800",children:[o.jsx(nt,{className:"w-3 h-3 mr-1"}),"Featured"]}):V.availableInPractice?o.jsx(Ie,{className:"bg-green-100 text-green-800",children:"Practice"}):null,K=()=>{const V=s.map(H=>H.finalCategory||H.category);return Array.from(new Set(V)).filter(Boolean)};return c?o.jsx(se,{children:o.jsx(oe,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:"Loading challenges..."})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Challenge Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Manage challenges, assign to events, and feature on practice page (",s.length," total)"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{onClick:e,children:[o.jsx(ei,{className:"w-4 h-4 mr-2"}),"Create New"]}),o.jsx(ee,{variant:"outline",onClick:t,children:"Back to Dashboard"})]})]}),o.jsxs(se,{children:[o.jsx(_e,{children:o.jsx(be,{className:"text-lg",children:"Search & Filter"})}),o.jsx(oe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Search challenges...",value:h,onChange:V=>f(V.target.value),className:"pl-10"})]}),o.jsx("div",{children:o.jsxs(At,{value:p,onValueChange:y,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Categories"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Categories"}),K().map(V=>o.jsx(Y,{value:V,children:V},V))]})]})}),o.jsx("div",{children:o.jsxs(At,{value:S,onValueChange:v,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Difficulties"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Difficulties"}),o.jsx(Y,{value:"easy",children:"Easy"}),o.jsx(Y,{value:"medium",children:"Medium"}),o.jsx(Y,{value:"hard",children:"Hard"}),o.jsx(Y,{value:"expert",children:"Expert"})]})]})}),o.jsx("div",{children:o.jsxs(At,{value:T,onValueChange:b,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Status"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Status"}),o.jsx(Y,{value:"active",children:"Active"}),o.jsx(Y,{value:"inactive",children:"Inactive"})]})]})}),o.jsx("div",{children:o.jsxs(At,{value:w,onValueChange:C,children:[o.jsx(wt,{children:o.jsx(kt,{placeholder:"All Types"})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"all",children:"All Types"}),o.jsx(Y,{value:"practice",children:"Practice"}),o.jsx(Y,{value:"live",children:"Live Event"}),o.jsx(Y,{value:"upcoming",children:"Upcoming Event"}),o.jsx(Y,{value:"past",children:"Past Event"}),o.jsx(Y,{value:"featured",children:"Featured"})]})]})})]})})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Challenges"}),o.jsxs(Et,{children:[a.length," of ",s.length," challenges shown",A.length>0&&`  ${A.length} events available`]})]}),o.jsx(oe,{children:o.jsxs("div",{className:"space-y-4",children:[a.map(V=>{var H,ue,pe,Ke;return o.jsx("div",{className:"border rounded-lg p-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("h3",{className:"font-semibold text-lg",children:V.title}),o.jsx(Ie,{variant:V.isActive?"default":"secondary",children:V.isActive?"Active":"Inactive"}),o.jsx(Ie,{className:J(V.difficulty),children:V.difficulty}),o.jsx(Ie,{className:L(V.finalCategory||V.category),children:V.finalCategory||V.category}),o.jsxs(Ie,{variant:"outline",children:[V.points," pts"]}),U(V)]}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:V.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Created by: ",V.createdByName]}),o.jsx("span",{children:""}),o.jsx("span",{children:((pe=(ue=(H=V.createdAt)==null?void 0:H.toDate)==null?void 0:ue.call(H))==null?void 0:pe.toLocaleDateString())||new Date(V.createdAt).toLocaleDateString()}),o.jsx("span",{children:""}),o.jsxs("span",{children:[((Ke=V.solvedBy)==null?void 0:Ke.length)||0," solves"]}),V.eventName&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Event: ",V.eventName]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:`featured-${V.id}`,checked:V.featuredOnPractice||!1,onCheckedChange:Ae=>I(V.id,V.featuredOnPractice||!1)}),o.jsx(G,{htmlFor:`featured-${V.id}`,className:"text-sm",children:"Featured on Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:`practice-${V.id}`,checked:V.availableInPractice||!1,onCheckedChange:Ae=>X(V.id,Ae)}),o.jsx(G,{htmlFor:`practice-${V.id}`,className:"text-sm",children:"Available in Practice"})]}),!V.eventId&&A.length>0&&o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(At,{value:"",onValueChange:Ae=>{const ie=A.find(Ce=>Ce.id===Ae);ie&&j(V.id,Ae,ie.title)},children:[o.jsx(wt,{className:"w-40",children:o.jsx(kt,{placeholder:"Assign to Event"})}),o.jsx(_t,{children:A.map(Ae=>o.jsxs(Y,{value:Ae.id,children:[Ae.title," (",Ae.status,")"]},Ae.id))})]})}),V.eventId&&o.jsx(ee,{variant:"outline",size:"sm",onClick:()=>z(V.id),children:"Remove from Event"}),A.length===0&&o.jsx(Ie,{variant:"outline",className:"text-xs",children:"No events available"})]})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(V),children:[o.jsx(nU,{className:"w-4 h-4 mr-1"}),"Edit"]}),o.jsx(ee,{variant:"outline",size:"sm",onClick:()=>D(V.id,V.isActive),children:V.isActive?"Deactivate":"Activate"}),o.jsx(ee,{variant:"destructive",size:"sm",onClick:()=>q(V.id),children:o.jsx(rU,{className:"w-4 h-4"})})]})]})},V.id)}),a.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.length===0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"No challenges created yet."}),o.jsxs(ee,{onClick:e,children:[o.jsx(ei,{className:"w-4 h-4 mr-2"}),"Create Your First Challenge"]})]}):"No challenges match your filters."})]})})]})]})},A$=({challengeId:t,onBack:e,onSave:n})=>{const{user:r}=$n(),[s,i]=g.useState(!0),[a,l]=g.useState(!1),[c,d]=g.useState({title:"",description:"",category:"web",customCategory:"",difficulty:"easy",points:100,flag:"",flagFormat:"CTF{.*}",hasMultipleQuestions:!1,isExternalChallenge:!1,isActive:!0,hints:[""],files:[],creator:"",creatorUrl:"",externalSource:{ctfName:"",ctfUrl:"",originalAuthor:"",authorUrl:"",license:"unknown"},featuredOnPractice:!1,availableInPractice:!0,challengeType:"practice"}),[h,f]=g.useState([]),[p,y]=g.useState(!1);g.useEffect(()=>{S()},[t]);const S=async()=>{var N,D,I,j,z,X,q;try{const J=await bc(lt(ye,"challenges",t));if(J.exists()){const L=J.data();d({title:L.title||"",description:L.description||"",category:L.category||"web",customCategory:L.finalCategory||"",difficulty:L.difficulty||"easy",points:L.points||100,flag:L.flag||"",flagFormat:L.flagFormat||"CTF{.*}",hasMultipleQuestions:L.hasMultipleQuestions||!1,isExternalChallenge:!!L.attribution,isActive:L.isActive!==!1,hints:L.hints||[""],files:L.files||[],creator:((N=L.originalCreator)==null?void 0:N.name)||"",creatorUrl:((D=L.originalCreator)==null?void 0:D.url)||"",featuredOnPractice:L.featuredOnPractice||!1,availableInPractice:L.availableInPractice!==!1,challengeType:L.challengeType||"practice",externalSource:{ctfName:((I=L.attribution)==null?void 0:I.ctfName)||"",ctfUrl:((j=L.attribution)==null?void 0:j.ctfUrl)||"",originalAuthor:((z=L.attribution)==null?void 0:z.originalAuthor)||"",authorUrl:((X=L.attribution)==null?void 0:X.authorUrl)||"",license:((q=L.attribution)==null?void 0:q.license)||"unknown"}}),L.hasMultipleQuestions&&L.questions&&f(L.questions),L.finalCategory&&(y(!0),d(U=>({...U,category:"custom"})))}}catch(J){console.error("Error loading challenge:",J)}finally{i(!1)}},v=async N=>{N.preventDefault(),l(!0);try{const D={...c,finalCategory:p?c.customCategory:c.category,questions:c.hasMultipleQuestions?h:[],hints:c.hints.filter(I=>I.trim()!==""),totalPoints:c.hasMultipleQuestions?h.reduce((I,j)=>I+j.points,0):c.points,updatedAt:new Date,updatedBy:r==null?void 0:r.uid,updatedByName:(r==null?void 0:r.displayName)||(r==null?void 0:r.email),featuredOnPractice:c.featuredOnPractice,availableInPractice:c.availableInPractice,challengeType:c.challengeType,...c.isExternalChallenge&&{attribution:{...c.externalSource,importedBy:(r==null?void 0:r.displayName)||(r==null?void 0:r.email),importedById:r==null?void 0:r.uid,importedAt:new Date}},...c.creator&&{originalCreator:{name:c.creator,url:c.creatorUrl}}};await Kn(lt(ye,"challenges",t),D),alert("Challenge updated successfully!"),n()}catch(D){console.error("Error updating challenge:",D),alert("Error updating challenge. Please try again.")}finally{l(!1)}},T=()=>{d({...c,hints:[...c.hints,""]})},b=(N,D)=>{const I=[...c.hints];I[N]=D,d({...c,hints:I})},w=N=>{const D=c.hints.filter((I,j)=>j!==N);d({...c,hints:D})},C=()=>{const N={id:Date.now().toString(),question:"",points:0,flag:""};f([...h,N])},A=(N,D,I)=>{f(h.map(j=>j.id===N?{...j,[D]:I}:j))},O=N=>{h.length>1&&f(h.filter(D=>D.id!==N))},R=N=>{if(N==="link"){const D=prompt("Enter the URL:");if(D){const I={id:Date.now().toString(),name:`Link - ${new Date().toLocaleDateString()}`,url:D,type:"link"};d({...c,files:[...c.files,I]})}}else{const D=document.createElement("input");D.type="file",D.onchange=I=>{var z;const j=(z=I.target.files)==null?void 0:z[0];if(j){const X={id:Date.now().toString(),name:j.name,url:URL.createObjectURL(j),type:"file"};d({...c,files:[...c.files,X]})}},D.click()}},E=N=>{d({...c,files:c.files.filter(D=>D.id!==N)})},_=N=>{N==="custom"?(y(!0),d({...c,category:"custom"})):(y(!1),d({...c,category:N}))},k=(N,D)=>{d({...c,externalSource:{...c.externalSource,[N]:D}})};return s?o.jsx(se,{children:o.jsx(oe,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:"Loading challenge..."})})}):o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Edit Challenge"}),o.jsx(Et,{children:"Update challenge details and configuration"})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(G,{className:"text-base",children:"Challenge Status"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active challenges are visible to users"})]}),o.jsx(Mt,{checked:c.isActive,onCheckedChange:N=>d({...c,isActive:N})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(nt,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"Practice Visibility"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:"availableInPractice",checked:c.availableInPractice,onCheckedChange:N=>d({...c,availableInPractice:N})}),o.jsx(G,{htmlFor:"availableInPractice",className:"text-sm",children:"Available in Practice"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{id:"featuredOnPractice",checked:c.featuredOnPractice,onCheckedChange:N=>d({...c,featuredOnPractice:N})}),o.jsxs(G,{htmlFor:"featuredOnPractice",className:"text-sm",children:[o.jsx(Vo,{className:"w-4 h-4 inline mr-1"}),"Featured on Practice"]})]})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"challengeType",children:"Challenge Type"}),o.jsxs(At,{value:c.challengeType,onValueChange:N=>d({...c,challengeType:N}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"practice",children:"Practice Challenge"}),o.jsx(Y,{value:"live",children:"Live Event Challenge"}),o.jsx(Y,{value:"past_event",children:"Past Event Challenge"})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'"Practice" challenges appear in the Practice section. "Live Event" challenges are only available during events.'})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"title",children:"Challenge Title *"}),o.jsx(de,{id:"title",value:c.title,onChange:N=>d({...c,title:N.target.value}),placeholder:"Enter challenge title",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"category",children:"Category"}),o.jsxs(At,{value:c.category,onValueChange:_,children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"web",children:"Web"}),o.jsx(Y,{value:"crypto",children:"Cryptography"}),o.jsx(Y,{value:"forensics",children:"Forensics"}),o.jsx(Y,{value:"pwn",children:"Pwn"}),o.jsx(Y,{value:"reversing",children:"Reverse Engineering"}),o.jsx(Y,{value:"misc",children:"Miscellaneous"}),o.jsx(Y,{value:"custom",children:"Custom Category"})]})]})]}),p&&o.jsxs("div",{children:[o.jsx(G,{htmlFor:"customCategory",children:"Custom Category Name *"}),o.jsx(de,{id:"customCategory",value:c.customCategory,onChange:N=>d({...c,customCategory:N.target.value}),placeholder:"Enter your custom category name",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"difficulty",children:"Difficulty"}),o.jsxs(At,{value:c.difficulty,onValueChange:N=>d({...c,difficulty:N}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"easy",children:"Easy (1-100 points)"}),o.jsx(Y,{value:"medium",children:"Medium (101-300 points)"}),o.jsx(Y,{value:"hard",children:"Hard (301-500 points)"})]})]})]}),!c.hasMultipleQuestions&&o.jsxs("div",{children:[o.jsx(G,{htmlFor:"points",children:"Points *"}),o.jsx(de,{id:"points",type:"number",value:c.points,onChange:N=>d({...c,points:parseInt(N.target.value)||0}),min:"1",max:"1000",required:!0})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(G,{htmlFor:"description",children:"Description *"}),o.jsx(Ca,{id:"description",value:c.description,onChange:N=>d({...c,description:N.target.value}),placeholder:"Enter detailed challenge description, requirements, and any setup instructions...",rows:8,required:!0})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"Creator Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"creator",children:"Original Creator (Optional)"}),o.jsx(de,{id:"creator",value:c.creator,onChange:N=>d({...c,creator:N.target.value}),placeholder:"Name of the original challenge creator"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this if the challenge was created by someone else in your community"})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"creatorUrl",children:"Creator Profile URL"}),o.jsx(de,{id:"creatorUrl",value:c.creatorUrl,onChange:N=>d({...c,creatorUrl:N.target.value}),placeholder:"https://github.com/username"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vN,{className:"w-5 h-5"}),o.jsx(G,{className:"text-base",children:"External CTF Challenge"})]}),o.jsx(Mt,{checked:c.isExternalChallenge,onCheckedChange:N=>d({...c,isExternalChallenge:N})})]}),c.isExternalChallenge&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide attribution for challenges downloaded from other CTF platforms"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"ctfName",children:"Original CTF Name *"}),o.jsx(de,{id:"ctfName",value:c.externalSource.ctfName,onChange:N=>k("ctfName",N.target.value),placeholder:"e.g., HackTheBox, TryHackMe, CTFtime",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"ctfUrl",children:"CTF Website URL"}),o.jsx(de,{id:"ctfUrl",value:c.externalSource.ctfUrl,onChange:N=>k("ctfUrl",N.target.value),placeholder:"https://ctf.example.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"originalAuthor",children:"Original Author *"}),o.jsx(de,{id:"originalAuthor",value:c.externalSource.originalAuthor,onChange:N=>k("originalAuthor",N.target.value),placeholder:"Name of the original challenge author",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"authorUrl",children:"Author Profile URL"}),o.jsx(de,{id:"authorUrl",value:c.externalSource.authorUrl,onChange:N=>k("authorUrl",N.target.value),placeholder:"https://github.com/original-author"})]})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"license",children:"License"}),o.jsxs(At,{value:c.externalSource.license,onValueChange:N=>k("license",N),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsx(Y,{value:"unknown",children:"Unknown"}),o.jsx(Y,{value:"MIT",children:"MIT License"}),o.jsx(Y,{value:"apache-2.0",children:"Apache 2.0"}),o.jsx(Y,{value:"gpl-3.0",children:"GPL v3.0"}),o.jsx(Y,{value:"cc-by-4.0",children:"Creative Commons BY 4.0"}),o.jsx(Y,{value:"custom",children:"Custom License"})]})]}),c.externalSource.license==="custom"&&o.jsx(de,{placeholder:"Specify custom license",className:"mt-2",onChange:N=>k("license",N.target.value)})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"multipleQuestions",className:"text-base",children:"Multiple Questions Challenge"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if this challenge contains multiple sub-questions with separate flags"})]}),o.jsx(Mt,{id:"multipleQuestions",checked:c.hasMultipleQuestions,onCheckedChange:N=>d({...c,hasMultipleQuestions:N})})]}),c.hasMultipleQuestions&&o.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(G,{className:"text-base",children:"Challenge Questions"}),o.jsxs(ee,{type:"button",onClick:C,variant:"outline",size:"sm",children:[o.jsx(ei,{className:"w-4 h-4 mr-1"}),"Add Question"]})]}),h.map((N,D)=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(G,{children:["Question ",D+1]}),h.length>1&&o.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(N.id),children:o.jsx(nc,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:`question-${N.id}`,children:"Question Text *"}),o.jsx(de,{id:`question-${N.id}`,value:N.question,onChange:I=>A(N.id,"question",I.target.value),placeholder:"Enter the question text",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:`points-${N.id}`,children:"Points *"}),o.jsx(de,{id:`points-${N.id}`,type:"number",value:N.points,onChange:I=>A(N.id,"points",parseInt(I.target.value)||0),min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:`flag-${N.id}`,children:"Flag *"}),o.jsx(de,{id:`flag-${N.id}`,value:N.flag,onChange:I=>A(N.id,"flag",I.target.value),placeholder:"Flag for this question",required:!0})]})]})]},N.id)),h.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Points: ",h.reduce((N,D)=>N+D.points,0)]})]}),!c.hasMultipleQuestions&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"flag",children:"Flag *"}),o.jsx(de,{id:"flag",value:c.flag,onChange:N=>d({...c,flag:N.target.value}),placeholder:"CTF{...} or any flag format",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"flagFormat",children:"Flag Format (Regex)"}),o.jsxs(At,{value:c.flagFormat,onValueChange:N=>d({...c,flagFormat:N}),children:[o.jsx(wt,{children:o.jsx(kt,{})}),o.jsxs(_t,{children:[o.jsxs(Y,{value:"CTF{.*}",children:["CTF","{text}"]}),o.jsxs(Y,{value:"FLAG{.*}",children:["FLAG","{text}"]}),o.jsx(Y,{value:".*",children:"Any format"}),o.jsx(Y,{value:"[A-Za-z0-9]{8,}",children:"Alphanumeric (8+ chars)"}),o.jsx(Y,{value:"custom",children:"Custom Regex"})]})]}),c.flagFormat==="custom"&&o.jsx(de,{placeholder:"Enter custom regex pattern",className:"mt-2",onChange:N=>d({...c,flagFormat:N.target.value})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(G,{children:"Files & Links"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{type:"button",variant:"outline",onClick:()=>R("file"),children:[o.jsx(TN,{className:"w-4 h-4 mr-2"}),"Upload File"]}),o.jsxs(ee,{type:"button",variant:"outline",onClick:()=>R("link"),children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),c.files.length>0&&o.jsx("div",{className:"space-y-2",children:c.files.map(N=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[N.type==="file"?o.jsx(tc,{className:"w-4 h-4"}):o.jsx(sa,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:N.name}),N.type==="link"&&o.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-xs",children:"(View Link)"})]}),o.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(N.id),children:o.jsx(nc,{className:"w-4 h-4"})})]},N.id))})]}),o.jsxs("div",{children:[o.jsx(G,{children:"Hints (Optional)"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[c.hints.map((N,D)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{value:N,onChange:I=>b(D,I.target.value),placeholder:`Hint ${D+1}`}),c.hints.length>1&&o.jsx(ee,{type:"button",variant:"outline",onClick:()=>w(D),children:"Remove"})]},D)),o.jsx(ee,{type:"button",variant:"outline",onClick:T,children:"Add Hint"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(ee,{type:"submit",disabled:a,children:[o.jsx(bN,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Changes"]}),o.jsx(ee,{type:"button",variant:"outline",onClick:e,children:"Cancel"})]})]})})]})},k$=({onBack:t})=>{const[e,n]=g.useState({name:"",description:"",startDate:"",endDate:"",type:"ctf",maxParticipants:100,isPublic:!0}),r=async s=>{s.preventDefault(),console.log("Scheduling event:",e),alert("Event scheduling functionality coming soon!")};return o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Schedule New Event"}),o.jsx(Et,{children:"Create and schedule CTF events and competitions"})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:r,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"name",children:"Event Name *"}),o.jsx(de,{id:"name",value:e.name,onChange:s=>n({...e,name:s.target.value}),placeholder:"Enter event name",required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"description",children:"Event Description"}),o.jsx(Ca,{id:"description",value:e.description,onChange:s=>n({...e,description:s.target.value}),placeholder:"Describe the event, rules, and objectives...",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"startDate",children:"Start Date & Time *"}),o.jsx(de,{id:"startDate",type:"datetime-local",value:e.startDate,onChange:s=>n({...e,startDate:s.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"endDate",children:"End Date & Time *"}),o.jsx(de,{id:"endDate",type:"datetime-local",value:e.endDate,onChange:s=>n({...e,endDate:s.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"type",children:"Event Type"}),o.jsxs("select",{id:"type",value:e.type,onChange:s=>n({...e,type:s.target.value}),className:"w-full p-2 border rounded",children:[o.jsx("option",{value:"ctf",children:"CTF Competition"}),o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"training",children:"Training Session"}),o.jsx("option",{value:"jeopardy",children:"Jeopardy Style"})]})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"maxParticipants",children:"Max Participants"}),o.jsx(de,{id:"maxParticipants",type:"number",value:e.maxParticipants,onChange:s=>n({...e,maxParticipants:parseInt(s.target.value)}),min:"1"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",checked:e.isPublic,onChange:s=>n({...e,isPublic:s.target.checked}),className:"rounded"}),o.jsx(G,{htmlFor:"isPublic",children:"Public Event (Visible to all users)"})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(ee,{type:"submit",children:"Schedule Event"}),o.jsx(ee,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]})]})})]})},R$=({onBack:t})=>{const e=[{id:"1",user:"john_doe",challenge:"SQL Injection Master",submittedAt:"2024-01-15",status:"pending",content:"This is a mock write-up content...",rating:0},{id:"2",user:"jane_smith",challenge:"Crypto Challenge 1",submittedAt:"2024-01-14",status:"approved",content:"Another mock write-up...",rating:4}],n=i=>{console.log("Approving writeup:",i),alert(`Write-up ${i} approved!`)},r=i=>{console.log("Rejecting writeup:",i),alert(`Write-up ${i} rejected!`)},s=i=>{switch(i){case"pending":return o.jsx(Ie,{variant:"secondary",children:"Pending"});case"approved":return o.jsx(Ie,{variant:"default",children:"Approved"});case"rejected":return o.jsx(Ie,{variant:"destructive",children:"Rejected"});default:return o.jsx(Ie,{variant:"secondary",children:i})}};return o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Review Write-ups"}),o.jsxs(Et,{children:["Review and approve user write-ups for challenges (",e.length," total)"]})]}),o.jsx(oe,{children:o.jsxs("div",{className:"space-y-6",children:[e.map(i=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:i.challenge}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted by ",i.user," on ",i.submittedAt]})]}),s(i.status)]}),o.jsxs("div",{children:[o.jsx(G,{children:"Write-up Content"}),o.jsx("div",{className:"mt-1 p-3 border rounded bg-muted/50",children:i.content})]}),i.status==="pending"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(G,{htmlFor:`feedback-${i.id}`,children:"Feedback (Optional)"}),o.jsx(Ca,{id:`feedback-${i.id}`,placeholder:"Provide feedback for the user...",rows:3}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ee,{onClick:()=>n(i.id),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),o.jsx(ee,{variant:"outline",onClick:()=>r(i.id),children:"Request Changes"}),o.jsx(ee,{variant:"destructive",onClick:()=>r(i.id),children:"Reject"})]})]}),i.status!=="pending"&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Write-up has been ",i.status,". ",i.rating>0&&`Rating: ${i.rating}/5`]})]},i.id)),e.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No write-ups to review at this time."})]})})]})},P$=({onBack:t})=>{const e={totalUsers:150,activeUsers:47,totalChallenges:25,solvedChallenges:189,averageSolveTime:"2h 15m",popularCategory:"Web Security"},n=[{title:"Total Users",value:e.totalUsers,description:"Registered users",icon:nn,color:"text-blue-600"},{title:"Active Users (30d)",value:e.activeUsers,description:"Recently active users",icon:nn,color:"text-green-600"},{title:"Total Challenges",value:e.totalChallenges,description:"Available challenges",icon:nt,color:"text-purple-600"},{title:"Challenge Solves",value:e.solvedChallenges,description:"Total solutions submitted",icon:Yn,color:"text-orange-600"},{title:"Avg Solve Time",value:e.averageSolveTime,description:"Average time to solve challenges",icon:Zs,color:"text-red-600"},{title:"Popular Category",value:e.popularCategory,description:"Most solved category",icon:gN,color:"text-indigo-600"}];return o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Platform Analytics"}),o.jsx(Et,{children:"Comprehensive overview of platform performance and user engagement"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map((r,s)=>o.jsx(se,{children:o.jsx(oe,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:r.title}),o.jsx("p",{className:"text-2xl font-bold mt-1",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.description})]}),o.jsx("div",{className:`p-3 rounded-full bg-muted ${r.color}`,children:o.jsx(r.icon,{className:"w-6 h-6"})})]})})},s))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{className:"text-lg",children:"User Growth"}),o.jsx(Et,{children:"Last 30 days"})]}),o.jsx(oe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"User growth chart will be displayed here"})})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{className:"text-lg",children:"Challenge Performance"}),o.jsx(Et,{children:"Solve rates by category"})]}),o.jsx(oe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Challenge performance chart will be displayed here"})})]})]}),o.jsxs("div",{className:"flex gap-2 mt-6",children:[o.jsx(ee,{variant:"outline",onClick:t,children:"Back to Dashboard"}),o.jsx(ee,{children:"Export Analytics"})]})]})]})},D$=({onBack:t})=>{const[e,n]=g.useState({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1}),[r,s]=g.useState(!1),i=async()=>{s(!0),setTimeout(()=>{alert("Settings saved successfully!"),s(!1)},1e3)},a=()=>{confirm("Are you sure you want to reset all settings to default?")&&n({siteName:"CTF Platform",siteDescription:"Capture The Flag Platform for cybersecurity enthusiasts",contactEmail:"admin@ctfplatform.com",requireEmailVerification:!0,allowRegistrations:!0,maxLoginAttempts:5,sessionTimeout:24,defaultPoints:100,allowWriteups:!0,writeupRequired:!1,smtpServer:"",smtpPort:587,smtpUsername:"",smtpPassword:"",maintenanceMode:!1})},l=(c,d)=>{n(h=>({...h,[c]:d}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"General Settings"}),o.jsx(Et,{children:"Basic platform configuration"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"siteName",children:"Site Name"}),o.jsx(de,{id:"siteName",value:e.siteName,onChange:c=>l("siteName",c.target.value)})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"siteDescription",children:"Site Description"}),o.jsx(Ca,{id:"siteDescription",value:e.siteDescription,onChange:c=>l("siteDescription",c.target.value)})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"contactEmail",children:"Contact Email"}),o.jsx(de,{id:"contactEmail",type:"email",value:e.contactEmail,onChange:c=>l("contactEmail",c.target.value)})]})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Security Settings"}),o.jsx(Et,{children:"Authentication and security configuration"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"requireEmailVerification",children:"Require Email Verification"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must verify their email address before accessing the platform"})]}),o.jsx(Mt,{id:"requireEmailVerification",checked:e.requireEmailVerification,onCheckedChange:c=>l("requireEmailVerification",c)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"allowRegistrations",children:"Allow New Registrations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register on the platform"})]}),o.jsx(Mt,{id:"allowRegistrations",checked:e.allowRegistrations,onCheckedChange:c=>l("allowRegistrations",c)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),o.jsx(de,{id:"maxLoginAttempts",type:"number",value:e.maxLoginAttempts,onChange:c=>l("maxLoginAttempts",parseInt(c.target.value)),min:"1",max:"10"})]}),o.jsxs("div",{children:[o.jsx(G,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),o.jsx(de,{id:"sessionTimeout",type:"number",value:e.sessionTimeout,onChange:c=>l("sessionTimeout",parseInt(c.target.value)),min:"1",max:"720"})]})]})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Challenge Settings"}),o.jsx(Et,{children:"Challenge and write-up configuration"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"defaultPoints",children:"Default Points for New Challenges"}),o.jsx(de,{id:"defaultPoints",type:"number",value:e.defaultPoints,onChange:c=>l("defaultPoints",parseInt(c.target.value)),min:"1"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"allowWriteups",children:"Allow Write-ups"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users can submit write-ups for challenges"})]}),o.jsx(Mt,{id:"allowWriteups",checked:e.allowWriteups,onCheckedChange:c=>l("allowWriteups",c)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"writeupRequired",children:"Write-ups Required"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must submit a write-up to get points"})]}),o.jsx(Mt,{id:"writeupRequired",checked:e.writeupRequired,onCheckedChange:c=>l("writeupRequired",c),disabled:!e.allowWriteups})]})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Maintenance Mode"}),o.jsx(Et,{children:"Take the platform offline for maintenance"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(G,{htmlFor:"maintenanceMode",children:"Enable Maintenance Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform will be unavailable to regular users"})]}),o.jsx(Mt,{id:"maintenanceMode",checked:e.maintenanceMode,onCheckedChange:c=>l("maintenanceMode",c)})]}),e.maintenanceMode&&o.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" Maintenance mode is enabled. Only administrators can access the platform."})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ee,{onClick:i,disabled:r,children:r?"Saving...":"Save Settings"}),o.jsx(ee,{variant:"outline",onClick:a,children:"Reset to Defaults"}),o.jsx(ee,{variant:"outline",onClick:t,children:"Back to Dashboard"})]})]})},L$=()=>{const{isAdmin:t,isModerator:e}=iN(),n=ir(),[r,s]=g.useState("overview"),[i,a]=g.useState(null);if(!t&&!e)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen",children:o.jsx("div",{className:"container px-4 mx-auto text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx(nt,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access the admin dashboard."}),o.jsx(ee,{onClick:()=>n("/dashboard"),children:"Return to Dashboard"})]})})}),o.jsx(gt,{})]});const l=()=>{switch(r){case"users":return o.jsx(v$,{onBack:()=>s("overview")});case"challenge-management":return o.jsx(j$,{onBack:()=>s("overview"),onCreateNew:()=>s("create-challenge"),onEditChallenge:d=>{a(d),s("edit-challenge")}});case"create-challenge":return o.jsx(I$,{onBack:()=>s("challenge-management")});case"edit-challenge":return o.jsx(A$,{challengeId:i.id,onBack:()=>s("challenge-management"),onSave:()=>s("challenge-management")});case"schedule-event":return o.jsx(k$,{onBack:()=>s("overview")});case"review-writeups":return o.jsx(R$,{onBack:()=>s("overview")});case"analytics":return o.jsx(P$,{onBack:()=>s("overview")});case"settings":return o.jsx(D$,{onBack:()=>s("overview")});default:return c()}},c=()=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium",children:"Total Users"}),o.jsx(nn,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"2"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium",children:"Active Challenges"}),o.jsx(nt,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No challenges yet"})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium",children:"Live Events"}),o.jsx(na,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No events yet"})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(be,{className:"text-sm font-medium",children:"Pending Write-ups"}),o.jsx(tc,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"No write-ups yet"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Content Management"}),o.jsx(Et,{children:"Create and manage platform content"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs(ee,{className:"w-full justify-start gap-2",onClick:()=>s("create-challenge"),children:[o.jsx(ei,{className:"w-4 h-4"}),"Create New Challenge"]}),o.jsxs(ee,{className:"w-full justify-start gap-2",onClick:()=>s("challenge-management"),children:[o.jsx(Xm,{className:"w-4 h-4"}),"Manage Challenges"]}),o.jsxs(ee,{className:"w-full justify-start gap-2",onClick:()=>s("schedule-event"),children:[o.jsx(ei,{className:"w-4 h-4"}),"Schedule New Event"]}),o.jsxs(ee,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("review-writeups"),children:[o.jsx(tc,{className:"w-4 h-4"}),"Review Write-ups"]})]})]}),o.jsxs(se,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"User Management"}),o.jsx(Et,{children:"Manage users and permissions"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs(ee,{className:"w-full justify-start gap-2",onClick:()=>s("users"),children:[o.jsx(nn,{className:"w-4 h-4"}),"View All Users"]}),t&&o.jsxs(ee,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("analytics"),children:[o.jsx(gN,{className:"w-4 h-4"}),"Platform Analytics"]}),o.jsxs(ee,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("settings"),children:[o.jsx(EN,{className:"w-4 h-4"}),"System Settings"]})]})]})]})]});return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("section",{className:"pt-24 pb-16 min-h-screen bg-background",children:o.jsxs("div",{className:"container px-4 mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:r==="overview"?"Admin Dashboard":r==="users"?"User Management":r==="challenge-management"?"Challenge Management":r==="create-challenge"?"Create Challenge":r==="edit-challenge"?"Edit Challenge":r==="schedule-event"?"Schedule Event":r==="review-writeups"?"Review Write-ups":r==="analytics"?"Platform Analytics":r==="settings"?"System Settings":"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:r==="overview"?"Manage your CTF platform, users, challenges, and events":"Admin management panel"})]}),r!=="overview"&&o.jsx(ee,{variant:"outline",onClick:()=>{s(r==="create-challenge"||r==="edit-challenge"?"challenge-management":"overview")},children:r==="create-challenge"||r==="edit-challenge"?"Back to Challenges":"Back to Dashboard"})]}),o.jsx("div",{className:"flex items-center gap-2 mt-2",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${t?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:t?"Administrator":"Moderator"})})]}),l()]})}),o.jsx(gt,{})]})};var Cp="rovingFocusGroup.onEntryFocus",O$={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[lg,gj,M$]=SN(Nc),[V$,yj]=ba(Nc,[M$]),[F$,U$]=V$(Nc),vj=g.forwardRef((t,e)=>o.jsx(lg.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(lg.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(B$,{...t,ref:e})})}));vj.displayName=Nc;var B$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),y=ut(e,p),S=vv(i),[v,T]=ic({prop:a,defaultProp:l??null,onChange:c,caller:Nc}),[b,w]=g.useState(!1),C=Xr(d),A=gj(n),O=g.useRef(!1),[R,E]=g.useState(0);return g.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(Cp,C),()=>_.removeEventListener(Cp,C)},[C]),o.jsx(F$,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(_=>T(_),[T]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:g.useCallback(()=>E(_=>_-1),[]),children:o.jsx(Le.div,{tabIndex:b||R===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{O.current=!0}),onFocus:Re(t.onFocus,_=>{const k=!O.current;if(_.target===_.currentTarget&&k&&!b){const N=new CustomEvent(Cp,O$);if(_.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=A().filter(q=>q.focusable),I=D.find(q=>q.active),j=D.find(q=>q.id===v),X=[I,j,...D].filter(Boolean).map(q=>q.ref.current);_j(X,h)}}O.current=!1}),onBlur:Re(t.onBlur,()=>w(!1))})})}),xj="RovingFocusGroupItem",wj=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Sc(),d=i||c,h=U$(xj,n),f=h.currentTabStopId===d,p=gj(n),{onFocusableItemAdd:y,onFocusableItemRemove:S,currentTabStopId:v}=h;return g.useEffect(()=>{if(r)return y(),()=>S()},[r,y,S]),o.jsx(lg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:o.jsx(Le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Re(t.onMouseDown,T=>{r?h.onItemFocus(d):T.preventDefault()}),onFocus:Re(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Re(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){h.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const b=H$(T,h.orientation,h.dir);if(b!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let C=p().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")C.reverse();else if(b==="prev"||b==="next"){b==="prev"&&C.reverse();const A=C.indexOf(T.currentTarget);C=h.loop?W$(C,A+1):C.slice(A+1)}setTimeout(()=>_j(C))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});wj.displayName=xj;var $$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function H$(t,e,n){const r=z$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $$[r]}function _j(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var q$=vj,G$=wj;function K$(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var bj=t=>{const{present:e,children:n}=t,r=Q$(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ut(r.ref,Y$(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};bj.displayName="Presence";function Q$(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=K$(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=xu(r.current);i.current=l==="mounted"?d:"none"},[l]),St(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,y=xu(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),St(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const v=xu(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&v&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=y=>{y.target===e&&(i.current=xu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function xu(t){return(t==null?void 0:t.animationName)||"none"}function Y$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sf="Tabs",[X$]=ba(sf,[yj]),Ej=yj(),[J$,Av]=X$(sf),Tj=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=vv(l),[f,p]=ic({prop:r,onChange:s,defaultProp:i??"",caller:sf});return o.jsx(J$,{scope:n,baseId:Sc(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:c,children:o.jsx(Le.div,{dir:h,"data-orientation":a,...d,ref:e})})});Tj.displayName=sf;var Sj="TabsList",Cj=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Av(Sj,n),a=Ej(n);return o.jsx(q$,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Cj.displayName=Sj;var Nj="TabsTrigger",Ij=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Av(Nj,n),l=Ej(n),c=kj(a.baseId,r),d=Rj(a.baseId,r),h=r===a.value;return o.jsx(G$,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});Ij.displayName=Nj;var jj="TabsContent",Aj=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Av(jj,n),c=kj(l.baseId,r),d=Rj(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(bj,{present:s||h,children:({present:p})=>o.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Aj.displayName=jj;function kj(t,e){return`${t}-trigger-${e}`}function Rj(t,e){return`${t}-content-${e}`}var Z$=Tj,Pj=Cj,Dj=Ij,Lj=Aj;const ez=Z$,Oj=g.forwardRef(({className:t,...e},n)=>o.jsx(Pj,{ref:n,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Oj.displayName=Pj.displayName;const Wu=g.forwardRef(({className:t,...e},n)=>o.jsx(Dj,{ref:n,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Wu.displayName=Dj.displayName;const qu=g.forwardRef(({className:t,...e},n)=>o.jsx(Lj,{ref:n,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));qu.displayName=Lj.displayName;const tz=Kh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mj=g.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Pe(tz({variant:e}),t),...n}));Mj.displayName="Alert";const nz=g.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...e}));nz.displayName="AlertTitle";const Vj=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Pe("text-sm [&_p]:leading-relaxed",t),...e}));Vj.displayName="AlertDescription";const rz=()=>{var j,z,X,q,J;const{challengeId:t}=pR(),e=ir(),{user:n}=$n(),[r,s]=g.useState(null),[i,a]=g.useState(!0),[l,c]=g.useState(!1),[d,h]=g.useState(""),[f,p]=g.useState(null),[y,S]=g.useState([]),[v,T]=g.useState([]),[b,w]=g.useState("description");g.useEffect(()=>{t&&(C(),A())},[t]);const C=async()=>{try{a(!0);const L=await bc(lt(ye,"challenges",t));if(L.exists()){const U={id:L.id,...L.data()};s(U),U.hints&&S(new Array(U.hints.length).fill(!1))}else p({type:"error",text:"Challenge not found"})}catch(L){console.error("Error fetching challenge:",L),p({type:"error",text:"Failed to load challenge"})}finally{a(!1)}},A=async()=>{if(!(!n||!t))try{const L=Er(jt(ye,"submissions"),Br("challengeId","==",t),Br("userId","==",n.uid),Hs("submittedAt","desc")),K=(await Ln(L)).docs.map(V=>({id:V.id,...V.data()}));T(K)}catch(L){console.error("Error fetching submissions:",L)}},O=async()=>{var L;if(!(!r||!n||!d.trim())){c(!0),p(null);try{let U=!1;r.hasMultipleQuestions&&r.questions?U=!!r.questions.find(H=>H.flag&&H.flag.trim()===d.trim()):U=((L=r.flag)==null?void 0:L.trim())===d.trim();const K={challengeId:r.id,challengeTitle:r.title,userId:n.uid,userName:n.displayName||n.email,flag:d,isCorrect:U,submittedAt:new Date,pointsAwarded:U&&r.points||0};await MC(jt(ye,"submissions"),K),U?(p({type:"success",text:"Congratulations! Flag is correct!"}),h(""),C(),A()):p({type:"error",text:"Incorrect flag. Please try again."})}catch(U){console.error("Error submitting flag:",U),p({type:"error",text:"Failed to submit flag. Please try again."})}finally{c(!1)}}},R=L=>{const U=[...y];U[L]=!U[L],S(U)},E=()=>{e("/practice")},_=L=>{navigator.clipboard.writeText(L)},k=(j=r==null?void 0:r.solvedBy)==null?void 0:j.includes((n==null?void 0:n.uid)||"");if(i)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading challenge..."})]})})}),o.jsx(gt,{})]});if(!r)return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx(se,{children:o.jsxs(oe,{className:"p-12 text-center",children:[o.jsx(nt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Challenge Not Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"The challenge you're looking for doesn't exist or you don't have permission to view it."}),o.jsxs(ee,{onClick:E,children:[o.jsx(V_,{className:"w-4 h-4 mr-2"}),"Back to Practice"]})]})})})}),o.jsx(gt,{})]});const N=L=>{switch(L){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";case"expert":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=L=>({web:"bg-blue-100 text-blue-800 border-blue-200",crypto:"bg-purple-100 text-purple-800 border-purple-200",forensics:"bg-orange-100 text-orange-800 border-orange-200",pwn:"bg-red-100 text-red-800 border-red-200",reversing:"bg-indigo-100 text-indigo-800 border-indigo-200",misc:"bg-gray-100 text-gray-800 border-gray-200"})[L]||"bg-gray-100 text-gray-800 border-gray-200",I=()=>{if(!r.description)return null;const L=r.description.split(`
`),U=[];for(let K=0;K<L.length;K++){const V=L[K].trim();if(V.startsWith("n =")||V.startsWith("e =")||V.startsWith("c =")){const[H,...ue]=V.split("="),pe=ue.join("=").trim();U.push(o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"font-mono font-semibold text-sm",children:[H,"="]}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>_(pe),className:"h-8 px-2",children:o.jsx(F_,{className:"w-3 h-3"})})]}),o.jsx("div",{className:"font-mono text-sm bg-white p-3 rounded border break-all",children:pe})]},K))}else if(V.includes("=")&&V.length>50){const[H,...ue]=V.split("="),pe=ue.join("=").trim();U.push(o.jsxs("div",{className:"mb-3",children:[o.jsxs("strong",{children:[H,"="]}),o.jsx("div",{className:"font-mono text-sm bg-gray-50 p-2 rounded border break-all mt-1",children:pe})]},K))}else V?U.push(o.jsx("p",{className:"mb-3 leading-relaxed",children:V},K)):U.push(o.jsx("div",{className:"mb-3"},K))}return U};return o.jsxs(o.Fragment,{children:[o.jsx(mt,{}),o.jsx("div",{className:"min-h-screen bg-background pt-16",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(ee,{variant:"outline",onClick:E,children:[o.jsx(V_,{className:"w-4 h-4 mr-2"}),"Back to Practice"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k&&o.jsxs(Ie,{className:"bg-green-100 text-green-800 border-green-200",children:[o.jsx(Ai,{className:"w-3 h-3 mr-1"}),"Solved"]}),r.featuredOnPractice&&o.jsxs(Ie,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(Vo,{className:"w-3 h-3 mr-1"}),"Featured"]})]})]}),o.jsx(se,{className:"mb-6",children:o.jsxs(_e,{className:"pb-4",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-3 flex-1",children:[o.jsx(be,{className:"text-3xl font-bold",children:r.title}),o.jsxs(Et,{className:"text-lg text-muted-foreground",children:[r.description.split(`
`)[0]," "]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 lg:justify-end",children:[o.jsx(Ie,{className:N(r.difficulty),children:r.difficulty}),o.jsx(Ie,{className:D(r.finalCategory||r.category),children:r.finalCategory||r.category}),o.jsxs(Ie,{variant:"outline",className:"font-mono font-semibold",children:[r.totalPoints||r.points," pts"]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground pt-4 border-t mt-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nn,{className:"w-4 h-4"}),o.jsxs("span",{children:[((z=r.solvedBy)==null?void 0:z.length)||0," solves"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zs,{className:"w-4 h-4"}),o.jsx("span",{children:((J=(q=(X=r.createdAt)==null?void 0:X.toDate)==null?void 0:q.call(X))==null?void 0:J.toLocaleDateString())||new Date(r.createdAt).toLocaleDateString()})]}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsxs("span",{children:["Created by: ",r.createdByName||"Unknown"]})}),r.originalCreator&&o.jsx("div",{className:"flex items-center gap-1",children:o.jsxs("span",{children:["Original creator: ",r.originalCreator.name]})})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(ez,{value:b,onValueChange:w,className:"w-full",children:[o.jsxs(Oj,{className:"grid w-full grid-cols-3",children:[o.jsx(Wu,{value:"description",children:"Description"}),o.jsx(Wu,{value:"hints",children:"Hints"}),o.jsx(Wu,{value:"files",children:"Files & Links"})]}),o.jsx(qu,{value:"description",className:"space-y-4 mt-4",children:o.jsx(se,{children:o.jsx(oe,{className:"p-6",children:o.jsx("div",{className:"space-y-4",children:r.hasMultipleQuestions&&r.questions?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Questions"}),r.questions.map((L,U)=>{var K;return o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold mb-2",children:["Question ",U+1]}),o.jsx("p",{className:"mb-3 text-muted-foreground",children:L.question}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"font-mono font-semibold",children:[L.points," points"]}),((K=r.solvedBy)==null?void 0:K.includes((n==null?void 0:n.uid)||""))&&o.jsxs(Ie,{variant:"outline",className:"font-mono",children:["Flag: ",L.flag]})]})]},L.id)})]}):o.jsxs("div",{className:"space-y-4",children:[I(),r.flagFormat&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Flag Format:"})," ",r.flagFormat]})}),k&&r.flag&&o.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-green-800 font-mono break-all",children:[o.jsx("strong",{children:"Flag:"})," ",r.flag]}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>_(r.flag),className:"h-8 px-2",children:o.jsx(F_,{className:"w-3 h-3"})})]})})]})})})})}),o.jsx(qu,{value:"hints",className:"mt-4",children:o.jsx(se,{children:o.jsx(oe,{className:"p-6",children:r.hints&&r.hints.length>0?o.jsx("div",{className:"space-y-4",children:r.hints.map((L,U)=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"font-semibold text-lg",children:["Hint ",U+1]}),o.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>R(U),className:"flex items-center gap-2",children:[y[U]?o.jsx(Wd,{className:"w-4 h-4"}):o.jsx(ra,{className:"w-4 h-4"}),y[U]?"Hide":"Reveal"]})]}),y[U]&&o.jsx("p",{className:"text-muted-foreground leading-relaxed p-3 bg-gray-50 rounded border",children:L})]},U))}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No hints available for this challenge."})})})})}),o.jsx(qu,{value:"files",className:"mt-4",children:o.jsx(se,{children:o.jsx(oe,{className:"p-6",children:r.files&&r.files.length>0?o.jsx("div",{className:"space-y-3",children:r.files.map(L=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[L.type==="file"?o.jsx(tc,{className:"w-5 h-5 text-blue-600"}):o.jsx(sa,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:L.name}),L.type==="link"&&o.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:L.url})]})]}),L.type==="file"&&o.jsx(ee,{variant:"outline",size:"sm",children:"Download"})]},L.id))}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No files or links available for this challenge."})})})})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(se,{children:[o.jsx(_e,{className:"pb-4",children:o.jsxs(be,{className:"flex items-center gap-2 text-lg",children:[o.jsx(xN,{className:"w-5 h-5"}),"Submit Flag"]})}),o.jsxs(oe,{className:"space-y-4",children:[f&&o.jsxs(Mj,{className:f.type==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",children:[f.type==="success"?o.jsx(Ai,{className:"w-4 h-4 text-green-600"}):o.jsx(Hd,{className:"w-4 h-4 text-red-600"}),o.jsx(Vj,{className:f.type==="success"?"text-green-800":"text-red-800",children:f.text})]}),k?o.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx(Ai,{className:"w-12 h-12 text-green-600 mx-auto mb-2"}),o.jsx("p",{className:"text-green-800 font-semibold text-lg",children:"Challenge Solved!"}),o.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["You earned ",r.totalPoints||r.points," points"]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"flag",className:"text-sm font-medium",children:"Enter Flag"}),o.jsx(de,{id:"flag",placeholder:"CTF{...} or flag content",value:d,onChange:L=>h(L.target.value),onKeyPress:L=>L.key==="Enter"&&O(),className:"font-mono"})]}),o.jsx(ee,{onClick:O,disabled:l||!d.trim(),className:"w-full",size:"lg",children:l?"Submitting...":"Submit Flag"})]})]})]}),v.length>0&&o.jsxs(se,{children:[o.jsx(_e,{className:"pb-4",children:o.jsx(be,{className:"text-lg",children:"Submission History"})}),o.jsx(oe,{children:o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:v.map(L=>{var U,K,V;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[L.isCorrect?o.jsx(Ai,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):o.jsx(Hd,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),o.jsx("code",{className:"text-sm truncate font-mono",children:L.flag})]}),o.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 ml-2",children:((V=(K=(U=L.submittedAt)==null?void 0:U.toDate)==null?void 0:K.call(U))==null?void 0:V.toLocaleTimeString())||new Date(L.submittedAt).toLocaleTimeString()})]},L.id)})})})]})]})]})]})}),o.jsx(gt,{})]})};function sz(){return o.jsx(rN,{children:o.jsx(K6,{children:o.jsx(Q6,{children:o.jsx(VR,{basename:"/ZedCTF",children:o.jsxs(kR,{children:[o.jsx(on,{path:"/",element:o.jsx(uU,{})}),o.jsx(on,{path:"/login",element:o.jsx(dU,{})}),o.jsx(on,{path:"/signup",element:o.jsx(hU,{})}),o.jsx(on,{path:"/auth/github/callback",element:o.jsx(mU,{})}),o.jsx(on,{path:"/dashboard",element:o.jsx(hs,{children:o.jsx(xU,{})})}),o.jsx(on,{path:"/practice",element:o.jsx(hs,{children:o.jsx(YB,{})})}),o.jsx(on,{path:"/live",element:o.jsx(hs,{children:o.jsx(XB,{})})}),o.jsx(on,{path:"/leaderboard",element:o.jsx(hs,{children:o.jsx(y$,{})})}),o.jsx(on,{path:"/writeups",element:o.jsx(hs,{children:o.jsx(fU,{})})}),o.jsx(on,{path:"/writeups/create",element:o.jsx(hs,{children:o.jsx(pU,{})})}),o.jsx(on,{path:"/challenge/:challengeId",element:o.jsx(hs,{children:o.jsx(rz,{})})}),o.jsx(on,{path:"/admin",element:o.jsx(hs,{children:o.jsx(L$,{})})}),o.jsx(on,{path:"*",element:o.jsx(gU,{})})]})})})})})}P1(document.getElementById("root")).render(o.jsx(rN,{children:o.jsx(sz,{})}));
